import{g as PG,c as JB,d as BG,p as MG,b as Cz}from"./index.5376fbd1.js";import{S as FG,j as Iz,k as NG,l as $z,m as Lz,n as zz,p as IG,q as $G,r as LG,s as zG,v as Hz,x as HG,y as VG,z as t7,P as j$,A as BO,_ as Ca,B as kT,D as J$,i as FO,E as UG,F as Q$,b as _o,u as iM,G as WG,C as jG,H as GG,J as qG,w as KG,K as NO,L as XG,M as MO,N as Vz,O as QB,Q as Uz,R as YG,U as ZG,T as JG,V as QG,X as eq,f as tq,Y as Sz,Z as nq,$ as xz,a0 as rq,a1 as aq,a2 as oq,a3 as iq,c as G$,a4 as uq,a5 as sq,h as cq,a6 as n7,a7 as lq}from"../app.a1de63dc.js";import{d as Ef,q as jo,H as _r,F as fq,p as As,X as vq,f as IO,ag as r7,T as dq,a5 as eM,a6 as tM,s as mq,ac as gq,e as pq,k as hq,_ as a7,E as nM,o as xT,c as rM,C as kz,G as bq,a as yq,t as Wz,n as aM,w as YB,A as wq,D as e7,h as jz,ao as Cq,j as dd,aH as Sq,B as Tz,r as xq,I as kq}from"./framework.32362502.js";import"./theme.921d2d46.js";var Tq=1,Eq=2;function Aq(ae,z,fe,xe){var we=fe.length,nt=we,xt=!xe;if(ae==null)return!nt;for(ae=Object(ae);we--;){var mt=fe[we];if(xt&&mt[2]?mt[1]!==ae[mt[0]]:!(mt[0]in ae))return!1}for(;++we<nt;){mt=fe[we];var gt=mt[0],Xt=ae[gt],at=mt[1];if(xt&&mt[2]){if(Xt===void 0&&!(gt in ae))return!1}else{var he=new FG;if(xe)var ze=xe(Xt,at,gt,ae,z,he);if(!(ze===void 0?Iz(at,Xt,Tq|Eq,xe,he):ze))return!1}}return!0}function Gz(ae){return ae===ae&&!NG(ae)}function Oq(ae){for(var z=$z(ae),fe=z.length;fe--;){var xe=z[fe],we=ae[xe];z[fe]=[xe,we,Gz(we)]}return z}function qz(ae,z){return function(fe){return fe==null?!1:fe[ae]===z&&(z!==void 0||ae in Object(fe))}}function Dq(ae){var z=Oq(ae);return z.length==1&&z[0][2]?qz(z[0][0],z[0][1]):function(fe){return fe===ae||Aq(fe,ae,z)}}var _q=1,Rq=2;function Pq(ae,z){return Lz(ae)&&Gz(z)?qz(zz(ae),z):function(fe){var xe=IG(fe,ae);return xe===void 0&&xe===z?$G(fe,ae):Iz(z,xe,_q|Rq)}}function Bq(ae){return function(z){return z==null?void 0:z[ae]}}function Mq(ae){return function(z){return LG(z,ae)}}function Fq(ae){return Lz(ae)?Bq(zz(ae)):Mq(ae)}function Nq(ae){return typeof ae=="function"?ae:ae==null?zG:typeof ae=="object"?Hz(ae)?Pq(ae[0],ae[1]):Dq(ae):Fq(ae)}function Iq(ae,z,fe,xe){for(var we=-1,nt=ae==null?0:ae.length;++we<nt;){var xt=ae[we];z(xe,xt,fe(xt),ae)}return xe}function $q(ae,z){return ae&&HG(ae,z,$z)}function Lq(ae,z){return function(fe,xe){if(fe==null)return fe;if(!VG(fe))return ae(fe,xe);for(var we=fe.length,nt=z?we:-1,xt=Object(fe);(z?nt--:++nt<we)&&xe(xt[nt],nt,xt)!==!1;);return fe}}var zq=Lq($q);const Hq=zq;function Vq(ae,z,fe,xe){return Hq(ae,function(we,nt,xt){z(xe,we,fe(we),xt)}),xe}function Uq(ae,z){return function(fe,xe){var we=Hz(fe)?Iq:Vq,nt=z?z():{};return we(fe,ae,Nq(xe),nt)}}var Wq=Uq(function(ae,z,fe){ae[fe?0:1].push(z)},function(){return[[],[]]});const jq=Wq;var Kz=t7("normal","exception","active","success"),Gq=t7("line","circle","dashboard"),qq=t7("default","small"),uM=function(){return{prefixCls:String,type:j$.oneOf(Gq),percent:Number,format:{type:Function},status:j$.oneOf(Kz),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:j$.oneOf(qq),steps:Number,successPercent:Number,title:String}};function eC(ae){return!ae||ae<0?0:ae>100?100:ae}function oM(ae){var z=ae.success,fe=ae.successPercent,xe=fe;return z&&"progress"in z&&(BO(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),xe=z.progress),z&&"percent"in z&&(xe=z.percent),xe}var Kq=["from","to","direction"],Xq=function(){return Ca(Ca({},uM()),{},{prefixCls:String,direction:{type:String}})},Yq=function(z){var fe=[];return Object.keys(z).forEach(function(xe){var we=parseFloat(xe.replace(/%/g,""));isNaN(we)||fe.push({key:we,value:z[xe]})}),fe=fe.sort(function(xe,we){return xe.key-we.key}),fe.map(function(xe){var we=xe.key,nt=xe.value;return"".concat(nt," ").concat(we,"%")}).join(", ")},Zq=function(z,fe){var xe=z.from,we=xe===void 0?J$.blue:xe,nt=z.to,xt=nt===void 0?J$.blue:nt,mt=z.direction,gt=mt===void 0?fe==="rtl"?"to left":"to right":mt,Xt=kT(z,Kq);if(Object.keys(Xt).length!==0){var at=Yq(Xt);return{backgroundImage:"linear-gradient(".concat(gt,", ").concat(at,")")}}return{backgroundImage:"linear-gradient(".concat(gt,", ").concat(we,", ").concat(xt,")")}};const Jq=Ef({compatConfig:{MODE:3},name:"Line",props:Xq(),setup:function(z,fe){var xe=fe.slots,we=jo(function(){var Xt=z.strokeColor,at=z.direction;return Xt&&typeof Xt!="string"?Zq(Xt,at):{background:Xt}}),nt=jo(function(){return z.trailColor?{backgroundColor:z.trailColor}:void 0}),xt=jo(function(){var Xt=z.percent,at=z.strokeWidth,he=z.strokeLinecap,ze=z.size;return Ca({width:"".concat(eC(Xt),"%"),height:"".concat(at||(ze==="small"?6:8),"px"),borderRadius:he==="square"?0:""},we.value)}),mt=jo(function(){return oM(z)}),gt=jo(function(){var Xt=z.strokeWidth,at=z.size,he=z.strokeLinecap,ze=z.success;return{width:"".concat(eC(mt.value),"%"),height:"".concat(Xt||(at==="small"?6:8),"px"),borderRadius:he==="square"?0:"",backgroundColor:ze==null?void 0:ze.strokeColor}});return function(){var Xt;return _r(fq,null,[_r("div",{class:"".concat(z.prefixCls,"-outer")},[_r("div",{class:"".concat(z.prefixCls,"-inner"),style:nt.value},[_r("div",{class:"".concat(z.prefixCls,"-bg"),style:xt.value},null),mt.value!==void 0?_r("div",{class:"".concat(z.prefixCls,"-success-bg"),style:gt.value},null):null])]),(Xt=xe.default)===null||Xt===void 0?void 0:Xt.call(xe)])}}});var Qq={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},eK=function(z){var fe=As(null);return vq(function(){var xe=Date.now(),we=!1;z.value.forEach(function(nt){var xt=(nt==null?void 0:nt.$el)||nt;if(xt){we=!0;var mt=xt.style;mt.transitionDuration=".3s, .3s, .3s, .06s",fe.value&&xe-fe.value<100&&(mt.transitionDuration="0s, 0s")}}),we&&(fe.value=Date.now())}),z},tK={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},nK=["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"],Ez=0;function Az(ae){return+ae.replace("%","")}function Oz(ae){return Array.isArray(ae)?ae:[ae]}function Dz(ae,z,fe,xe){var we=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,nt=arguments.length>5?arguments[5]:void 0,xt=50-xe/2,mt=0,gt=-xt,Xt=0,at=-2*xt;switch(nt){case"left":mt=-xt,gt=0,Xt=2*xt,at=0;break;case"right":mt=xt,gt=0,Xt=-2*xt,at=0;break;case"bottom":gt=xt,at=2*xt;break}var he="M 50,50 m ".concat(mt,",").concat(gt,`
   a `).concat(xt,",").concat(xt," 0 1 1 ").concat(Xt,",").concat(-at,`
   a `).concat(xt,",").concat(xt," 0 1 1 ").concat(-Xt,",").concat(at),ze=Math.PI*2*xt,We={stroke:fe,strokeDasharray:"".concat(z/100*(ze-we),"px ").concat(ze,"px"),strokeDashoffset:"-".concat(we/2+ae/100*(ze-we),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:he,pathStyle:We}}const rK=Ef({compatConfig:{MODE:3},name:"VCCircle",props:FO(tK,Qq),setup:function(z){Ez+=1;var fe=As(Ez),xe=jo(function(){return Oz(z.percent)}),we=jo(function(){return Oz(z.strokeColor)}),nt=UG(),xt=Q$(nt,2),mt=xt[0],gt=xt[1];eK(gt);var Xt=function(){var he=z.prefixCls,ze=z.strokeWidth,We=z.strokeLinecap,Oe=z.gapDegree,ve=z.gapPosition,Mt=0;return xe.value.map(function(Ke,_t){var j=we.value[_t]||we.value[we.value.length-1],Ne=Object.prototype.toString.call(j)==="[object Object]"?"url(#".concat(he,"-gradient-").concat(fe.value,")"):"",$e=Dz(Mt,Ke,j,ze,Oe,ve),un=$e.pathString,Vt=$e.pathStyle;Mt+=Ke;var Ae={key:_t,d:un,stroke:Ne,"stroke-linecap":We,"stroke-width":ze,opacity:Ke===0?0:1,"fill-opacity":"0",class:"".concat(he,"-circle-path"),style:Vt};return _r("path",Ca({ref:mt(_t)},Ae),null)})};return function(){var at=z.prefixCls,he=z.strokeWidth,ze=z.trailWidth,We=z.gapDegree,Oe=z.gapPosition,ve=z.trailColor,Mt=z.strokeLinecap;z.strokeColor;var Ke=kT(z,nK),_t=Dz(0,100,ve,he,We,Oe),j=_t.pathString,Ne=_t.pathStyle;delete Ke.percent;var $e=we.value.find(function(Vt){return Object.prototype.toString.call(Vt)==="[object Object]"}),un={d:j,stroke:ve,"stroke-linecap":Mt,"stroke-width":ze||he,"fill-opacity":"0",class:"".concat(at,"-circle-trail"),style:Ne};return _r("svg",Ca({class:"".concat(at,"-circle"),viewBox:"0 0 100 100"},Ke),[$e&&_r("defs",null,[_r("linearGradient",{id:"".concat(at,"-gradient-").concat(fe.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys($e).sort(function(Vt,Ae){return Az(Vt)-Az(Ae)}).map(function(Vt,Ae){return _r("stop",{key:Ae,offset:Vt,"stop-color":$e[Vt]},null)})])]),_r("path",un,null),Xt().reverse()])}}});function aK(ae){var z=ae.percent,fe=ae.success,xe=ae.successPercent,we=eC(oM({success:fe,successPercent:xe}));return[we,eC(eC(z)-we)]}function oK(ae){var z=ae.success,fe=z===void 0?{}:z,xe=ae.strokeColor,we=fe.strokeColor;return[we||J$.green,xe||null]}const iK=Ef({compatConfig:{MODE:3},name:"Circle",inheritAttrs:!1,props:uM(),setup:function(z,fe){var xe=fe.slots,we=jo(function(){if(z.gapDegree||z.gapDegree===0)return z.gapDegree;if(z.type==="dashboard")return 75}),nt=jo(function(){var ze=z.width||120;return{width:typeof ze=="number"?"".concat(ze,"px"):ze,height:typeof ze=="number"?"".concat(ze,"px"):ze,fontSize:"".concat(ze*.15+6,"px")}}),xt=jo(function(){return z.strokeWidth||6}),mt=jo(function(){return z.gapPosition||z.type==="dashboard"&&"bottom"||"top"}),gt=jo(function(){return aK(z)}),Xt=jo(function(){return Object.prototype.toString.call(z.strokeColor)==="[object Object]"}),at=jo(function(){return oK({success:z.success,strokeColor:z.strokeColor})}),he=jo(function(){var ze;return ze={},_o(ze,"".concat(z.prefixCls,"-inner"),!0),_o(ze,"".concat(z.prefixCls,"-circle-gradient"),Xt.value),ze});return function(){var ze;return _r("div",{class:he.value,style:nt.value},[_r(rK,{percent:gt.value,strokeWidth:xt.value,trailWidth:xt.value,strokeColor:at.value,strokeLinecap:z.strokeLinecap,trailColor:z.trailColor,prefixCls:z.prefixCls,gapDegree:we.value,gapPosition:mt.value},null),(ze=xe.default)===null||ze===void 0?void 0:ze.call(xe)])}}});var uK=function(){return Ca(Ca({},uM()),{},{steps:Number,size:{type:String},strokeColor:String,trailColor:String})};const sK=Ef({compatConfig:{MODE:3},name:"Steps",props:uK(),setup:function(z,fe){var xe=fe.slots,we=jo(function(){return Math.round(z.steps*((z.percent||0)/100))}),nt=jo(function(){return z.size==="small"?2:14}),xt=jo(function(){for(var mt=z.steps,gt=z.strokeWidth,Xt=gt===void 0?8:gt,at=z.strokeColor,he=z.trailColor,ze=z.prefixCls,We=[],Oe=0;Oe<mt;Oe+=1){var ve,Mt=(ve={},_o(ve,"".concat(ze,"-steps-item"),!0),_o(ve,"".concat(ze,"-steps-item-active"),Oe<=we.value-1),ve);We.push(_r("div",{key:Oe,class:Mt,style:{backgroundColor:Oe<=we.value-1?at:he,width:"".concat(nt.value,"px"),height:"".concat(Xt,"px")}},null))}return We});return function(){var mt;return _r("div",{class:"".concat(z.prefixCls,"-steps-outer")},[xt.value,(mt=xe.default)===null||mt===void 0?void 0:mt.call(xe)])}}}),cK=Ef({compatConfig:{MODE:3},name:"AProgress",props:FO(uM(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:["format"],setup:function(z,fe){var xe=fe.slots,we=iM("progress",z),nt=we.prefixCls,xt=we.direction;BO(z.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var mt=jo(function(){var he,ze=z.type,We=z.showInfo,Oe=z.size,ve=nt.value;return he={},_o(he,ve,!0),_o(he,"".concat(ve,"-").concat(ze==="dashboard"&&"circle"||ze),!0),_o(he,"".concat(ve,"-show-info"),We),_o(he,"".concat(ve,"-").concat(Oe),Oe),_o(he,"".concat(ve,"-rtl"),xt.value==="rtl"),he}),gt=jo(function(){var he=z.percent,ze=he===void 0?0:he,We=oM(z);return parseInt(We!==void 0?We.toString():ze.toString(),10)}),Xt=jo(function(){var he=z.status;return Kz.indexOf(he)<0&&gt.value>=100?"success":he||"normal"}),at=function(){var ze=z.showInfo,We=z.format,Oe=z.type,ve=z.percent,Mt=z.title,Ke=oM(z);if(!ze)return null;var _t,j=We||(xe==null?void 0:xe.format)||function($e){return"".concat($e,"%")},Ne=Oe==="line";return We||xe!=null&&xe.format||Xt.value!=="exception"&&Xt.value!=="success"?_t=j(eC(ve),eC(Ke)):Xt.value==="exception"?_t=Ne?_r(WG,null,null):_r(jG,null,null):Xt.value==="success"&&(_t=Ne?_r(GG,null,null):_r(qG,null,null)),_r("span",{class:"".concat(nt.value,"-text"),title:Mt===void 0&&typeof _t=="string"?_t:void 0},[_t])};return function(){var he=z.type,ze=z.steps,We=z.strokeColor,Oe=z.title,ve=at(),Mt;he==="line"?Mt=ze?_r(sK,Ca(Ca({},z),{},{strokeColor:typeof We=="string"?We:void 0,prefixCls:nt.value,steps:ze}),{default:function(){return[ve]}}):_r(Jq,Ca(Ca({},z),{},{prefixCls:nt.value}),{default:function(){return[ve]}}):(he==="circle"||he==="dashboard")&&(Mt=_r(iK,Ca(Ca({},z),{},{prefixCls:nt.value}),{default:function(){return[ve]}}));var Ke=Ca(Ca({},mt.value),{},_o({},"".concat(nt.value,"-status-").concat(Xt.value),!0));return _r("div",{class:Ke,title:Oe},[Mt])}}}),lK=KG(cK);var fK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const vK=fK;function _z(ae){for(var z=1;z<arguments.length;z++){var fe=arguments[z]!=null?Object(arguments[z]):{},xe=Object.keys(fe);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(fe).filter(function(we){return Object.getOwnPropertyDescriptor(fe,we).enumerable}))),xe.forEach(function(we){dK(ae,we,fe[we])})}return ae}function dK(ae,z,fe){return z in ae?Object.defineProperty(ae,z,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ae[z]=fe,ae}var o7=function(z,fe){var xe=_z({},z,fe.attrs);return _r(NO,_z({},xe,{icon:vK}),null)};o7.displayName="DeleteOutlined";o7.inheritAttrs=!1;const mK=o7;function gK(ae,z){var fe="cannot ".concat(ae.method," ").concat(ae.action," ").concat(z.status,"'"),xe=new Error(fe);return xe.status=z.status,xe.method=ae.method,xe.url=ae.action,xe}function Rz(ae){var z=ae.responseText||ae.response;if(!z)return z;try{return JSON.parse(z)}catch{return z}}function pK(ae){var z=new XMLHttpRequest;ae.onProgress&&z.upload&&(z.upload.onprogress=function(nt){nt.total>0&&(nt.percent=nt.loaded/nt.total*100),ae.onProgress(nt)});var fe=new FormData;ae.data&&Object.keys(ae.data).forEach(function(we){var nt=ae.data[we];if(Array.isArray(nt)){nt.forEach(function(xt){fe.append("".concat(we,"[]"),xt)});return}fe.append(we,nt)}),ae.file instanceof Blob?fe.append(ae.filename,ae.file,ae.file.name):fe.append(ae.filename,ae.file),z.onerror=function(nt){ae.onError(nt)},z.onload=function(){return z.status<200||z.status>=300?ae.onError(gK(ae,z),Rz(z)):ae.onSuccess(Rz(z),z)},z.open(ae.method,ae.action,!0),ae.withCredentials&&"withCredentials"in z&&(z.withCredentials=!0);var xe=ae.headers||{};return xe["X-Requested-With"]!==null&&z.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(xe).forEach(function(we){xe[we]!==null&&z.setRequestHeader(we,xe[we])}),z.send(fe),{abort:function(){z.abort()}}}var hK=+new Date,bK=0;function q$(){return"vc-upload-".concat(hK,"-").concat(++bK)}const K$=function(ae,z){if(ae&&z){var fe=Array.isArray(z)?z:z.split(","),xe=ae.name||"",we=ae.type||"",nt=we.replace(/\/.*$/,"");return fe.some(function(xt){var mt=xt.trim();if(/^\*(\/\*)?$/.test(xt))return!0;if(mt.charAt(0)==="."){var gt=xe.toLowerCase(),Xt=mt.toLowerCase(),at=[Xt];return(Xt===".jpg"||Xt===".jpeg")&&(at=[".jpg",".jpeg"]),at.some(function(he){return gt.endsWith(he)})}return/\/\*$/.test(mt)?nt===mt.replace(/\/.*$/,""):!!(we===mt||/^\w+$/.test(mt))})}return!0};function yK(ae,z){var fe=ae.createReader(),xe=[];function we(){fe.readEntries(function(nt){var xt=Array.prototype.slice.apply(nt);xe=xe.concat(xt);var mt=!xt.length;mt?z(xe):we()})}we()}var wK=function(z,fe,xe){var we=function nt(xt,mt){xt.path=mt||"",xt.isFile?xt.file(function(gt){xe(gt)&&(xt.fullPath&&!gt.webkitRelativePath&&(Object.defineProperties(gt,{webkitRelativePath:{writable:!0}}),gt.webkitRelativePath=xt.fullPath.replace(/^\//,""),Object.defineProperties(gt,{webkitRelativePath:{writable:!1}})),fe([gt]))}):xt.isDirectory&&yK(xt,function(gt){gt.forEach(function(Xt){nt(Xt,"".concat(mt).concat(xt.name,"/"))})})};z.forEach(function(nt){we(nt.webkitGetAsEntry())})};const CK=wK;var Xz=function(){return{capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function}},SK=["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"];const xK=Ef({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:Xz(),setup:function(z,fe){var xe=fe.slots,we=fe.attrs,nt=fe.expose,xt=As(q$()),mt={},gt=As(),Xt=!1,at=function(){var j=Vz(QB.mark(function Ne($e,un){var Vt,Ae,st,rt,Ue,U,B,He,Jt;return QB.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(Vt=z.beforeUpload,Ae=$e,!Vt){pn.next=14;break}return pn.prev=3,pn.next=6,Vt($e,un);case 6:Ae=pn.sent,pn.next=12;break;case 9:pn.prev=9,pn.t0=pn.catch(3),Ae=!1;case 12:if(Ae!==!1){pn.next=14;break}return pn.abrupt("return",{origin:$e,parsedFile:null,action:null,data:null});case 14:if(st=z.action,typeof st!="function"){pn.next=21;break}return pn.next=18,st($e);case 18:rt=pn.sent,pn.next=22;break;case 21:rt=st;case 22:if(Ue=z.data,typeof Ue!="function"){pn.next=29;break}return pn.next=26,Ue($e);case 26:U=pn.sent,pn.next=30;break;case 29:U=Ue;case 30:return B=(Uz(Ae)==="object"||typeof Ae=="string")&&Ae?Ae:$e,B instanceof File?He=B:He=new File([B],$e.name,{type:$e.type}),Jt=He,Jt.uid=$e.uid,pn.abrupt("return",{origin:$e,data:U,parsedFile:Jt,action:rt});case 35:case"end":return pn.stop()}},Ne,null,[[3,9]])}));return function($e,un){return j.apply(this,arguments)}}(),he=function(Ne){var $e=Ne.data,un=Ne.origin,Vt=Ne.action,Ae=Ne.parsedFile;if(Xt){var st=z.onStart,rt=z.customRequest,Ue=z.name,U=z.headers,B=z.withCredentials,He=z.method,Jt=un.uid,Xe=rt||pK,pn={action:Vt,filename:Ue,data:$e,file:Ae,headers:U,withCredentials:B,method:He||"post",onProgress:function(A){var vt=z.onProgress;vt==null||vt(A,Ae)},onSuccess:function(A,vt){var Se=z.onSuccess;Se==null||Se(A,Ae,vt),delete mt[Jt]},onError:function(A,vt){var Se=z.onError;Se==null||Se(A,vt,Ae),delete mt[Jt]}};st(un),mt[Jt]=Xe(pn)}},ze=function(){xt.value=q$()},We=function(Ne){if(Ne){var $e=Ne.uid?Ne.uid:Ne;mt[$e]&&mt[$e].abort&&mt[$e].abort(),delete mt[$e]}else Object.keys(mt).forEach(function(un){mt[un]&&mt[un].abort&&mt[un].abort(),delete mt[un]})};IO(function(){Xt=!0}),r7(function(){Xt=!1,We()});var Oe=function(Ne){var $e=MO(Ne),un=$e.map(function(Vt){return Vt.uid=q$(),at(Vt,$e)});Promise.all(un).then(function(Vt){var Ae=z.onBatchStart;Ae==null||Ae(Vt.map(function(st){var rt=st.origin,Ue=st.parsedFile;return{file:rt,parsedFile:Ue}})),Vt.filter(function(st){return st.parsedFile!==null}).forEach(function(st){he(st)})})},ve=function(Ne){var $e=z.accept,un=z.directory,Vt=Ne.target.files,Ae=MO(Vt).filter(function(st){return!un||K$(st,$e)});Oe(Ae),ze()},Mt=function(Ne){var $e=gt.value;if($e){var un=z.onClick;$e.click(),un&&un(Ne)}},Ke=function(Ne){Ne.key==="Enter"&&Mt(Ne)},_t=function(Ne){var $e=z.multiple;if(Ne.preventDefault(),Ne.type!=="dragover")if(z.directory)CK(Array.prototype.slice.call(Ne.dataTransfer.items),Oe,function(st){return K$(st,z.accept)});else{var un=jq(Array.prototype.slice.call(Ne.dataTransfer.files),function(st){return K$(st,z.accept)}),Vt=un[0],Ae=un[1];$e===!1&&(Vt=Vt.slice(0,1)),Oe(Vt),Ae.length&&z.onReject&&z.onReject(Ae)}};return nt({abort:We}),function(){var j,Ne,$e=z.componentTag,un=z.prefixCls,Vt=z.disabled,Ae=z.id,st=z.multiple,rt=z.accept,Ue=z.capture,U=z.directory,B=z.openFileDialogOnClick,He=z.onMouseenter,Jt=z.onMouseleave,Xe=kT(z,SK),pn=(j={},_o(j,un,!0),_o(j,"".concat(un,"-disabled"),Vt),_o(j,we.class,!!we.class),j),Mn=U?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},A=Vt?{}:{onClick:B?Mt:function(){},onKeydown:B?Ke:function(){},onMouseenter:He,onMouseleave:Jt,onDrop:_t,onDragover:_t,tabindex:"0"};return _r($e,Ca(Ca({},A),{},{class:pn,role:"button",style:we.style}),{default:function(){return[_r("input",Ca(Ca(Ca({},XG(Xe,{aria:!0,data:!0})),{},{id:Ae,type:"file",ref:gt,onClick:function(Nt){return Nt.stopPropagation()},key:xt.value,style:{display:"none"},accept:rt},Mn),{},{multiple:st,onChange:ve},Ue!=null?{capture:Ue}:{}),null),(Ne=xe.default)===null||Ne===void 0?void 0:Ne.call(xe)]}})}}});function X$(){}const Pz=Ef({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:FO(Xz(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:X$,onError:X$,onSuccess:X$,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup:function(z,fe){var xe=fe.slots,we=fe.attrs,nt=fe.expose,xt=As(),mt=function(Xt){var at;(at=xt.value)===null||at===void 0||at.abort(Xt)};return nt({abort:mt}),function(){return _r(xK,Ca(Ca(Ca({},z),we),{},{ref:xt}),xe)}}});var kK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const TK=kK;function Bz(ae){for(var z=1;z<arguments.length;z++){var fe=arguments[z]!=null?Object(arguments[z]):{},xe=Object.keys(fe);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(fe).filter(function(we){return Object.getOwnPropertyDescriptor(fe,we).enumerable}))),xe.forEach(function(we){EK(ae,we,fe[we])})}return ae}function EK(ae,z,fe){return z in ae?Object.defineProperty(ae,z,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ae[z]=fe,ae}var i7=function(z,fe){var xe=Bz({},z,fe.attrs);return _r(NO,Bz({},xe,{icon:TK}),null)};i7.displayName="PaperClipOutlined";i7.inheritAttrs=!1;const AK=i7;var OK={icon:function(z,fe){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:z}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:fe}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:fe}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:fe}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:z}}]}},name:"picture",theme:"twotone"};const DK=OK;function Mz(ae){for(var z=1;z<arguments.length;z++){var fe=arguments[z]!=null?Object(arguments[z]):{},xe=Object.keys(fe);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(fe).filter(function(we){return Object.getOwnPropertyDescriptor(fe,we).enumerable}))),xe.forEach(function(we){_K(ae,we,fe[we])})}return ae}function _K(ae,z,fe){return z in ae?Object.defineProperty(ae,z,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ae[z]=fe,ae}var u7=function(z,fe){var xe=Mz({},z,fe.attrs);return _r(NO,Mz({},xe,{icon:DK}),null)};u7.displayName="PictureTwoTone";u7.inheritAttrs=!1;const RK=u7;var PK={icon:function(z,fe){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:fe}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:z}}]}},name:"file",theme:"twotone"};const BK=PK;function Fz(ae){for(var z=1;z<arguments.length;z++){var fe=arguments[z]!=null?Object(arguments[z]):{},xe=Object.keys(fe);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(fe).filter(function(we){return Object.getOwnPropertyDescriptor(fe,we).enumerable}))),xe.forEach(function(we){MK(ae,we,fe[we])})}return ae}function MK(ae,z,fe){return z in ae?Object.defineProperty(ae,z,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ae[z]=fe,ae}var s7=function(z,fe){var xe=Fz({},z,fe.attrs);return _r(NO,Fz({},xe,{icon:BK}),null)};s7.displayName="FileTwoTone";s7.inheritAttrs=!1;const FK=s7;function Yz(){return{capture:[Boolean,String],type:String,name:String,defaultFileList:Array,fileList:Array,action:[String,Function],directory:{type:Boolean,default:void 0},data:[Object,Function],method:String,headers:Object,showUploadList:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},accept:String,beforeUpload:Function,onChange:Function,"onUpdate:fileList":Function,onDrop:Function,listType:String,onPreview:Function,onDownload:Function,onReject:Function,onRemove:Function,remove:Function,supportServerRender:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},prefixCls:String,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},id:String,previewFile:Function,transformFile:Function,iconRender:Function,isImageUrl:Function,progress:Object,itemRender:Function,maxCount:Number,height:[Number,String],removeIcon:Function,downloadIcon:Function,previewIcon:Function}}function NK(){return{listType:String,onPreview:Function,onDownload:Function,onRemove:Function,items:Array,progress:Object,prefixCls:String,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,locale:{type:Object,default:void 0},previewFile:Function,iconRender:Function,isImageUrl:Function,appendAction:Function,appendActionVisible:{type:Boolean,default:void 0},itemRender:Function}}function KB(ae){return Ca(Ca({},ae),{},{lastModified:ae.lastModified,lastModifiedDate:ae.lastModifiedDate,name:ae.name,size:ae.size,type:ae.type,uid:ae.uid,percent:0,originFileObj:ae})}function XB(ae,z){var fe=MO(z),xe=fe.findIndex(function(we){var nt=we.uid;return nt===ae.uid});return xe===-1?fe.push(ae):fe[xe]=ae,fe}function Y$(ae,z){var fe=ae.uid!==void 0?"uid":"name";return z.filter(function(xe){return xe[fe]===ae[fe]})[0]}function IK(ae,z){var fe=ae.uid!==void 0?"uid":"name",xe=z.filter(function(we){return we[fe]!==ae[fe]});return xe.length===z.length?null:xe}var $K=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=z.split("/"),xe=fe[fe.length-1],we=xe.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(we)||[""])[0]},Zz=function(z){return z.indexOf("image/")===0},LK=function(z){if(z.type&&!z.thumbUrl)return Zz(z.type);var fe=z.thumbUrl||z.url||"",xe=$K(fe);return/^data:image\//.test(fe)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(xe)?!0:!(/^data:/.test(fe)||xe)},V0=200;function zK(ae){return new Promise(function(z){if(!ae.type||!Zz(ae.type)){z("");return}var fe=document.createElement("canvas");fe.width=V0,fe.height=V0,fe.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(V0,"px; height: ").concat(V0,"px; z-index: 9999; display: none;"),document.body.appendChild(fe);var xe=fe.getContext("2d"),we=new Image;we.onload=function(){var nt=we.width,xt=we.height,mt=V0,gt=V0,Xt=0,at=0;nt>xt?(gt=xt*(V0/nt),at=-(gt-mt)/2):(mt=nt*(V0/xt),Xt=-(mt-gt)/2),xe.drawImage(we,Xt,at,mt,gt);var he=fe.toDataURL();document.body.removeChild(fe),z(he)},we.src=window.URL.createObjectURL(ae)})}var HK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const VK=HK;function Nz(ae){for(var z=1;z<arguments.length;z++){var fe=arguments[z]!=null?Object(arguments[z]):{},xe=Object.keys(fe);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(fe).filter(function(we){return Object.getOwnPropertyDescriptor(fe,we).enumerable}))),xe.forEach(function(we){UK(ae,we,fe[we])})}return ae}function UK(ae,z,fe){return z in ae?Object.defineProperty(ae,z,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ae[z]=fe,ae}var c7=function(z,fe){var xe=Nz({},z,fe.attrs);return _r(NO,Nz({},xe,{icon:VK}),null)};c7.displayName="DownloadOutlined";c7.inheritAttrs=!1;const WK=c7;var jK=function(){return{prefixCls:String,locale:{type:Object,default:void 0},file:Object,items:Array,listType:String,isImgUrl:Function,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,iconRender:Function,actionIconRender:Function,itemRender:Function,onPreview:Function,onClose:Function,onDownload:Function,progress:{type:Object,default:void 0}}};const GK=Ef({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:jK(),setup:function(z,fe){var xe=fe.slots,we=fe.attrs,nt=As(!1),xt=As();IO(function(){xt.value=setTimeout(function(){nt.value=!0},300)}),r7(function(){clearTimeout(xt.value)});var mt=iM("upload",z),gt=mt.rootPrefixCls,Xt=jo(function(){return YG("".concat(gt.value,"-fade"))});return function(){var at,he,ze=z.prefixCls,We=z.locale,Oe=z.listType,ve=z.file,Mt=z.items,Ke=z.progress,_t=z.iconRender,j=_t===void 0?xe.iconRender:_t,Ne=z.actionIconRender,$e=Ne===void 0?xe.actionIconRender:Ne,un=z.itemRender,Vt=un===void 0?xe.itemRender:un,Ae=z.isImgUrl,st=z.showPreviewIcon,rt=z.showRemoveIcon,Ue=z.showDownloadIcon,U=z.previewIcon,B=U===void 0?xe.previewIcon:U,He=z.removeIcon,Jt=He===void 0?xe.removeIcon:He,Xe=z.downloadIcon,pn=Xe===void 0?xe.downloadIcon:Xe,Mn=z.onPreview,A=z.onDownload,vt=z.onClose,Se=we.class,Nt=we.style,et="".concat(ze,"-span"),vn=j({file:ve}),$t=_r("div",{class:"".concat(ze,"-text-icon")},[vn]);if(Oe==="picture"||Oe==="picture-card")if(ve.status==="uploading"||!ve.thumbUrl&&!ve.url){var an,K=(an={},_o(an,"".concat(ze,"-list-item-thumbnail"),!0),_o(an,"".concat(ze,"-list-item-file"),ve.status!=="uploading"),an);$t=_r("div",{class:K},[vn])}else{var hr,pt=Ae!=null&&Ae(ve)?_r("img",{src:ve.thumbUrl||ve.url,alt:ve.name,class:"".concat(ze,"-list-item-image")},null):vn,qe=(hr={},_o(hr,"".concat(ze,"-list-item-thumbnail"),!0),_o(hr,"".concat(ze,"-list-item-file"),Ae&&!Ae(ve)),hr);$t=_r("a",{class:qe,onClick:function(jt){return Mn(ve,jt)},href:ve.url||ve.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[pt])}var Rn=(at={},_o(at,"".concat(ze,"-list-item"),!0),_o(at,"".concat(ze,"-list-item-").concat(ve.status),!0),_o(at,"".concat(ze,"-list-item-list-type-").concat(Oe),!0),at),Le=typeof ve.linkProps=="string"?JSON.parse(ve.linkProps):ve.linkProps,Me=rt?$e({customIcon:Jt?Jt({file:ve}):_r(mK,null,null),callback:function(){return vt(ve)},prefixCls:ze,title:We.removeFile}):null,bt=Ue&&ve.status==="done"?$e({customIcon:pn?pn({file:ve}):_r(WK,null,null),callback:function(){return A(ve)},prefixCls:ze,title:We.downloadFile}):null,qt=Oe!=="picture-card"&&_r("span",{key:"download-delete",class:["".concat(ze,"-list-item-card-actions"),{picture:Oe==="picture"}]},[bt,Me]),yt="".concat(ze,"-list-item-name"),Ot=ve.url?[_r("a",Ca(Ca({key:"view",target:"_blank",rel:"noopener noreferrer",class:yt,title:ve.name},Le),{},{href:ve.url,onClick:function(jt){return Mn(ve,jt)}}),[ve.name]),qt]:[_r("span",{key:"view",class:yt,onClick:function(jt){return Mn(ve,jt)},title:ve.name},[ve.name]),qt],tr={pointerEvents:"none",opacity:.5},be=st?_r("a",{href:ve.url||ve.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:ve.url||ve.thumbUrl?void 0:tr,onClick:function(jt){return Mn(ve,jt)},title:We.previewFile},[B?B({file:ve}):_r(ZG,null,null)]):null,St=Oe==="picture-card"&&ve.status!=="uploading"&&_r("span",{class:"".concat(ze,"-list-item-actions")},[be,ve.status==="done"&&bt,Me]),Cn;if(ve.response&&typeof ve.response=="string")Cn=ve.response;else{var Wt,Kn;Cn=((Wt=ve.error)===null||Wt===void 0?void 0:Wt.statusText)||((Kn=ve.error)===null||Kn===void 0?void 0:Kn.message)||We.uploadError}var ar=_r("span",{class:et},[$t,Ot]),qr=_r("div",{class:Rn},[_r("div",{class:"".concat(ze,"-list-item-info")},[ar]),St,nt.value&&_r(dq,Xt.value,{default:function(){return[eM(_r("div",{class:"".concat(ze,"-list-item-progress")},["percent"in ve?_r(lK,Ca(Ca({},Ke),{},{type:"line",percent:ve.percent}),null):null]),[[tM,ve.status==="uploading"]])]}})]),va=(he={},_o(he,"".concat(ze,"-list-").concat(Oe,"-container"),!0),_o(he,"".concat(Se),!!Se),he),xa=ve.status==="error"?_r(JG,{title:Cn,getPopupContainer:function(jt){return jt.parentNode}},{default:function(){return[qr]}}):qr;return _r("div",{class:va,style:Nt,ref:As},[Vt?Vt({originNode:xa,file:ve,fileList:Mt,actions:{download:A.bind(null,ve),preview:Mn.bind(null,ve),remove:vt.bind(null,ve)}}):xa])}}});var qK=function(z,fe){var xe,we=fe.slots;return tq((xe=we.default)===null||xe===void 0?void 0:xe.call(we))[0]};const KK=Ef({compatConfig:{MODE:3},name:"AUploadList",props:FO(NK(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:zK,isImageUrl:LK,items:[],appendActionVisible:!0}),setup:function(z,fe){var xe=fe.slots,we=fe.expose,nt=As(!1),xt=pq();IO(function(){nt.value==!0}),mq(function(){z.listType!=="picture"&&z.listType!=="picture-card"||(z.items||[]).forEach(function(Ke){typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(Ke.originFileObj instanceof File||Ke.originFileObj instanceof Blob)||Ke.thumbUrl!==void 0||(Ke.thumbUrl="",z.previewFile&&z.previewFile(Ke.originFileObj).then(function(_t){Ke.thumbUrl=_t||"",xt.update()}))})});var mt=function(_t,j){if(z.onPreview)return j==null||j.preventDefault(),z.onPreview(_t)},gt=function(_t){typeof z.onDownload=="function"?z.onDownload(_t):_t.url&&window.open(_t.url)},Xt=function(_t){var j;(j=z.onRemove)===null||j===void 0||j.call(z,_t)},at=function(_t){var j=_t.file,Ne=z.iconRender||xe.iconRender;if(Ne)return Ne({file:j,listType:z.listType});var $e=j.status==="uploading",un=z.isImageUrl&&z.isImageUrl(j)?_r(RK,null,null):_r(FK,null,null),Vt=$e?_r(Sz,null,null):_r(AK,null,null);return z.listType==="picture"?Vt=$e?_r(Sz,null,null):un:z.listType==="picture-card"&&(Vt=$e?z.locale.uploading:un),Vt},he=function(_t){var j=_t.customIcon,Ne=_t.callback,$e=_t.prefixCls,un=_t.title,Vt={type:"text",size:"small",title:un,onClick:function(){Ne()},class:"".concat($e,"-list-item-card-actions-btn")};return nq(j)?_r(xz,Vt,{icon:function(){return j}}):_r(xz,Vt,{default:function(){return[_r("span",null,[j])]}})};we({handlePreview:mt,handleDownload:gt});var ze=iM("upload",z),We=ze.prefixCls,Oe=ze.direction,ve=jo(function(){var Ke;return Ke={},_o(Ke,"".concat(We.value,"-list"),!0),_o(Ke,"".concat(We.value,"-list-").concat(z.listType),!0),_o(Ke,"".concat(We.value,"-list-rtl"),Oe.value==="rtl"),Ke}),Mt=jo(function(){return Ca(Ca(Ca({},QG("".concat(We.value,"-").concat(z.listType==="picture-card"?"animate-inline":"animate"))),eq("".concat(We.value,"-").concat(z.listType==="picture-card"?"animate-inline":"animate"))),{},{class:ve.value,appear:nt.value})});return function(){var Ke=z.listType,_t=z.locale,j=z.isImageUrl,Ne=z.items,$e=Ne===void 0?[]:Ne,un=z.showPreviewIcon,Vt=z.showRemoveIcon,Ae=z.showDownloadIcon,st=z.removeIcon,rt=z.previewIcon,Ue=z.downloadIcon,U=z.progress,B=z.appendAction,He=z.itemRender,Jt=z.appendActionVisible,Xe=B==null?void 0:B();return _r(gq,Ca(Ca({},Mt.value),{},{tag:"div"}),{default:function(){return[$e.map(function(Mn){var A=Mn.uid;return _r(GK,{key:A,locale:_t,prefixCls:We.value,file:Mn,items:$e,progress:U,listType:Ke,isImgUrl:j,showPreviewIcon:un,showRemoveIcon:Vt,showDownloadIcon:Ae,onPreview:mt,onDownload:gt,onClose:Xt,removeIcon:st,previewIcon:rt,downloadIcon:Ue,itemRender:He},Ca(Ca({},xe),{},{iconRender:at,actionIconRender:he}))}),B?eM(_r(qK,{key:"__ant_upload_appendAction"},{default:function(){return Xe}}),[[tM,!!Jt]]):null]}})}}});var XK=["class","style"],PO="__LIST_IGNORE_".concat(Date.now(),"__");const ZB=Ef({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:FO(Yz(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",disabled:!1,supportServerRender:!0}),setup:function(z,fe){var xe=fe.slots,we=fe.attrs,nt=fe.expose,xt=rq(),mt=aq(z.defaultFileList||[],{value:hq(z,"fileList"),postState:function(B){var He=Date.now();return(B??[]).map(function(Jt,Xe){return!Jt.uid&&!Object.isFrozen(Jt)&&(Jt.uid="__AUTO__".concat(He,"_").concat(Xe,"__")),Jt})}}),gt=Q$(mt,2),Xt=gt[0],at=gt[1],he=As("drop"),ze=As();IO(function(){BO(z.fileList!==void 0||we.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),BO(z.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),BO(z.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});var We=function(B,He,Jt){var Xe,pn,Mn=MO(He);z.maxCount===1?Mn=Mn.slice(-1):z.maxCount&&(Mn=Mn.slice(0,z.maxCount)),at(Mn);var A={file:B,fileList:Mn};Jt&&(A.event=Jt),(Xe=z["onUpdate:fileList"])===null||Xe===void 0||Xe.call(z,A.fileList),(pn=z.onChange)===null||pn===void 0||pn.call(z,A),xt.onFieldChange()},Oe=function(){var U=Vz(QB.mark(function B(He,Jt){var Xe,pn,Mn,A;return QB.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(Xe=z.beforeUpload,pn=z.transformFile,Mn=He,!Xe){Se.next=13;break}return Se.next=5,Xe(He,Jt);case 5:if(A=Se.sent,A!==!1){Se.next=8;break}return Se.abrupt("return",!1);case 8:if(delete He[PO],A!==PO){Se.next=12;break}return Object.defineProperty(He,PO,{value:!0,configurable:!0}),Se.abrupt("return",!1);case 12:Uz(A)==="object"&&A&&(Mn=A);case 13:if(!pn){Se.next=17;break}return Se.next=16,pn(Mn);case 16:Mn=Se.sent;case 17:return Se.abrupt("return",Mn);case 18:case"end":return Se.stop()}},B)}));return function(He,Jt){return U.apply(this,arguments)}}(),ve=function(B){var He=B.filter(function(pn){return!pn.file[PO]});if(He.length){var Jt=He.map(function(pn){return KB(pn.file)}),Xe=MO(Xt.value);Jt.forEach(function(pn){Xe=XB(pn,Xe)}),Jt.forEach(function(pn,Mn){var A=pn;if(He[Mn].parsedFile)pn.status="uploading";else{var vt=pn.originFileObj,Se;try{Se=new File([vt],vt.name,{type:vt.type})}catch{Se=new Blob([vt],{type:vt.type}),Se.name=vt.name,Se.lastModifiedDate=new Date,Se.lastModified=new Date().getTime()}Se.uid=pn.uid,A=Se}We(A,Xe)})}},Mt=function(B,He,Jt){try{typeof B=="string"&&(B=JSON.parse(B))}catch{}if(Y$(He,Xt.value)){var Xe=KB(He);Xe.status="done",Xe.percent=100,Xe.response=B,Xe.xhr=Jt;var pn=XB(Xe,Xt.value);We(Xe,pn)}},Ke=function(B,He){if(Y$(He,Xt.value)){var Jt=KB(He);Jt.status="uploading",Jt.percent=B.percent;var Xe=XB(Jt,Xt.value);We(Jt,Xe,B)}},_t=function(B,He,Jt){if(Y$(Jt,Xt.value)){var Xe=KB(Jt);Xe.error=B,Xe.response=He,Xe.status="error";var pn=XB(Xe,Xt.value);We(Xe,pn)}},j=function(B){var He,Jt=z.onRemove||z.remove;Promise.resolve(typeof Jt=="function"?Jt(B):Jt).then(function(Xe){if(Xe!==!1){var pn=IK(B,Xt.value);if(pn){var Mn,A;He=Ca(Ca({},B),{},{status:"removed"}),(Mn=Xt.value)===null||Mn===void 0||Mn.forEach(function(vt){var Se=He.uid!==void 0?"uid":"name";vt[Se]===He[Se]&&!Object.isFrozen(vt)&&(vt.status="removed")}),(A=ze.value)===null||A===void 0||A.abort(He),We(He,pn)}}})},Ne=function(B){if(he.value=B.type,B.type==="drop"){var He;(He=z.onDrop)===null||He===void 0||He.call(z,B)}};nt({onBatchStart:ve,onSuccess:Mt,onProgress:Ke,onError:_t,fileList:Xt,upload:ze});var $e=iM("upload",z),un=$e.prefixCls,Vt=$e.direction,Ae=oq("Upload",iq.Upload,jo(function(){return z.locale})),st=Q$(Ae,1),rt=st[0],Ue=function(B,He){var Jt=z.removeIcon,Xe=z.previewIcon,pn=z.downloadIcon,Mn=z.previewFile,A=z.onPreview,vt=z.onDownload,Se=z.disabled,Nt=z.isImageUrl,et=z.progress,vn=z.itemRender,$t=z.iconRender,an=z.showUploadList,K=typeof an=="boolean"?{}:an,hr=K.showDownloadIcon,pt=K.showPreviewIcon,qe=K.showRemoveIcon;return an?_r(KK,{listType:z.listType,items:Xt.value,previewFile:Mn,onPreview:A,onDownload:vt,onRemove:j,showRemoveIcon:!Se&&qe,showPreviewIcon:pt,showDownloadIcon:hr,removeIcon:Jt,previewIcon:Xe,downloadIcon:pn,iconRender:$t,locale:rt.value,isImageUrl:Nt,progress:et,itemRender:vn,appendActionVisible:He,appendAction:B},Ca({},xe)):B==null?void 0:B()};return function(){var U,B,He,Jt=z.listType,Xe=z.disabled,pn=z.type;we.class,we.style;var Mn=kT(we,XK),A=Ca(Ca(Ca({onBatchStart:ve,onError:_t,onProgress:Ke,onSuccess:Mt},Mn),z),{},{id:(U=z.id)!==null&&U!==void 0?U:xt.id.value,prefixCls:un.value,beforeUpload:Oe,onChange:void 0});if(delete A.remove,(!xe.default||Xe)&&delete A.id,pn==="drag"){var vt,Se,Nt=G$(un.value,(vt={},_o(vt,"".concat(un.value,"-drag"),!0),_o(vt,"".concat(un.value,"-drag-uploading"),Xt.value.some(function(an){return an.status==="uploading"})),_o(vt,"".concat(un.value,"-drag-hover"),he.value==="dragover"),_o(vt,"".concat(un.value,"-disabled"),Xe),_o(vt,"".concat(un.value,"-rtl"),Vt.value==="rtl"),vt),we.class);return _r("span",null,[_r("div",{class:Nt,onDrop:Ne,onDragover:Ne,onDragleave:Ne,style:we.style},[_r(Pz,Ca(Ca({},A),{},{ref:ze,class:"".concat(un.value,"-btn")}),Ca({default:function(){return[_r("div",{class:"".concat(un.value,"-drag-container")},[(Se=xe.default)===null||Se===void 0?void 0:Se.call(xe)])]}},xe))]),Ue()])}var et=G$(un.value,(B={},_o(B,"".concat(un.value,"-select"),!0),_o(B,"".concat(un.value,"-select-").concat(Jt),!0),_o(B,"".concat(un.value,"-disabled"),Xe),_o(B,"".concat(un.value,"-rtl"),Vt.value==="rtl"),B)),vn=uq((He=xe.default)===null||He===void 0?void 0:He.call(xe)),$t=function(K){return _r("div",{class:et,style:K},[_r(Pz,Ca(Ca({},A),{},{ref:ze}),xe)])};return Jt==="picture-card"?_r("span",{class:G$("".concat(un.value,"-picture-card-wrapper"),we.class)},[Ue($t,!!(vn&&vn.length))]):_r("span",{class:we.class},[$t(vn&&vn.length?void 0:{display:"none"}),Ue()])}}});var YK=["height"],ZK=["style"];const Z$=Ef({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:Yz(),setup:function(z,fe){var xe=fe.slots,we=fe.attrs;return function(){var nt=z.height,xt=kT(z,YK),mt=we.style,gt=kT(we,ZK),Xt=Ca(Ca(Ca({},xt),gt),{},{type:"drag",style:Ca(Ca({},mt),{},{height:typeof nt=="number"?"".concat(nt,"px"):nt})});return _r(ZB,Xt,xe)}}}),JK=sq(ZB,{Dragger:Z$,LIST_IGNORE:PO,install:function(z){return z.component(ZB.name,ZB),z.component(Z$.name,Z$),z}});var Jz={exports:{}};(function(ae){(function(){var z=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},fe=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},xe=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},we=function(e,n){return nt(function(a,i){return e.eq(n(a),n(i))})},nt=function(e){return{eq:e}},xt=nt(function(e,n){return e===n}),mt=xt,gt=function(e){return nt(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],a[c]))return!1;return!0})},Xt=function(e,n){return we(gt(e),function(a){return xe(a,n)})},at=function(e){return nt(function(n,a){var i=Object.keys(n),c=Object.keys(a);if(!Xt(mt).eq(i,c))return!1;for(var f=i.length,g=0;g<f;g++){var b=i[g];if(!e.eq(n[b],a[b]))return!1}return!0})},he=nt(function(e,n){if(e===n)return!0;var a=z(e),i=z(n);return a!==i?!1:fe(a)?e===n:a==="array"?gt(he).eq(e,n):a==="object"?at(he).eq(e,n):!1}),ze=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},We=function(e){return function(n){return ze(n)===e}},Oe=function(e){return function(n){return typeof n===e}},ve=function(e){return function(n){return e===n}},Mt=We("string"),Ke=We("object"),_t=We("array"),j=ve(null),Ne=Oe("boolean"),$e=ve(void 0),un=function(e){return e==null},Vt=function(e){return!un(e)},Ae=Oe("function"),st=Oe("number"),rt=function(){},Ue=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},U=function(e,n){return function(a){return e(n(a))}},B=function(e){return function(){return e}},He=function(e){return e},Jt=function(e,n){return e===n};function Xe(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=n.concat(i);return e.apply(null,f)}}var pn=function(e){return function(n){return!e(n)}},Mn=function(e){return function(){throw new Error(e)}},A=function(e){return e()},vt=function(e){e()},Se=B(!1),Nt=B(!0),et=function(){return vn},vn=function(){var e=function(i){return i()},n=He,a={fold:function(i,c){return i()},isSome:Se,isNone:Nt,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:B(null),getOrUndefined:B(void 0),or:n,orThunk:e,map:et,each:rt,bind:et,exists:Se,forall:Nt,filter:function(){return et()},toArray:function(){return[]},toString:B("none()")};return a}(),$t=function(e){var n=B(e),a=function(){return c},i=function(f){return f(e)},c={fold:function(f,g){return g(e)},isSome:Nt,isNone:Se,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(f){return $t(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?c:vn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c},an=function(e){return e==null?vn:$t(e)},K={some:$t,none:et,from:an},hr=Array.prototype.slice,pt=Array.prototype.indexOf,qe=Array.prototype.push,Rn=function(e,n){return pt.call(e,n)},Le=function(e,n){var a=Rn(e,n);return a===-1?K.none():K.some(a)},Me=function(e,n){return Rn(e,n)>-1},bt=function(e,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(n(c,a))return!0}return!1},qt=function(e,n){for(var a=e.length,i=new Array(a),c=0;c<a;c++){var f=e[c];i[c]=n(f,c)}return i},yt=function(e,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];n(c,a)}},Ot=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},tr=function(e,n){for(var a=[],i=[],c=0,f=e.length;c<f;c++){var g=e[c],b=n(g,c)?a:i;b.push(g)}return{pass:a,fail:i}},be=function(e,n){for(var a=[],i=0,c=e.length;i<c;i++){var f=e[i];n(f,i)&&a.push(f)}return a},St=function(e,n,a){return Ot(e,function(i,c){a=n(a,i,c)}),a},Cn=function(e,n,a){return yt(e,function(i,c){a=n(a,i,c)}),a},Wt=function(e,n,a){for(var i=0,c=e.length;i<c;i++){var f=e[i];if(n(f,i))return K.some(f);if(a(f,i))break}return K.none()},Kn=function(e,n){return Wt(e,n,Se)},ar=function(e,n){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(n(c,a))return K.some(a)}return K.none()},qr=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!_t(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);qe.apply(n,e[a])}return n},va=function(e,n){return qr(qt(e,n))},xa=function(e,n){for(var a=0,i=e.length;a<i;++a){var c=e[a];if(n(c,a)!==!0)return!1}return!0},Yt=function(e){var n=hr.call(e,0);return n.reverse(),n},jt=function(e,n){return be(e,function(a){return!Me(n,a)})},Qt=function(e,n){for(var a={},i=0,c=e.length;i<c;i++){var f=e[i];a[String(f)]=n(f,i)}return a},Ye=function(e,n){var a=hr.call(e,0);return a.sort(n),a},ct=function(e,n){return n>=0&&n<e.length?K.some(e[n]):K.none()},dn=function(e){return ct(e,0)},Fn=function(e){return ct(e,e.length-1)},hn=Ae(Array.from)?Array.from:function(e){return hr.call(e)},Ve=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return K.none()},nn=Object.keys,Nn=Object.hasOwnProperty,yn=function(e,n){for(var a=nn(e),i=0,c=a.length;i<c;i++){var f=a[i],g=e[f];n(g,f)}},Yn=function(e,n){return Ce(e,function(a,i){return{k:i,v:n(a,i)}})},Ce=function(e,n){var a={};return yn(e,function(i,c){var f=n(i,c);a[f.k]=f.v}),a},Ft=function(e){return function(n,a){e[a]=n}},wt=function(e,n,a,i){var c={};return yn(e,function(f,g){(n(f,g)?a:i)(f,g)}),c},sn=function(e,n){var a={},i={};return wt(e,n,Ft(a),Ft(i)),{t:a,f:i}},Zn=function(e,n){var a={};return wt(e,n,Ft(a),rt),a},Rr=function(e,n){var a=[];return yn(e,function(i,c){a.push(n(i,c))}),a},Ia=function(e){return Rr(e,He)},Dr=function(e,n){return Fr(e,n)?K.from(e[n]):K.none()},Fr=function(e,n){return Nn.call(e,n)},Xa=function(e,n){return Fr(e,n)&&e[n]!==void 0&&e[n]!==null},ni=function(e,n,a){return a===void 0&&(a=he),at(a).eq(e,n)},ho=Array.isArray,so=function(e){if(ho(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},ko=function(e,n,a){var i,c;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,c=e.length;i<c;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Fr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},si=function(e,n){var a=[];return ko(e,function(i,c){a.push(n(i,c,e))}),a},To=function(e,n){var a=[];return ko(e,function(i,c){(!n||n(i,c,e))&&a.push(i)}),a},bo=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},ri=function(e,n,a,i){for(var c=$e(a)?e[0]:a,f=0;f<e.length;f++)c=n.call(i,c,e[f],f);return c},oa=function(e,n,a){var i,c;for(i=0,c=e.length;i<c;i++)if(n.call(a,e[i],i,e))return i;return-1},Zo=function(e){return e[e.length-1]},ir=function(){return ir=Object.assign||function(n){for(var a,i=1,c=arguments.length;i<c;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}return n},ir.apply(this,arguments)};function du(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(e);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(e,i[c])&&(a[i[c]]=e[i[c]]);return a}function Go(e,n,a){if(a||arguments.length===2)for(var i=0,c=n.length,f;i<c;i++)(f||!(i in n))&&(f||(f=Array.prototype.slice.call(n,0,i)),f[i]=n[i]);return e.concat(f||Array.prototype.slice.call(n))}var hi=function(e){var n=!1,a;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return n||(n=!0,a=e.apply(null,i)),a}},mu=function(e,n,a,i){var c=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!c,g=e.isiOS()||e.isAndroid(),b=g||i("(pointer:coarse)"),w=c||!f&&g&&i("(min-device-width:768px)"),O=f||g&&!w,N=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,L=!O&&!w&&!N;return{isiPad:B(c),isiPhone:B(f),isTablet:B(w),isPhone:B(O),isTouch:B(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:B(N),isDesktop:B(L)}},Di=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},gu=function(e,n){var a=Di(e,n);if(!a)return{major:0,minor:0};var i=function(c){return Number(n.replace(a,"$"+c))};return ue(i(1),i(2))},pu=function(e,n){var a=String(n).toLowerCase();return e.length===0?ss():gu(e,a)},ss=function(){return ue(0,0)},ue=function(e,n){return{major:e,minor:n}},Fe={nu:ue,detect:pu,unknown:ss},ce=function(e,n){return Ve(n.brands,function(a){var i=a.brand.toLowerCase();return Kn(e,function(c){var f;return i===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(c){return{current:c.name,version:Fe.nu(parseInt(a.version,10),0)}})})},it=function(e,n){var a=String(n).toLowerCase();return Kn(e,function(i){return i.search(a)})},Dn=function(e,n){return it(e,n).map(function(a){var i=Fe.detect(a.versionRegexes,n);return{current:a.name,version:i}})},qn=function(e,n){return it(e,n).map(function(a){var i=Fe.detect(a.versionRegexes,n);return{current:a.name,version:i}})},ne=function(e,n){return e.substring(n)},ge=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},lt=function(e,n){return F(e,n)?ne(e,n.length):e},It=function(e,n){return e.indexOf(n)!==-1},F=function(e,n){return ge(e,n,0)},Z=function(e){return function(n){return n.replace(e,"")}},me=Z(/^\s+|\s+$/g),_e=Z(/^\s+/g),Qe=Z(/\s+$/g),ot=function(e){return e.length>0},En=function(e){return!ot(e)},Vn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Cr=function(e){return function(n){return It(n,e)}},ht=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return It(e,"edge/")&&It(e,"chrome")&&It(e,"safari")&&It(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vn],search:function(e){return It(e,"chrome")&&!It(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return It(e,"msie")||It(e,"trident")}},{name:"Opera",versionRegexes:[Vn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Cr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Cr("firefox")},{name:"Safari",versionRegexes:[Vn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(It(e,"safari")||It(e,"mobile/"))&&It(e,"applewebkit")}}],lr=[{name:"Windows",search:Cr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return It(e,"iphone")||It(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Cr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Cr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Cr("linux"),versionRegexes:[]},{name:"Solaris",search:Cr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Cr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Cr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Hr={browsers:B(ht),oses:B(lr)},Oa="Edge",Eo="Chrome",ia="IE",cs="Opera",Hu="Firefox",yo="Safari",Lc=function(){return Ii({current:void 0,version:Fe.unknown()})},Ii=function(e){var n=e.current,a=e.version,i=function(c){return function(){return n===c}};return{current:n,version:a,isEdge:i(Oa),isChrome:i(Eo),isIE:i(ia),isOpera:i(cs),isFirefox:i(Hu),isSafari:i(yo)}},hu={unknown:Lc,nu:Ii,edge:B(Oa),chrome:B(Eo),ie:B(ia),opera:B(cs),firefox:B(Hu),safari:B(yo)},Ya="Windows",pc="iOS",Os="Android",zc="Linux",fl="OSX",Xi="Solaris",Du="FreeBSD",Hc="ChromeOS",bu=function(){return Yi({current:void 0,version:Fe.unknown()})},Yi=function(e){var n=e.current,a=e.version,i=function(c){return function(){return n===c}};return{current:n,version:a,isWindows:i(Ya),isiOS:i(pc),isAndroid:i(Os),isOSX:i(fl),isLinux:i(zc),isSolaris:i(Xi),isFreeBSD:i(Du),isChromeOS:i(Hc)}},G={unknown:bu,nu:Yi,windows:B(Ya),ios:B(pc),android:B(Os),linux:B(zc),osx:B(fl),solaris:B(Xi),freebsd:B(Du),chromeos:B(Hc)},Ee=function(e,n,a){var i=Hr.browsers(),c=Hr.oses(),f=n.bind(function(w){return ce(i,w)}).orThunk(function(){return Dn(i,e)}).fold(hu.unknown,hu.nu),g=qn(c,e).fold(G.unknown,G.nu),b=mu(g,f,e,a);return{browser:f,os:g,deviceType:b}},Ze={detect:Ee},Ht=function(e){return window.matchMedia(e).matches},xn=hi(function(){return Ze.detect(navigator.userAgent,K.from(navigator.userAgentData),Ht)}),sr=function(){return xn()},Ea=navigator.userAgent,$a=sr(),Jr=$a.browser,Qa=$a.os,vo=$a.deviceType,Ds=/WebKit/.test(Ea)&&!Jr.isEdge(),ci="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,ls=Ea.indexOf("Windows Phone")!==-1,Sr={opera:Jr.isOpera(),webkit:Ds,ie:Jr.isIE()||Jr.isEdge()?Jr.version.major:!1,gecko:Jr.isFirefox(),mac:Qa.isOSX()||Qa.isiOS(),iOS:vo.isiPad()||vo.isiPhone(),android:Qa.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Jr.isIE()?document.documentMode||7:10,fileApi:ci,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Jr.isIE(),desktop:vo.isDesktop(),windowsPhone:ls,browser:{current:Jr.current,version:Jr.version,isChrome:Jr.isChrome,isEdge:Jr.isEdge,isFirefox:Jr.isFirefox,isIE:Jr.isIE,isOpera:Jr.isOpera,isSafari:Jr.isSafari},os:{current:Qa.current,version:Qa.version,isAndroid:Qa.isAndroid,isChromeOS:Qa.isChromeOS,isFreeBSD:Qa.isFreeBSD,isiOS:Qa.isiOS,isLinux:Qa.isLinux,isOSX:Qa.isOSX,isSolaris:Qa.isSolaris,isWindows:Qa.isWindows},deviceType:{isDesktop:vo.isDesktop,isiPad:vo.isiPad,isiPhone:vo.isiPhone,isPhone:vo.isPhone,isTablet:vo.isTablet,isTouch:vo.isTouch,isWebView:vo.isWebView}},Ks=/^\s*|\s*$/g,Af=function(e){return e==null?"":(""+e).replace(Ks,"")},Sa=function(e,n){return n?n==="array"&&ho(e)?!0:typeof e===n:e!==void 0},Ll=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},zl=Fr,yv=function(e,n,a){var i=this,c,f,g,b=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var w=e[3].match(/(^|\.)(\w+)$/i)[2],O=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!O[w]){if(e[2]==="static"){O[w]=n,this.onCreate&&this.onCreate(e[2],e[3],O[w]);return}n[w]||(n[w]=function(){},b=1),O[w]=n[w],i.extend(O[w].prototype,n),e[5]&&(c=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],g=O[w],b?O[w]=function(){return c[f].apply(this,arguments)}:O[w]=function(){return this.parent=c[f],g.apply(this,arguments)},O[w].prototype[w]=O[w],i.each(c,function(N,L){O[w].prototype[L]=c[L]}),i.each(n,function(N,L){c[L]?O[w].prototype[L]=function(){return this.parent=c[L],N.apply(this,arguments)}:L!==w&&(O[w].prototype[L]=N)})),i.each(n.static,function(N,L){O[w][L]=N})}},Ga=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var c=n[i];for(var f in c)if(Fr(c,f)){var g=c[f];g!==void 0&&(e[f]=g)}}return e},_u=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),ko(e,function(c,f){if(n.call(i,c,f,a)===!1)return!1;_u(c,n,a,i)}))},md=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Vu=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},qo=function(e,n){return!e||Sa(e,"array")?e:si(e.split(n||","),Af)},hc=function(e){var n=Sr.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Rt={trim:Af,isArray:ho,is:Sa,toArray:so,makeMap:Ll,each:ko,map:si,grep:To,inArray:bo,hasOwn:zl,extend:Ga,create:yv,walk:_u,createNS:md,resolve:Vu,explode:qo,_addCacheSuffix:hc},vl=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Xs(i.childNodes[0])},Ro=function(e,n){var a=n||document,i=a.createElement(e);return Xs(i)},Of=function(e,n){var a=n||document,i=a.createTextNode(e);return Xs(i)},Xs=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Vc=function(e,n,a){return K.from(e.dom.elementFromPoint(n,a)).map(Xs)},R={fromHtml:vl,fromTag:Ro,fromText:Of,fromDom:Xs,fromPoint:Vc},k=function(e,n){var a=[],i=function(f){return a.push(f),n(f)},c=n(e);do c=c.bind(i);while(c.isSome());return a},I=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},Y=function(e,n){return I(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},ye=8,ut=9,mn=11,vr=1,Pr=3,Un=function(e,n){var a=e.dom;if(a.nodeType!==vr)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},ur=function(e){return e.nodeType!==vr&&e.nodeType!==ut&&e.nodeType!==mn||e.childElementCount===0},Gr=function(e,n){var a=n===void 0?document:n.dom;return ur(a)?[]:qt(a.querySelectorAll(e),R.fromDom)},jr=function(e,n){var a=n===void 0?document:n.dom;return ur(a)?K.none():K.from(a.querySelector(e)).map(R.fromDom)},Br=function(e,n){return e.dom===n.dom},co=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},Vr=function(e,n){return Y(e.dom,n.dom)},qa=function(e,n){return sr().browser.isIE()?Vr(e,n):co(e,n)};typeof window<"u"||Function("return this;")();var La=function(e){var n=e.dom.nodeName;return n.toLowerCase()},bi=function(e){return e.dom.nodeType},Zr=function(e){return function(n){return bi(n)===e}},_s=function(e){return bi(e)===ye||La(e)==="#comment"},wo=Zr(vr),Po=Zr(Pr),Zh=Zr(ut),$i=Zr(mn),lp=function(e){return function(n){return wo(n)&&La(n)===e}},Uc=function(e){return R.fromDom(e.dom.ownerDocument)},Mr=function(e){return Zh(e)?e:Uc(e)},Rs=function(e){return R.fromDom(Mr(e).dom.documentElement)},Io=function(e){return R.fromDom(Mr(e).dom.defaultView)},$o=function(e){return K.from(e.dom.parentNode).map(R.fromDom)},yi=function(e,n){for(var a=Ae(n)?n:Se,i=e.dom,c=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,g=R.fromDom(f);if(c.push(g),a(g)===!0)break;i=f}return c},ai=function(e){var n=function(a){return be(a,function(i){return!Br(e,i)})};return $o(e).map(Ru).map(n).getOr([])},Df=function(e){return K.from(e.dom.previousSibling).map(R.fromDom)},Ys=function(e){return K.from(e.dom.nextSibling).map(R.fromDom)},Da=function(e){return Yt(k(e,Df))},mo=function(e){return k(e,Ys)},Ru=function(e){return qt(e.dom.childNodes,R.fromDom)},dl=function(e,n){var a=e.dom.childNodes;return K.from(a[n]).map(R.fromDom)},li=function(e){return dl(e,0)},Ps=function(e){return dl(e,e.dom.childNodes.length-1)},Jh=function(e){return e.dom.childNodes.length},_f=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return R.fromDom(n)},eo=function(e){return $i(e)&&Vt(e.dom.host)},bc=Ae(Element.prototype.attachShadow)&&Ae(Node.prototype.getRootNode),Hl=B(bc),Uu=bc?function(e){return R.fromDom(e.dom.getRootNode())}:Mr,Ko=function(e){return eo(e)?e:_f(Mr(e))},Vl=function(e){var n=Uu(e);return eo(n)?K.some(n):K.none()},ml=function(e){return R.fromDom(e.dom.host)},yu=function(e){if(Hl()&&Vt(e.target)){var n=R.fromDom(e.target);if(wo(n)&&Wu(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return dn(a)}}return K.from(e.target)},Wu=function(e){return Vt(e.dom.shadowRoot)},Zi=function(e,n){var a=$o(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},wv=function(e,n){var a=Ys(e);a.fold(function(){var i=$o(e);i.each(function(c){wi(c,n)})},function(i){Zi(i,n)})},yc=function(e,n){var a=li(e);a.fold(function(){wi(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},wi=function(e,n){e.dom.appendChild(n.dom)},gd=function(e,n){Zi(e,n),wi(n,e)},Qh=function(e,n){yt(n,function(a){Zi(e,a)})},Rf=function(e,n){yt(n,function(a){wi(e,a)})},Pf=function(e){e.dom.textContent="",yt(Ru(e),function(n){Lo(n)})},Lo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Bf=function(e){var n=Ru(e);n.length>0&&Qh(e,n),Lo(e)},Mf=function(e){var n=Po(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Vl(R.fromDom(n)).fold(function(){return a.body.contains(n)},U(Mf,ml))},wu=function(e,n){var a=function(i,c){return wu(e+i,n+c)};return{left:e,top:n,translate:a}},gl=wu,Ff=function(e){var n=e.getBoundingClientRect();return gl(n.left,n.top)},pl=function(e,n){return e!==void 0?e:n!==void 0?n:0},Ao=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,c=n.documentElement;if(a===e.dom)return gl(a.offsetLeft,a.offsetTop);var f=pl(i==null?void 0:i.pageYOffset,c.scrollTop),g=pl(i==null?void 0:i.pageXOffset,c.scrollLeft),b=pl(c.clientTop,a.clientTop),w=pl(c.clientLeft,a.clientLeft);return fs(e).translate(g-w,f-b)},fs=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?gl(i.offsetLeft,i.offsetTop):Mf(e)?Ff(n):gl(0,0)},Sm=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return gl(a,i)},Bs=function(e,n,a){var i=a!==void 0?a.dom:document,c=i.defaultView;c&&c.scrollTo(e,n)},xm=function(e,n){var a=sr().browser.isSafari();a&&Ae(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},e1=function(e){var n=e===void 0?window:e;return sr().browser.isFirefox()?K.none():K.from(n.visualViewport)},fp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Nf=function(e){var n=e===void 0?window:e,a=n.document,i=Sm(R.fromDom(a));return e1(n).fold(function(){var c=n.document.documentElement,f=c.clientWidth,g=c.clientHeight;return fp(i.left,i.top,f,g)},function(c){return fp(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height)})},If=function(e){return function(n){return!!n&&n.nodeType===e}},Ul=function(e){return!!e&&!Object.getPrototypeOf(e)},Nr=If(1),Zs=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Me(n,i)}return!1}},ju=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Nr(i))for(var c=0;c<a.length;c++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),g=f?f.getPropertyValue(e):null;if(g===a[c])return!0}return!1}},Cu=function(e){return function(n){return Nr(n)&&n.hasAttribute(e)}},Js=function(e,n){return function(a){return Nr(a)&&a.getAttribute(e)===n}},Jo=function(e){return Nr(e)&&e.hasAttribute("data-mce-bogus")},Ci=function(e){return Nr(e)&&e.getAttribute("data-mce-bogus")==="all"},oi=function(e){return Nr(e)&&e.tagName==="TABLE"},Wl=function(e){return function(n){return!!(Nr(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Ji=Zs(["textarea","input"]),Jn=If(3),$f=If(8),vp=If(9),Qr=If(11),to=Zs(["br"]),km=Zs(["img"]),Wc=Wl("true"),Co=Wl("false"),Tm=Zs(["td","th"]),vs=Zs(["video","audio","object","embed"]),pd=function(e,n,a){return a===void 0&&(a=Jt),e.exists(function(i){return a(i,n)})},na=function(e){for(var n=[],a=function(c){n.push(c)},i=0;i<e.length;i++)e[i].each(a);return n},Pu=function(e,n,a){return e.isSome()&&n.isSome()?K.some(a(e.getOrDie(),n.getOrDie())):K.none()},U0=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?K.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):K.none()},W0=function(e,n){return e?K.some(n):K.none()},Oo=function(e){return e.style!==void 0&&Ae(e.style.getPropertyValue)},Em=function(e,n,a){if(Mt(a)||Ne(a)||st(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},E=function(e,n,a){Em(e.dom,n,a)},$=function(e,n){var a=e.dom;yn(n,function(i,c){Em(a,c,i)})},W=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},se=function(e,n){return K.from(W(e,n))},Ge=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},Bt=function(e,n){e.dom.removeAttribute(n)},cr=function(e){return Cn(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Ur=function(e,n,a){if(!Mt(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Oo(e)&&e.style.setProperty(n,a)},ga=function(e,n){var a=e.dom;yn(n,function(i,c){Ur(a,c,i)})},ra=function(e,n){var a=e.dom,i=window.getComputedStyle(a),c=i.getPropertyValue(n);return c===""&&!Mf(e)?oo(a,n):c},oo=function(e,n){return Oo(e)?e.style.getPropertyValue(n):""},Qi=function(e,n){var a=e.dom,i=oo(a,n);return K.from(i).filter(function(c){return c.length>0})},zo=function(e){var n={},a=e.dom;if(Oo(a))for(var i=0;i<a.style.length;i++){var c=a.style.item(i);n[c]=a.style[c]}return n},TT=function(e){return e.dom.offsetWidth},tC=sr().browser,nC=function(e){return Kn(e,wo)},ET=function(e){return tC.isFirefox()&&La(e)==="table"?nC(Ru(e)).filter(function(n){return La(n)==="caption"}).bind(function(n){return nC(mo(n)).map(function(a){var i=a.dom.offsetTop,c=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=c?-f:0})}).getOr(0):0},hl=function(e,n){return e.children&&Me(e.children,n)},dp=function(e,n,a){var i=0,c=0,f=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&ra(R.fromDom(e),"position")==="static"){var g=n.getBoundingClientRect();return i=g.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=g.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:c}}for(var b=n;b&&b!==a&&b.nodeType&&!hl(b,a);){var w=b;i+=w.offsetLeft||0,c+=w.offsetTop||0,b=w.offsetParent}for(b=n.parentNode;b&&b!==a&&b.nodeType&&!hl(b,a);)i-=b.scrollLeft||0,c-=b.scrollTop||0,b=b.parentNode;c+=ET(R.fromDom(n))}return{x:i,y:c}},ds={},Am={exports:ds};(function(e,n,a,i){(function(c,f){typeof n=="object"&&typeof a<"u"?a.exports=f():typeof e=="function"&&e.amd?e(f):(c=typeof globalThis<"u"?globalThis:c||self,c.EphoxContactWrapper=f())})(this,function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof JB<"u"?JB:typeof self<"u"?self:{},f={exports:{}};(function(O){(function(N){var L=setTimeout;function H(){}function J(ke,tt){return function(){ke.apply(tt,arguments)}}function ee(ke){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ke!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],je(ke,this)}function te(ke,tt){for(;ke._state===3;)ke=ke._value;if(ke._state===0){ke._deferreds.push(tt);return}ke._handled=!0,ee._immediateFn(function(){var Ut=ke._state===1?tt.onFulfilled:tt.onRejected;if(Ut===null){(ke._state===1?re:pe)(tt.promise,ke._value);return}var bn;try{bn=Ut(ke._value)}catch(Ar){pe(tt.promise,Ar);return}re(tt.promise,bn)})}function re(ke,tt){try{if(tt===ke)throw new TypeError("A promise cannot be resolved with itself.");if(tt&&(typeof tt=="object"||typeof tt=="function")){var Ut=tt.then;if(tt instanceof ee){ke._state=3,ke._value=tt,de(ke);return}else if(typeof Ut=="function"){je(J(Ut,tt),ke);return}}ke._state=1,ke._value=tt,de(ke)}catch(bn){pe(ke,bn)}}function pe(ke,tt){ke._state=2,ke._value=tt,de(ke)}function de(ke){ke._state===2&&ke._deferreds.length===0&&ee._immediateFn(function(){ke._handled||ee._unhandledRejectionFn(ke._value)});for(var tt=0,Ut=ke._deferreds.length;tt<Ut;tt++)te(ke,ke._deferreds[tt]);ke._deferreds=null}function Je(ke,tt,Ut){this.onFulfilled=typeof ke=="function"?ke:null,this.onRejected=typeof tt=="function"?tt:null,this.promise=Ut}function je(ke,tt){var Ut=!1;try{ke(function(bn){Ut||(Ut=!0,re(tt,bn))},function(bn){Ut||(Ut=!0,pe(tt,bn))})}catch(bn){if(Ut)return;Ut=!0,pe(tt,bn)}}ee.prototype.catch=function(ke){return this.then(null,ke)},ee.prototype.then=function(ke,tt){var Ut=new this.constructor(H);return te(this,new Je(ke,tt,Ut)),Ut},ee.all=function(ke){var tt=Array.prototype.slice.call(ke);return new ee(function(Ut,bn){if(tt.length===0)return Ut([]);var Ar=tt.length;function jn(gr,Sn){try{if(Sn&&(typeof Sn=="object"||typeof Sn=="function")){var Wn=Sn.then;if(typeof Wn=="function"){Wn.call(Sn,function(kn){jn(gr,kn)},bn);return}}tt[gr]=Sn,--Ar===0&&Ut(tt)}catch(kn){bn(kn)}}for(var Kt=0;Kt<tt.length;Kt++)jn(Kt,tt[Kt])})},ee.resolve=function(ke){return ke&&typeof ke=="object"&&ke.constructor===ee?ke:new ee(function(tt){tt(ke)})},ee.reject=function(ke){return new ee(function(tt,Ut){Ut(ke)})},ee.race=function(ke){return new ee(function(tt,Ut){for(var bn=0,Ar=ke.length;bn<Ar;bn++)ke[bn].then(tt,Ut)})},ee._immediateFn=typeof setImmediate=="function"?function(ke){setImmediate(ke)}:function(ke){L(ke,0)},ee._unhandledRejectionFn=function(tt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",tt)},ee._setImmediateFn=function(tt){ee._immediateFn=tt},ee._setUnhandledRejectionFn=function(tt){ee._unhandledRejectionFn=tt},O.exports?O.exports=ee:N.Promise||(N.Promise=ee)})(c)})(f);var g=f.exports,b=function(){return typeof window<"u"?window:Function("return this;")()}(),w={boltExport:b.Promise||g};return w})})(void 0,ds,Am);var j0=Am.exports.boltExport,mp=function(e){var n=K.none(),a=[],i=function(O){return mp(function(N){c(function(L){N(O(L))})})},c=function(O){g()?w(O):a.push(O)},f=function(O){g()||(n=K.some(O),b(a),a=[])},g=function(){return n.isSome()},b=function(O){yt(O,w)},w=function(O){n.each(function(N){setTimeout(function(){O(N)},0)})};return e(f),{get:c,map:i,isReady:g}},t1=function(e){return mp(function(n){n(e)})},rC={nu:mp,pure:t1},AT=function(e){setTimeout(function(){throw e},0)},bl=function(e){var n=function(w){e().then(w,AT)},a=function(w){return bl(function(){return e().then(w)})},i=function(w){return bl(function(){return e().then(function(O){return w(O).toPromise()})})},c=function(w){return bl(function(){return e().then(function(){return w.toPromise()})})},f=function(){return rC.nu(n)},g=function(){var w=null;return bl(function(){return w===null&&(w=e()),w})},b=e;return{map:a,bind:i,anonBind:c,toLazy:f,toCached:g,toPromise:b,get:n}},gp=function(e){return bl(function(){return new j0(e)})},OT=function(e){return bl(function(){return j0.resolve(e)})},G0={nu:gp,pure:OT},DT=function(e,n){return n(function(a){var i=[],c=0,f=function(g){return function(b){i[g]=b,c++,c>=e.length&&a(i)}};e.length===0?a([]):yt(e,function(g,b){g.get(f(b))})})},_T=function(e){return DT(e,G0.nu)},Om=function(e){var n=function(L){return Om(e)},a=function(L){return Om(e)},i=function(L){return Om(L(e))},c=function(L){return Om(e)},f=function(L){L(e)},g=function(L){return L(e)},b=function(L,H){return H(e)},w=function(L){return L(e)},O=function(L){return L(e)},N=function(){return K.some(e)};return{isValue:Nt,isError:Se,getOr:B(e),getOrThunk:B(e),getOrDie:B(e),or:n,orThunk:a,fold:b,map:i,mapError:c,each:f,bind:g,exists:w,forall:O,toOptional:N}},pp=function(e){var n=function(O){return O()},a=function(){return Mn(String(e))()},i=He,c=function(O){return O()},f=function(O){return pp(e)},g=function(O){return pp(O(e))},b=function(O){return pp(e)},w=function(O,N){return O(e)};return{isValue:Se,isError:Nt,getOr:He,getOrThunk:n,getOrDie:a,or:i,orThunk:c,fold:w,map:f,mapError:g,each:rt,bind:b,exists:Se,forall:Nt,toOptional:K.none}},aC=function(e,n){return e.fold(function(){return pp(n)},Om)},oC={value:Om,error:pp,fromOption:aC},Ms=function(e){if(!_t(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return yt(e,function(i,c){var f=nn(i);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],b=i[g];if(a[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!_t(b))throw new Error("case arguments must be an array");n.push(g),a[g]=function(){for(var w=[],O=0;O<arguments.length;O++)w[O]=arguments[O];var N=w.length;if(N!==b.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+b.length+" ("+b+"), got "+N);var L=function(H){var J=nn(H);if(n.length!==J.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+J.join(","));var ee=xa(n,function(te){return Me(J,te)});if(!ee)throw new Error("Not all branches were specified when using match. Specified: "+J.join(", ")+`
Required: `+n.join(", "));return H[g].apply(null,w)};return{fold:function(){for(var H=[],J=0;J<arguments.length;J++)H[J]=arguments[J];if(H.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+H.length);var ee=H[c];return ee.apply(null,w)},match:L,log:function(H){console.log(H,{constructors:n,constructor:g,params:w})}}}}),a},br={generate:Ms};br.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Lf=function(e){return e.fold(He,He)};function hp(e,n,a,i,c){return e(a,i)?K.some(a):Ae(c)&&c(a)?K.none():n(a,i,c)}var Cv=function(e,n,a){for(var i=e.dom,c=Ae(a)?a:Se;i.parentNode;){i=i.parentNode;var f=R.fromDom(i);if(n(f))return K.some(f);if(c(f))break}return K.none()},Dm=function(e,n,a){var i=function(c,f){return f(c)};return hp(i,Cv,e,n,a)},q0=function(e,n){var a=e.dom;return a.parentNode?jc(R.fromDom(a.parentNode),function(i){return!Br(e,i)&&n(i)}):K.none()},jc=function(e,n){var a=function(c){return n(R.fromDom(c))},i=Kn(e.dom.childNodes,a);return i.map(R.fromDom)},hd=function(e,n,a){return Cv(e,function(i){return Un(i,n)},a)},_m=function(e,n){return jr(n,e)},Qo=function(e,n,a){var i=function(c,f){return Un(c,f)};return hp(i,hd,e,n,a)},Li=window.Promise?window.Promise:j0,bp,jl=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],c=function(g){window.setTimeout(g,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=c),a(e,n)},yp=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},n1=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},r1=function(e){return clearTimeout(e)},RT=function(e){return clearInterval(e)},Rm=function(e,n){var a,i=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];clearTimeout(a),a=yp(function(){e.apply(this,c)},n)};return i.stop=function(){clearTimeout(a)},i},Su={requestAnimationFrame:function(e,n){if(bp){bp.then(e);return}bp=new Li(function(a){n||(n=document.body),jl(a,n)}).then(e)},setTimeout:yp,setInterval:n1,setEditorTimeout:function(e,n,a){return yp(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=n1(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Rm,throttle:Rm,clearInterval:RT,clearTimeout:r1},iC=function(e,n){n===void 0&&(n={});var a=0,i={},c=R.fromDom(e),f=Mr(c),g=n.maxLoadTime||5e3,b=function(re){n.referrerPolicy=re},w=function(re){wi(Ko(c),re)},O=function(re){var pe=Ko(c);_m(pe,"#"+re).each(Lo)},N=function(re){return Dr(i,re).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},L=function(re,pe,de){var Je,je=Rt._addCacheSuffix(re),ke=N(je);i[je]=ke,ke.count++;var tt=function(Sn,Wn){for(var kn=Sn.length;kn--;)Sn[kn]();ke.status=Wn,ke.passed=[],ke.failed=[],Je&&(Je.onload=null,Je.onerror=null,Je=null)},Ut=function(){return tt(ke.passed,2)},bn=function(){return tt(ke.failed,3)},Ar=function(Sn,Wn){Sn()||(Date.now()-gr<g?Su.setTimeout(Wn):bn())},jn=function(){Ar(function(){for(var Sn=e.styleSheets,Wn=Sn.length;Wn--;){var kn=Sn[Wn],In=kn.ownerNode;if(In&&In.id===Je.id)return Ut(),!0}return!1},jn)};if(pe&&ke.passed.push(pe),de&&ke.failed.push(de),ke.status!==1){if(ke.status===2){Ut();return}if(ke.status===3){bn();return}ke.status=1;var Kt=R.fromTag("link",f.dom);$(Kt,{rel:"stylesheet",type:"text/css",id:ke.id});var gr=Date.now();n.contentCssCors&&E(Kt,"crossOrigin","anonymous"),n.referrerPolicy&&E(Kt,"referrerpolicy",n.referrerPolicy),Je=Kt.dom,Je.onload=jn,Je.onerror=bn,w(Kt),E(Kt,"href",je)}},H=function(re){return G0.nu(function(pe){L(re,Ue(pe,B(oC.value(re))),Ue(pe,B(oC.error(re))))})},J=function(re,pe,de){_T(qt(re,H)).get(function(Je){var je=tr(Je,function(ke){return ke.isValue()});je.fail.length>0?de(je.fail.map(Lf)):pe(je.pass.map(Lf))})},ee=function(re){var pe=Rt._addCacheSuffix(re);Dr(i,pe).each(function(de){var Je=--de.count;Je===0&&(delete i[pe],O(de.id))})},te=function(re){yt(re,function(pe){ee(pe)})};return{load:L,loadAll:J,unload:ee,unloadAll:te,_setReferrerPolicy:b}},Bo=function(){var e=new WeakMap,n=function(a,i){var c=Uu(a),f=c.dom;return K.from(e.get(f)).getOrThunk(function(){var g=iC(f,i);return e.set(f,g),g})};return{forElement:n}},Gc=Bo(),Ua=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,c){var f,g;if(n){if(!c&&n[a])return n[a];if(n!==this.rootNode){if(f=n[i],f)return f;for(g=n.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[i],f)return f}}},e.prototype.findPreviousNode=function(n,a,i,c){var f,g,b;if(n){if(f=n[i],this.rootNode&&f===this.rootNode)return;if(f){if(!c){for(b=f[a];b;b=b[a])if(!b[a])return b}return f}if(g=n.parentNode,g&&g!==this.rootNode)return g}},e}(),Sv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],wc=["td","th"],PT=["thead","tbody","tfoot"],Si=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Gu=["h1","h2","h3","h4","h5","h6"],uC=["li","dd","dt"],Gt=["ul","ol","dl"],ms=["pre","script","textarea","style"],zf=function(e){var n;return function(a){return n=n||Qt(e,Nt),Fr(n,La(a))}},Ir=zf(Gu),Qs=zf(Sv),BT=function(e){return La(e)==="table"},Bu=function(e){return wo(e)&&!Qs(e)},Pm=function(e){return wo(e)&&La(e)==="br"},Gl=zf(Si),qc=zf(Gt),xu=zf(uC),_a=zf(PT),yl=zf(wc),bd=zf(ms),lo=function(e,n,a){return hd(e,n,a).isSome()},xv="\uFEFF",Fs=" ",Ns=function(e){return e===xv},MT=function(e){return e.replace(/\uFEFF/g,"")},Ie=xv,qu=Ns,gs=MT,Bm=Nr,ec=Jn,no=function(e){return ec(e)&&(e=e.parentNode),Bm(e)&&e.hasAttribute("data-mce-caret")},fo=function(e){return ec(e)&&qu(e.data)},ps=function(e){return no(e)||fo(e)},Hf=function(e){return e.firstChild!==e.lastChild||!to(e.firstChild)},K0=function(e,n){var a=e.ownerDocument,i=a.createTextNode(Ie),c=e.parentNode;if(n){var f=e.previousSibling;if(ec(f)){if(ps(f))return f;if(Cp(f))return f.splitText(f.data.length-1)}c.insertBefore(i,e)}else{var f=e.nextSibling;if(ec(f)){if(ps(f))return f;if(wp(f))return f.splitText(1),f}e.nextSibling?c.insertBefore(i,e.nextSibling):c.appendChild(i)}return i},kr=function(e){var n=e.container();return Jn(n)?n.data.charAt(e.offset())===Ie||e.isAtStart()&&fo(n.previousSibling):!1},a1=function(e){var n=e.container();return Jn(n)?n.data.charAt(e.offset()-1)===Ie||e.isAtEnd()&&fo(n.nextSibling):!1},tc=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},sC=function(e,n,a){var i=n.ownerDocument,c=i.createElement(e);c.setAttribute("data-mce-caret",a?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(tc());var f=n.parentNode;return a?f.insertBefore(c,n):n.nextSibling?f.insertBefore(c,n.nextSibling):f.appendChild(c),c},wp=function(e){return ec(e)&&e.data[0]===Ie},Cp=function(e){return ec(e)&&e.data[e.data.length-1]===Ie},X0=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];Jo(a)&&a.parentNode.removeChild(a)},Y0=function(e){return e&&e.hasAttribute("data-mce-caret")?(X0(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},ql=function(e){return no(e.startContainer)},Vf=Wc,FT=Co,Z0=to,NT=Jn,cC=Zs(["script","style","textarea"]),Sp=Zs(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Mm=Zs(["table"]),lC=ps,Kl=function(e){return lC(e)?!1:NT(e)?!cC(e.parentNode):Sp(e)||Z0(e)||Mm(e)||J0(e)},Fm=function(e){return Nr(e)&&e.getAttribute("unselectable")==="true"},J0=function(e){return Fm(e)===!1&&FT(e)},fC=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(J0(e))return!1;if(Vf(e))return!0}return!0},IT=function(e){return J0(e)?Cn(hn(e.getElementsByTagName("*")),function(n,a){return n||Vf(a)},!1)!==!0:!1},$T=function(e){return Sp(e)||IT(e)},fi=function(e,n){return Kl(e)&&fC(e,n)},Xl=/^[ \t\r\n]*$/,Kc=function(e){return Xl.test(e)},kv=function(e,n){var a=R.fromDom(n),i=R.fromDom(e);return lo(i,"pre,code",Xe(Br,a))},vC=function(e,n){return Jn(e)&&Kc(e.data)&&kv(e,n)===!1},Xc=function(e){return Nr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},yd=function(e,n){return Kl(e)&&vC(e,n)===!1||Xc(e)||Q0(e)},Q0=Cu("data-mce-bookmark"),ey=Cu("data-mce-bogus"),Uf=Js("data-mce-bogus","all"),Cc=function(e,n){var a=0;if(yd(e,e))return!1;var i=e.firstChild;if(!i)return!0;var c=new Ua(i,e);do{if(n){if(Uf(i)){i=c.next(!0);continue}if(ey(i)){i=c.next();continue}}if(to(i)){a++,i=c.next();continue}if(yd(i,e))return!1;i=c.next()}while(i);return a<=1},eu=function(e,n){return n===void 0&&(n=!0),Cc(e.dom,n)},o1=function(e){return e.nodeName.toLowerCase()==="span"},ty=function(e,n){return Vt(e)&&(yd(e,n)||Bu(R.fromDom(e)))},wd=function(e,n){var a=new Ua(e,n).prev(!1),i=new Ua(e,n).next(!1),c=$e(a)||ty(a,n),f=$e(i)||ty(i,n);return c&&f},Nm=function(e){return o1(e)&&e.getAttribute("data-mce-type")==="bookmark"},Im=function(e,n){return Jn(e)&&e.data.length>0&&wd(e,n)},LT=function(e){return Nr(e)?e.childNodes.length>0:!1},$m=function(e){return Qr(e)||vp(e)},ny=function(e,n,a){var i=a||n;if(Nr(n)&&Nm(n))return n;for(var c=n.childNodes,f=c.length-1;f>=0;f--)ny(e,c[f],i);if(Nr(n)){var g=n.childNodes;g.length===1&&Nm(g[0])&&n.parentNode.insertBefore(g[0],n)}return!$m(n)&&!yd(n,i)&&!LT(n)&&!Im(n,i)&&e.remove(n),n},zT=Rt.makeMap,Ho=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i1=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tv=/[<>&\"\']/g,ry=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ay={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Sc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},nc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Cd=function(e){var n=R.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Ev=function(e,n){var a,i,c,f={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),Sc[i]||(c="&"+e[a+1]+";",f[i]=c,f[c]=i);return f}},u1=Ev("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),xp=function(e,n){return e.replace(n?Ho:i1,function(a){return Sc[a]||a})},oy=function(e){return(""+e).replace(Tv,function(n){return Sc[n]||n})},Sd=function(e,n){return e.replace(n?Ho:i1,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":Sc[a]||"&#"+a.charCodeAt(0)+";"})},s1=function(e,n,a){return a=a||u1,e.replace(n?Ho:i1,function(i){return Sc[i]||a[i]||i})},HT=function(e,n){var a=Ev(n)||u1,i=function(g,b){return g.replace(b?Ho:i1,function(w){return Sc[w]!==void 0?Sc[w]:a[w]!==void 0?a[w]:w.length>1?"&#"+((w.charCodeAt(0)-55296)*1024+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})},c=function(g,b){return s1(g,b,a)},f=zT(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?c:s1:f.numeric?Sd:xp},iy=function(e){return e.replace(ry,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):ay[a]||String.fromCharCode(a)):nc[n]||u1[n]||Cd(n)})},rc={encodeRaw:xp,encodeAllRaw:oy,encodeNumeric:Sd,encodeNamed:s1,getEncodeFunc:HT,decode:iy},Is={},Lm={},Yc=Rt.makeMap,ku=Rt.each,c1=Rt.extend,Wf=Rt.explode,dC=Rt.inArray,tu=function(e,n){return e=Rt.trim(e),e?e.split(n||" "):[]},uy=function(e,n){var a=Yc(e," ",Yc(e.toUpperCase()," "));return c1(a,n)},l1=function(e){return uy("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Aa=function(e){var n={},a,i,c,f,g,b,w=function(N,L,H){var J,ee,te,re=function(de,Je){var je={},ke,tt;for(ke=0,tt=de.length;ke<tt;ke++)je[de[ke]]=Je||{};return je};H=H||[],L=L||"",typeof H=="string"&&(H=tu(H));var pe=tu(N);for(J=pe.length;J--;)ee=tu([a,L].join(" ")),te={attributes:re(ee),attributesOrder:ee,children:re(H,Lm)},n[pe[J]]=te},O=function(N,L){var H,J,ee,te,re=tu(N);H=re.length;for(var pe=tu(L);H--;)for(J=n[re[H]],ee=0,te=pe.length;ee<te;ee++)J.attributes[pe[ee]]={},J.attributesOrder.push(pe[ee])};return Is[e]?Is[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",b="acronym applet basefont big font strike tt",c=[c,b].join(" "),ku(tu(b),function(N){w(N,"",c)}),g="center dir isindex noframes",i=[i,g].join(" "),f=[i,c].join(" "),ku(tu(g),function(N){w(N,"",f)})),f=f||[i,c].join(" "),w("html","manifest","head body"),w("head","","base command link meta noscript script style title"),w("title hr noscript br"),w("base","href target"),w("link","href rel media hreflang type sizes hreflang"),w("meta","name http-equiv content charset"),w("style","media type scoped"),w("script","src async defer type charset"),w("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),w("address dt dd div caption","",f),w("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),w("blockquote","cite",f),w("ol","reversed start type","li"),w("ul","","li"),w("li","value",f),w("dl","","dt dd"),w("a","href target rel media hreflang type",c),w("q","cite",c),w("ins del","cite datetime",f),w("img","src sizes srcset alt usemap ismap width height"),w("iframe","src name width height",f),w("embed","src type width height"),w("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),w("param","name value"),w("map","name",[f,"area"].join(" ")),w("area","alt coords shape href target rel media hreflang type"),w("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),w("colgroup","span","col"),w("col","span"),w("tbody thead tfoot","","tr"),w("tr","","td th"),w("td","colspan rowspan headers",f),w("th","colspan rowspan headers scope abbr",f),w("form","accept-charset action autocomplete enctype method name novalidate target",f),w("fieldset","disabled form name",[f,"legend"].join(" ")),w("label","form for",c),w("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),w("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:c),w("select","disabled form multiple name required size","option optgroup"),w("optgroup","disabled label","option"),w("option","disabled label selected value"),w("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),w("menu","type label",[f,"li"].join(" ")),w("noscript","",f),e!=="html4"&&(w("wbr"),w("ruby","",[c,"rt rp"].join(" ")),w("figcaption","",f),w("mark rt rp summary bdi","",c),w("canvas","width height",f),w("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),w("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),w("picture","","img source"),w("source","src srcset type media sizes"),w("track","kind src srclang label default"),w("datalist","",[c,"option"].join(" ")),w("article section nav aside main header footer","",f),w("hgroup","","h1 h2 h3 h4 h5 h6"),w("figure","",[f,"figcaption"].join(" ")),w("time","datetime",c),w("dialog","open",f),w("command","type label icon disabled checked radiogroup command"),w("output","for form name",c),w("progress","value max",c),w("meter","value min max low high optimum",c),w("details","open",[f,"summary"].join(" ")),w("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(O("script","language xml:space"),O("style","xml:space"),O("object","declare classid code codebase codetype archive standby align border hspace vspace"),O("embed","align name hspace vspace"),O("param","valuetype type"),O("a","charset name rev shape coords"),O("br","clear"),O("applet","codebase archive code object alt name width height align hspace vspace"),O("img","name longdesc align border hspace vspace"),O("iframe","longdesc frameborder marginwidth marginheight scrolling align"),O("font basefont","size color face"),O("input","usemap align"),O("select"),O("textarea"),O("h1 h2 h3 h4 h5 h6 div p legend caption","align"),O("ul","type compact"),O("li","type"),O("ol dl menu dir","compact"),O("pre","width xml:space"),O("hr","align noshade size width"),O("isindex","prompt"),O("table","summary width frame rules cellspacing cellpadding align bgcolor"),O("col","width align char charoff valign"),O("colgroup","width align char charoff valign"),O("thead","align char charoff valign"),O("tr","align char charoff valign bgcolor"),O("th","axis align char charoff valign nowrap bgcolor width height"),O("form","accept"),O("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),O("tfoot","align char charoff valign"),O("tbody","align char charoff valign"),O("area","nohref"),O("body","background bgcolor text link vlink alink")),e!=="html4"&&(O("input button select textarea","autofocus"),O("input textarea","placeholder"),O("a","download"),O("link script img","crossorigin"),O("img","loading"),O("iframe","sandbox seamless allowfullscreen loading")),ku(tu("a form meter progress dfn"),function(N){n[N]&&delete n[N].children[N]}),delete n.caption.children.table,delete n.script,Is[e]=n,n)},Tr=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),ku(e,function(i,c){a[c]=a[c.toUpperCase()]=n==="map"?Yc(i,/[, ]/):Wf(i,/[, ]/)})),a},ac=function(e){var n={},a={},i=[],c={},f={},g=function(fn,_n,pr){var ft=e[fn];return ft?ft=Yc(ft,/[, ]/,Yc(ft.toUpperCase(),/[, ]/)):(ft=Is[fn],ft||(ft=uy(_n,pr),Is[fn]=ft)),ft};e=e||{};var b=Aa(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var w=Tr(e.valid_styles),O=Tr(e.invalid_styles,"map"),N=Tr(e.valid_classes,"map"),L=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),H=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),J=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ee=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),te="td th iframe video audio object script code",re=g("non_empty_elements",te+" pre",J),pe=g("move_caret_before_on_enter_elements",te+" table",J),de=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Je=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",de),je=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");ku((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(fn){f[fn]=new RegExp("</"+fn+"[^>]*>","gi")});var ke=function(fn){return new RegExp("^"+fn.replace(/([?+*])/g,".$1")+"$")},tt=function(fn){var _n,pr,ft,wn,gn,wr,Er,uo,ji,Fi,os,is,Ws,Ni,cl,js,ld,Na,xo=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Gi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,dv=/[*?+]/;if(fn){var mv=tu(fn,",");for(n["@"]&&(js=n["@"].attributes,ld=n["@"].attributesOrder),_n=0,pr=mv.length;_n<pr;_n++)if(gn=xo.exec(mv[_n]),gn){if(Ni=gn[1],ji=gn[2],cl=gn[3],uo=gn[5],is={},Ws=[],wr={attributes:is,attributesOrder:Ws},Ni==="#"&&(wr.paddEmpty=!0),Ni==="-"&&(wr.removeEmpty=!0),gn[4]==="!"&&(wr.removeEmptyAttrs=!0),js&&(yn(js,function(gv,op){is[op]=gv}),Ws.push.apply(Ws,ld)),uo){for(uo=tu(uo,"|"),ft=0,wn=uo.length;ft<wn;ft++)if(gn=Gi.exec(uo[ft]),gn){if(Er={},os=gn[1],Fi=gn[2].replace(/[\\:]:/g,":"),Ni=gn[3],Na=gn[4],os==="!"&&(wr.attributesRequired=wr.attributesRequired||[],wr.attributesRequired.push(Fi),Er.required=!0),os==="-"){delete is[Fi],Ws.splice(dC(Ws,Fi),1);continue}Ni&&(Ni==="="&&(wr.attributesDefault=wr.attributesDefault||[],wr.attributesDefault.push({name:Fi,value:Na}),Er.defaultValue=Na),Ni===":"&&(wr.attributesForced=wr.attributesForced||[],wr.attributesForced.push({name:Fi,value:Na}),Er.forcedValue=Na),Ni==="<"&&(Er.validValues=Yc(Na,"?"))),dv.test(Fi)?(wr.attributePatterns=wr.attributePatterns||[],Er.pattern=ke(Fi),wr.attributePatterns.push(Er)):(is[Fi]||Ws.push(Fi),is[Fi]=Er)}}!js&&ji==="@"&&(js=is,ld=Ws),cl&&(wr.outputName=ji,n[cl]=wr),dv.test(ji)?(wr.pattern=ke(ji),i.push(wr)):n[ji]=wr}}},Ut=function(fn){n={},i=[],tt(fn),ku(b,function(_n,pr){a[pr]=_n.children})},bn=function(fn){var _n=/^(~)?(.+)$/;fn&&(Is.text_block_elements=Is.block_elements=null,ku(tu(fn,","),function(pr){var ft=_n.exec(pr),wn=ft[1]==="~",gn=wn?"span":"div",wr=ft[2];if(a[wr]=a[gn],c[wr]=gn,wn||(Je[wr.toUpperCase()]={},Je[wr]={}),!n[wr]){var Er=n[gn];Er=c1({},Er),delete Er.removeEmptyAttrs,delete Er.removeEmpty,n[wr]=Er}ku(a,function(uo,ji){uo[gn]&&(a[ji]=uo=c1({},a[ji]),uo[wr]=uo[gn])})}))},Ar=function(fn){var _n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Is[e.schema]=null,fn&&ku(tu(fn,","),function(pr){var ft=_n.exec(pr),wn,gn;ft&&(gn=ft[1],gn?wn=a[ft[2]]:wn=a[ft[2]]={"#comment":{}},wn=a[ft[2]],ku(tu(ft[3],"|"),function(wr){gn==="-"?delete wn[wr]:wn[wr]={}}))})},jn=function(fn){var _n=n[fn],pr;if(_n)return _n;for(pr=i.length;pr--;)if(_n=i[pr],_n.pattern.test(fn))return _n};e.valid_elements?Ut(e.valid_elements):(ku(b,function(fn,_n){n[_n]={attributes:fn.attributes,attributesOrder:fn.attributesOrder},a[_n]=fn.children}),e.schema!=="html5"&&ku(tu("strong/b em/i"),function(fn){var _n=tu(fn,"/");n[_n[1]].outputName=_n[0]}),ku(je,function(fn,_n){n[_n]&&(e.padd_empty_block_inline_children&&(n[_n].paddInEmptyBlock=!0),n[_n].removeEmpty=!0)}),ku(tu("ol ul blockquote a table tbody"),function(fn){n[fn]&&(n[fn].removeEmpty=!0)}),ku(tu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(fn){n[fn].paddEmpty=!0}),ku(tu("span"),function(fn){n[fn].removeEmptyAttrs=!0})),bn(e.custom_elements),Ar(e.valid_children),tt(e.extended_valid_elements),Ar("+ol[ul|ol],+ul[ul|ol]"),ku({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(fn,_n){n[_n]&&(n[_n].parentsRequired=tu(fn))}),e.invalid_elements&&ku(Wf(e.invalid_elements),function(fn){n[fn]&&delete n[fn]}),jn("span")||tt("span[!data-mce-type|*]");var Kt=B(w),gr=B(O),Sn=B(N),Wn=B(ee),kn=B(Je),In=B(de),er=B(je),ln=B(J),Xn=B(H),ca=B(re),Fa=B(pe),Ba=B(L),fu=B(f),Uo=function(fn,_n){var pr=a[fn.toLowerCase()];return!!(pr&&pr[_n.toLowerCase()])},ks=function(fn,_n){var pr,ft,wn=jn(fn);if(wn)if(_n){if(wn.attributes[_n])return!0;if(pr=wn.attributePatterns,pr){for(ft=pr.length;ft--;)if(pr[ft].pattern.test(fn))return!0}}else return!0;return!1},Fc=B(c);return{children:a,elements:n,getValidStyles:Kt,getValidClasses:Sn,getBlockElements:kn,getInvalidStyles:gr,getShortEndedElements:ln,getTextBlockElements:In,getTextInlineElements:er,getBoolAttrs:Wn,getElementRule:jn,getSelfClosingElements:Xn,getNonEmptyElements:ca,getMoveCaretBeforeOnEnterElements:Fa,getWhiteSpaceElements:Ba,getSpecialElements:fu,isValidChild:Uo,isValid:ks,getCustomElements:Fc,addValidElements:tt,setValidElements:Ut,addCustomElements:bn,addValidChildren:Ar}},f1=function(e,n,a,i){var c=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+c(n)+c(a)+c(i)},Zc=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,g=/\s+$/,b,w={},O,N,L=xv;e=e||{},n&&(O=n.getValidStyles(),N=n.getInvalidStyles());var H=(`\\" \\' \\; \\: ; : `+L).split(" ");for(b=0;b<H.length;b++)w[H[b]]=L+b,w[L+b]=H[b];return{toHex:function(J){return J.replace(i,f1)},parse:function(J){var ee={},te,re,pe,de,Je=e.url_converter,je=e.url_converter_scope||a,ke=function(Sn,Wn,kn){var In=ee[Sn+"-top"+Wn];if(In){var er=ee[Sn+"-right"+Wn];if(er){var ln=ee[Sn+"-bottom"+Wn];if(ln){var Xn=ee[Sn+"-left"+Wn];if(Xn){var ca=[In,er,ln,Xn];for(b=ca.length-1;b--&&ca[b]===ca[b+1];);b>-1&&kn||(ee[Sn+Wn]=b===-1?ca[0]:ca.join(" "),delete ee[Sn+"-top"+Wn],delete ee[Sn+"-right"+Wn],delete ee[Sn+"-bottom"+Wn],delete ee[Sn+"-left"+Wn])}}}}},tt=function(Sn){var Wn=ee[Sn],kn;if(Wn){for(Wn=Wn.split(" "),kn=Wn.length;kn--;)if(Wn[kn]!==Wn[0])return!1;return ee[Sn]=Wn[0],!0}},Ut=function(Sn,Wn,kn,In){tt(Wn)&&tt(kn)&&tt(In)&&(ee[Sn]=ee[Wn]+" "+ee[kn]+" "+ee[In],delete ee[Wn],delete ee[kn],delete ee[In])},bn=function(Sn){return de=!0,w[Sn]},Ar=function(Sn,Wn){return de&&(Sn=Sn.replace(/\uFEFF[0-9]/g,function(kn){return w[kn]})),Wn||(Sn=Sn.replace(/\\([\'\";:])/g,"$1")),Sn},jn=function(Sn){return String.fromCharCode(parseInt(Sn.slice(1),16))},Kt=function(Sn){return Sn.replace(/\\[0-9a-f]+/gi,jn)},gr=function(Sn,Wn,kn,In,er,ln){if(er=er||ln,er)return er=Ar(er),"'"+er.replace(/\'/g,"\\'")+"'";if(Wn=Ar(Wn||kn||In),!e.allow_script_urls){var Xn=Wn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Xn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Xn))return""}return Je&&(Wn=Je.call(je,Wn,"style")),"url('"+Wn.replace(/\'/g,"\\'")+"')"};if(J){for(J=J.replace(/[\u0000-\u001F]/g,""),J=J.replace(/\\[\"\';:\uFEFF]/g,bn).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Sn){return Sn.replace(/[;:]/g,bn)});te=f.exec(J);)if(f.lastIndex=te.index+te[0].length,re=te[1].replace(g,"").toLowerCase(),pe=te[2].replace(g,""),re&&pe){if(re=Kt(re),pe=Kt(pe),re.indexOf(L)!==-1||re.indexOf('"')!==-1||!e.allow_script_urls&&(re==="behavior"||/expression\s*\(|\/\*|\*\//.test(pe)))continue;re==="font-weight"&&pe==="700"?pe="bold":(re==="color"||re==="background-color")&&(pe=pe.toLowerCase()),pe=pe.replace(i,f1),pe=pe.replace(c,gr),ee[re]=de?Ar(pe,!0):pe}ke("border","",!0),ke("border","-width"),ke("border","-color"),ke("border","-style"),ke("padding",""),ke("margin",""),Ut("border","border-width","border-style","border-color"),ee.border==="medium none"&&delete ee.border,ee["border-image"]==="none"&&delete ee["border-image"]}return ee},serialize:function(J,ee){var te="",re=function(de){var Je,je=O[de];if(je)for(var ke=0,tt=je.length;ke<tt;ke++)de=je[ke],Je=J[de],Je&&(te+=(te.length>0?" ":"")+de+": "+Je+";")},pe=function(de,Je){var je=N["*"];return je&&je[de]?!1:(je=N[Je],!(je&&je[de]))};return ee&&O?(re("*"),re(ee)):yn(J,function(de,Je){de&&(!N||pe(Je,ee))&&(te+=(te.length>0?" ":"")+Je+": "+de+";")}),te}}},mC={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ro=function(e){return e instanceof Event||Ae(e.initEvent)},sy=function(e){return e.isDefaultPrevented===Nt||e.isDefaultPrevented===Se},v1=function(e){return un(e.preventDefault)||ro(e)},d1=function(e,n){var a=n??{};for(var i in e)Fr(mC,i)||(a[i]=e[i]);return Vt(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},rn=function(e,n,a,i){var c,f=d1(n,i);return f.type=e,un(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:a),v1(n)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=Nt,Ae(n.preventDefault)?n.preventDefault():ro(n)&&(n.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=Nt,Ae(n.stopPropagation)?n.stopPropagation():ro(n)&&(n.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=Nt,f.stopPropagation()},sy(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Nt:Se,f.isPropagationStopped=f.cancelBubble===!0?Nt:Se,f.isImmediatePropagationStopped=Se)),f},cy="mce-data-",ly=/^(?:mouse|contextmenu)|click/,Av=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},kp=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},xd=function(e){return Vt(e)&&ly.test(e.type)},Ov=function(e,n){var a=rn(e.type,e,document,n);if(xd(e)&&$e(e.pageX)&&!$e(e.clientX)){var i=a.target.ownerDocument||document,c=i.documentElement,f=i.body,g=a;g.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return $e(a.metaKey)&&(a.metaKey=!1),a},kd=function(e,n,a){var i=e.document,c={type:"ready"};if(a.domLoaded){n(c);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},g=function(){kp(e,"DOMContentLoaded",g),kp(e,"load",g),a.domLoaded||(a.domLoaded=!0,n(c)),e=null};f()?g():Av(e,"DOMContentLoaded",g),a.domLoaded||Av(e,"load",g)},zm=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=cy+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,c){var f=this,g,b,w,O,N,L,H,J=window,ee=function(re){f.executeHandlers(Ov(re||J.event),g)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[f.expando]?g=n[f.expando]:(g=f.count++,n[f.expando]=g,f.events[g]={}),c=c||n;var te=a.split(" ");for(w=te.length;w--;){if(O=te[w],L=ee,N=H=!1,O==="DOMContentLoaded"&&(O="ready"),f.domLoaded&&O==="ready"&&n.readyState==="complete"){i.call(c,Ov({type:O}));continue}f.hasMouseEnterLeave||(N=f.mouseEnterLeave[O],N&&(L=function(re){var pe=re.currentTarget,de=re.relatedTarget;if(de&&pe.contains)de=pe.contains(de);else for(;de&&de!==pe;)de=de.parentNode;de||(re=Ov(re||J.event),re.type=re.type==="mouseout"?"mouseleave":"mouseenter",re.target=pe,f.executeHandlers(re,g))})),!f.hasFocusIn&&(O==="focusin"||O==="focusout")&&(H=!0,N=O==="focusin"?"focus":"blur",L=function(re){re=Ov(re||J.event),re.type=re.type==="focus"?"focusin":"focusout",f.executeHandlers(re,g)}),b=f.events[g][O],b?O==="ready"&&f.domLoaded?i(Ov({type:O})):b.push({func:i,scope:c}):(f.events[g][O]=b=[{func:i,scope:c}],b.fakeName=N,b.capture=H,b.nativeHandler=L,O==="ready"?kd(n,L,f):Av(n,N||O,L,H))}return n=b=null,i}},e.prototype.unbind=function(n,a,i){var c,f,g,b,w;if(!n||n.nodeType===3||n.nodeType===8)return this;var O=n[this.expando];if(O){if(w=this.events[O],a){var N=a.split(" ");for(f=N.length;f--;)if(b=N[f],c=w[b],c){if(i){for(g=c.length;g--;)if(c[g].func===i){var L=c.nativeHandler,H=c.fakeName,J=c.capture;c=c.slice(0,g).concat(c.slice(g+1)),c.nativeHandler=L,c.fakeName=H,c.capture=J,w[b]=c}}(!i||c.length===0)&&(delete w[b],kp(n,c.fakeName||b,c.nativeHandler,c.capture))}}else yn(w,function(ee,te){kp(n,ee.fakeName||te,ee.nativeHandler,ee.capture)}),w={};for(b in w)if(Fr(w,b))return this;delete this.events[O];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var c;if(!n||n.nodeType===3||n.nodeType===8)return this;var f=Ov({type:a,target:n},i);do c=n[this.expando],c&&this.executeHandlers(f,c),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],c=i&&i[n.type];if(c)for(var f=0,g=c.length;f<g;f++){var b=c[f];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ii,Kr,oc,gC,$s,fy,Yl,jf,Gf,ic,Dv,_i,Ku,Zl,_v,Hm,Td,nr,zi="sizzle"+-new Date,wl=window.document,Jl=0,Tp=0,pC=h1(),m1=h1(),Rv=h1(),Pv=function(e,n){return e===n&&(ic=!0),0},Vm="undefined",Ep=1<<31,VT={}.hasOwnProperty,uc=[],vy=uc.pop,Ed=uc.push,Bv=uc.push,dy=uc.slice,Mv=uc.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},hC="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mo="[\\x20\\t\\r\\n\\f]",nu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Tu="\\["+Mo+"*("+nu+")(?:"+Mo+"*([*^$|!~]?=)"+Mo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+nu+"))|)"+Mo+"*\\]",bC=":("+nu+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Tu+")*)|.*)\\)|)",g1=new RegExp("^"+Mo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mo+"+$","g"),UT=new RegExp("^"+Mo+"*,"+Mo+"*"),yC=new RegExp("^"+Mo+"*([>+~]|"+Mo+")"+Mo+"*"),Jc=new RegExp("="+Mo+`*([^\\]'"]*?)`+Mo+"*\\]","g"),WT=new RegExp(bC),Um=new RegExp("^"+nu+"$"),p1={ID:new RegExp("^#("+nu+")"),CLASS:new RegExp("^\\.("+nu+")"),TAG:new RegExp("^("+nu+"|[*])"),ATTR:new RegExp("^"+Tu),PSEUDO:new RegExp("^"+bC),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mo+"*(even|odd|(([+-]|)(\\d*)n|)"+Mo+"*(?:([+-]|)"+Mo+"*(\\d+)|))"+Mo+"*\\)|)","i"),bool:new RegExp("^(?:"+hC+")$","i"),needsContext:new RegExp("^"+Mo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mo+"*((?:-\\d)?\\d*)"+Mo+"*\\)|)(?=[^-]|$)","i")},jT=/^(?:input|select|textarea|button)$/i,wC=/^h\d$/i,my=/^[^{]+\{\s*\[native \w/,gy=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,py=/[+~]/,GT=/'|\\/g,Fv=new RegExp("\\\\([\\da-f]{1,6}"+Mo+"?|("+Mo+")|.)","ig"),Nv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Bv.apply(uc=dy.call(wl.childNodes),wl.childNodes),uc[wl.childNodes.length].nodeType}catch{Bv={apply:uc.length?function(n,a){Ed.apply(n,dy.call(a))}:function(n,a){for(var i=n.length,c=0;n[i++]=a[c++];);n.length=i-1}}}var Za=function(e,n,a,i){var c,f,g,b,w,O,N,L,H,J;if((n?n.ownerDocument||n:wl)!==_i&&Dv(n),n=n||_i,a=a||[],!e||typeof e!="string")return a;if((b=n.nodeType)!==1&&b!==9)return[];if(Zl&&!i){if(c=gy.exec(e))if(g=c[1]){if(b===9)if(f=n.getElementById(g),f&&f.parentNode){if(f.id===g)return a.push(f),a}else return a;else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(g))&&nr(n,f)&&f.id===g)return a.push(f),a}else{if(c[2])return Bv.apply(a,n.getElementsByTagName(e)),a;if((g=c[3])&&ii.getElementsByClassName)return Bv.apply(a,n.getElementsByClassName(g)),a}if(ii.qsa&&(!_v||!_v.test(e))){if(L=N=zi,H=n,J=b===9&&e,b===1&&n.nodeName.toLowerCase()!=="object"){for(O=$s(e),(N=n.getAttribute("id"))?L=N.replace(GT,"\\$&"):n.setAttribute("id",L),L="[id='"+L+"'] ",w=O.length;w--;)O[w]=L+y1(O[w]);H=py.test(e)&&b1(n.parentNode)||n,J=O.join(",")}if(J)try{return Bv.apply(a,H.querySelectorAll(J)),a}catch{}finally{N||n.removeAttribute("id")}}}return Yl(e.replace(g1,"$1"),n,a,i)};function h1(){var e=[];function n(a,i){return e.push(a+" ")>Kr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function Cl(e){return e[zi]=!0,e}function CC(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Ep)-(~e.sourceIndex||Ep);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function Sl(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Ql(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Iv(e){return Cl(function(n){return n=+n,Cl(function(a,i){for(var c,f=e([],a.length,n),g=f.length;g--;)a[c=f[g]]&&(a[c]=!(i[c]=a[c]))})})}function b1(e){return e&&typeof e.getElementsByTagName!==Vm&&e}ii=Za.support={},gC=Za.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Dv=Za.setDocument=function(e){var n,a=e?e.ownerDocument||e:wl,i=a.defaultView;function c(f){try{return f.top}catch{}return null}return a===_i||a.nodeType!==9||!a.documentElement?_i:(_i=a,Ku=a.documentElement,Zl=!gC(a),i&&i!==c(i)&&(i.addEventListener?i.addEventListener("unload",function(){Dv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Dv()})),ii.attributes=!0,ii.getElementsByTagName=!0,ii.getElementsByClassName=my.test(a.getElementsByClassName),ii.getById=!0,Kr.find.ID=function(f,g){if(typeof g.getElementById!==Vm&&Zl){var b=g.getElementById(f);return b&&b.parentNode?[b]:[]}},Kr.filter.ID=function(f){var g=f.replace(Fv,Nv);return function(b){return b.getAttribute("id")===g}},Kr.find.TAG=ii.getElementsByTagName?function(f,g){if(typeof g.getElementsByTagName!==Vm)return g.getElementsByTagName(f)}:function(f,g){var b,w=[],O=0,N=g.getElementsByTagName(f);if(f==="*"){for(;b=N[O++];)b.nodeType===1&&w.push(b);return w}return N},Kr.find.CLASS=ii.getElementsByClassName&&function(f,g){if(Zl)return g.getElementsByClassName(f)},Hm=[],_v=[],ii.disconnectedMatch=!0,_v=_v.length&&new RegExp(_v.join("|")),Hm=Hm.length&&new RegExp(Hm.join("|")),n=my.test(Ku.compareDocumentPosition),nr=n||my.test(Ku.contains)?function(f,g){var b=f.nodeType===9?f.documentElement:f,w=g&&g.parentNode;return f===w||!!(w&&w.nodeType===1&&(b.contains?b.contains(w):f.compareDocumentPosition&&f.compareDocumentPosition(w)&16))}:function(f,g){if(g){for(;g=g.parentNode;)if(g===f)return!0}return!1},Pv=n?function(f,g){if(f===g)return ic=!0,0;var b=!f.compareDocumentPosition-!g.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(g.ownerDocument||g)?f.compareDocumentPosition(g):1,b&1||!ii.sortDetached&&g.compareDocumentPosition(f)===b?f===a||f.ownerDocument===wl&&nr(wl,f)?-1:g===a||g.ownerDocument===wl&&nr(wl,g)?1:Gf?Mv.call(Gf,f)-Mv.call(Gf,g):0:b&4?-1:1)}:function(f,g){if(f===g)return ic=!0,0;var b,w=0,O=f.parentNode,N=g.parentNode,L=[f],H=[g];if(!O||!N)return f===a?-1:g===a?1:O?-1:N?1:Gf?Mv.call(Gf,f)-Mv.call(Gf,g):0;if(O===N)return CC(f,g);for(b=f;b=b.parentNode;)L.unshift(b);for(b=g;b=b.parentNode;)H.unshift(b);for(;L[w]===H[w];)w++;return w?CC(L[w],H[w]):L[w]===wl?-1:H[w]===wl?1:0},a)},Za.matches=function(e,n){return Za(e,null,null,n)},Za.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_i&&Dv(e),n=n.replace(Jc,"='$1']"),ii.matchesSelector&&Zl&&(!Hm||!Hm.test(n))&&(!_v||!_v.test(n)))try{var a=Td.call(e,n);if(a||ii.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return Za(n,_i,null,[e]).length>0},Za.contains=function(e,n){return(e.ownerDocument||e)!==_i&&Dv(e),nr(e,n)},Za.attr=function(e,n){(e.ownerDocument||e)!==_i&&Dv(e);var a=Kr.attrHandle[n.toLowerCase()],i=a&&VT.call(Kr.attrHandle,n.toLowerCase())?a(e,n,!Zl):void 0;return i!==void 0?i:ii.attributes||!Zl?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},Za.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Za.uniqueSort=function(e){var n,a=[],i=0,c=0;if(ic=!ii.detectDuplicates,Gf=!ii.sortStable&&e.slice(0),e.sort(Pv),ic){for(;n=e[c++];)n===e[c]&&(i=a.push(c));for(;i--;)e.splice(a[i],1)}return Gf=null,e},oc=Za.getText=function(e){var n,a="",i=0,c=e.nodeType;if(c){if(c===1||c===9||c===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=oc(e)}else if(c===3||c===4)return e.nodeValue}else for(;n=e[i++];)a+=oc(n);return a},Kr=Za.selectors={cacheLength:50,createPseudo:Cl,match:p1,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Fv,Nv),e[3]=(e[3]||e[4]||e[5]||"").replace(Fv,Nv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Za.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Za.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return p1.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&WT.test(a)&&(n=$s(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Fv,Nv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=pC[e+" "];return n||(n=new RegExp("(^|"+Mo+")"+e+"("+Mo+"|$)"))&&pC(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Vm&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var c=Za.attr(i,e);return c==null?n==="!=":n?(c+="",n==="="?c===a:n==="!="?c!==a:n==="^="?a&&c.indexOf(a)===0:n==="*="?a&&c.indexOf(a)>-1:n==="$="?a&&c.slice(-a.length)===a:n==="~="?(" "+c+" ").indexOf(a)>-1:n==="|="?c===a||c.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,c){var f=e.slice(0,3)!=="nth",g=e.slice(-4)!=="last",b=n==="of-type";return i===1&&c===0?function(w){return!!w.parentNode}:function(w,O,N){var L,H,J,ee,te,re,pe=f!==g?"nextSibling":"previousSibling",de=w.parentNode,Je=b&&w.nodeName.toLowerCase(),je=!N&&!b;if(de){if(f){for(;pe;){for(J=w;J=J[pe];)if(b?J.nodeName.toLowerCase()===Je:J.nodeType===1)return!1;re=pe=e==="only"&&!re&&"nextSibling"}return!0}if(re=[g?de.firstChild:de.lastChild],g&&je){for(H=de[zi]||(de[zi]={}),L=H[e]||[],te=L[0]===Jl&&L[1],ee=L[0]===Jl&&L[2],J=te&&de.childNodes[te];J=++te&&J&&J[pe]||(ee=te=0)||re.pop();)if(J.nodeType===1&&++ee&&J===w){H[e]=[Jl,te,ee];break}}else if(je&&(L=(w[zi]||(w[zi]={}))[e])&&L[0]===Jl)ee=L[1];else for(;(J=++te&&J&&J[pe]||(ee=te=0)||re.pop())&&!((b?J.nodeName.toLowerCase()===Je:J.nodeType===1)&&++ee&&(je&&((J[zi]||(J[zi]={}))[e]=[Jl,ee]),J===w)););return ee-=c,ee===i||ee%i===0&&ee/i>=0}}},PSEUDO:function(e,n){var a,i=Kr.pseudos[e]||Kr.setFilters[e.toLowerCase()]||Za.error("unsupported pseudo: "+e);return i[zi]?i(n):i.length>1?(a=[e,e,"",n],Kr.setFilters.hasOwnProperty(e.toLowerCase())?Cl(function(c,f){for(var g,b=i(c,n),w=b.length;w--;)g=Mv.call(c,b[w]),c[g]=!(f[g]=b[w])}):function(c){return i(c,0,a)}):i}},pseudos:{not:Cl(function(e){var n=[],a=[],i=fy(e.replace(g1,"$1"));return i[zi]?Cl(function(c,f,g,b){for(var w,O=i(c,null,b,[]),N=c.length;N--;)(w=O[N])&&(c[N]=!(f[N]=w))}):function(c,f,g){return n[0]=c,i(n,null,g,a),n[0]=null,!a.pop()}}),has:Cl(function(e){return function(n){return Za(e,n).length>0}}),contains:Cl(function(e){return e=e.replace(Fv,Nv),function(n){return(n.textContent||n.innerText||oc(n)).indexOf(e)>-1}}),lang:Cl(function(e){return Um.test(e||"")||Za.error("unsupported lang: "+e),e=e.replace(Fv,Nv).toLowerCase(),function(n){var a;do if(a=Zl?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Ku},focus:function(e){return e===_i.activeElement&&(!_i.hasFocus||_i.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Kr.pseudos.empty(e)},header:function(e){return wC.test(e.nodeName)},input:function(e){return jT.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Iv(function(){return[0]}),last:Iv(function(e,n){return[n-1]}),eq:Iv(function(e,n,a){return[a<0?a+n:a]}),even:Iv(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Iv(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Iv(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Iv(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},Kr.pseudos.nth=Kr.pseudos.eq,yt(["radio","checkbox","file","password","image"],function(e){Kr.pseudos[e]=Sl(e)}),yt(["submit","reset"],function(e){Kr.pseudos[e]=Ql(e)});function Ap(){}Ap.prototype=Kr.filters=Kr.pseudos,Kr.setFilters=new Ap,$s=Za.tokenize=function(e,n){var a,i,c,f,g,b,w,O=m1[e+" "];if(O)return n?0:O.slice(0);for(g=e,b=[],w=Kr.preFilter;g;){(!a||(i=UT.exec(g)))&&(i&&(g=g.slice(i[0].length)||g),b.push(c=[])),a=!1,(i=yC.exec(g))&&(a=i.shift(),c.push({value:a,type:i[0].replace(g1," ")}),g=g.slice(a.length));for(f in Kr.filter)Kr.filter.hasOwnProperty(f)&&(i=p1[f].exec(g))&&(!w[f]||(i=w[f](i)))&&(a=i.shift(),c.push({value:a,type:f,matches:i}),g=g.slice(a.length));if(!a)break}return n?g.length:g?Za.error(e):m1(e,b).slice(0)};function y1(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function w1(e,n,a){var i=n.dir,c=a&&i==="parentNode",f=Tp++;return n.first?function(g,b,w){for(;g=g[i];)if(g.nodeType===1||c)return e(g,b,w)}:function(g,b,w){var O,N,L=[Jl,f];if(w){for(;g=g[i];)if((g.nodeType===1||c)&&e(g,b,w))return!0}else for(;g=g[i];)if(g.nodeType===1||c){if(N=g[zi]||(g[zi]={}),(O=N[i])&&O[0]===Jl&&O[1]===f)return L[2]=O[2];if(N[i]=L,L[2]=e(g,b,w))return!0}}}function Ad(e){return e.length>1?function(n,a,i){for(var c=e.length;c--;)if(!e[c](n,a,i))return!1;return!0}:e[0]}function qT(e,n,a){for(var i=0,c=n.length;i<c;i++)Za(e,n[i],a);return a}function C1(e,n,a,i,c){for(var f,g=[],b=0,w=e.length,O=n!=null;b<w;b++)(f=e[b])&&(!a||a(f,i,c))&&(g.push(f),O&&n.push(b));return g}function Wm(e,n,a,i,c,f){return i&&!i[zi]&&(i=Wm(i)),c&&!c[zi]&&(c=Wm(c,f)),Cl(function(g,b,w,O){var N,L,H,J=[],ee=[],te=b.length,re=g||qT(n||"*",w.nodeType?[w]:w,[]),pe=e&&(g||!n)?C1(re,J,e,w,O):re,de=a?c||(g?e:te||i)?[]:b:pe;if(a&&a(pe,de,w,O),i)for(N=C1(de,ee),i(N,[],w,O),L=N.length;L--;)(H=N[L])&&(de[ee[L]]=!(pe[ee[L]]=H));if(g){if(c||e){if(c){for(N=[],L=de.length;L--;)(H=de[L])&&N.push(pe[L]=H);c(null,de=[],N,O)}for(L=de.length;L--;)(H=de[L])&&(N=c?Mv.call(g,H):J[L])>-1&&(g[N]=!(b[N]=H))}}else de=C1(de===b?de.splice(te,de.length):de),c?c(null,b,de,O):Bv.apply(b,de)})}function Op(e){for(var n,a,i,c=e.length,f=Kr.relative[e[0].type],g=f||Kr.relative[" "],b=f?1:0,w=w1(function(L){return L===n},g,!0),O=w1(function(L){return Mv.call(n,L)>-1},g,!0),N=[function(L,H,J){var ee=!f&&(J||H!==jf)||((n=H).nodeType?w(L,H,J):O(L,H,J));return n=null,ee}];b<c;b++)if(a=Kr.relative[e[b].type])N=[w1(Ad(N),a)];else{if(a=Kr.filter[e[b].type].apply(null,e[b].matches),a[zi]){for(i=++b;i<c&&!Kr.relative[e[i].type];i++);return Wm(b>1&&Ad(N),b>1&&y1(e.slice(0,b-1).concat({value:e[b-2].type===" "?"*":""})).replace(g1,"$1"),a,b<i&&Op(e.slice(b,i)),i<c&&Op(e=e.slice(i)),i<c&&y1(e))}N.push(a)}return Ad(N)}function Dp(e,n){var a=n.length>0,i=e.length>0,c=function(f,g,b,w,O){var N,L,H,J=0,ee="0",te=f&&[],re=[],pe=jf,de=f||i&&Kr.find.TAG("*",O),Je=Jl+=pe==null?1:Math.random()||.1,je=de.length;for(O&&(jf=g!==_i&&g);ee!==je&&(N=de[ee])!=null;ee++){if(i&&N){for(L=0;H=e[L++];)if(H(N,g,b)){w.push(N);break}O&&(Jl=Je)}a&&((N=!H&&N)&&J--,f&&te.push(N))}if(J+=ee,a&&ee!==J){for(L=0;H=n[L++];)H(te,re,g,b);if(f){if(J>0)for(;ee--;)te[ee]||re[ee]||(re[ee]=vy.call(w));re=C1(re)}Bv.apply(w,re),O&&!f&&re.length>0&&J+n.length>1&&Za.uniqueSort(w)}return O&&(Jl=Je,jf=pe),te};return a?Cl(c):c}fy=Za.compile=function(e,n){var a,i=[],c=[],f=Rv[e+" "];if(!f){for(n||(n=$s(e)),a=n.length;a--;)f=Op(n[a]),f[zi]?i.push(f):c.push(f);f=Rv(e,Dp(c,i)),f.selector=e}return f},Yl=Za.select=function(e,n,a,i){var c,f,g,b,w,O=typeof e=="function"&&e,N=!i&&$s(e=O.selector||e);if(a=a||[],N.length===1){if(f=N[0]=N[0].slice(0),f.length>2&&(g=f[0]).type==="ID"&&ii.getById&&n.nodeType===9&&Zl&&Kr.relative[f[1].type]){if(n=(Kr.find.ID(g.matches[0].replace(Fv,Nv),n)||[])[0],n)O&&(n=n.parentNode);else return a;e=e.slice(f.shift().value.length)}for(c=p1.needsContext.test(e)?0:f.length;c--&&(g=f[c],!Kr.relative[b=g.type]);)if((w=Kr.find[b])&&(i=w(g.matches[0].replace(Fv,Nv),py.test(f[0].type)&&b1(n.parentNode)||n))){if(f.splice(c,1),e=i.length&&y1(f),!e)return Bv.apply(a,i),a;break}}return(O||fy(e,N))(i,n,!Zl,a,py.test(e)&&b1(n.parentNode)||n),a},ii.sortStable=zi.split("").sort(Pv).join("")===zi,ii.detectDuplicates=!!ic,Dv(),ii.sortDetached=!0;var hy=document,xi=Array.prototype.push,Od=Array.prototype.slice,vi=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Xu=zm.Event,Dd=Rt.makeMap("children,contents,next,prev"),sc=function(e){return typeof e<"u"},S1=function(e){return typeof e=="string"},ef=function(e){return e&&e===e.window},jm=function(e,n){n=n||hy;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var c;c=a.firstChild;)i.appendChild(c);return i},Gm=function(e,n,a,i){var c;if(S1(n))n=jm(n,$v(e[0]));else if(n.length&&!n.nodeType){if(n=ea.makeArray(n),i)for(c=n.length-1;c>=0;c--)Gm(e,n[c],a,i);else for(c=0;c<n.length;c++)Gm(e,n[c],a,i);return e}if(n.nodeType)for(c=e.length;c--;)a.call(e[c],n);return e},SC=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},xC=function(e,n,a){var i,c;return n=ea(n)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,c=n.cloneNode(!1),f.parentNode.insertBefore(c,f)),c.appendChild(f)}),e},KT=Rt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),XT=Rt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),YT={for:"htmlFor",class:"className",readonly:"readOnly"},kC={float:"cssFloat"},x1={},k1={},ru=function(e,n){return new ea.fn.init(e,n)},T1=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},by=/^\s*|\s*$/g,xc=function(e){return e==null?"":(""+e).replace(by,"")},So=function(e,n){var a,i,c,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],n.call(f,i,f)===!1))break}else for(c=0;c<a&&(f=e[c],n.call(f,c,f)!==!1);c++);return e},cc=function(e,n){var a=[];return So(e,function(i,c){n(c,i)&&a.push(c)}),a},$v=function(e){return e?e.nodeType===9?e:e.ownerDocument:hy};ru.fn=ru.prototype={constructor:ru,selector:"",context:null,length:0,init:function(e,n){var a=this,i,c;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return ea(e).attr(n);a.context=n=document}if(S1(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=vi.exec(e),i)if(i[1])for(c=jm(e,$v(n)).firstChild;c;)xi.call(a,c),c=c.nextSibling;else{if(c=$v(n).getElementById(i[2]),!c)return a;if(c.id!==i[2])return a.find(e);a.length=1,a[0]=c}else return ea(n).find(e);else this.add(e,!1);return a},toArray:function(){return Rt.toArray(this)},add:function(e,n){var a=this,i,c;if(S1(e))return a.add(ea(e));if(n!==!1)for(i=ea.unique(a.toArray().concat(ea.makeArray(e))),a.length=i.length,c=0;c<i.length;c++)a[c]=i[c];else xi.apply(a,ea.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")So(e,function(c,f){a.attr(c,f)});else if(sc(n))this.each(function(){var c;if(this.nodeType===1){if(c=x1[e],c&&c.set){c.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=x1[e],i&&i.get)return i.get(a[0],e);if(XT[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=YT[e]||e,typeof e=="object")So(e,function(i,c){a.prop(i,c)});else if(sc(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,c,f=function(b){return b.replace(/-(\D)/g,function(w,O){return O.toUpperCase()})},g=function(b){return b.replace(/[A-Z]/g,function(w){return"-"+w})};if(typeof e=="object")So(e,function(b,w){a.css(b,w)});else if(sc(n))e=f(e),typeof n=="number"&&!KT[e]&&(n=n.toString()+"px"),a.each(function(){var b=this.style;if(c=k1[e],c&&c.set){c.set(this,n);return}try{this.style[kC[e]||e]=n}catch{}(n===null||n==="")&&(b.removeProperty?b.removeProperty(g(e)):b.removeAttribute(e))});else{if(i=a[0],c=k1[e],c&&c.get)return c.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(g(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],Xu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(sc(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{ea(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(sc(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Gm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Gm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Gm(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Gm(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return ea(e).append(this),this},prependTo:function(e){return ea(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return xC(this,e)},wrapAll:function(e){return xC(this,e,!0)},wrapInner:function(e){return this.each(function(){ea(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ea(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ea(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?So(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,c){var f=SC(c,e);if(f!==n){var g=c.className;f?c.className=xc((" "+g+" ").replace(" "+e+" "," ")):c.className+=g?" "+e:e}})),a},hasClass:function(e){return SC(this[0],e)},each:function(e){return So(this,e)},on:function(e,n){return this.each(function(){Xu.bind(this,e,n)})},off:function(e,n){return this.each(function(){Xu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Xu.fire(this,e.type,e):Xu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ea(Od.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)ea.find(e,this[n],i);return ea(i)},filter:function(e){return ea(typeof e=="function"?cc(this.toArray(),function(n,a){return e(a,n)}):ea.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof ea&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&ea(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),ea(n)},offset:function(e){var n,a,i,c=0,f=0,g;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(g=n.getBoundingClientRect(),c=g.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=g.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:c,top:f})},push:xi,sort:Array.prototype.sort,splice:Array.prototype.splice},Rt.extend(ru,{extend:Rt.extend,makeArray:function(e){return ef(e)||e.nodeType?[e]:Rt.toArray(e)},inArray:T1,isArray:Rt.isArray,each:So,trim:xc,grep:cc,find:Za,expr:Za.selectors,unique:Za.uniqueSort,text:Za.getText,contains:Za.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=ea.find.matchesSelector(n[0],e)?[n[0]]:[]:n=ea.find.matches(e,n),n}});var yy=function(e,n,a){var i=[],c=e[n];for(typeof a!="string"&&a instanceof ea&&(a=a[0]);c&&c.nodeType!==9&&!(a!==void 0&&(c===a||typeof a=="string"&&ea(c).is(a)));)c.nodeType===1&&i.push(c),c=c[n];return i},E1=function(e,n,a,i){var c=[];for(i instanceof ea&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&ea(e).is(i)))break;c.push(e)}return c},TC=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};So({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return yy(e,"parentNode")},next:function(e){return TC(e,"nextSibling",1)},prev:function(e){return TC(e,"previousSibling",1)},children:function(e){return E1(e.firstChild,"nextSibling",1)},contents:function(e){return Rt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){ru.fn[e]=function(a){var i=this,c=[];i.each(function(){var g=n.call(c,this,a,c);g&&(ea.isArray(g)?c.push.apply(c,g):c.push(g))}),this.length>1&&(Dd[e]||(c=ea.unique(c)),e.indexOf("parents")===0&&(c=c.reverse()));var f=ea(c);return a?f.filter(a):f}}),So({parentsUntil:function(e,n){return yy(e,"parentNode",n)},nextUntil:function(e,n){return E1(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return E1(e,"previousSibling",1,n).slice(1)}},function(e,n){ru.fn[e]=function(a,i){var c=this,f=[];c.each(function(){var b=n.call(f,this,a,f);b&&(ea.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=ea.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var g=ea(f);return i?g.filter(i):g}}),ru.fn.is=function(e){return!!e&&this.filter(e).length>0},ru.fn.init.prototype=ru.fn,ru.overrideDefaults=function(e){var n,a=function(i,c){return n=n||e(),arguments.length===0&&(i=n.element),c||(c=n.context),new a.fn.init(i,c)};return ea.extend(a,this),a},ru.attrHooks=x1,ru.cssHooks=k1;var ea=ru,qm=Rt.each,A1=Rt.grep,wy=Sr.ie,ki=/^([a-z0-9],?)+$/i,kc=function(e,n,a){var i=n.keep_values,c={set:function(g,b,w){n.url_converter&&b!==null&&(b=n.url_converter.call(n.url_converter_scope||a(),b,w,g[0])),g.attr("data-mce-"+w,b).attr(w,b)},get:function(g,b){return g.attr("data-mce-"+b)||g.attr(b)}},f={style:{set:function(g,b){if(b!==null&&typeof b=="object"){g.css(b);return}i&&g.attr("data-mce-style",b),b!==null&&typeof b=="string"?(g.removeAttr("style"),g.css(e.parse(b))):g.attr("style",b)},get:function(g){var b=g.attr("data-mce-style")||g.attr("style");return b=e.serialize(e.parse(b),g[0].nodeName),b}}};return i&&(f.href=f.src=c),f},EC=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},_d=function(e,n){var a=0,i,c;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)c=e.nodeType,!(n&&c===3&&(c===i||!e.nodeValue.length))&&(a++,i=c);return a},go=function(e,n){n===void 0&&(n={});var a={},i=window,c={},f=0,g=!0,b=!0,w=Gc.forElement(R.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),O=[],N=n.schema?n.schema:ac({}),L=Zc({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),H=n.ownEvents?new zm:zm.Event,J=N.getBlockElements(),ee=ea.overrideDefaults(function(){return{context:e,element:Vh.getRoot()}}),te=function(Re){if(typeof Re=="string")return!!J[Re];if(Re){var Ct=Re.nodeType;if(Ct)return!!(Ct===1&&J[Re.nodeName])}return!1},re=function(Re){return Re&&e&&Mt(Re)?e.getElementById(Re):Re},pe=function(Re){return ee(typeof Re=="string"?re(Re):Re)},de=function(Re,Ct,Tn){var $n,aa,Ha=pe(Re);return Ha.length&&($n=fd[Ct],$n&&$n.get?aa=$n.get(Ha,Ct):aa=Ha.attr(Ct)),typeof aa>"u"&&(aa=Tn||""),aa},Je=function(Re){var Ct=re(Re);return Ct?Ct.attributes:[]},je=function(Re,Ct,Tn){Tn===""&&(Tn=null);var $n=pe(Re),aa=$n.attr(Ct);if($n.length){var Ha=fd[Ct];Ha&&Ha.set?Ha.set($n,Tn,Ct):$n.attr(Ct,Tn),aa!==Tn&&n.onSetAttrib&&n.onSetAttrib({attrElm:$n,attrName:Ct,attrValue:Tn})}},ke=function(Re,Ct){if(!wy||Re.nodeType!==1||Ct)return Re.cloneNode(Ct);var Tn=e.createElement(Re.nodeName);return qm(Je(Re),function($n){je(Tn,$n.nodeName,de(Re,$n.nodeName))}),Tn},tt=function(){return n.root_element||e.body},Ut=function(Re){var Ct=Nf(Re);return{x:Ct.x,y:Ct.y,w:Ct.width,h:Ct.height}},bn=function(Re,Ct){return dp(e.body,re(Re),Ct)},Ar=function(Re,Ct,Tn){var $n=Mt(Ct)?pe(Re).css(Ct,Tn):pe(Re).css(Ct);n.update_styles&&EC(L,$n)},jn=function(Re,Ct){var Tn=pe(Re).css(Ct);n.update_styles&&EC(L,Tn)},Kt=function(Re,Ct,Tn){var $n=pe(Re);return Tn?$n.css(Ct):(Ct=Ct.replace(/-(\D)/g,function(aa,Ha){return Ha.toUpperCase()}),Ct==="float"&&(Ct=Sr.browser.isIE()?"styleFloat":"cssFloat"),$n[0]&&$n[0].style?$n[0].style[Ct]:void 0)},gr=function(Re){var Ct,Tn;return Re=re(Re),Ct=Kt(Re,"width"),Tn=Kt(Re,"height"),Ct.indexOf("px")===-1&&(Ct=0),Tn.indexOf("px")===-1&&(Tn=0),{w:parseInt(Ct,10)||Re.offsetWidth||Re.clientWidth,h:parseInt(Tn,10)||Re.offsetHeight||Re.clientHeight}},Sn=function(Re){Re=re(Re);var Ct=bn(Re),Tn=gr(Re);return{x:Ct.x,y:Ct.y,w:Tn.w,h:Tn.h}},Wn=function(Re,Ct){var Tn;if(!Re)return!1;if(!Array.isArray(Re)){if(Ct==="*")return Re.nodeType===1;if(ki.test(Ct)){var $n=Ct.toLowerCase().split(/,/),aa=Re.nodeName.toLowerCase();for(Tn=$n.length-1;Tn>=0;Tn--)if($n[Tn]===aa)return!0;return!1}if(Re.nodeType&&Re.nodeType!==1)return!1}var Ha=Array.isArray(Re)?Re:[Re];return Za(Ct,Ha[0].ownerDocument||Ha[0],null,Ha).length>0},kn=function(Re,Ct,Tn,$n){var aa=[],Ha,Fo=re(Re);for($n=$n===void 0,Tn=Tn||(tt().nodeName!=="BODY"?tt().parentNode:null),Rt.is(Ct,"string")&&(Ha=Ct,Ct==="*"?Ct=function(ip){return ip.nodeType===1}:Ct=function(ip){return Wn(ip,Ha)});Fo&&!(Fo===Tn||un(Fo.nodeType)||vp(Fo)||Qr(Fo));){if(!Ct||typeof Ct=="function"&&Ct(Fo))if($n)aa.push(Fo);else return[Fo];Fo=Fo.parentNode}return $n?aa:null},In=function(Re,Ct,Tn){var $n=kn(Re,Ct,Tn,!1);return $n&&$n.length>0?$n[0]:null},er=function(Re,Ct,Tn){var $n=Ct;if(Re){for(typeof Ct=="string"&&($n=function(aa){return Wn(aa,Ct)}),Re=Re[Tn];Re;Re=Re[Tn])if(typeof $n=="function"&&$n(Re))return Re}return null},ln=function(Re,Ct){return er(Re,Ct,"nextSibling")},Xn=function(Re,Ct){return er(Re,Ct,"previousSibling")},ca=function(Re,Ct){return Za(Re,re(Ct)||n.root_element||e,[])},Fa=function(Re,Ct,Tn){var $n,aa=typeof Re=="string"?re(Re):Re;if(!aa)return!1;if(Rt.isArray(aa)&&(aa.length||aa.length===0))return $n=[],qm(aa,function(Fo,ip){Fo&&$n.push(Ct.call(Tn,typeof Fo=="string"?re(Fo):Fo,ip))}),$n;var Ha=Tn||this;return Ct.call(Ha,aa)},Ba=function(Re,Ct){pe(Re).each(function(Tn,$n){qm(Ct,function(aa,Ha){je($n,Ha,aa)})})},fu=function(Re,Ct){var Tn=pe(Re);wy?Tn.each(function($n,aa){if(aa.canHaveHTML!==!1){for(;aa.firstChild;)aa.removeChild(aa.firstChild);try{aa.innerHTML="<br>"+Ct,aa.removeChild(aa.firstChild)}catch{ea("<div></div>").html("<br>"+Ct).contents().slice(1).appendTo(aa)}return Ct}}):Tn.html(Ct)},Uo=function(Re,Ct,Tn,$n,aa){return Fa(Re,function(Ha){var Fo=typeof Ct=="string"?e.createElement(Ct):Ct;return Ba(Fo,Tn),$n&&(typeof $n!="string"&&$n.nodeType?Fo.appendChild($n):typeof $n=="string"&&fu(Fo,$n)),aa?Fo:Ha.appendChild(Fo)})},ks=function(Re,Ct,Tn){return Uo(e.createElement(Re),Re,Ct,Tn,!0)},Fc=rc.decode,fn=rc.encodeAllRaw,_n=function(Re,Ct,Tn){var $n="",aa;$n+="<"+Re;for(aa in Ct)Xa(Ct,aa)&&($n+=" "+aa+'="'+fn(Ct[aa])+'"');return typeof Tn<"u"?$n+">"+Tn+"</"+Re+">":$n+" />"},pr=function(Re){var Ct,Tn=e.createElement("div"),$n=e.createDocumentFragment();for($n.appendChild(Tn),Re&&(Tn.innerHTML=Re);Ct=Tn.firstChild;)$n.appendChild(Ct);return $n.removeChild(Tn),$n},ft=function(Re,Ct){var Tn=pe(Re);return Ct?Tn.each(function(){for(var $n;$n=this.firstChild;)$n.nodeType===3&&$n.data.length===0?this.removeChild($n):this.parentNode.insertBefore($n,this)}).remove():Tn.remove(),Tn.length>1?Tn.toArray():Tn[0]},wn=function(Re){return Fa(Re,function(Ct){var Tn,$n=Ct.attributes;for(Tn=$n.length-1;Tn>=0;Tn--)Ct.removeAttributeNode($n.item(Tn))})},gn=function(Re){return L.parse(Re)},wr=function(Re,Ct){return L.serialize(Re,Ct)},Er=function(Re){var Ct,Tn;if(Vh!==go.DOM&&e===document){if(a[Re])return;a[Re]=!0}Tn=e.getElementById("mceDefaultStyles"),Tn||(Tn=e.createElement("style"),Tn.id="mceDefaultStyles",Tn.type="text/css",Ct=e.getElementsByTagName("head")[0],Ct.firstChild?Ct.insertBefore(Tn,Ct.firstChild):Ct.appendChild(Tn)),Tn.styleSheet?Tn.styleSheet.cssText+=Re:Tn.appendChild(e.createTextNode(Re))},uo=function(Re){Re||(Re=""),yt(Re.split(","),function(Ct){c[Ct]=!0,w.load(Ct,rt)})},ji=function(Re,Ct,Tn){pe(Re).toggleClass(Ct,Tn).each(function(){this.className===""&&ea(this).attr("class",null)})},Fi=function(Re,Ct){pe(Re).addClass(Ct)},os=function(Re,Ct){ji(Re,Ct,!1)},is=function(Re,Ct){return pe(Re).hasClass(Ct)},Ws=function(Re){pe(Re).show()},Ni=function(Re){pe(Re).hide()},cl=function(Re){return pe(Re).css("display")==="none"},js=function(Re){return(Re||"mce_")+f++},ld=function(Re){var Ct=typeof Re=="string"?re(Re):Re;return Nr(Ct)?Ct.outerHTML:ea("<div></div>").append(ea(Ct).clone()).html()},Na=function(Re,Ct){pe(Re).each(function(){try{if("outerHTML"in this){this.outerHTML=Ct;return}}catch{}ft(ea(this).html(Ct),!0)})},xo=function(Re,Ct){var Tn=re(Ct);return Fa(Re,function($n){var aa=Tn.parentNode,Ha=Tn.nextSibling;return Ha?aa.insertBefore($n,Ha):aa.appendChild($n),$n})},Gi=function(Re,Ct,Tn){return Fa(Ct,function($n){return Rt.is($n,"array")&&(Re=Re.cloneNode(!0)),Tn&&qm(A1($n.childNodes),function(aa){Re.appendChild(aa)}),$n.parentNode.replaceChild(Re,$n)})},dv=function(Re,Ct){var Tn;return Re.nodeName!==Ct.toUpperCase()&&(Tn=ks(Ct),qm(Je(Re),function($n){je(Tn,$n.nodeName,de(Re,$n.nodeName))}),Gi(Tn,Re,!0)),Tn||Re},mv=function(Re,Ct){for(var Tn=Re,$n;Tn;){for($n=Ct;$n&&Tn!==$n;)$n=$n.parentNode;if(Tn===$n)break;Tn=Tn.parentNode}return!Tn&&Re.ownerDocument?Re.ownerDocument.documentElement:Tn},gv=function(Re){return L.toHex(Rt.trim(Re))},op=function(Re){if(Nr(Re)){var Ct=Re.nodeName.toLowerCase()==="a"&&!de(Re,"href")&&de(Re,"id");if(de(Re,"name")||de(Re,"data-mce-bookmark")||Ct)return!0}return!1},TO=function(Re,Ct){var Tn,$n,aa=0;if(op(Re))return!1;if(Re=Re.firstChild,Re){var Ha=new Ua(Re,Re.parentNode),Fo=N?N.getWhiteSpaceElements():{};Ct=Ct||(N?N.getNonEmptyElements():null);do{if(Tn=Re.nodeType,Nr(Re)){var ip=Re.getAttribute("data-mce-bogus");if(ip){Re=Ha.next(ip==="all");continue}if($n=Re.nodeName.toLowerCase(),Ct&&Ct[$n]){if($n==="br"){aa++,Re=Ha.next();continue}return!1}if(op(Re))return!1}if(Tn===8||Tn===3&&!Kc(Re.nodeValue)||Tn===3&&Re.parentNode&&Fo[Re.parentNode.nodeName]&&Kc(Re.nodeValue))return!1;Re=Ha.next()}while(Re)}return aa<=1},EO=function(){return e.createRange()},J8=function(Re,Ct,Tn){var $n=EO(),aa,Ha,Fo;if(Re&&Ct)return $n.setStart(Re.parentNode,_d(Re)),$n.setEnd(Ct.parentNode,_d(Ct)),aa=$n.extractContents(),$n=EO(),$n.setStart(Ct.parentNode,_d(Ct)+1),$n.setEnd(Re.parentNode,_d(Re)+1),Ha=$n.extractContents(),Fo=Re.parentNode,Fo.insertBefore(ny(Vh,aa),Re),Tn?Fo.insertBefore(Tn,Re):Fo.insertBefore(Ct,Re),Fo.insertBefore(ny(Vh,Ha),Re),ft(Re),Tn||Ct},gT=function(Re,Ct,Tn,$n){if(Rt.isArray(Re)){for(var aa=Re.length,Ha=[];aa--;)Ha[aa]=gT(Re[aa],Ct,Tn,$n);return Ha}n.collect&&(Re===e||Re===i)&&O.push([Re,Ct,Tn,$n]);var Fo=H.bind(Re,Ct,Tn,$n||Vh);return Fo},pT=function(Re,Ct,Tn){if(Rt.isArray(Re)){for(var $n=Re.length,aa=[];$n--;)aa[$n]=pT(Re[$n],Ct,Tn);return aa}else{if(O.length>0&&(Re===e||Re===i))for(var $n=O.length;$n--;){var Ha=O[$n];Re===Ha[0]&&(!Ct||Ct===Ha[1])&&(!Tn||Tn===Ha[2])&&H.unbind(Ha[0],Ha[1],Ha[2])}return H.unbind(Re,Ct,Tn)}},Q8=function(Re,Ct,Tn){return H.fire(Re,Ct,Tn)},AB=function(Re){if(Re&&Nr(Re)){var Ct=Re.getAttribute("data-mce-contenteditable");return Ct&&Ct!=="inherit"?Ct:Re.contentEditable!=="inherit"?Re.contentEditable:null}else return null},e$=function(Re){for(var Ct=tt(),Tn=null;Re&&Re!==Ct&&(Tn=AB(Re),Tn===null);Re=Re.parentNode);return Tn},t$=function(){if(O.length>0)for(var Re=O.length;Re--;){var Ct=O[Re];H.unbind(Ct[0],Ct[1],Ct[2])}yn(c,function(Tn,$n){w.unload($n),delete c[$n]}),Za.setDocument&&Za.setDocument()},n$=function(Re,Ct){if(wy){for(;Re;){if(Ct===Re)return!0;Re=Re.parentNode}return!1}else return Re===Ct||Ct.contains(Re)},r$=function(Re){return"startContainer: "+Re.startContainer.nodeName+", startOffset: "+Re.startOffset+", endContainer: "+Re.endContainer.nodeName+", endOffset: "+Re.endOffset},Vh={doc:e,settings:n,win:i,files:c,stdMode:g,boxModel:b,styleSheetLoader:w,boundEvents:O,styles:L,schema:N,events:H,isBlock:te,$:ee,$$:pe,root:null,clone:ke,getRoot:tt,getViewPort:Ut,getRect:Sn,getSize:gr,getParent:In,getParents:kn,get:re,getNext:ln,getPrev:Xn,select:ca,is:Wn,add:Uo,create:ks,createHTML:_n,createFragment:pr,remove:ft,setStyle:Ar,getStyle:Kt,setStyles:jn,removeAllAttribs:wn,setAttrib:je,setAttribs:Ba,getAttrib:de,getPos:bn,parseStyle:gn,serializeStyle:wr,addStyle:Er,loadCSS:uo,addClass:Fi,removeClass:os,hasClass:is,toggleClass:ji,show:Ws,hide:Ni,isHidden:cl,uniqueId:js,setHTML:fu,getOuterHTML:ld,setOuterHTML:Na,decode:Fc,encode:fn,insertAfter:xo,replace:Gi,rename:dv,findCommonAncestor:mv,toHex:gv,run:Fa,getAttribs:Je,isEmpty:TO,createRng:EO,nodeIndex:_d,split:J8,bind:gT,unbind:pT,fire:Q8,getContentEditable:AB,getContentEditableParent:e$,destroy:t$,isChildOf:n$,dumpRng:r$},fd=kc(L,n,B(Vh));return Vh};go.DOM=go(document),go.nodeIndex=_d;var Rd=go.DOM,O1=Rt.each,Km=Rt.grep,Cy=0,AC=1,_p=2,OC=3,qf=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var c=Rd,f,g=function(){c.remove(O),f&&(f.onerror=f.onload=f=null)},b=function(){g(),a()},w=function(){g(),Ae(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},O=c.uniqueId();f=document.createElement("script"),f.id=O,f.type="text/javascript",f.src=Rt._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=w,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(n){return this.states[n]===_p},e.prototype.markDone=function(n){this.states[n]=_p},e.prototype.add=function(n,a,i,c){var f=this.states[n];this.queue.push(n),f===void 0&&(this.states[n]=Cy),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:c,scope:i||this}))},e.prototype.load=function(n,a,i,c){return this.add(n,a,i,c)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,c){var f=this,g=[],b=function(O,N){O1(f.scriptLoadedCallbacks[N],function(L){Ae(L[O])&&L[O].call(L.scope)}),f.scriptLoadedCallbacks[N]=void 0};f.queueLoadedCallbacks.push({success:a,failure:c,scope:i||this});var w=function(){var O=Km(n);if(n.length=0,O1(O,function(L){if(f.states[L]===_p){b("success",L);return}if(f.states[L]===OC){b("failure",L);return}f.states[L]!==AC&&(f.states[L]=AC,f.loading++,f.loadScript(L,function(){f.states[L]=_p,f.loading--,b("success",L),w()},function(){f.states[L]=OC,f.loading--,g.push(L),b("failure",L),w()}))}),!f.loading){var N=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,O1(N,function(L){g.length===0?Ae(L.success)&&L.success.call(L.scope):Ae(L.failure)&&L.failure.call(L.scope,g)})}};w()},e.ScriptLoader=new e,e}(),Yu=function(e){var n=e,a=function(){return n},i=function(c){n=c};return{get:a,set:i}},Sy=function(e){return Ke(e)&&Fr(e,"raw")},ZT=function(e){return _t(e)&&e.length>1},xl={},Kf=Yu("en"),D1=function(){return Dr(xl,Kf.get())},JT=function(){return Yn(xl,function(e){return ir({},e)})},QT=function(e){e&&Kf.set(e)},Pd=function(){return Kf.get()},Bd=function(e,n){var a=xl[e];a||(xl[e]=a={}),yn(n,function(i,c){a[c.toLowerCase()]=i})},_1=function(e){var n=D1().getOr({}),a=function(w){return Ae(w)?Object.prototype.toString.call(w):i(w)?"":""+w},i=function(w){return w===""||w===null||w===void 0},c=function(w){var O=a(w);return Dr(n,O.toLowerCase()).map(a).getOr(O)},f=function(w){return w.replace(/{context:\w+}$/,"")};if(i(e))return"";if(Sy(e))return a(e.raw);if(ZT(e)){var g=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,function(w,O){return Fr(g,O)?a(g[O]):w});return f(b)}return f(c(e))},Ra=function(){return D1().bind(function(e){return Dr(e,"_dir")}).exists(function(e){return e==="rtl"})},Ti=function(e){return Fr(xl,e)},Zu={getData:JT,setCode:QT,getCode:Pd,add:Bd,translate:_1,isRtl:Ra,hasCode:Ti},hs=function(){var e=[],n={},a={},i=[],c=function(te,re){var pe=be(i,function(de){return de.name===te&&de.state===re});yt(pe,function(de){return de.callback()})},f=function(te){if(a[te])return a[te].instance},g=function(te){var re;return a[te]&&(re=a[te].dependencies),re||[]},b=function(te,re){hs.languageLoad!==!1&&ee(te,function(){var pe=Zu.getCode(),de=","+(re||"")+",";!pe||re&&de.indexOf(","+pe+",")===-1||qf.ScriptLoader.add(n[te]+"/langs/"+pe+".js")},"loaded")},w=function(te,re,pe){var de=re;return e.push(de),a[te]={instance:de,dependencies:pe},c(te,"added"),de},O=function(te){delete n[te],delete a[te]},N=function(te,re){return typeof re=="object"?re:typeof te=="string"?{prefix:"",resource:re,suffix:""}:{prefix:te.prefix,resource:re,suffix:te.suffix}},L=function(te,re){var pe=n[te];yt(re,function(de){qf.ScriptLoader.add(pe+"/"+de)})},H=function(te,re,pe,de){var Je=g(te);yt(Je,function(je){var ke=N(re,je);J(ke.resource,ke,void 0,void 0)}),pe&&(de?pe.call(de):pe.call(qf))},J=function(te,re,pe,de,Je){if(!n[te]){var je=typeof re=="string"?re:re.prefix+re.resource+re.suffix;je.indexOf("/")!==0&&je.indexOf("://")===-1&&(je=hs.baseURL+"/"+je),n[te]=je.substring(0,je.lastIndexOf("/"));var ke=function(){c(te,"loaded"),H(te,re,pe,de)};a[te]?ke():qf.ScriptLoader.add(je,ke,de,Je)}},ee=function(te,re,pe){pe===void 0&&(pe="added"),Fr(a,te)&&pe==="added"||Fr(n,te)&&pe==="loaded"?re():i.push({name:te,state:pe,callback:re})};return{items:e,urls:n,lookup:a,_listeners:i,get:f,dependencies:g,requireLangPack:b,add:w,remove:O,createUrl:N,addComponents:L,load:J,waitFor:ee}};hs.languageLoad=!0,hs.baseURL="",hs.PluginManager=hs(),hs.ThemeManager=hs();var io=function(e){var n=Yu(K.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(K.none())},c=function(){return n.get().isSome()},f=function(){return n.get()},g=function(b){a(),n.set(K.some(b))};return{clear:i,isSet:c,get:f,set:g}},Lv=function(){var e=io(rt),n=function(a){return e.get().each(a)};return ir(ir({},e),{on:n})},R1=function(e,n){var a=null,i=function(){j(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];j(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},n))};return{cancel:i,throttle:c}},Ri=function(e,n){var a=null,i=function(){j(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i(),a=setTimeout(function(){a=null,e.apply(null,f)},n)};return{cancel:i,throttle:c}},tf=function(e,n){var a=W(e,n);return a===void 0||a===""?[]:a.split(" ")},eE=function(e,n,a){var i=tf(e,n),c=i.concat([a]);return E(e,n,c.join(" ")),!0},tE=function(e,n,a){var i=be(tf(e,n),function(c){return c!==a});return i.length>0?E(e,n,i.join(" ")):Bt(e,n),!1},P1=function(e){return e.dom.classList!==void 0},B1=function(e){return tf(e,"class")},xy=function(e,n){return eE(e,"class",n)},ky=function(e,n){return tE(e,"class",n)},Md=function(e,n){P1(e)?e.dom.classList.add(n):xy(e,n)},Rp=function(e){var n=P1(e)?e.dom.classList:B1(e);n.length===0&&Bt(e,"class")},Ty=function(e,n){if(P1(e)){var a=e.dom.classList;a.remove(n)}else ky(e,n);Rp(e)},Ey=function(e,n){return P1(e)&&e.dom.classList.contains(n)},Xm=function(e,n){var a=[];return yt(Ru(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Xm(i,n))}),a},au=function(e,n){return Gr(n,e)},Ls=B("mce-annotation"),Pp=B("data-mce-annotation"),Ei=B("data-mce-annotation-uid"),M1=function(e,n){var a=e.selection.getRng(),i=R.fromDom(a.startContainer),c=R.fromDom(e.getBody()),f=n.fold(function(){return"."+Ls()},function(O){return"["+Pp()+'="'+O+'"]'}),g=dl(i,a.startOffset).getOr(i),b=Qo(g,f,function(O){return Br(O,c)}),w=function(O,N){return Ge(O,N)?K.some(W(O,N)):K.none()};return b.bind(function(O){return w(O,""+Ei()).bind(function(N){return w(O,""+Pp()).map(function(L){var H=Ay(e,N);return{uid:N,name:L,elements:H}})})})},Xf=function(e){return wo(e)&&Ey(e,Ls())},Ay=function(e,n){var a=R.fromDom(e.getBody());return au(a,"["+Ei()+'="'+n+'"]')},Oy=function(e,n){var a=R.fromDom(e.getBody()),i=au(a,"["+Pp()+'="'+n+'"]'),c={};return yt(i,function(f){var g=W(f,Ei()),b=Dr(c,g).getOr([]);c[g]=b.concat([f])}),c},DC=function(e,n){var a=Yu({}),i=function(){return{listeners:[],previous:Lv()}},c=function(N,L){f(N,function(H){return L(H),H})},f=function(N,L){var H=a.get(),J=Dr(H,N).getOrThunk(i),ee=L(J);H[N]=ee,a.set(H)},g=function(N,L,H){c(N,function(J){yt(J.listeners,function(ee){return ee(!0,N,{uid:L,nodes:qt(H,function(te){return te.dom})})})})},b=function(N){c(N,function(L){yt(L.listeners,function(H){return H(!1,N)})})},w=Ri(function(){var N=a.get(),L=Ye(nn(N));yt(L,function(H){f(H,function(J){var ee=J.previous.get();return M1(e,K.some(H)).fold(function(){ee.isSome()&&(b(H),J.previous.clear())},function(te){var re=te.uid,pe=te.name,de=te.elements;pd(ee,re)||(g(pe,re,de),J.previous.set(re))}),{previous:J.previous,listeners:J.listeners}})})},30);e.on("remove",function(){w.cancel()}),e.on("NodeChange",function(){w.throttle()});var O=function(N,L){f(N,function(H){return{previous:H.previous,listeners:H.listeners.concat([L])}})};return{addListener:O}},Dy=function(e,n){var a=function(i){return K.from(i.attr(Pp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){yt(i,function(c){a(c).each(function(f){f.persistent===!1&&c.unwrap()})})})})},Bp=function(){var e={},n=function(i,c){e[i]={name:i,settings:c}},a=function(i){return Dr(e,i).map(function(c){return c.settings})};return{register:n,lookup:a}},F1=0,_C=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return F1++,e+"_"+i+F1+String(a)},nE=function(e,n){yt(n,function(a){Md(e,a)})},Eu=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Ru(R.fromDom(i))},Pi=function(e){return qt(e,R.fromDom)},Ju=function(e){return e.dom.innerHTML},Qu=function(e,n){var a=Uc(e),i=a.dom,c=R.fromDom(i.createDocumentFragment()),f=Eu(n,i);Rf(c,f),Pf(e),wi(e,c)},bs=function(e,n){return R.fromDom(e.dom.cloneNode(n))},di=function(e){return bs(e,!1)},N1=function(e){return bs(e,!0)},I1=function(e,n,a){a===void 0&&(a=Se);var i=new Ua(e,n),c=function(f){var g;do g=i[f]();while(g&&!Jn(g)&&!a(g));return K.from(g).filter(Jn)};return{current:function(){return K.from(i.current()).filter(Jn)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},_y=function(e,n){var a=n||function(g){return e.isBlock(g)||to(g)||Co(g)},i=function(g,b,w,O){if(Jn(g)){var N=O(g,b,g.data);if(N!==-1)return K.some({container:g,offset:N})}return w().bind(function(L){return i(L.container,L.offset,w,O)})},c=function(g,b,w,O){var N=I1(g,O,a);return i(g,b,function(){return N.prev().map(function(L){return{container:L,offset:L.length}})},w).getOrNull()},f=function(g,b,w,O){var N=I1(g,O,a);return i(g,b,function(){return N.next().map(function(L){return{container:L,offset:0}})},w).getOrNull()};return{backwards:c,forwards:f}},Fd=Math.round,zv=function(e){return e?{left:Fd(e.left),top:Fd(e.top),bottom:Fd(e.bottom),right:Fd(e.right),width:Fd(e.width),height:Fd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},$1=function(e,n){return e=zv(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},L1=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},z1=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Ym=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:z1(n.top-e.bottom,e,n)},Zm=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:z1(n.bottom-e.top,e,n)},RC=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},nf=function(e,n,a){return Math.min(Math.max(e,n),a)},Nd=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Do=function(e,n){if(Nr(e)&&e.hasChildNodes()){var a=e.childNodes,i=nf(n,0,a.length-1);return a[i]}else return e},rE=function(e,n){if(!(n<0&&Nr(e)&&e.hasChildNodes()))return Do(e,n)},aE=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),H1=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&aE.test(e)},oE=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},PC=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Pn=Nr,iE=Kl,Ai=ju("display","block table"),Ry=ju("float","left right"),Id=PC(Pn,iE,pn(Ry)),BC=pn(ju("white-space","pre pre-line pre-wrap")),Mu=Jn,Mp=to,V1=go.nodeIndex,Fp=rE,kl=function(e){return"createRange"in e?e.createRange():go.DOM.createRng()},Np=function(e){return e&&/[\r\n\t ]/.test(e)},Ip=function(e){return!!e.setStart&&!!e.setEnd},es=function(e){var n=e.startContainer,a=e.startOffset;if(Np(e.toString())&&BC(n.parentNode)&&Jn(n)){var i=n.data;if(Np(i[a-1])||Np(i[a+1]))return!0}return!1},Tl=function(e){var n=e.ownerDocument,a=kl(n),i=n.createTextNode(Fs),c=e.parentNode;c.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=zv(a.getBoundingClientRect());return c.removeChild(i),f},MC=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===a&&Jn(a)&&i===0&&c===1){var f=e.cloneRange();return f.setEndAfter(a),rf(f)}else return null},Fu=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},rf=function(e){var n,a=e.getClientRects();return a.length>0?n=zv(a[0]):n=zv(e.getBoundingClientRect()),!Ip(e)&&Mp(e)&&Fu(n)?Tl(e):Fu(n)&&Ip(e)?MC(e):n},Hv=function(e,n){var a=$1(e,n);return a.width=1,a.right=a.left+1,a},$p=function(e){var n=[],a=function(w){w.height!==0&&(n.length>0&&L1(w,n[n.length-1])||n.push(w))},i=function(w,O){var N=kl(w.ownerDocument);if(O<w.data.length){if(H1(w.data[O]))return n;if(H1(w.data[O-1])&&(N.setStart(w,O),N.setEnd(w,O+1),!es(N)))return a(Hv(rf(N),!1)),n}O>0&&(N.setStart(w,O-1),N.setEnd(w,O),es(N)||a(Hv(rf(N),!1))),O<w.data.length&&(N.setStart(w,O),N.setEnd(w,O+1),es(N)||a(Hv(rf(N),!0)))},c=e.container(),f=e.offset();if(Mu(c))return i(c,f),n;if(Pn(c))if(e.isAtEnd()){var g=Fp(c,f);Mu(g)&&i(g,g.data.length),Id(g)&&!Mp(g)&&a(Hv(rf(g),!1))}else{var g=Fp(c,f);if(Mu(g)&&i(g,0),Id(g)&&e.isAtEnd())return a(Hv(rf(g),!1)),n;var b=Fp(e.container(),e.offset()-1);Id(b)&&!Mp(b)&&(Ai(b)||Ai(g)||!Id(g))&&a(Hv(rf(b),!1)),Id(g)&&a(Hv(rf(g),!0))}return n},At=function(e,n,a){var i=function(){return Mu(e),n===0},c=function(){return Mu(e)?n>=e.data.length:n>=e.childNodes.length},f=function(){var N=kl(e.ownerDocument);return N.setStart(e,n),N.setEnd(e,n),N},g=function(){return a||(a=$p(At(e,n))),a},b=function(){return g().length>0},w=function(N){return N&&e===N.container()&&n===N.offset()},O=function(N){return Fp(e,N?n-1:n)};return{container:B(e),offset:B(n),toRange:f,getClientRects:g,isVisible:b,isAtStart:i,isAtEnd:c,isEqual:w,getNode:O}};At.fromRangeStart=function(e){return At(e.startContainer,e.startOffset)},At.fromRangeEnd=function(e){return At(e.endContainer,e.endOffset)},At.after=function(e){return At(e.parentNode,V1(e)+1)},At.before=function(e){return At(e.parentNode,V1(e))},At.isAbove=function(e,n){return Pu(dn(n.getClientRects()),Fn(e.getClientRects()),Ym).getOr(!1)},At.isBelow=function(e,n){return Pu(Fn(n.getClientRects()),dn(e.getClientRects()),Zm).getOr(!1)},At.isAtStart=function(e){return e?e.isAtStart():!1},At.isAtEnd=function(e){return e?e.isAtEnd():!1},At.isTextPosition=function(e){return e?Jn(e.container()):!1},At.isElementPosition=function(e){return At.isTextPosition(e)===!1};var Yf=function(e,n){Jn(n)&&n.data.length===0&&e.remove(n)},Jm=function(e,n,a){n.insertNode(a),Yf(e,a.previousSibling),Yf(e,a.nextSibling)},uE=function(e,n,a){var i=K.from(a.firstChild),c=K.from(a.lastChild);n.insertNode(a),i.each(function(f){return Yf(e,f.previousSibling)}),c.each(function(f){return Yf(e,f.nextSibling)})},U1=function(e,n,a){Qr(a)?uE(e,n,a):Jm(e,n,a)},Qc=Jn,W1=Jo,Py=go.nodeIndex,By=function(e){var n=e.parentNode;return W1(n)?By(n):n},j1=function(e){return e?ri(e.childNodes,function(n,a){return W1(a)&&a.nodeName!=="BR"?n=n.concat(j1(a)):n.push(a),n},[]):[]},My=function(e,n){for(;(e=e.previousSibling)&&Qc(e);)n+=e.data.length;return n},Fy=function(e){return function(n){return e===n}},Ny=function(e){var n,a;n=j1(By(e)),a=oa(n,Fy(e),e),n=n.slice(0,a+1);var i=ri(n,function(c,f,g){return Qc(f)&&Qc(n[g-1])&&c++,c},0);return n=To(n,Zs([e.nodeName])),a=oa(n,Fy(e),e),a-i},Iy=function(e){var n;return Qc(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+Ny(e)+"]"},$d=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},FC=function(e,n){var a,i,c=[],f,g,b;return a=n.container(),i=n.offset(),Qc(a)?f=My(a,i):(g=a.childNodes,i>=g.length?(f="after",i=g.length-1):f="before",a=g[i]),c.push(Iy(a)),b=$d(e,a),b=To(b,pn(Jo)),c=c.concat(si(b,function(w){return Iy(w)})),c.reverse().join("/")+","+f},sE=function(e,n,a){var i=j1(e);return i=To(i,function(c,f){return!Qc(c)||!Qc(i[f-1])}),i=To(i,Zs([n])),i[a]},cE=function(e,n){for(var a=e,i=0,c;Qc(a);){if(c=a.data.length,n>=i&&n<=i+c){e=a,n=n-i;break}if(!Qc(a.nextSibling)){e=a,n=c;break}i+=c,a=a.nextSibling}return Qc(e)&&n>e.data.length&&(n=e.data.length),At(e,n)},Qm=function(e,n){var a;if(!n)return null;var i=n.split(","),c=i[0].split("/");a=i.length>1?i[1]:"before";var f=ri(c,function(g,b){var w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return w?(w[1]==="text()"&&(w[1]="#text"),sE(g,w[1],parseInt(w[2],10))):null},e);return f?Qc(f)?cE(f,parseInt(a,10)):(a==="after"?a=Py(f)+1:a=Py(f),At(f.parentNode,a)):null},eg=Co,G1=function(e,n,a){var i,c;for(c=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&Jn(i);i=i.previousSibling)c+=e(i.data).length;return c},$y=function(e,n,a,i,c){var f=i[c?"startContainer":"endContainer"],g=i[c?"startOffset":"endOffset"],b=[],w,O=0,N=e.getRoot();for(Jn(f)?b.push(a?G1(n,f,g):g):(w=f.childNodes,g>=w.length&&w.length&&(O=1,g=Math.max(0,w.length-1)),b.push(e.nodeIndex(w[g],a)+O));f&&f!==N;f=f.parentNode)b.push(e.nodeIndex(f,a));return b},tg=function(e,n,a,i){var c=n.dom,f={};return f.start=$y(c,e,a,i,!0),n.isCollapsed()||(f.end=$y(c,e,a,i,!1)),ql(i)&&(f.isFakeCaret=!0),f},Ly=function(e,n,a){var i=0;return Rt.each(e.select(n),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===a)return!1;i++}}),i},Xo=function(e,n){var a,i,c,f=n?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],Nr(a)&&a.nodeName==="TR"&&(c=a.childNodes,a=c[Math.min(n?i:i-1,c.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Lp=function(e){return Xo(e,!0),Xo(e,!1),e},ei=function(e,n){var a;if(Nr(e)&&(e=Do(e,n),eg(e)))return e;if(ps(e)&&(Jn(e)&&no(e)&&(e=e.parentNode),a=e.previousSibling,eg(a)||(a=e.nextSibling,eg(a))))return a},q1=function(e){return ei(e.startContainer,e.startOffset)||ei(e.endContainer,e.endOffset)},Ld=function(e,n,a){var i=a.getNode(),c=i?i.nodeName:null,f=a.getRng();if(eg(i)||c==="IMG")return{name:c,index:Ly(a.dom,c,i)};var g=q1(f);return g?(c=g.tagName,{name:c,index:Ly(a.dom,c,g)}):tg(e,a,n,f)},zy=function(e){var n=e.getRng();return{start:FC(e.dom.getRoot(),At.fromRangeStart(n)),end:FC(e.dom.getRoot(),At.fromRangeEnd(n))}},zp=function(e){return{rng:e.getRng()}},Hy=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},NC=function(e,n){var a=e.dom,i=e.getRng(),c=a.uniqueId(),f=e.isCollapsed(),g=e.getNode(),b=g.nodeName;if(b==="IMG")return{name:b,index:Ly(a,b,g)};var w=Lp(i.cloneRange());if(!f){w.collapse(!1);var O=Hy(a,c+"_end",n);U1(a,w,O)}i=Lp(i),i.collapse(!0);var N=Hy(a,c+"_start",n);return U1(a,i,N),e.moveToBookmark({id:c,keep:!0}),{id:c}},lE=function(e,n,a){return n===2?Ld(gs,a,e):n===3?zy(e):n?zp(e):NC(e,!1)},IC=Xe(Ld,He,!0),fE=go.DOM,K1="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Hp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var c=e.getParam(n,"","hash");return Dr(c,e.id).getOr(a)}else return i},vE=function(e){return e.getParam("iframe_attrs",{})},$C=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Vy=function(e){return e.getParam("document_base_url","")},dE=function(e){return Hp(e,"body_id","tinymce")},mE=function(e){return Hp(e,"body_class","")},X1=function(e){return e.getParam("content_security_policy","")},Uy=function(e){return e.getParam("br_in_pre",!0)},ou=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},ng=function(e){return e.getParam("forced_root_block_attrs",{})},rg=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},LC=function(e){return e.getParam("no_newline_selector","")},gE=function(e){return e.getParam("keep_styles",!0)},Vp=function(e){return e.getParam("end_container_on_empty_block",!1)},Up=function(e){return Rt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},zd=function(e){return Rt.explode(e.getParam("font_size_classes",""))},Y1=function(e){return e.getParam("images_dataimg_filter",Nt,"function")},Wp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Wy=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},pE=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},af=function(e){return e.getParam("icons","","string")},Z1=function(e){return e.getParam("icons_url","","string")},hE=function(e){return e.getParam("images_upload_url","","string")},Vv=function(e){return e.getParam("images_upload_base_path","","string")},Uv=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},bE=function(e){return e.getParam("images_upload_handler",null,"function")},J1=function(e){return e.getParam("content_css_cors",!1,"boolean")},Q1=function(e){return e.getParam("referrer_policy","","string")},eb=function(e){return e.getParam("language","en","string")},Hi=function(e){return e.getParam("language_url","","string")},zC=function(e){return e.getParam("indent_use_margin",!1)},jy=function(e){return e.getParam("indentation","40px","string")},HC=function(e){var n=e.getParam("content_css");return Mt(n)?qt(n.split(","),me):_t(n)?n:n===!1||e.inline?[]:["default"]},VC=function(e){var n=e.getParam("font_css",[]);return _t(n)?n:qt(n.split(","),me)},El=function(e){return e.getParam("directionality",Zu.isRtl()?"rtl":void 0)},Zf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},UC=function(e){var n=e.getParam("object_resizing");return n===!1||Sr.iOS?!1:Mt(n)?n:"table,img,figure.image,div,video,iframe"},WC=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},Gy=function(e){return e.getParam("placeholder",fE.getAttrib(e.getElement(),"placeholder"),"string")},tb=function(e){return e.getParam("event_root")},jC=function(e){return e.getParam("service_message")},ag=function(e){return e.getParam("theme")},yE=function(e){return e.getParam("validate")},jp=function(e){return e.getParam("inline_boundaries")!==!1},wE=function(e){return e.getParam("formats")},og=function(e){var n=e.getParam("preview_styles",K1);return Mt(n)?n:""},Hd=function(e){return e.getParam("format_empty_lines",!1,"boolean")},qy=function(e){return e.getParam("custom_ui_selector","","string")},GC=function(e){return e.getParam("theme_url")},CE=function(e){return e.getParam("inline")},qC=function(e){return e.getParam("hidden_input")},KC=function(e){return e.getParam("submit_patch")},Ky=function(e){return e.getParam("encoding")==="xml"},SE=function(e){return e.getParam("add_form_submit_trigger")},nb=function(e){return e.getParam("add_unload_trigger")},xE=function(e){return ou(e)!==""},Gp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},kE=function(e){return e.getParam("disable_nodechange")},TE=function(e){return e.getParam("readonly")},EE=function(e){return e.getParam("content_css_cors")},rb=function(e){return e.getParam("plugins","","string")},AE=function(e){return e.getParam("external_plugins")},ig=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},XC=function(e){return e.getParam("visual",!0,"boolean")},OE=function(e){return e.getParam("visual_table_class","mce-item-table","string")},Xy=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},YC=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Yy=Nr,ZC=Jn,JC=function(e){var n=e.parentNode;n&&n.removeChild(e)},ug=function(e){var n=gs(e);return{count:e.length-n.length,text:n}},Zy=function(e){for(var n;(n=e.data.lastIndexOf(Ie))!==-1;)e.deleteData(n,1)},Jy=function(e,n){return Wv(e),n},DE=function(e,n){var a=ug(e.data.substr(0,n.offset())),i=ug(e.data.substr(n.offset())),c=a.text+i.text;return c.length>0?(Zy(e),At(e,n.offset()-a.count)):n},_E=function(e,n){var a=n.container(),i=Le(hn(a.childNodes),e).map(function(c){return c<n.offset()?At(a,n.offset()-1):n}).getOr(n);return Wv(e),i},Qy=function(e,n){return ZC(e)&&n.container()===e?DE(e,n):Jy(e,n)},RE=function(e,n){return n.container()===e.parentNode?_E(e,n):Jy(e,n)},QC=function(e,n){return At.isTextPosition(n)?Qy(e,n):RE(e,n)},Wv=function(e){Yy(e)&&ps(e)&&(Hf(e)?e.removeAttribute("data-mce-caret"):JC(e)),ZC(e)&&(Zy(e),e.data.length===0&&JC(e))},sg=sr().browser,eS=Co,PE=vs,tS=Tm,BE="*[contentEditable=false],video,audio,embed,object",ew=function(e,n,a){var i=$1(n.getBoundingClientRect(),a),c,f;if(e.tagName==="BODY"){var g=e.ownerDocument.documentElement;c=e.scrollLeft||g.scrollLeft,f=e.scrollTop||g.scrollTop}else{var b=e.getBoundingClientRect();c=e.scrollLeft-b.left,f=e.scrollTop-b.top}i.left+=c,i.right+=c,i.top+=f,i.bottom+=f,i.width=1;var w=n.offsetWidth-n.clientWidth;return w>0&&(a&&(w*=-1),i.left+=w,i.right+=w),i},cg=function(e){for(var n=au(R.fromDom(e),BE),a=0;a<n.length;a++){var i=n[a].dom,c=i.previousSibling;if(Cp(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(f.length-1,1)}if(c=i.nextSibling,wp(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},Nu=function(e,n,a,i){var c=Lv(),f,g,b=ou(e),w=b.length>0?b:"p",O=function(te,re){var pe;if(N(),tS(re))return null;if(a(re)){g=sC(w,re,te);var de=ew(n,re,te);ea(g).css("top",de.top);var Je=ea('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ir({},de)).appendTo(n)[0];c.set({caret:Je,element:re,before:te}),te&&ea(Je).addClass("mce-visual-caret-before"),L(),pe=re.ownerDocument.createRange(),pe.setStart(g,0),pe.setEnd(g,0)}else return g=K0(re,te),pe=re.ownerDocument.createRange(),lg(g.nextSibling)?(pe.setStart(g,0),pe.setEnd(g,0)):(pe.setStart(g,1),pe.setEnd(g,1)),pe;return pe},N=function(){cg(n),g&&(Wv(g),g=null),c.on(function(te){ea(te.caret).remove(),c.clear()}),f&&(Su.clearInterval(f),f=void 0)},L=function(){f=Su.setInterval(function(){i()?ea("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):ea("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},H=function(){c.on(function(te){var re=ew(n,te.element,te.before);ea(te.caret).css(ir({},re))})},J=function(){return Su.clearInterval(f)},ee=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:O,hide:N,getCss:ee,reposition:H,destroy:J}},tw=function(){return sg.isIE()||sg.isEdge()||sg.isFirefox()},lg=function(e){return eS(e)||PE(e)},Vd=function(e){return lg(e)||oi(e)&&tw()},ab=Co,ME=vs,nS=ju("display","block table table-cell table-caption list-item"),nw=ps,ys=no,qp=Nr,FE=Kl,Ud=function(e){return e>0},jv=function(e){return e<0},fg=function(e,n){for(var a;a=e(n);)if(!ys(a))return a;return null},Gv=function(e,n,a,i,c){var f=new Ua(e,i),g=ab(e)||ys(e);if(jv(n)){if(g&&(e=fg(f.prev.bind(f),!0),a(e)))return e;for(;e=fg(f.prev.bind(f),c);)if(a(e))return e}if(Ud(n)){if(g&&(e=fg(f.next.bind(f),!0),a(e)))return e;for(;e=fg(f.next.bind(f),c);)if(a(e))return e}return null},Al=function(e,n){for(;e&&e!==n;){if(nS(e))return e;e=e.parentNode}return null},Ol=function(e,n,a){return Al(e.container(),a)===Al(n.container(),a)},ob=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return qp(a)?a.childNodes[i+e]:null},ib=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},rw=function(e,n,a){return Al(n,e)===Al(a,e)},vg=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var c=a[i];if(nw(c)&&(c=c[i]),ab(c)||ME(c)){if(rw(n,c,a))return c;break}if(FE(c))break;a=a.parentNode}return null},dg=Xe(ib,!0),mg=Xe(ib,!1),Au=function(e,n,a){var i,c=Xe(vg,!0,n),f=Xe(vg,!1,n),g=a.startContainer,b=a.startOffset;if(no(g)){qp(g)||(g=g.parentNode);var w=g.getAttribute("data-mce-caret");if(w==="before"&&(i=g.nextSibling,Vd(i)))return dg(i);if(w==="after"&&(i=g.previousSibling,Vd(i)))return mg(i)}if(!a.collapsed)return a;if(Jn(g)){if(nw(g)){if(e===1){if(i=f(g),i)return dg(i);if(i=c(g),i)return mg(i)}if(e===-1){if(i=c(g),i)return mg(i);if(i=f(g),i)return dg(i)}return a}if(Cp(g)&&b>=g.data.length-1)return e===1&&(i=f(g),i)?dg(i):a;if(wp(g)&&b<=1)return e===-1&&(i=c(g),i)?mg(i):a;if(b===g.data.length)return i=f(g),i?dg(i):a;if(b===0)return i=c(g),i?mg(i):a}return a},gg=function(e,n){return K.from(ob(e?0:-1,n)).filter(ab)},pg=function(e,n,a){var i=Au(e,n,a);return e===-1?At.fromRangeStart(i):At.fromRangeEnd(i)},ub=function(e){return K.from(e.getNode()).map(R.fromDom)},NE=function(e){return K.from(e.getNode(!0)).map(R.fromDom)},aw=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},sb=function(e,n){var a=Ol(e,n);return!a&&to(e.getNode())?!0:a},iu;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(iu||(iu={}));var IE=Co,of=Jn,cb=Nr,ow=to,hg=Kl,iw=$T,Kp=fi,$E=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},rS=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},aS=function(e,n){if(Ud(e)){if(hg(n.previousSibling)&&!of(n.previousSibling))return At.before(n);if(of(n))return At(n,0)}if(jv(e)){if(hg(n.nextSibling)&&!of(n.nextSibling))return At.after(n);if(of(n))return At(n,n.data.length)}return jv(e)?ow(n)?At.before(n):At.after(n):At.before(n)},LE=function(e,n){var a=n.nextSibling;return a&&hg(a)?of(a)?At(a,0):At.before(a):bg(iu.Forwards,At.after(n),e)},bg=function(e,n,a){var i,c,f,g;if(!cb(a)||!n)return null;if(n.isEqual(At.after(a))&&a.lastChild){if(g=At.after(a.lastChild),jv(e)&&hg(a.lastChild)&&cb(a.lastChild))return ow(a.lastChild)?At.before(a.lastChild):g}else g=n;var b=g.container(),w=g.offset();if(of(b)){if(jv(e)&&w>0)return At(b,--w);if(Ud(e)&&w<b.length)return At(b,++w);i=b}else{if(jv(e)&&w>0&&(c=rS(b,w-1),hg(c)))return!iw(c)&&(f=Gv(c,e,Kp,c),f)?of(f)?At(f,f.data.length):At.after(f):of(c)?At(c,c.data.length):At.before(c);if(Ud(e)&&w<b.childNodes.length&&(c=rS(b,w),hg(c)))return ow(c)?LE(a,c):!iw(c)&&(f=Gv(c,e,Kp,c),f)?of(f)?At(f,0):At.before(f):of(c)?At(c,0):At.after(c);i=c||g.getNode()}if((Ud(e)&&g.isAtEnd()||jv(e)&&g.isAtStart())&&(i=Gv(i,e,Nt,a,!0),Kp(i,a)))return aS(e,i);c=Gv(i,e,Kp,a);var O=Zo(be($E(b,a),IE));return O&&(!c||!O.contains(c))?(Ud(e)?g=At.after(O):g=At.before(O),g):c?aS(e,c):null},Yo=function(e){return{next:function(n){return bg(iu.Forwards,n,e)},prev:function(n){return bg(iu.Backwards,n,e)}}},lb=function(e,n,a){var i=e?At.before(a):At.after(a);return ws(e,n,i)},fb=function(e){return to(e)?At.before(e):At.after(e)},uw=function(e){return At.isTextPosition(e)?e.offset()===0:Kl(e.getNode())},oS=function(e){if(At.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Kl(e.getNode(!0))},sw=function(e,n){return!At.isTextPosition(e)&&!At.isTextPosition(n)&&e.getNode()===n.getNode(!0)},Wd=function(e){return!At.isTextPosition(e)&&to(e.getNode())},vb=function(e,n,a){return e?!sw(n,a)&&!Wd(n)&&oS(n)&&uw(a):!sw(a,n)&&uw(n)&&oS(a)},ws=function(e,n,a){var i=Yo(n);return K.from(e?i.next(a):i.prev(a))},Dl=function(e,n,a){return ws(e,n,a).bind(function(i){return Ol(a,i,n)&&vb(e,a,i)?ws(e,n,i):K.some(i)})},db=function(e,n,a,i){return Dl(e,n,a).bind(function(c){return i(c)?db(e,n,c,i):K.some(c)})},Jf=function(e,n){var a=e?n.firstChild:n.lastChild;return Jn(a)?K.some(At(a,e?0:a.data.length)):a?Kl(a)?K.some(e?At.before(a):fb(a)):lb(e,n,a):K.none()},el=Xe(ws,!0),_l=Xe(ws,!1),Iu=Xe(Jf,!0),Tc=Xe(Jf,!1),yg="_mce_caret",uf=function(e){return Nr(e)&&e.id===yg},jd=function(e,n){for(;n&&n!==e;){if(n.id===yg)return n;n=n.parentNode}return null},iS=function(e){return Mt(e.start)},uS=function(e){return Fr(e,"rng")},zE=function(e){return Fr(e,"id")},HE=function(e){return Fr(e,"name")},sS=function(e){return Rt.isArray(e.start)},cS=function(e,n){return Nr(n)&&e.isBlock(n)&&!n.innerHTML&&!Sr.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},lS=function(e,n){var a,i=e.createRng();return a=Qm(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Qm(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},VE=function(e,n){var a=e.ownerDocument.createTextNode(Ie);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},fS=function(e){return e.hasChildNodes()===!1},UE=function(e,n){return Tc(e).fold(Se,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},vS=function(e,n,a){return fS(n)&&jd(e,n)?(VE(n,a),!0):!1},dS=function(e,n,a,i){var c=a[n?"start":"end"],f,g,b,w,O=e.getRoot();if(c){for(b=c[0],g=O,f=c.length-1;f>=1;f--){if(w=g.childNodes,vS(O,g,i))return!0;if(c[f]>w.length-1)return vS(O,g,i)?!0:UE(g,i);g=w[c[f]]}g.nodeType===3&&(b=Math.min(c[0],g.nodeValue.length)),g.nodeType===1&&(b=Math.min(c[0],g.childNodes.length)),n?i.setStart(g,b):i.setEnd(g,b)}return!0},cw=function(e){return Jn(e)&&e.data.length>0},mS=function(e,n,a){var i=e.get(a.id+"_"+n),c,f,g,b,w=a.keep,O,N;if(i){if(c=i.parentNode,n==="start"?(w?i.hasChildNodes()?(c=i.firstChild,f=1):cw(i.nextSibling)?(c=i.nextSibling,f=0):cw(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),O=c,N=f):(w?i.hasChildNodes()?(c=i.firstChild,f=1):cw(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),O=c,N=f),!w){for(b=i.previousSibling,g=i.nextSibling,Rt.each(Rt.grep(i.childNodes),function(L){Jn(L)&&(L.nodeValue=L.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);b&&g&&b.nodeType===g.nodeType&&Jn(b)&&!Sr.opera&&(f=b.nodeValue.length,b.appendData(g.nodeValue),e.remove(g),O=b,N=f)}return K.some(At(O,N))}else return K.none()},WE=function(e,n){var a=e.createRng();return dS(e,!0,n,a)&&dS(e,!1,n,a)?K.some(a):K.none()},ba=function(e,n){var a=mS(e,"start",n),i=mS(e,"end",n);return Pu(a,i.or(a),function(c,f){var g=e.createRng();return g.setStart(cS(e,c.container()),c.offset()),g.setEnd(cS(e,f.container()),f.offset()),g})},Gd=function(e,n){return K.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},wg=function(e,n){var a=e.dom;if(n){if(sS(n))return WE(a,n);if(iS(n))return K.some(lS(a,n));if(zE(n))return ba(a,n);if(HE(n))return Gd(a,n);if(uS(n))return K.some(n.rng)}return K.none()},lw=function(e,n,a){return lE(e,n,a)},jE=function(e,n){wg(e,n).each(function(a){e.setRng(a)})},Cs=function(e){return Nr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},GE=function(e){return function(n){return e===n}},qd=GE(Fs),qv=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},mb=function(e){return!qv(e)&&!qd(e)},gb=function(e){return!!e.nodeType},qE=function(e){return e&&/^(IMG)$/.test(e.nodeName)},gS=function(e,n,a){var i=a.startOffset,c=a.startContainer;if(!(c===a.endContainer&&qE(c.childNodes[i]))&&Nr(c)){var f=c.childNodes,g=void 0;i<f.length?(c=f[i],g=new Ua(c,e.getParent(c,e.isBlock))):(c=f[f.length-1],g=new Ua(c,e.getParent(c,e.isBlock)),g.next(!0));for(var b=g.current();b;b=g.next())if(Jn(b)&&!hb(b)){a.setStart(b,0),n.setRng(a);return}}},pb=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Nr(e)||!hb(e))return e}},fw=function(e,n){return gb(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},Cg=function(e,n,a){return e.schema.isValidChild(n,a)},hb=function(e,n){if(n===void 0&&(n=!1),Vt(e)&&Jn(e)){var a=n?e.data.replace(/ /g," "):e.data;return Kc(a)}else return!1},KE=function(e){return Vt(e)&&Jn(e)&&e.length===0},sf=function(e,n){return Ae(e)?e=e(n):Vt(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},vw=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},dw=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Sg=function(e,n,a){return dw(e,e.getStyle(n,a),a)},mw=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Xp=function(e,n,a){return e.getParents(n,a,e.getRoot())},pS=function(e,n){var a=function(i){var c=function(f){return f.length>1&&f.charAt(0)==="%"};return bt(["styles","attributes"],function(f){return Dr(i,f).exists(function(g){var b=_t(g)?g:Ia(g);return bt(b,c)})})};return bt(e.formatter.get(n),a)},XE=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],c=function(f){return Zn(f,function(g,b){return bt(i,function(w){return w===b})})};return bt(e.formatter.get(n),function(f){var g=c(f);return bt(e.formatter.get(a),function(b){var w=c(b);return ni(g,w)})})},cf=function(e){return Xa(e,"block")},zs=function(e){return Xa(e,"selector")},uu=function(e){return Xa(e,"inline")},YE=function(e){return zs(e)&&uu(e)&&pd(Dr(e,"mixed"),!0)},gw=function(e){return zs(e)&&e.expand!==!1&&!uu(e)},xg=Cs,pw=Xp,Yp=hb,hw=fw,ZE=function(e){return to(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Ln=function(e,n){for(var a=n;a;){if(Nr(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Oi=function(e,n,a,i){for(var c=n.data,f=a;e?f>=0:f<c.length;e?f--:f++)if(i(c.charAt(f)))return e?f+1:f;return-1},kg=function(e,n,a){return Oi(e,n,a,function(i){return qd(i)||qv(i)})},Vi=function(e,n,a){return Oi(e,n,a,mb)},Ec=function(e,n,a,i,c,f){var g,b=e.getParent(a,e.isBlock)||n,w=function(N,L,H){var J=_y(e),ee=c?J.backwards:J.forwards;return K.from(ee(N,L,function(te,re){return xg(te.parentNode)?-1:(g=te,H(c,te,re))},b))},O=w(a,i,kg);return O.bind(function(N){return f?w(N.container,N.offset+(c?-1:0),Vi):K.some(N)}).orThunk(function(){return g?K.some({container:g,offset:c?0:g.length}):K.none()})},bw=function(e,n,a,i,c){Jn(i)&&En(i.data)&&i[c]&&(i=i[c]);for(var f=pw(e,i),g=0;g<f.length;g++)for(var b=0;b<n.length;b++){var w=n[b];if(!(Vt(w.collapsed)&&w.collapsed!==a.collapsed)&&zs(w)&&e.is(f[g],w.selector))return f[g]}return i},Zp=function(e,n,a,i){var c=a,f=e.dom,g=f.getRoot(),b=n[0];if(cf(b)&&(c=b.wrapper?null:f.getParent(a,b.block,g)),!c){var w=f.getParent(a,"LI,TD,TH");c=f.getParent(Jn(a)?a.parentNode:a,function(O){return O!==g&&hw(e,O)},w)}if(c&&cf(b)&&b.wrapper&&(c=pw(f,c,"ul,ol").reverse()[0]||c),!c)for(c=a;c[i]&&!f.isBlock(c[i])&&(c=c[i],!vw(c,"br")););return c||a},bb=function(e,n,a,i){var c=a.parentNode;return Vt(a[i])?!1:c===n||un(c)||e.isBlock(c)?!0:bb(e,n,c,i)},yb=function(e,n,a,i,c){var f=a,g=c?"previousSibling":"nextSibling",b=e.getRoot();if(Jn(a)&&!Yp(a)&&(c?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(f))return f;for(var w=f[g];w;w=w[g]){var O=Jn(w)&&!bb(e,b,w,g);if(!xg(w)&&!ZE(w)&&!Yp(w,O))return f}if(f===b||f.parentNode===b){a=f;break}f=f.parentNode}return a},wb=function(e){return xg(e.parentNode)||xg(e)},Kv=function(e,n,a,i){i===void 0&&(i=!1);var c=n.startContainer,f=n.startOffset,g=n.endContainer,b=n.endOffset,w=e.dom,O=a[0];if(Nr(c)&&c.hasChildNodes()&&(c=Do(c,f),Jn(c)&&(f=0)),Nr(g)&&g.hasChildNodes()&&(g=Do(g,n.collapsed?b:b-1),Jn(g)&&(b=g.nodeValue.length)),c=Ln(w,c),g=Ln(w,g),wb(c)&&(c=xg(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Jn(c)&&(f=n.collapsed?c.length:0)),wb(g)&&(g=xg(g)?g:g.parentNode,n.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,Jn(g)&&(b=n.collapsed?0:g.length)),n.collapsed){var N=Ec(w,e.getBody(),c,f,!0,i);N.each(function(H){var J=H.container,ee=H.offset;c=J,f=ee});var L=Ec(w,e.getBody(),g,b,!1,i);L.each(function(H){var J=H.container,ee=H.offset;g=J,b=ee})}return(uu(O)||O.block_expand)&&((!uu(O)||!Jn(c)||f===0)&&(c=yb(w,a,c,f,!0)),(!uu(O)||!Jn(g)||b===g.nodeValue.length)&&(g=yb(w,a,g,b,!1))),gw(O)&&(c=bw(w,a,n,c,"previousSibling"),g=bw(w,a,n,g,"nextSibling")),(cf(O)||zs(O))&&(c=Zp(e,a,c,"previousSibling"),g=Zp(e,a,g,"nextSibling"),cf(O)&&(w.isBlock(c)||(c=yb(w,a,c,f,!0)),w.isBlock(g)||(g=yb(w,a,g,b,!1)))),Nr(c)&&(f=w.nodeIndex(c),c=c.parentNode),Nr(g)&&(b=w.nodeIndex(g)+1,g=g.parentNode),{startContainer:c,startOffset:f,endContainer:g,endOffset:b}},Jp=function(e,n,a){var i=n.startOffset,c=Do(n.startContainer,i),f=n.endOffset,g=Do(n.endContainer,f-1),b=function(te){var re=te[0];Jn(re)&&re===c&&i>=re.data.length&&te.splice(0,1);var pe=te[te.length-1];return f===0&&te.length>0&&pe===g&&Jn(pe)&&te.splice(te.length-1,1),te},w=function(te,re,pe){for(var de=[];te&&te!==pe;te=te[re])de.push(te);return de},O=function(te,re){return e.getParent(te,function(pe){return pe.parentNode===re},re)},N=function(te,re,pe){for(var de=pe?"nextSibling":"previousSibling",Je=te,je=Je.parentNode;Je&&Je!==re;Je=je){je=Je.parentNode;var ke=w(Je===te?Je:Je[de],de);ke.length&&(pe||ke.reverse(),a(b(ke)))}};if(c===g)return a(b([c]));var L=e.findCommonAncestor(c,g);if(e.isChildOf(c,g))return N(c,L,!0);if(e.isChildOf(g,c))return N(g,L);var H=O(c,L)||c,J=O(g,L)||g;N(c,H,!0);var ee=w(H===c?H:H.nextSibling,"nextSibling",J===g?J.nextSibling:J);ee.length&&a(b(ee)),N(g,J)},yw=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},ww=function(e){return va(e,function(n){var a=Nd(n);return a?[R.fromDom(a)]:[]})},Cw=function(e){return yw(e).length>1},JE=function(e){return be(ww(e),yl)},hS=function(e){return au(e,"td[data-mce-selected],th[data-mce-selected]")},Qf=function(e,n){var a=hS(n);return a.length>0?a:JE(e)},lf=function(e){return Qf(yw(e.selection.getSel()),R.fromDom(e.getBody()))},Kd=function(e,n){return hd(e,"table",n)},Tg=function(e){var n=e.startContainer,a=e.startOffset;return Jn(n)?a===0?K.some(R.fromDom(n)):K.none():K.from(n.childNodes[a]).map(R.fromDom)},Sw=function(e){var n=e.endContainer,a=e.endOffset;return Jn(n)?a===n.data.length?K.some(R.fromDom(n)):K.none():K.from(n.childNodes[a-1]).map(R.fromDom)},Cb=function(e){return li(e).fold(B([e]),function(n){return[e].concat(Cb(n))})},ff=function(e){return Ps(e).fold(B([e]),function(n){return La(n)==="br"?Df(n).map(function(a){return[e].concat(ff(a))}).getOr([]):[e].concat(ff(n))})},tl=function(e,n){return Pu(Tg(n),Sw(n),function(a,i){var c=Kn(Cb(e),Xe(Br,a)),f=Kn(ff(e),Xe(Br,i));return c.isSome()&&f.isSome()}).getOr(!1)},Xv=function(e,n,a,i){var c=a,f=new Ua(a,c),g=Zn(e.schema.getMoveCaretBeforeOnEnterElements(),function(b,w){return!Me(["td","th","table"],w.toLowerCase())});do{if(Jn(a)&&Rt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(g[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?f.next():f.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},Yv=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},Xd=function(e,n){var a=lf(e);a.length>0?yt(a,function(i){var c=i.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),n(f,!0)}):n(e.selection.getRng(),!1)},Eg=function(e,n,a){var i=NC(e,n);a(i),e.moveToBookmark(i)},xw=function(e,n){var a=function(f){if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=function(f){return e(f)?K.from(f.dom.nodeValue):K.none()},c=function(f,g){if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=g};return{get:a,getOption:i,set:c}},kw=xw(Po,"text"),Tw=function(e){return kw.get(e)},Sb=function(e){return Po(e)&&Tw(e)===Ie},su=function(e,n,a,i){return $o(n).fold(function(){return"skipping"},function(c){return i==="br"||Sb(n)?"valid":Xf(n)?"existing":uf(n.dom)?"caret":!Cg(e,a,i)||!Cg(e,La(c),a)?"invalid-child":"valid"})},lc=function(e,n){var a=Kv(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},Ac=function(e,n,a,i){var c=n.uid,f=c===void 0?_C("mce-annotation"):c,g=du(n,["uid"]),b=R.fromTag("span",e);Md(b,Ls()),E(b,""+Ei(),f),E(b,""+Pp(),a);var w=i(f,g),O=w.attributes,N=O===void 0?{}:O,L=w.classes,H=L===void 0?[]:L;return $(b,N),nE(b,H),b},vf=function(e,n,a,i,c){var f=[],g=Ac(e.getDoc(),c,a,i),b=Lv(),w=function(){b.clear()},O=function(){return b.get().getOrThunk(function(){var J=di(g);return f.push(J),b.set(J),J})},N=function(J){yt(J,L)},L=function(J){var ee=su(e,J,"span",La(J));switch(ee){case"invalid-child":{w();var te=Ru(J);N(te),w();break}case"valid":{var re=O();gd(J,re);break}}},H=function(J){var ee=qt(J,R.fromDom);N(ee)};return Jp(e.dom,n,function(J){w(),H(J)}),f},Ag=function(e,n,a,i){e.undoManager.transact(function(){var c=e.selection,f=c.getRng(),g=lf(e).length>0;if(f.collapsed&&!g&&lc(e,f),c.getRng().collapsed&&!g){var b=Ac(e.getDoc(),i,n,a.decorate);Qu(b,Fs),c.getRng().insertNode(b.dom),c.select(b.dom)}else Eg(c,!1,function(){Xd(e,function(w){vf(e,w,n,a.decorate,i)})})})},xb=function(e){var n=Bp();Dy(e,n);var a=DC(e);return{register:function(i,c){n.register(i,c)},annotate:function(i,c){n.lookup(i).each(function(f){Ag(e,i,f,c)})},annotationChanged:function(i,c){a.addListener(i,c)},remove:function(i){M1(e,K.some(i)).each(function(c){var f=c.elements;yt(f,Bf)})},getAll:function(i){var c=Oy(e,i);return Yn(c,function(f){return qt(f,function(g){return g.dom})})}}},Zv=function(e){return{getBookmark:Xe(lw,e),moveToBookmark:Xe(jE,e)}};Zv.isBookmarkNode=Cs;var Yd=function(e,n){for(;n&&n!==e;){if(Wc(n)||Co(n))return n;n=n.parentNode}return null},Zd=function(e,n,a){if(a.collapsed)return!1;if(Sr.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Nr(i))return bt(i.getClientRects(),function(c){return RC(c,e,n)})}return bt(a.getClientRects(),function(c){return RC(c,e,n)})},QE=function(e,n){return e.fire("PreProcess",n)},Ew=function(e,n){return e.fire("PostProcess",n)},bS=function(e){return e.fire("remove")},yS=function(e){return e.fire("detach")},Aw=function(e,n){return e.fire("SwitchMode",{mode:n})},Ow=function(e,n,a,i,c){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:c})},Ja=function(e,n,a,i,c){e.fire("ObjectResized",{target:n,width:a,height:i,origin:c})},df=function(e){return e.fire("PreInit")},wS=function(e){return e.fire("PostRender")},CS=function(e){return e.fire("Init")},SS=function(e,n){return e.fire("PlaceholderToggle",{state:n})},kb=function(e,n,a){return e.fire(n,a)},Dw=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},Qp=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Or={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Or.metaKeyPressed(e)},metaKeyPressed:function(e){return Sr.mac?e.metaKey:e.ctrlKey&&!e.altKey}},e3=Co,_w=function(e,n){var a="data-mce-selected",i=n.dom,c=Rt.each,f,g,b,w,O,N,L,H,J,ee,te,re,pe,de,Je,je=n.getDoc(),ke=document,tt=Math.abs,Ut=Math.round,bn=n.getBody(),Ar,jn,Kt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},gr=function(ft){return ft&&(ft.nodeName==="IMG"||n.dom.is(ft,"figure.image"))},Sn=function(ft){return vs(ft)||i.hasClass(ft,"mce-preview-object")},Wn=function(ft,wn){if(ft.type==="longpress"||ft.type.indexOf("touch")===0){var gn=ft.touches[0];return gr(ft.target)&&!Zd(gn.clientX,gn.clientY,wn)}else return gr(ft.target)&&!Zd(ft.clientX,ft.clientY,wn)},kn=function(ft){var wn=ft.target;Wn(ft,n.selection.getRng())&&!ft.isDefaultPrevented()&&n.selection.select(wn)},In=function(ft){return i.is(ft,"figure.image")?[ft.querySelector("img")]:i.hasClass(ft,"mce-preview-object")&&Vt(ft.firstElementChild)?[ft,ft.firstElementChild]:[ft]},er=function(ft){var wn=UC(n);return!wn||ft.getAttribute("data-mce-resize")==="false"||ft===n.getBody()?!1:i.hasClass(ft,"mce-preview-object")?Un(R.fromDom(ft.firstElementChild),wn):Un(R.fromDom(ft),wn)},ln=function(ft){return Sn(ft)?i.create("img",{src:Sr.transparentSrc}):ft.cloneNode(!0)},Xn=function(ft,wn,gn){if(Vt(gn)){var wr=In(ft);yt(wr,function(Er){Er.style[wn]||!n.schema.isValid(Er.nodeName.toLowerCase(),wn)?i.setStyle(Er,wn,gn):i.setAttrib(Er,wn,""+gn)})}},ca=function(ft,wn,gn){Xn(ft,"width",wn),Xn(ft,"height",gn)},Fa=function(ft){var wn,gn,wr,Er,uo;wn=ft.screenX-N,gn=ft.screenY-L,de=wn*w[2]+ee,Je=gn*w[3]+te,de=de<5?5:de,Je=Je<5?5:Je,(gr(f)||Sn(f))&&WC(n)!==!1?wr=!Or.modifierPressed(ft):wr=Or.modifierPressed(ft),wr&&(tt(wn)>tt(gn)?(Je=Ut(de*re),de=Ut(Je/re)):(de=Ut(Je/re),Je=Ut(de*re))),ca(g,de,Je),Er=w.startPos.x+wn,uo=w.startPos.y+gn,Er=Er>0?Er:0,uo=uo>0?uo:0,i.setStyles(b,{left:Er,top:uo,display:"block"}),b.innerHTML=de+" &times; "+Je,w[2]<0&&g.clientWidth<=de&&i.setStyle(g,"left",H+(ee-de)),w[3]<0&&g.clientHeight<=Je&&i.setStyle(g,"top",J+(te-Je)),wn=bn.scrollWidth-Ar,gn=bn.scrollHeight-jn,wn+gn!==0&&i.setStyles(b,{left:Er-wn,top:uo-gn}),pe||(Ow(n,f,ee,te,"corner-"+w.name),pe=!0)},Ba=function(){var ft=pe;pe=!1,ft&&(Xn(f,"width",de),Xn(f,"height",Je)),i.unbind(je,"mousemove",Fa),i.unbind(je,"mouseup",Ba),ke!==je&&(i.unbind(ke,"mousemove",Fa),i.unbind(ke,"mouseup",Ba)),i.remove(g),i.remove(b),i.remove(O),fu(f),ft&&(Ja(n,f,de,Je,"corner-"+w.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),n.nodeChanged()},fu=function(ft){fn();var wn=i.getPos(ft,bn),gn=wn.x,wr=wn.y,Er=ft.getBoundingClientRect(),uo=Er.width||Er.right-Er.left,ji=Er.height||Er.bottom-Er.top;f!==ft&&(Uo(),f=ft,de=Je=0);var Fi=n.fire("ObjectSelected",{target:ft}),os=i.getAttrib(f,a,"1");er(ft)&&!Fi.isDefaultPrevented()?c(Kt,function(is,Ws){var Ni,cl=function(js){var ld=In(f)[0];N=js.screenX,L=js.screenY,ee=ld.clientWidth,te=ld.clientHeight,re=te/ee,w=is,w.name=Ws,w.startPos={x:uo*is[0]+gn,y:ji*is[1]+wr},Ar=bn.scrollWidth,jn=bn.scrollHeight,O=i.add(bn,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(O,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=ln(f),i.addClass(g,"mce-clonedresizable"),i.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",i.setStyles(g,{left:gn,top:wr,margin:0}),ca(g,uo,ji),g.removeAttribute(a),bn.appendChild(g),i.bind(je,"mousemove",Fa),i.bind(je,"mouseup",Ba),ke!==je&&(i.bind(ke,"mousemove",Fa),i.bind(ke,"mouseup",Ba)),b=i.add(bn,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ee+" &times; "+te)};Ni=i.get("mceResizeHandle"+Ws),Ni&&i.remove(Ni),Ni=i.add(bn,"div",{id:"mceResizeHandle"+Ws,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ws+"-resize; margin:0; padding:0"}),Sr.ie===11&&(Ni.contentEditable=!1),i.bind(Ni,"mousedown",function(js){js.stopImmediatePropagation(),js.preventDefault(),cl(js)}),is.elm=Ni,i.setStyles(Ni,{left:uo*is[0]+gn-Ni.offsetWidth/2,top:ji*is[1]+wr-Ni.offsetHeight/2})}):Uo(),i.getAttrib(f,a)||f.setAttribute(a,os)},Uo=function(){fn(),f&&f.removeAttribute(a),yn(Kt,function(ft,wn){var gn=i.get("mceResizeHandle"+wn);gn&&(i.unbind(gn),i.remove(gn))})},ks=function(ft){var wn,gn,wr=function(Er,uo){if(Er)do if(Er===uo)return!0;while(Er=Er.parentNode)};if(!(pe||n.removed)){if(c(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Er){Er.removeAttribute(a)}),gn=ft.type==="mousedown"?ft.target:e.getNode(),gn=i.$(gn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],wr(gn,bn)&&(_n(),wn=e.getStart(!0),wr(wn,gn)&&wr(e.getEnd(!0),gn))){fu(gn);return}Uo()}},Fc=function(ft){return e3(Yd(n.getBody(),ft))},fn=function(){yn(Kt,function(ft){ft.elm&&(i.unbind(ft.elm),delete ft.elm)})},_n=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(_n(),Sr.browser.isIE()||Sr.browser.isEdge()){n.on("mousedown click",function(gn){var wr=gn.target,Er=wr.nodeName;!pe&&/^(TABLE|IMG|HR)$/.test(Er)&&!Fc(wr)&&(gn.button!==2&&n.selection.select(wr,Er==="TABLE"),gn.type==="mousedown"&&n.nodeChanged())});var ft=function(gn){var wr=function(Er){Su.setEditorTimeout(n,function(){return n.selection.select(Er)})};if(Fc(gn.target)||vs(gn.target)){gn.preventDefault(),wr(gn.target);return}/^(TABLE|IMG|HR)$/.test(gn.target.nodeName)&&(gn.preventDefault(),gn.target.tagName==="IMG"&&wr(gn.target))};i.bind(bn,"mscontrolselect",ft),n.on("remove",function(){return i.unbind(bn,"mscontrolselect",ft)})}var wn=Su.throttle(function(gn){n.composing||ks(gn)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",wn),n.on("keyup compositionend",function(gn){f&&f.nodeName==="TABLE"&&wn(gn)}),n.on("hide blur",Uo),n.on("contextmenu longpress",kn,!0)}),n.on("remove",fn);var pr=function(){f=g=O=null};return{isResizable:er,showResizeRect:fu,hideResizeRect:Uo,updateResizeRect:ks,destroy:pr}},xS=function(e){return Wc(e)||Co(e)},Rw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},t3=function(e,n,a){var i,c=a.elementFromPoint(e,n),f=a.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=a.body),f.moveToElementText(c),i=Rt.toArray(f.getClientRects()),i=i.sort(function(g,b){return g=Math.abs(Math.max(g.top-n,g.bottom-n)),b=Math.abs(Math.max(b.top-n,b.bottom-n)),g-b}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,n),f.collapse(!0),f}catch{}}return null},kS=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Co(Rw(a,n,xS))?null:e},Pw=function(e,n,a){var i,c,f=a;if(f.caretPositionFromPoint)c=f.caretPositionFromPoint(e,n),c&&(i=a.createRange(),i.setStart(c.offsetNode,c.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,n);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=t3(e,n,a)}return kS(i,a.body)}return i},Bw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},n3=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},fc=function(e,n,a){return n3(e,n,a)!==null},ts=function(e,n,a){return fc(e,n,function(i){return i.nodeName===a})},mf=function(e){return e&&e.nodeName==="TABLE"},r3=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},a3=function(e,n){return ps(e)&&fc(e,n,uf)===!1},Mw=function(e,n,a){for(var i=new Ua(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(to(n))return!0},fa=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},o3=function(e,n){for(;n&&n!==e;){if(Co(n))return!0;n=n.parentNode}return!1},Tb=function(e,n,a,i,c){var f,g=e.getRoot(),b,w=e.schema.getNonEmptyElements(),O=e.getParent(c.parentNode,e.isBlock)||g;if(i&&to(c)&&n&&e.isEmpty(O))return K.some(At(c.parentNode,e.nodeIndex(c)));for(var N=new Ua(c,O);b=N[i?"prev":"next"]();){if(e.getContentEditableParent(b)==="false"||a3(b,g))return K.none();if(Jn(b)&&b.nodeValue.length>0)return ts(b,g,"A")===!1?K.some(At(b,i?b.nodeValue.length:0)):K.none();if(e.isBlock(b)||w[b.nodeName.toLowerCase()])return K.none();f=b}return a&&f?K.some(At(f,0)):K.none()},Eb=function(e,n,a,i){var c,f,g=e.getRoot(),b,w,O=!1;c=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var N=Nr(c)&&f===c.childNodes.length,L=e.schema.getNonEmptyElements();if(w=a,ps(c))return K.none();if(Nr(c)&&f>c.childNodes.length-1&&(w=!1),vp(c)&&(c=g,f=0),c===g){if(w&&(b=c.childNodes[f>0?f-1:0],b&&(ps(b)||L[b.nodeName]||mf(b))))return K.none();if(c.hasChildNodes()){if(f=Math.min(!w&&f>0?f-1:f,c.childNodes.length-1),c=c.childNodes[f],f=Jn(c)&&N?c.data.length:0,!n&&c===g.lastChild&&mf(c)||o3(g,c)||ps(c))return K.none();if(c.hasChildNodes()&&mf(c)===!1){b=c;var H=new Ua(c,g);do{if(Co(b)||ps(b)){O=!1;break}if(Jn(b)&&b.nodeValue.length>0){f=w?0:b.nodeValue.length,c=b,O=!0;break}if(L[b.nodeName.toLowerCase()]&&!r3(b)){f=e.nodeIndex(b),c=b.parentNode,w||f++,O=!0;break}}while(b=w?H.next():H.prev())}}}return n&&(Jn(c)&&f===0&&Tb(e,N,n,!0,c).each(function(J){c=J.container(),f=J.offset(),O=!0}),Nr(c)&&(b=c.childNodes[f],b||(b=c.childNodes[f-1]),b&&to(b)&&!fa(b,"A")&&!Mw(e,b,!1)&&!Mw(e,b,!0)&&Tb(e,N,n,!0,b).each(function(J){c=J.container(),f=J.offset(),O=!0}))),w&&!n&&Jn(c)&&f===c.nodeValue.length&&Tb(e,N,n,!1,c).each(function(J){c=J.container(),f=J.offset(),O=!0}),O?K.some(At(c,f)):K.none()},Ab=function(e,n){var a=n.collapsed,i=n.cloneRange(),c=At.fromRangeStart(n);return Eb(e,a,!0,i).each(function(f){(!a||!At.isAbove(c,f))&&i.setStart(f.container(),f.offset())}),a||Eb(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),Bw(n,i)?K.none():K.some(i)},eh=function(e,n){return e.splitText(n)},ev=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,c=e.endOffset;return n===i&&Jn(n)?a>0&&a<n.nodeValue.length&&(i=eh(n,a),n=i.previousSibling,c>a?(c=c-a,n=i=eh(i,c).previousSibling,c=i.nodeValue.length,a=0):c=0):(Jn(n)&&a>0&&a<n.nodeValue.length&&(n=eh(n,a),a=0),Jn(i)&&c>0&&c<i.nodeValue.length&&(i=eh(i,c).previousSibling,c=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:c}},th=function(e){var n=function(c,f){return Jp(e,c,f)},a=ev,i=function(c){return Ab(e,c).fold(Se,function(f){return c.setStart(f.startContainer,f.startOffset),c.setEnd(f.endContainer,f.endOffset),!0})};return{walk:n,split:a,normalize:i}};th.compareRanges=Bw,th.getCaretRangeFromPoint=Pw,th.getSelectedNode=Nd,th.getNode=Do;var i3=function(e,n){var a=function(b,w){if(!st(w)&&!w.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+w);var O=b.dom;Oo(O)&&(O.style[e]=w+"px")},i=function(b){var w=n(b);if(w<=0||w===null){var O=ra(b,e);return parseFloat(O)||0}return w},c=i,f=function(b,w){return Cn(w,function(O,N){var L=ra(b,N),H=L===void 0?0:parseInt(L,10);return isNaN(H)?O:O+H},0)},g=function(b,w,O){var N=f(b,O),L=w>N?w-N:0;return L};return{set:a,get:i,getOuter:c,aggregate:f,max:g}},TS=i3("height",function(e){var n=e.dom;return Mf(e)?n.getBoundingClientRect().height:n.offsetHeight}),Fw=function(e){return TS.get(e)},Jv=function(e,n){var a=e.view(n);return a.fold(B([]),function(i){var c=e.owner(i),f=Jv(e,c);return[i].concat(f)})},Ob=function(e,n){var a=n.owner(e);return Jv(n,a)},ES=function(e){var n,a=e.dom===document?K.none():K.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(R.fromDom)},u3=function(e){return Mr(e)},s3=Object.freeze({__proto__:null,view:ES,owner:u3}),c3=function(e){var n=R.fromDom(document),a=Sm(n),i=Ob(e,s3),c=fs(e),f=St(i,function(g,b){var w=fs(b);return{left:g.left+w.left,top:g.top+w.top}},{left:0,top:0});return gl(f.left+c.left+a.left,f.top+c.top+a.top)},Jd=function(e){return La(e)==="textarea"},Nw=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},xr=function(e,n){e.fire("AfterScrollIntoView",n)},AS=function(e,n){var a=Ru(e);if(a.length===0||Jd(e))return{element:e,offset:n};if(n<a.length&&!Jd(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return Jd(i)?{element:e,offset:n}:La(i)==="img"?{element:i,offset:1}:Po(i)?{element:i,offset:Tw(i).length}:{element:i,offset:Ru(i).length}},OS=function(e,n){var a=Ao(e),i=Fw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},l3=function(e,n){var a=AS(e,n),i=R.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ie+"</span>");return Zi(a.element,i),OS(i,function(){return Lo(i)})},nh=function(e){return OS(R.fromDom(e),rt)},$u=function(e,n,a,i){Iw(e,function(c,f){return f3(e,n,a,i)},a)},rh=function(e,n,a,i,c){var f={elm:i.element.dom,alignToTop:c};if(!Nw(e,f)){var g=Sm(n).top;a(n,g,i,c),xr(e,f)}},f3=function(e,n,a,i){var c=R.fromDom(e.getBody()),f=R.fromDom(e.getDoc());TT(c);var g=l3(R.fromDom(a.startContainer),a.startOffset);rh(e,f,n,g,i),g.cleanup()},DS=function(e,n,a,i){var c=R.fromDom(e.getDoc());rh(e,c,a,nh(n),i)},Iw=function(e,n,a){var i=a.startContainer,c=a.startOffset,f=a.endContainer,g=a.endOffset;n(R.fromDom(i),R.fromDom(f));var b=e.dom.createRng();b.setStart(i,c),b.setEnd(f,g),e.selection.setRng(a)},$w=function(e,n,a,i){var c=e.pos;if(a)Bs(c.left,c.top,i);else{var f=c.top-n+e.height;Bs(c.left,f,i)}},_S=function(e,n,a,i,c){var f=a+n,g=i.pos.top,b=i.bottom,w=b-g>=a;if(g<n)$w(i,a,c!==!1,e);else if(g>f){var O=w?c!==!1:c===!0;$w(i,a,O,e)}else b>f&&!w&&$w(i,a,c===!0,e)},Lw=function(e,n,a,i){var c=e.dom.defaultView.innerHeight;_S(e,n,c,a,i)},zw=function(e,n,a,i){var c=e.dom.defaultView.innerHeight;_S(e,n,c,a,i);var f=c3(a.element),g=Nf(window);f.top<g.y?xm(a.element,i!==!1):f.top>g.bottom&&xm(a.element,i===!0)},tv=function(e,n,a){return $u(e,Lw,n,a)},v3=function(e,n,a){return DS(e,n,Lw,a)},d3=function(e,n,a){return $u(e,zw,n,a)},RS=function(e,n,a){return DS(e,n,zw,a)},m3=function(e,n,a){var i=e.inline?v3:RS;i(e,n,a)},ah=function(e,n,a){var i=e.inline?tv:d3;i(e,n,a)},Ma=function(){return R.fromDom(document)},Db=function(e){return e.dom.focus()},nv=function(e){var n=Uu(e).dom;return e.dom===n.activeElement},nl=function(e){return e===void 0&&(e=Ma()),K.from(e.dom.activeElement).map(R.fromDom)},Qv=function(e){return nl(Uu(e)).filter(function(n){return e.dom.contains(n.dom)})},Ss=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},_b={create:Ss},Qd=br.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Og=function(e,n,a,i){return e.fold(n,a,i)},ed=function(e){return e.fold(He,He,He)},g3=Qd.before,PS=Qd.on,p3=Qd.after,h3={before:g3,on:PS,after:p3,cata:Og,getStart:ed},ua=br.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rl=function(e){return ua.exact(e.start,e.soffset,e.finish,e.foffset)},Dg=function(e){return e.match({domRange:function(n){return R.fromDom(n.startContainer)},relative:function(n,a){return h3.getStart(n)},exact:function(n,a,i,c){return n}})},BS=ua.domRange,oh=ua.relative,ya=ua.exact,MS=function(e){var n=Dg(e);return Io(n)},FS=_b.create,ih={domRange:BS,relative:oh,exact:ya,exactFromRange:rl,getWin:MS,range:FS},NS=sr().browser,uh=function(e,n){var a=Po(n)?Tw(n).length:Ru(n).length+1;return e>a?a:e<0?0:e},em=function(e){return ih.range(e.start,uh(e.soffset,e.start),e.finish,uh(e.foffset,e.finish))},Hw=function(e,n){return!Ul(n.dom)&&(qa(e,n)||Br(e,n))},Vw=function(e){return function(n){return Hw(e,n.start)&&Hw(e,n.finish)}},IS=function(e){return e.inline===!0||NS.isIE()},$S=function(e){return ih.range(R.fromDom(e.startContainer),e.startOffset,R.fromDom(e.endContainer),e.endOffset)},td=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?K.none():K.from(n.getRangeAt(0));return a.map($S)},tm=function(e){var n=Io(e);return td(n.dom).filter(Vw(e))},Uw=function(e,n){return K.from(n).filter(Vw(e)).map(em)},LS=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),K.some(n)}catch{return K.none()}},Rb=function(e){var n=IS(e)?tm(R.fromDom(e.getBody())):K.none();e.bookmark=n.isSome()?n:e.bookmark},b3=function(e,n){var a=R.fromDom(e.getBody()),i=IS(e)?K.from(n):K.none(),c=i.map($S).filter(Vw(a));e.bookmark=c.isSome()?c:e.bookmark},_g=function(e){var n=e.bookmark?e.bookmark:K.none();return n.bind(function(a){return Uw(R.fromDom(e.getBody()),a)}).bind(LS)},Ww=function(e){_g(e).each(function(n){return e.selection.setRng(n)})},jw=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},zS={isEditorUIElement:jw},Gw=function(e){return e.type==="nodechange"&&e.selectionChange},Pb=function(e,n){var a=function(){n.throttle()};go.DOM.bind(document,"mouseup",a),e.on("remove",function(){go.DOM.unbind(document,"mouseup",a)})},Bb=function(e){e.on("focusout",function(){Rb(e)})},qw=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},Kw=function(e,n){var a=sr().browser;a.isIE()?Bb(e):qw(e,n),e.on("keyup NodeChange",function(i){Gw(i)||Rb(e)})},HS=function(e){var n=R1(function(){Rb(e)},0);e.on("init",function(){e.inline&&Pb(e,n),Kw(e,n)}),e.on("remove",function(){n.cancel()})},nm,Rg=go.DOM,VS=function(e){return zS.isEditorUIElement(e)},US=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Mb=function(e,n){var a=qy(e),i=Rg.getParent(n,function(c){return VS(c)||(a?e.dom.is(c,a):!1)});return i!==null},WS=function(e){try{var n=Uu(R.fromDom(e.getElement()));return nl(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},jS=function(e,n){var a=n.editor;HS(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Su.setEditorTimeout(a,function(){var i=e.focusedEditor;!Mb(a,WS(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),nm||(nm=function(i){var c=e.activeEditor;c&&yu(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!Mb(c,f)&&e.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Rg.bind(document,"focusin",nm))},Xw=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Rg.unbind(document,"focusin",nm),nm=null)},GS=function(e){e.on("AddEditor",Xe(jS,e)),e.on("RemoveEditor",Xe(Xw,e))},qS=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},KS=function(e){return e.collapsed?K.from(Do(e.startContainer,e.startOffset)).map(R.fromDom):K.none()},y3=function(e,n){return KS(n).bind(function(a){return _a(a)?K.some(a):qa(e,a)===!1?K.some(e):K.none()})},XS=function(e,n){y3(R.fromDom(e.getBody()),n).bind(function(a){return Iu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},Yw=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Pg=function(e){return nv(e)||Qv(e).isSome()},w3=function(e){return e.iframeElement&&nv(R.fromDom(e.iframeElement))},YS=function(e){var n=e.getBody();return n&&Pg(R.fromDom(n))},ZS=function(e){var n=Uu(R.fromDom(e.getElement()));return nl(n).filter(function(a){return!US(a.dom)&&Mb(e,a.dom)}).isSome()},Oc=function(e){return e.inline?YS(e):w3(e)},JS=function(e){return Oc(e)||ZS(e)},QS=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Oc(e)===!1&&_g(e).each(function(f){e.selection.setRng(f),i=f});var c=qS(e,n.getNode());if(e.$.contains(a,c)){Yw(c),XS(e,i),Fb(e);return}e.inline||(Sr.opera||Yw(a),e.getWin().focus()),(Sr.gecko||e.inline)&&(Yw(a),XS(e,i)),Fb(e)},Fb=function(e){return e.editorManager.setActive(e)},Nb=function(e,n){e.removed||(n?Fb(e):QS(e))},Zw=function(e,n,a,i,c){var f=a?n.startContainer:n.endContainer,g=a?n.startOffset:n.endOffset;return K.from(f).map(R.fromDom).map(function(b){return!i||!n.collapsed?dl(b,c(b,g)).getOr(b):b}).bind(function(b){return wo(b)?K.some(b):$o(b).filter(wo)}).map(function(b){return b.dom}).getOr(e)},rm=function(e,n,a){return Zw(e,n,!0,a,function(i,c){return Math.min(Jh(i),c)})},Bg=function(e,n,a){return Zw(e,n,!1,a,function(i,c){return c>0?c-1:c})},ex=function(e,n){for(var a=e;e&&Jn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},tx=function(e,n){var a,i,c;if(!n)return e;i=n.startContainer,c=n.endContainer;var f=n.startOffset,g=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===c&&g-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&c.nodeType===3&&(i.length===f?i=ex(i.nextSibling,!0):i=i.parentNode,g===0?c=ex(c.previousSibling,!1):c=c.parentNode,i&&i===c))?i:a&&a.nodeType===3?a.parentNode:a},Ib=function(e,n,a,i){var c,f=[],g=e.getRoot();if(a=e.getParent(a||rm(g,n,n.collapsed),e.isBlock),i=e.getParent(i||Bg(g,n,n.collapsed),e.isBlock),a&&a!==g&&f.push(a),a&&i&&a!==i){c=a;for(var b=new Ua(a,g);(c=b.next())&&c!==i;)e.isBlock(c)&&f.push(c)}return i&&a!==i&&i!==g&&f.push(i),f},C3=function(e,n,a){return K.from(n).map(function(i){var c=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,c),f.setEnd(i.parentNode,c+1),a&&(Xv(e,f,i,!0),Xv(e,f,i,!1)),f})},$b=function(e,n){return qt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},sh={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Lb=function(e,n,a){var i=a?"lastChild":"firstChild",c=a?"prev":"next";if(e[i])return e[i];if(e!==n){var f=e[c];if(f)return f;for(var g=e.parent;g&&g!==n;g=g.parent)if(f=g[c],f)return f}},nx=function(e){if(!Kc(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},zb=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},Dc=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,sh[n]||1);return a&&yn(a,function(c,f){i.attr(f,c)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,c;if(typeof n!="string")return n!=null&&yn(n,function(g,b){i.attr(b,g)}),i;if(c=i.attributes){if(a!==void 0){if(a===null){if(n in c.map){delete c.map[n];for(var f=c.length;f--;)if(c[f].name===n)return c.splice(f,1),i}return i}if(n in c.map){for(var f=c.length;f--;)if(c[f].name===n){c[f].value=a;break}}else c.push({name:n,value:a});return c.map[n]=a,i}return c.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var c=[];c.map={};for(var f=0,g=i.length;f<g;f++){var b=i[f];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}a.attributes=c}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,c=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):c.next=i,a.lastChild===n?(a.lastChild=c,c&&(c.next=null)):i.prev=c,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var c=a.parent||this;return i?(a===c.firstChild?c.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===c.lastChild?c.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=c,n},e.prototype.getAll=function(n){for(var a=this,i=[],c=a.firstChild;c;c=Lb(c,a))c.name===n&&i.push(c);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=Lb(i,n))a.push(i);for(var c=a.length;c--;){var i=a[c];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var c=this,f=c.firstChild;if(zb(c))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(n[f.name]||zb(f))return!1}if(f.type===8||f.type===3&&!nx(f)||f.type===3&&f.parent&&a[f.parent.name]&&Kc(f.value)||i&&i(f))return!1}while(f=Lb(f,c));return!0},e.prototype.walk=function(n){return Lb(this,null,n)},e}(),S3=Rt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Jw=function(e){return Mt(e.nodeValue)&&It(e.nodeValue,Ie)},Qw=function(e){return(e.length===0?"":qt(e,function(n){return"["+n+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},Hb=function(e,n){return n.querySelectorAll(Qw(e))},Mg=function(e,n,a){return document.createTreeWalker(e,n,a,!1)},Vb=function(e){return Mg(e,NodeFilter.SHOW_COMMENT,function(n){return Jw(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},e2=function(e){return Mg(e,NodeFilter.SHOW_TEXT,function(n){if(Jw(n)){var a=n.parentNode;return a&&Fr(S3,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},rx=function(e){return Vb(e).nextNode()!==null},ax=function(e){return e2(e).nextNode()!==null},Ub=function(e,n){return n.querySelector(Qw(e))!==null},x3=function(e,n){yt(Hb(e,n),function(a){var i=R.fromDom(a);W(i,"data-mce-bogus")==="all"?Lo(i):yt(e,function(c){Ge(i,c)&&Bt(i,c)})})},ox=function(e){for(var n=e.nextNode();n!==null;)n.nodeValue=null,n=e.nextNode()},k3=Ue(ox,Vb),T3=Ue(ox,e2),am=function(e,n){var a=[{condition:Xe(Ub,n),action:Xe(x3,n)},{condition:rx,action:k3},{condition:ax,action:T3}],i=e,c=!1;return yt(a,function(f){var g=f.condition,b=f.action;g(i)&&(c||(i=e.cloneNode(!0),c=!0),b(i))}),i},E3=function(e,n){var a=ou(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},A3=function(e,n){return ir(ir({},e),{format:n,get:!0,getInner:!0})},O3=function(e,n,a,i){var c=A3(n,a),f=n.no_events?c:e.fire("BeforeGetContent",c),g;return f.format==="raw"?g=Rt.trim(gs(am(i,e.serializer.getTempAttrs()).innerHTML)):f.format==="text"?g=e.dom.isEmpty(i)?"":gs(i.innerText||i.textContent):f.format==="tree"?g=e.serializer.serialize(i,f):g=E3(e,e.serializer.serialize(i,f)),!Me(["text","tree"],f.format)&&!bd(R.fromDom(i))?f.content=Rt.trim(g):f.content=g,f.no_events?f.content:e.fire("GetContent",f).content},t2=function(e,n,a){return K.from(e.getBody()).fold(B(n.format==="tree"?new Dc("body",11):""),function(i){return O3(e,n,a,i)})},n2=Rt.each,ix=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var c=function(g){var b={};return n2(e.getAttribs(g),function(w){var O=w.nodeName.toLowerCase();O.indexOf("_")!==0&&O!=="style"&&O.indexOf("data-")!==0&&(b[O]=e.getAttrib(g,O))}),b},f=function(g,b){var w,O;for(O in g)if(Fr(g,O)){if(w=b[O],typeof w>"u"||g[O]!==w)return!1;delete b[O]}for(O in b)if(Fr(b,O))return!1;return!0};return!f(c(a),c(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Cs(a)&&!Cs(i)};return{compare:n}},ch=Rt.makeMap,r2=function(e){var n=[];e=e||{};var a=e.indent,i=ch(e.indent_before||""),c=ch(e.indent_after||""),f=rc.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format==="html";return{start:function(b,w,O){var N,L,H,J;if(a&&i[b]&&n.length>0&&(J=n[n.length-1],J.length>0&&J!==`
`&&n.push(`
`)),n.push("<",b),w)for(N=0,L=w.length;N<L;N++)H=w[N],n.push(" ",H.name,'="',f(H.value,!0),'"');!O||g?n[n.length]=">":n[n.length]=" />",O&&a&&c[b]&&n.length>0&&(J=n[n.length-1],J.length>0&&J!==`
`&&n.push(`
`))},end:function(b){var w;n.push("</",b,">"),a&&c[b]&&n.length>0&&(w=n[n.length-1],w.length>0&&w!==`
`&&n.push(`
`))},text:function(b,w){b.length>0&&(n[n.length]=w?b:f(b))},cdata:function(b){n.push("<![CDATA[",b,"]]>")},comment:function(b){n.push("<!--",b,"-->")},pi:function(b,w){w?n.push("<?",b," ",f(w),"?>"):n.push("<?",b,"?>"),a&&n.push(`
`)},doctype:function(b){n.push("<!DOCTYPE",b,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},om=function(e,n){n===void 0&&(n=ac());var a=r2(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(c){var f=e.validate,g={3:function(w){a.text(w.value,w.raw)},8:function(w){a.comment(w.value)},7:function(w){a.pi(w.name,w.value)},10:function(w){a.doctype(w.value)},4:function(w){a.cdata(w.value)},11:function(w){if(w=w.firstChild)do b(w);while(w=w.next)}};a.reset();var b=function(w){var O=g[w.type];if(O)O(w);else{var N=w.name,L=w.shortEnded,H=w.attributes;if(f&&H&&H.length>1){var J=[];J.map={};var ee=n.getElementRule(w.name);if(ee){for(var te=0,re=ee.attributesOrder.length;te<re;te++){var pe=ee.attributesOrder[te];if(pe in H.map){var de=H.map[pe];J.map[pe]=de,J.push({name:pe,value:de})}}for(var te=0,re=H.length;te<re;te++){var pe=H[te].name;if(!(pe in J.map)){var de=H.map[pe];J.map[pe]=de,J.push({name:pe,value:de})}}H=J}}if(a.start(w.name,H,L),!L){if(w=w.firstChild)do b(w);while(w=w.next);a.end(N)}}};return c.type===1&&!e.inner?b(c):g[11](c),a.getContent()};return{serialize:i}},ux=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];yt(e,function(n){ux.add(n)})})();var lh=["font","text-decoration","text-emphasis"],Fg=function(e,n){return nn(e.parseStyle(e.getAttrib(n,"style")))},sx=function(e){return ux.has(e)},D3=function(e,n){return xa(Fg(e,n),function(a){return!sx(a)})},_3=function(e){return be(e,function(n){return bt(lh,function(a){return F(n,a)})})},cx=function(e,n,a){var i=Fg(e,n),c=Fg(e,a),f=function(g){var b=e.getStyle(n,g),w=e.getStyle(a,g);return ot(b)&&ot(w)&&b!==w};return bt(i,function(g){var b=function(O){return bt(O,function(N){return N===g})};if(!b(c)&&b(lh)){var w=_3(c);return bt(w,f)}else return f(g)})},fh=function(e,n,a){return K.from(a.container()).filter(Jn).exists(function(i){var c=e?0:-1;return n(i.data.charAt(a.offset()+c))})},vh=Xe(fh,!0,qv),dh=Xe(fh,!1,qv),lx=function(e){var n=e.container();return Jn(n)&&(n.data.length===0||qu(n.data)&&Zv.isBookmarkNode(n.parentNode))},xs=function(e,n){return function(a){return K.from(ob(e?0:-1,a)).filter(n).isSome()}},fx=function(e){return km(e)&&ra(R.fromDom(e),"display")==="block"},Rl=function(e){return Co(e)&&!Ci(e)},R3=xs(!0,fx),vx=xs(!1,fx),Ng=xs(!0,vs),Ig=xs(!1,vs),dx=xs(!0,oi),mx=xs(!1,oi),nd=xs(!0,Rl),rd=xs(!1,Rl),a2=function(e){for(var n=[],a=e.dom;a;)n.push(R.fromDom(a)),a=a.lastChild;return n},P3=function(e){var n=au(e,"br"),a=be(a2(e).slice(-1),Pm);n.length===a.length&&yt(a,Lo)},im=function(e){Pf(e),wi(e,R.fromHtml('<br data-mce-bogus="1">'))},B3=function(e){Ps(e).each(function(n){Df(n).each(function(a){Qs(e)&&Pm(n)&&Qs(a)&&Lo(n)})})},gx=function(e){return e.slice(0,-1)},mh=function(e,n,a){return qa(n,e)?gx(yi(e,function(i){return a(i)||Br(i,n)})):[]},px=function(e,n){return mh(e,n,Se)},dr=function(e,n){return[e].concat(px(e,n))},gh=function(e,n,a){return db(e,n,a,lx)},ph=function(e,n){return Kn(dr(R.fromDom(n.container()),e),Qs)},o2=function(e,n,a){return gh(e,n.dom,a).forall(function(i){return ph(n,a).fold(function(){return Ol(i,a,n.dom)===!1},function(c){return Ol(i,a,n.dom)===!1&&qa(c,R.fromDom(i.container()))})})},hx=function(e,n,a){return ph(n,a).fold(function(){return gh(e,n.dom,a).forall(function(i){return Ol(i,a,n.dom)===!1})},function(i){return gh(e,i.dom,a).isNone()})},Wb=Xe(hx,!1),hh=Xe(hx,!0),i2=Xe(o2,!1),bx=Xe(o2,!0),M3=function(e){return ub(e).exists(Pm)},$r=function(e,n,a){var i=be(dr(R.fromDom(a.container()),n),Qs),c=dn(i).getOr(n);return ws(e,c.dom,a).filter(M3)},jb=function(e,n){return ub(n).exists(Pm)||$r(!0,e,n).isSome()},Xr=function(e,n){return NE(n).exists(Pm)||$r(!1,e,n).isSome()},yx=Xe($r,!1),wx=Xe($r,!0),u2=function(e){return At.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},um=function(e,n){var a=be(dr(R.fromDom(n.container()),e),Qs);return dn(a).getOr(e)},Gb=function(e,n){return u2(n)?dh(n):dh(n)||_l(um(e,n).dom,n).exists(dh)},bh=function(e,n){return u2(n)?vh(n):vh(n)||el(um(e,n).dom,n).exists(vh)},qb=function(e){return Me(["pre","pre-wrap"],e)},s2=function(e){return ub(e).bind(function(n){return Dm(n,wo)}).exists(function(n){return qb(ra(n,"white-space"))})},Lr=function(e,n){return _l(e.dom,n).isNone()},F3=function(e,n){return el(e.dom,n).isNone()},Cx=function(e,n){return Lr(e,n)||F3(e,n)||Wb(e,n)||hh(e,n)||Xr(e,n)||jb(e,n)},Kb=function(e,n){return s2(n)?!1:Cx(e,n)||Gb(e,n)||bh(e,n)},gf=function(e,n){return s2(n)?!1:Wb(e,n)||i2(e,n)||Xr(e,n)||Gb(e,n)},Sx=function(e){var n=e.container(),a=e.offset();return Jn(n)&&a<n.data.length?At(n,a+1):e},yh=function(e,n){return s2(n)?!1:hh(e,n)||bx(e,n)||jb(e,n)||bh(e,n)},Xb=function(e,n){return gf(e,n)||yh(e,Sx(n))},xx=function(e,n){return qd(e.charAt(n))},kx=function(e){var n=e.container();return Jn(n)&&It(n.data,Fs)},N3=function(e){var n=e.split("");return qt(n,function(a,i){return qd(a)&&i>0&&i<n.length-1&&mb(n[i-1])&&mb(n[i+1])?" ":a}).join("")},I3=function(e,n){var a=n.data,i=At(n,0);return xx(a,0)&&!Xb(e,i)?(n.data=" "+a.slice(1),!0):!1},$3=function(e){var n=e.data,a=N3(n);return a!==n?(e.data=a,!0):!1},L3=function(e,n){var a=n.data,i=At(n,a.length-1);return xx(a,a.length-1)&&!Xb(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},z3=function(e,n){return K.some(n).filter(kx).bind(function(a){var i=a.container(),c=I3(e,i)||$3(i)||L3(e,i);return c?K.some(a):K.none()})},Tx=function(e){var n=R.fromDom(e.getBody());e.selection.isCollapsed()&&z3(n,At.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},H3=function(e,n,a){var i=Cn(e,function(c,f){return qv(f)||qd(f)?c.previousCharIsSpace||c.str===""&&n||c.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:c.str+Fs}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+f}},{previousCharIsSpace:!1,str:""});return i.str},c2=function(e,n,a){if(a!==0){var i=R.fromDom(e),c=Cv(i,Qs).getOr(i),f=e.data.slice(n,n+a),g=n+a>=e.data.length&&yh(c,At(e,e.data.length)),b=n===0&&gf(c,At(e,0));e.replaceData(n,a,H3(f,b,g))}},$g=function(e,n){var a=e.data.slice(n),i=a.length-_e(a).length;c2(e,n,i)},pa=function(e,n){var a=e.data.slice(0,n),i=a.length-Qe(a).length;c2(e,n-i,i)},Yb=function(e,n,a,i){i===void 0&&(i=!0);var c=Qe(e.data).length,f=i?e:n,g=i?n:e;return i?f.appendData(g.data):f.insertData(0,g.data),Lo(R.fromDom(g)),a&&$g(f,c),f},Zb=function(e,n){var a=e.container(),i=e.offset();return At.isTextPosition(e)===!1&&a===n.parentNode&&i>At.before(n).offset()},Ex=function(e,n){return Zb(n,e)?At(n.container(),n.offset()-1):n},Ax=function(e){return Jn(e)?At(e,0):At.before(e)},Ox=function(e){return Jn(e)?At(e,e.data.length):At.after(e)},l2=function(e){return Kl(e.previousSibling)?K.some(Ox(e.previousSibling)):e.previousSibling?Tc(e.previousSibling):K.none()},f2=function(e){return Kl(e.nextSibling)?K.some(Ax(e.nextSibling)):e.nextSibling?Iu(e.nextSibling):K.none()},u=function(e,n){var a=At.before(n.previousSibling?n.previousSibling:n.parentNode);return _l(e,a).fold(function(){return el(e,At.after(n))},K.some)},l=function(e,n){return el(e,At.after(n)).fold(function(){return _l(e,At.before(n))},K.some)},d=function(e,n){return l2(n).orThunk(function(){return f2(n)}).orThunk(function(){return u(e,n)})},p=function(e,n){return f2(n).orThunk(function(){return l2(n)}).orThunk(function(){return l(e,n)})},y=function(e,n,a){return e?p(n,a):d(n,a)},x=function(e,n,a){return y(e,n,a).map(Xe(Ex,a))},D=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},M=function(e){return function(n){return n.dom===e}},X=function(e,n){return n&&Fr(e.schema.getBlockElements(),La(n))},oe=function(e){if(eu(e)){var n=R.fromHtml('<br data-mce-bogus="1">');return Pf(e),wi(e,n),K.some(At.before(n.dom))}else return K.none()},Te=function(e,n,a){var i=Df(e).filter(Po),c=Ys(e).filter(Po);return Lo(e),U0(i,c,n,function(f,g,b){var w=f.dom,O=g.dom,N=w.data.length;return Yb(w,O,a),b.container()===O?At(w,N):b}).orThunk(function(){return a&&(i.each(function(f){return pa(f.dom,f.dom.length)}),c.each(function(f){return $g(f.dom,0)})),n})},Pt=function(e,n){return Fr(e.schema.getTextInlineElements(),La(n))},cn=function(e,n,a,i){i===void 0&&(i=!0);var c=x(n,e.getBody(),a.dom),f=Cv(a,Xe(X,e),M(e.getBody())),g=Te(a,c,Pt(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(oe).fold(function(){i&&D(e,n,g)},function(b){i&&D(e,n,K.some(b))})},en=function(e){return function(n){return Br(e,n)}},Dt=function(e){return au(e,"td,th")},On=function(e,n){var a=function(O){return Kd(R.fromDom(O),n)},i=a(e.startContainer),c=a(e.endContainer),f=i.isSome(),g=c.isSome(),b=Pu(i,c,Br).getOr(!1),w=!b&&f&&g;return{startTable:i,endTable:c,isStartInTable:f,isEndInTable:g,isSameTable:b,isMultiTable:w}},Bn=function(e,n){return{start:e,end:n}},mr=function(e,n,a){return{rng:e,table:n,cells:a}},wa=br.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),yr=function(e,n){return Qo(R.fromDom(e),"td,th",n)},zr=function(e){return!Br(e.start,e.end)},da=function(e,n){return Kd(e.start,n).bind(function(a){return Kd(e.end,n).bind(function(i){return W0(Br(a,i),a)})})},sa=function(e,n){return!zr(e)&&da(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},mi=function(e,n){var a=yr(e.startContainer,n),i=yr(e.endContainer,n);return Pu(a,i,Bn)},Ui=function(e){return function(n){return Kd(n,e).bind(function(a){return Fn(Dt(a)).map(function(i){return Bn(n,i)})})}},ns=function(e){return function(n){return Kd(n,e).bind(function(a){return dn(Dt(a)).map(function(i){return Bn(i,n)})})}},ka=function(e){return function(n){return da(n,e).map(function(a){return mr(n,a,Dt(a))})}},Wr=function(e,n,a,i){if(a.collapsed||!e.forall(zr))return K.none();if(n.isSameTable){var c=e.bind(ka(i));return K.some({start:c,end:c})}else{var f=yr(a.startContainer,i),g=yr(a.endContainer,i),b=f.bind(Ui(i)).bind(ka(i)),w=g.bind(ns(i)).bind(ka(i));return K.some({start:b,end:w})}},ha=function(e,n){return ar(e,function(a){return Br(a,n)})},Wa=function(e){return Pu(ha(e.cells,e.rng.start),ha(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},Vo=function(e,n,a){return e.exists(function(i){return sa(i,a)&&tl(i.start,n)})},pf=function(e,n){var a=n.startTable,i=n.endTable,c=e.cloneRange();return a.each(function(f){return c.setStartAfter(f.dom)}),i.each(function(f){return c.setEndBefore(f.dom)}),c},Ka=function(e,n,a,i){return Wr(e,n,a,i).bind(function(c){var f=c.start,g=c.end;return f.or(g)}).bind(function(c){var f=n.isSameTable,g=Wa(c).getOr([]);if(f&&c.cells.length===g.length)return K.some(wa.fullTable(c.table));if(g.length>0){if(f)return K.some(wa.partialTable(g,K.none()));var b=pf(a,n);return K.some(wa.partialTable(g,K.some(ir(ir({},n),{rng:b}))))}else return K.none()})},_c=function(e,n,a,i){return Wr(e,n,a,i).bind(function(c){var f=c.start,g=c.end,b=f.bind(Wa).getOr([]),w=g.bind(Wa).getOr([]);if(b.length>0&&w.length>0){var O=pf(a,n);return K.some(wa.multiTable(b,w,O))}else return K.none()})},cu=function(e,n){var a=en(e),i=mi(n,a),c=On(n,a);return Vo(i,n,a)?i.map(function(f){return wa.singleCellTable(n,f.start)}):c.isMultiTable?_c(i,c,n,a):Ka(i,c,n,a)},wh=function(e){var n=_s(e)?Df(e):Ps(e);return n.bind(wh).orThunk(function(){return K.some(e)})},ad=function(e){return yt(e,function(n){Bt(n,"contenteditable"),im(n)})},Pl=function(e,n){return K.from(e.dom.getParent(n,e.dom.isBlock)).map(R.fromDom)},Rc=function(e,n,a){a.each(function(i){n?Lo(i):(im(i),e.selection.setCursorLocation(i.dom,0))})},al=function(e,n,a,i){var c=a.cloneRange();i?(c.setStart(a.startContainer,a.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(a.endContainer,a.endOffset)),cm(e,c,n,!1)},Ch=function(e){var n=lf(e),a=R.fromDom(e.selection.getNode());Tm(a.dom)&&eu(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&bt(n,function(i){return Br(i,a)})&&E(a,"data-mce-selected","1")},sm=function(e,n,a){var i=e.selection.getRng(),c=a.bind(function(f){var g=f.rng,b=f.isStartInTable,w=Pl(e,b?g.endContainer:g.startContainer);g.deleteContents(),Rc(e,b,w.filter(eu));var O=b?n[0]:n[n.length-1];return al(e,O,i,b),eu(O)?K.none():K.some(b?n.slice(1):n.slice(0,-1))}).getOr(n);return ad(c),Ch(e),!0},Sh=function(e,n,a,i){var c=e.selection.getRng(),f=n[0],g=a[a.length-1];al(e,f,c,!0),al(e,g,c,!1);var b=eu(f)?n:n.slice(1),w=eu(g)?a:a.slice(0,-1);return ad(b.concat(w)),i.deleteContents(),Ch(e),!0},cm=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var c=wh(a).getOr(a),f=R.fromDom(e.dom.getParent(c.dom,e.dom.isBlock));if(eu(f)&&(im(f),i&&e.selection.setCursorLocation(f.dom,0)),!Br(a,f)){var g=pd($o(f),a)?[]:ai(f);yt(g.concat(Ru(a)),function(b){!Br(b,f)&&!qa(b,f)&&eu(b)&&Lo(b)})}return!0},Bl=function(e,n){return cn(e,!1,n),!0},Lg=function(e,n,a){return cu(n,a).map(function(i){return i.fold(Xe(cm,e),Xe(Bl,e),Xe(sm,e),Xe(Sh,e))})},Jb=function(e,n){return rv(e,n)},Dx=function(e,n,a,i){return U3(n,i).fold(function(){return Lg(e,n,a)},function(c){return Jb(e,c)}).getOr(!1)},xh=function(e,n,a){var i=R.fromDom(e.getBody()),c=e.selection.getRng();return a.length!==0?sm(e,a,K.none()):Dx(e,i,c,n)},V3=function(e,n){return Kn(dr(n,e),yl)},U3=function(e,n){return Kn(dr(n,e),lp("caption"))},sM=function(e,n,a,i,c){return Dl(a,e.getBody(),c).bind(function(f){return V3(n,R.fromDom(f.getNode())).map(function(g){return Br(g,i)===!1})})},rv=function(e,n){return im(n),e.selection.setCursorLocation(n.dom,0),K.some(!0)},cM=function(e,n,a,i){return Iu(e.dom).bind(function(c){return Tc(e.dom).map(function(f){return n?a.isEqual(c)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(c)})}).getOr(!0)},Hs=function(e,n){return rv(e,n)},lM=function(e,n,a){return U3(e,R.fromDom(a.getNode())).map(function(i){return Br(i,n)===!1})},fM=function(e,n,a,i,c){return Dl(a,e.getBody(),c).bind(function(f){return cM(i,a,c,f)?Hs(e,i):lM(n,i,f)}).or(K.some(!0))},lm=function(e,n,a,i){var c=At.fromRangeStart(e.selection.getRng());return V3(a,i).bind(function(f){return eu(f)?rv(e,f):sM(e,a,n,f,c)}).getOr(!1)},za=function(e,n,a,i){var c=At.fromRangeStart(e.selection.getRng());return eu(i)?rv(e,i):fM(e,a,n,i,c)},zg=function(e,n){return e?dx(n):mx(n)},W3=function(e,n){var a=At.fromRangeStart(e.selection.getRng());return zg(n,a)||ws(n,e.getBody(),a).exists(function(i){return zg(n,i)})},vM=function(e,n,a){var i=R.fromDom(e.getBody());return U3(i,a).fold(function(){return lm(e,n,i,a)||W3(e,n)},function(c){return za(e,n,i,c).getOr(!1)})},kh=function(e,n){var a=R.fromDom(e.selection.getStart(!0)),i=lf(e);return e.selection.isCollapsed()&&i.length===0?vM(e,n,a):xh(e,a,i)},av=function(e,n,a,i){var c=document.createRange();return c.setStart(e,n),c.setEnd(a,i),c},dM=function(e){var n=At.fromRangeStart(e),a=At.fromRangeEnd(e),i=e.commonAncestorContainer;return ws(!1,i,a).map(function(c){return!Ol(n,a,i)&&Ol(n,c,i)?av(n.container(),n.offset(),c.container(),c.offset()):e}).getOr(e)},j3=function(e){return e.collapsed?e:dM(e)},mM=function(e){return e.firstChild&&e.firstChild===e.lastChild},G3=function(e){return e.name==="br"||e.value===Fs},gM=function(e,n){var a=e.getBlockElements();return a[n.name]&&mM(n)&&G3(n.firstChild)},pM=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||gM(e,n))},$O=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),pM(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},hM=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},bM=function(e,n,a){var i=n.serialize(a),c=e.createFragment(i);return hM(c)},yM=function(e){return be(e.childNodes,function(n){return n.nodeName==="LI"})},Pc=function(e){return e.data===Fs||to(e)},od=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Pc(e.firstChild)},wM=function(e){return!e.firstChild||od(e)},LO=function(e){return e.length>0&&wM(e[e.length-1])?e.slice(0,-1):e},Qb=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},q3=function(e,n){return!!Qb(e,n)},CM=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},zO=function(e,n){var a=At.before(e),i=Yo(n),c=i.next(a);return c?c.toRange():null},e0=function(e,n){var a=At.after(e),i=Yo(n),c=i.prev(a);return c?c.toRange():null},_x=function(e,n,a,i){var c=CM(e,i),f=e.parentNode;return f.insertBefore(c[0],e),Rt.each(n,function(g){f.insertBefore(g,e)}),f.insertBefore(c[1],e),f.removeChild(e),e0(n[n.length-1],a)},SM=function(e,n,a){var i=e.parentNode;return Rt.each(n,function(c){i.insertBefore(c,e)}),zO(e,a)},Hg=function(e,n,a,i){return i.insertAfter(n.reverse(),e),e0(n[0],a)},xM=function(e,n,a,i){var c=bM(n,e,i),f=Qb(n,a.startContainer),g=LO(yM(c.firstChild)),b=1,w=2,O=n.getRoot(),N=function(L){var H=At.fromRangeStart(a),J=Yo(n.getRoot()),ee=L===b?J.prev(H):J.next(H);return ee?Qb(n,ee.getNode())!==f:!0};return N(b)?SM(f,g,O):N(w)?Hg(f,g,O,n):_x(f,g,O,a)},kM=function(e,n,a){var i=R.fromDom(e.getRoot());return gf(i,At.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),yh(i,At.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Vs=Tm,K3=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,Vs);return a===i&&tl(R.fromDom(a),n)}else return!1},ov=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,c=a.lastChild;!i||i===c&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},TM=function(e,n){K.from(e.getParent(n,"td,th")).map(R.fromDom).each(B3)},ao=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var c=e.getBody(),f=ix(i);Rt.each(i.select("*[data-mce-fragment]"),function(g){var b=Vt(a[g.nodeName.toLowerCase()]);if(b&&D3(i,g))for(var w=g.parentNode;Vt(w)&&w!==c;w=w.parentNode){var O=cx(i,g,w);if(O)break;if(f.compare(w,g)){i.remove(g,!0);break}}})}},Th=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},Rx=function(e){Rt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},HO=function(e){return!!e.getAttribute("data-mce-fragment")},X3=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},Y3=function(e,n){var a,i=e.dom,c=e.selection;if(n){c.scrollIntoView(n);var f=Yd(e.getBody(),n);if(i.getContentEditable(f)==="false"){i.remove(n),c.select(f);return}var g=i.createRng(),b=n.previousSibling;if(Jn(b)){if(g.setStart(b,b.nodeValue.length),!Sr.ie){var w=n.nextSibling;Jn(w)&&(b.appendData(w.data),w.parentNode.removeChild(w))}}else g.setStartBefore(n),g.setEndBefore(n);var O=function(L){var H=At.fromRangeStart(L),J=Yo(e.getBody());if(H=J.next(H),H)return H.toRange()},N=i.getParent(n,i.isBlock);i.remove(n),N&&i.isEmpty(N)&&(e.$(N).empty(),g.setStart(N,0),g.setEnd(N,0),!Vs(N)&&!HO(N)&&(a=O(g))?(g=a,i.remove(N)):i.add(N,i.create("br",{"data-mce-bogus":"1"}))),c.setRng(g)}},EM=function(e){var n=e.dom,a=j3(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,Vs);K3(n,a,i)?cm(e,a,R.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},Z3=function(e,n,a){var i,c,f,g=e.selection,b=e.dom;/^ | $/.test(n)&&(n=kM(b,g.getRng(),n));var w=e.parser,O=a.merge,N=om({validate:yE(e)},e.schema),L='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',H=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(H.isDefaultPrevented()){e.fire("SetContent",{content:H.content,format:"html",selection:!0,paste:a.paste});return}n=H.content,a.preserve_zwsp||(n=gs(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,L),c=g.getRng();var J=c.startContainer||(c.parentElement?c.parentElement():null),ee=e.getBody();J===ee&&g.isCollapsed()&&b.isBlock(ee.firstChild)&&X3(e,ee.firstChild)&&b.isEmpty(ee.firstChild)&&(c=b.createRng(),c.setStart(ee.firstChild,0),c.setEnd(ee.firstChild,0),g.setRng(c)),g.isCollapsed()||EM(e),i=g.getNode();var te={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},re=w.parse(n,te);if(a.paste===!0&&$O(e.schema,re)&&q3(b,i)){c=xM(N,b,g.getRng(),re),g.setRng(c),e.fire("SetContent",H);return}if(Th(re),f=re.lastChild,f.attr("id")==="mce_marker"){var pe=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!b.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(pe,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!te.invalid)n=N.serialize(re),ov(e,n,i);else{e.selection.setContent(L),i=g.getNode();var de=e.getBody();for(i.nodeType===9?i=f=de:f=i;f!==de;)i=f,f=f.parentNode;n=i===de?de.innerHTML:b.getOuterHTML(i),n=N.serialize(w.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return N.serialize(re)}))),i===de?b.setHTML(de,n):b.setOuterHTML(i,n)}ao(e,O),Y3(e,b.get("mce_marker")),Rx(e.getBody()),TM(b,g.getStart()),e.fire("SetContent",H),e.addVisual()},J3=function(e,n){n(e),e.firstChild&&J3(e.firstChild,n),e.next&&J3(e.next,n)},VO=function(e,n,a){var i={},c={},f=[];a.firstChild&&J3(a.firstChild,function(w){yt(e,function(O){O.name===w.name&&(i[O.name]?i[O.name].nodes.push(w):i[O.name]={filter:O,nodes:[w]})}),yt(n,function(O){typeof w.attr(O.name)=="string"&&(c[O.name]?c[O.name].nodes.push(w):c[O.name]={filter:O,nodes:[w]})})});for(var g in i)Fr(i,g)&&f.push(i[g]);for(var b in c)Fr(c,b)&&f.push(c[b]);return f},UO=function(e,n,a){var i=VO(e,n,a);yt(i,function(c){yt(c.filter.callbacks,function(f){f(c.nodes,c.filter.name,{})})})},Q3="html",Px=function(e){return e instanceof Dc},Bx=function(e){Oc(e)&&Iu(e.getBody()).each(function(n){var a=n.getNode(),i=oi(a)?Iu(a).getOr(n):n;e.selection.setRng(i.toRange())})},eA=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&Bx(e)},AM=function(e,n,a,i){if(a=gs(a),a.length===0||/^\s+$/.test(a)){var c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+c+"</li>");var f=ou(e);f&&e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(a=c,a=e.dom.createHTML(f,ng(e),a)):a||(a='<br data-mce-bogus="1">'),eA(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=om({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=bd(R.fromDom(n))?a:Rt.trim(a),eA(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},OM=function(e,n,a,i){UO(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var c=om({validate:e.validate},e.schema).serialize(a);return i.content=gs(bd(R.fromDom(n))?c:Rt.trim(c)),eA(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},DM=function(e,n){return ir(ir({format:Q3},e),{set:!0,content:Px(n)?"":n})},_M=function(e,n,a){var i=DM(a,n),c=a.no_events?i:e.fire("BeforeSetContent",i);return Px(n)||(n=c.content),K.from(e.getBody()).fold(B(n),function(f){return Px(n)?OM(e,f,n,c):AM(e,f,n,c)})},RM=function(e,n){return q0(e,n).isSome()},WO=function(e){return Ae(e)?e:Se},PM=function(e,n,a){for(var i=e.dom,c=WO(a);i.parentNode;){i=i.parentNode;var f=R.fromDom(i),g=n(f);if(g.isSome())return g;if(c(f))break}return K.none()},tA=function(e,n,a){var i=n(e),c=WO(a);return i.orThunk(function(){return c(e)?K.none():PM(e,n,c)})},nA=vw,rA=function(e,n,a){var i=e.formatter.get(a);if(i)for(var c=0;c<i.length;c++){var f=i[c];if(zs(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},aA=function(e,n,a,i,c){var f=e.dom.getRoot();return n===f?!1:(n=e.dom.getParent(n,function(g){return rA(e,g,a)?!0:g.parentNode===f||!!id(e,g,a,i,!0)}),!!id(e,n,a,i,c))},Mx=function(e,n,a){if(nA(n,a.inline)||nA(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},hf=function(e,n,a,i,c,f){var g=a[i];if(Ae(a.onmatch))return a.onmatch(n,a,i);if(g){if($e(g.length)){for(var b in g)if(Fr(g,b)){var w=i==="attributes"?e.getAttrib(n,b):Sg(e,n,b),O=sf(g[b],f),N=un(w)||En(w);if(N&&un(O))continue;if(c&&N&&!a.exact||(!c||a.exact)&&!nA(w,dw(e,O,b)))return!1}}else for(var L=0;L<g.length;L++)if(i==="attributes"?e.getAttrib(n,g[L]):Sg(e,n,g[L]))return!0}return!0},id=function(e,n,a,i,c){var f=e.formatter.get(a),g=e.dom;if(f&&n)for(var b=0;b<f.length;b++){var w=f[b];if(Mx(e.dom,n,w)&&hf(g,n,w,"attributes",c,i)&&hf(g,n,w,"styles",c,i)){var O=w.classes;if(O){for(var N=0;N<O.length;N++)if(!e.dom.hasClass(n,sf(O[N],i)))return}return w}}},Fx=function(e,n,a,i,c){if(i)return aA(e,i,n,a,c);if(i=e.selection.getNode(),aA(e,i,n,a,c))return!0;var f=e.selection.getStart();return!!(f!==i&&aA(e,f,n,a,c))},oA=function(e,n,a){var i=[],c={},f=e.selection.getStart();return e.dom.getParent(f,function(g){for(var b=0;b<n.length;b++){var w=n[b];!c[w]&&id(e,g,w,a)&&(c[w]=!0,i.push(w))}},e.dom.getRoot()),i},iA=function(e,n){var a=function(c){return Br(c,R.fromDom(e.getBody()))},i=function(c,f){return id(e,c.dom,f)?K.some(f):K.none()};return K.from(e.selection.getStart(!0)).bind(function(c){return tA(R.fromDom(c),function(f){return Ve(n,function(g){return i(f,g)})},a)}).getOrNull()},jO=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var c=e.selection.getStart(),f=Xp(i,c),g=a.length-1;g>=0;g--){var b=a[g];if(!zs(b)||Vt(b.defaultBlock))return!0;for(var w=f.length-1;w>=0;w--)if(i.is(f[w],b.selector))return!0}return!1},GO=function(e,n,a){return Cn(a,function(i,c){var f=pS(e,c);return e.formatter.matchNode(n,c,{},f)?i.concat([c]):i},[])},t0=Ie,qO="_mce_caret",uA=function(e,n){return e.importNode(n,!0)},KO=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==t0||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},bf=function(e){return KO(e).length>0},XO=function(e){if(e){var n=new Ua(e,e);for(e=n.current();e;e=n.next())if(Jn(e))return e}return null},sA=function(e){var n=R.fromTag("span");return $(n,{id:qO,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&wi(n,R.fromText(t0)),n},BM=function(e){var n=XO(e);return n&&n.nodeValue.charAt(0)===t0&&n.deleteData(0,1),n},v2=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(bf(n))cn(e,!1,R.fromDom(n),a);else{var f=c.getRng(),g=i.getParent(n,i.isBlock),b=f.startContainer,w=f.startOffset,O=f.endContainer,N=f.endOffset,L=BM(n);i.remove(n,!0),b===L&&w>0&&f.setStart(L,w-1),O===L&&N>0&&f.setEnd(L,N-1),g&&i.isEmpty(g)&&im(R.fromDom(g)),c.setRng(f)}},cA=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(n)v2(e,n,a);else if(n=jd(e.getBody(),c.getStart()),!n)for(;n=i.get(qO);)v2(e,n,!1)},MM=function(e,n,a){var i=e.dom,c=i.getParent(a,Xe(fw,e));c&&i.isEmpty(c)?a.parentNode.replaceChild(n,a):(P3(R.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},Nx=function(e,n){return e.appendChild(n),n},YO=function(e,n){var a=St(e,function(i,c){return Nx(i,c.cloneNode(!1))},n);return Nx(a,a.ownerDocument.createTextNode(t0))},FM=function(e,n,a,i,c,f){var g=e.formatter,b=e.dom,w=be(nn(g.get()),function(H){return H!==i&&!It(H,"removeformat")}),O=GO(e,a,w),N=be(O,function(H){return!XE(e,H,i)});if(N.length>0){var L=a.cloneNode(!1);return b.add(n,L),g.remove(i,c,L,f),b.remove(L),K.some(L)}else return K.none()},ZO=function(e,n,a){var i,c,f=e.selection,g=f.getRng(),b=g.startOffset,w=g.startContainer,O=w.nodeValue;i=jd(e.getBody(),f.getStart()),i&&(c=XO(i));var N=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(O&&b>0&&b<O.length&&N.test(O.charAt(b))&&N.test(O.charAt(b-1))){var L=f.getBookmark();g.collapse(!0);var H=Kv(e,g,e.formatter.get(n));H=ev(H),e.formatter.apply(n,a,H),f.moveToBookmark(L)}else(!i||c.nodeValue!==t0)&&(i=uA(e.getDoc(),sA(!0).dom),c=i.firstChild,g.insertNode(i),b=1),e.formatter.apply(n,a,i),f.setCursorLocation(c,b)},NM=function(e,n,a,i){var c=e.dom,f=e.selection,g,b,w,O=[],N=f.getRng(),L=N.startContainer,H=N.startOffset;for(b=L,L.nodeType===3&&(H!==L.nodeValue.length&&(g=!0),b=b.parentNode);b;){if(id(e,b,n,a,i)){w=b;break}b.nextSibling&&(g=!0),O.push(b),b=b.parentNode}if(w)if(g){var J=f.getBookmark();N.collapse(!0);var ee=Kv(e,N,e.formatter.get(n),!0);ee=ev(ee),e.formatter.remove(n,a,ee,i),f.moveToBookmark(J)}else{var te=jd(e.getBody(),w),re=sA(!1).dom;MM(e,re,te!==null?te:w);var pe=FM(e,re,w,n,a,i),de=YO(O.concat(pe.toArray()),re);v2(e,te,!1),f.setCursorLocation(de,1),c.isEmpty(w)&&c.remove(w)}},IM=function(e,n){var a=e.selection,i=e.getBody();cA(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===t0&&cA(e,jd(i,a.getStart())),(n===37||n===39)&&cA(e,jd(i,a.getStart()))},Ix=function(e){e.on("mouseup keydown",function(n){IM(e,n.keyCode)})},$M=function(e,n){var a=sA(!1),i=YO(n,a.dom);return Zi(R.fromDom(e),a),Lo(R.fromDom(e)),At(i,0)},JO=function(e,n){var a=e.schema.getTextInlineElements();return Fr(a,La(n))&&!uf(n.dom)&&!Jo(n.dom)},QO=function(e){return uf(e.dom)&&bf(e.dom)},n0={},eD=To,tD=ko,lA=function(e,n){var a=n0[e];a||(n0[e]=[]),n0[e].push(n)},LM=function(e,n){tD(n0[e],function(a){a(n)})};lA("pre",function(e){var n=e.selection.getRng(),a,i=function(g){return f(g.previousSibling)&&bo(a,g.previousSibling)!==-1},c=function(g,b){ea(b).remove(),ea(g).append("<br><br>").append(b.childNodes)},f=Zs(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),tD(eD(eD(a,f),i),function(g){c(g.previousSibling,g)}))});var fA=Rt.each,Eh=function(e){return Nr(e)&&!Cs(e)&&!uf(e)&&!Jo(e)},$x=function(e,n){for(var a=e;a;a=a[n]){if(Jn(a)&&ot(a.data))return e;if(Nr(a)&&!Cs(a))return a}return e},nD=function(e,n,a){var i=ix(e);if(n&&a&&(n=$x(n,"previousSibling"),a=$x(a,"nextSibling"),i.compare(n,a))){for(var c=n.nextSibling;c&&c!==a;){var f=c;c=c.nextSibling,n.appendChild(f)}return e.remove(a),Rt.each(Rt.grep(a.childNodes),function(g){n.appendChild(g)}),n}return a},rD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var c=nD(e,pb(i),i);nD(e,c,pb(c,!0))}},aD=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";fA(e.select(i,a),function(c){Eh(c)&&fA(n.styles,function(f,g){e.setStyle(c,g,"")})})}},Lx=function(e,n,a){fA(e.childNodes,function(i){Eh(i)&&(n(i)&&a(i),i.hasChildNodes()&&Lx(i,n,a))})},zM=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},oD=function(e,n){return function(a){return!!(a&&Sg(e,a,n))}},iD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),zM(e,i)}},d2=br.generate([{keep:[]},{rename:["name"]},{removed:[]}]),uD=/^(src|href|style)$/,zx=Rt.each,r0=vw,HM=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},sD=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},cD=function(e,n,a){var i=n[a?"startContainer":"endContainer"],c=n[a?"startOffset":"endOffset"];if(Nr(i)){var f=i.childNodes.length-1;!a&&c&&c--,i=i.childNodes[c>f?f:c]}return Jn(i)&&a&&c>=i.nodeValue.length&&(i=new Ua(i,e.getBody()).next()||i),Jn(i)&&!a&&c===0&&(i=new Ua(i,e.getBody()).prev()||i),i},lD=function(e,n){var a=n?"firstChild":"lastChild";if(HM(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},vA=function(e,n,a,i){var c=e.create(a,i);return n.parentNode.insertBefore(c,n),c.appendChild(n),c},a0=function(e,n,a,i,c){var f=R.fromDom(n),g=R.fromDom(e.create(i,c)),b=a?mo(f):Da(f);return Rf(g,b),a?(Zi(f,g),yc(g,f)):(wv(f,g),wi(g,f)),g.dom},VM=function(e,n,a){if(uu(a)&&r0(n,a.inline)||cf(a)&&r0(n,a.block))return!0;if(zs(a))return Nr(n)&&e.is(n,a.selector)},fD=function(e,n){return n.links&&e.nodeName==="A"},o0=function(e,n,a,i){var c=pb(n,a,i);return un(c)||c.nodeName==="BR"||e.isBlock(c)},UM=function(e,n,a){var i=n.parentNode,c,f=e.dom,g=ou(e);cf(a)&&(g?i===f.getRoot()&&(!a.list_block||!r0(n,a.list_block))&&yt(hn(n.childNodes),function(b){Cg(e,g,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=vA(f,b,g),f.setAttribs(c,e.settings.forced_root_block_attrs)):c=null}):f.isBlock(n)&&!f.isBlock(i)&&(!o0(f,n,!1)&&!o0(f,n.firstChild,!0,!0)&&n.insertBefore(f.create("br"),n.firstChild),!o0(f,n,!0)&&!o0(f,n.lastChild,!1,!0)&&n.appendChild(f.create("br")))),!(YE(a)&&!r0(a.inline,n))&&f.remove(n,!0)},dA=function(e,n,a,i,c){var f,g=e.dom;if(!VM(g,i,n)&&!fD(i,n))return d2.keep();var b=i;if(uu(n)&&n.remove==="all"&&_t(n.preserve_attributes)){var w=be(g.getAttribs(b),function(H){return Me(n.preserve_attributes,H.name.toLowerCase())});if(g.removeAllAttribs(b),yt(w,function(H){return g.setAttrib(b,H.name,H.value)}),w.length>0)return d2.rename("span")}if(n.remove!=="all"){zx(n.styles,function(H,J){H=dw(g,sf(H,a),J+""),st(J)&&(J=H,c=null),(n.remove_similar||!c||r0(Sg(g,c,J),H))&&g.setStyle(b,J,""),f=!0}),f&&g.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),zx(n.attributes,function(H,J){var ee;if(H=sf(H,a),st(J)&&(J=H,c=null),n.remove_similar||!c||r0(g.getAttrib(c,J),H)){if(J==="class"&&(H=g.getAttrib(b,J),H&&(ee="",yt(H.split(/\s+/),function(te){/mce\-\w+/.test(te)&&(ee+=(ee?" ":"")+te)}),ee))){g.setAttrib(b,J,ee);return}if(uD.test(J)&&b.removeAttribute("data-mce-"+J),J==="style"&&Zs(["li"])(b)&&g.getStyle(b,"list-style-type")==="none"){b.removeAttribute(J),g.setStyle(b,"list-style-type","none");return}J==="class"&&b.removeAttribute("className"),b.removeAttribute(J)}}),zx(n.classes,function(H){H=sf(H,a),(!c||g.hasClass(c,H))&&g.removeClass(b,H)});for(var O=g.getAttribs(b),N=0;N<O.length;N++){var L=O[N].nodeName;if(L.indexOf("_")!==0&&L.indexOf("data-")!==0)return d2.keep()}}return n.remove!=="none"?(UM(e,b,n),d2.removed()):d2.keep()},Ah=function(e,n,a,i,c){return dA(e,n,a,i,c).fold(Se,function(f){return e.dom.rename(i,f),!0},Nt)},WM=function(e,n,a,i,c){var f;return yt(Xp(e.dom,n.parentNode).reverse(),function(g){if(!f&&g.id!=="_start"&&g.id!=="_end"){var b=id(e,g,a,i,c);b&&b.split!==!1&&(f=g)}}),f},jM=function(e,n,a,i){return dA(e,n,a,i,i).fold(B(i),function(c){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,c)},B(null))},GM=function(e,n,a,i,c,f,g,b){var w,O,N,L=e.dom;if(a){for(var H=a.parentNode,J=i.parentNode;J&&J!==H;J=J.parentNode){w=L.clone(J,!1);for(var ee=0;ee<n.length&&(w=jM(e,n[ee],b,w),w!==null);ee++);w&&(O&&w.appendChild(O),N||(N=w),O=w)}f&&(!g.mixed||!L.isBlock(a))&&(i=L.split(a,i)),O&&(c.parentNode.insertBefore(O,c),N.appendChild(c),uu(g)&&rD(L,g,b,O))}return i},vD=function(e,n,a,i,c){var f=e.formatter.get(n),g=f[0],b=!0,w=e.dom,O=e.selection,N=function(de){var Je=WM(e,de,n,a,c);return GM(e,f,Je,de,de,!0,g,a)},L=function(de){return Cs(de)&&Nr(de)&&(de.id==="_start"||de.id==="_end")},H=function(de){return bt(f,function(Je){return Ah(e,Je,a,de,de)})},J=function(de){var Je=!0,je=!1;Nr(de)&&w.getContentEditable(de)&&(Je=b,b=w.getContentEditable(de)==="true",je=!0);var ke=hn(de.childNodes);if(b&&!je){var tt=H(de),Ut=tt||bt(f,function(Kt){return Mx(w,de,Kt)}),bn=de.parentNode;!Ut&&Vt(bn)&&gw(g)&&H(bn)}if(g.deep&&ke.length){for(var Ar=0;Ar<ke.length;Ar++)J(ke[Ar]);je&&(b=Je)}var jn=["underline","line-through","overline"];yt(jn,function(Kt){Nr(de)&&e.dom.getStyle(de,"text-decoration")===Kt&&de.parentNode&&mw(w,de.parentNode)===Kt&&Ah(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Kt}},null,de)})},ee=function(de){var Je=w.get(de?"_start":"_end"),je=Je[de?"firstChild":"lastChild"];return L(je)&&(je=je[de?"firstChild":"lastChild"]),Jn(je)&&je.data.length===0&&(je=de?Je.previousSibling||Je.nextSibling:Je.nextSibling||Je.previousSibling),w.remove(Je,!0),je},te=function(de){var Je,je,ke=Kv(e,de,f,de.collapsed);if(g.split){if(ke=ev(ke),Je=cD(e,ke,!0),je=cD(e,ke),Je!==je){if(Je=lD(Je,!0),je=lD(je,!1),sD(w,Je,je)){var tt=K.from(Je.firstChild).getOr(Je);N(a0(w,tt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ee(!0);return}if(sD(w,je,Je)){var tt=K.from(je.lastChild).getOr(je);N(a0(w,tt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ee(!1);return}Je=vA(w,Je,"span",{id:"_start","data-mce-type":"bookmark"}),je=vA(w,je,"span",{id:"_end","data-mce-type":"bookmark"});var Ut=w.createRng();Ut.setStartAfter(Je),Ut.setEndBefore(je),Jp(w,Ut,function(bn){yt(bn,function(Ar){!Cs(Ar)&&!Cs(Ar.parentNode)&&N(Ar)})}),N(Je),N(je),Je=ee(!0),je=ee()}else Je=je=N(Je);ke.startContainer=Je.parentNode?Je.parentNode:Je,ke.startOffset=w.nodeIndex(Je),ke.endContainer=je.parentNode?je.parentNode:je,ke.endOffset=w.nodeIndex(je)+1}Jp(w,ke,function(bn){yt(bn,J)})};if(i){if(gb(i)){var re=w.createRng();re.setStartBefore(i),re.setEndAfter(i),te(re)}else te(i);Qp(e,n,i,a);return}if(w.getContentEditable(O.getNode())==="false"){i=O.getNode();for(var pe=0;pe<f.length&&!(f[pe].ceFalseOverride&&Ah(e,f[pe],a,i,i));pe++);Qp(e,n,i,a);return}!O.isCollapsed()||!uu(g)||lf(e).length?(Eg(O,!0,function(){Xd(e,te)}),uu(g)&&Fx(e,n,a,O.getStart())&&gS(w,O,O.getRng()),e.nodeChanged()):NM(e,n,a,c),Qp(e,n,i,a)},dD=Rt.each,qM=function(e,n,a,i){var c=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var g=mw(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Rt.walk(i,c,"childNodes"),c(i))},KM=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&Lx(i,oD(e,"fontSize"),iD(e,"backgroundColor",sf(n.styles.backgroundColor,a)))},XM=function(e,n,a,i){uu(n)&&(n.inline==="sub"||n.inline==="sup")&&(Lx(i,oD(e,"fontSize"),iD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},YM=function(e,n,a,i){dD(n,function(c){uu(c)&&dD(e.dom.select(c.inline,i),function(f){Eh(f)&&Ah(e,c,a,f,c.exact?f:null)}),aD(e.dom,c,i)})},ZM=function(e,n,a,i,c){id(e,c.parentNode,a,i)&&Ah(e,n,i,c)||n.merge_with_parents&&e.dom.getParent(c.parentNode,function(f){if(id(e,f,a,i))return Ah(e,n,i,c),!0})},Hx=Rt.each,mA=function(e){return Nr(e)&&!Cs(e)&&!uf(e)&&!Jo(e)},iv=function(e,n,a,i){if(Hd(e)&&uu(n)){var c=l1(e.schema),f=RM(R.fromDom(a),function(g){return uf(g.dom)});return Xa(c,i)&&eu(R.fromDom(a.parentNode),!1)&&!f}else return!1},m2=function(e,n,a,i){var c=e.formatter.get(n),f=c[0],g=!i&&e.selection.isCollapsed(),b=e.dom,w=e.selection,O=function(Je,je){if(je===void 0&&(je=f),Ae(je.onformat)&&je.onformat(Je,je,a,i),Hx(je.styles,function(tt,Ut){b.setStyle(Je,Ut,sf(tt,a))}),je.styles){var ke=b.getAttrib(Je,"style");ke&&b.setAttrib(Je,"data-mce-style",ke)}Hx(je.attributes,function(tt,Ut){b.setAttrib(Je,Ut,sf(tt,a))}),Hx(je.classes,function(tt){tt=sf(tt,a),b.hasClass(Je,tt)||b.addClass(Je,tt)})},N=function(Je,je){var ke=!1;return Hx(Je,function(tt){if(!zs(tt))return!1;if(!(Vt(tt.collapsed)&&tt.collapsed!==g)&&b.is(je,tt.selector)&&!uf(je))return O(je,tt),ke=!0,!1}),ke},L=function(Je){if(Mt(Je)){var je=b.create(Je);return O(je),je}else return null},H=function(Je,je,ke){var tt=[],Ut=!0,bn=f.inline||f.block,Ar=L(bn);Jp(Je,je,function(jn){var Kt,gr=function(Sn){var Wn=!1,kn=Ut,In=Sn.nodeName.toLowerCase(),er=Sn.parentNode,ln=er.nodeName.toLowerCase();if(Nr(Sn)&&Je.getContentEditable(Sn)&&(kn=Ut,Ut=Je.getContentEditable(Sn)==="true",Wn=!0),to(Sn)&&!iv(e,f,Sn,ln)){Kt=null,cf(f)&&Je.remove(Sn);return}if(cf(f)&&f.wrapper&&id(e,Sn,n,a)){Kt=null;return}if(Ut&&!Wn&&cf(f)&&!f.wrapper&&fw(e,In)&&Cg(e,ln,bn)){var Xn=Je.rename(Sn,bn);O(Xn),tt.push(Xn),Kt=null;return}if(zs(f)){var ca=N(c,Sn);if(!ca&&Vt(er)&&gw(f)&&(ca=N(c,er)),!uu(f)||ca){Kt=null;return}}Ut&&!Wn&&Cg(e,bn,In)&&Cg(e,ln,bn)&&!(!ke&&Jn(Sn)&&qu(Sn.data))&&!uf(Sn)&&(!uu(f)||!Je.isBlock(Sn))?(Kt||(Kt=Je.clone(Ar,!1),Sn.parentNode.insertBefore(Kt,Sn),tt.push(Kt)),Kt.appendChild(Sn)):(Kt=null,yt(hn(Sn.childNodes),gr),Wn&&(Ut=kn),Kt=null)};yt(jn,gr)}),f.links===!0&&yt(tt,function(jn){var Kt=function(gr){gr.nodeName==="A"&&O(gr,f),yt(hn(gr.childNodes),Kt)};Kt(jn)}),yt(tt,function(jn){var Kt=function(Wn){var kn=0;return yt(Wn.childNodes,function(In){!KE(In)&&!Cs(In)&&kn++}),kn},gr=function(Wn){var kn=Kn(Wn.childNodes,mA).filter(function(In){return Mx(Je,In,f)});return kn.map(function(In){var er=Je.clone(In,!1);return O(er),Je.replace(er,Wn,!0),Je.remove(In,!0),er}).getOr(Wn)},Sn=Kt(jn);if((tt.length>1||!Je.isBlock(jn))&&Sn===0){Je.remove(jn,!0);return}(uu(f)||cf(f)&&f.wrapper)&&(!f.exact&&Sn===1&&(jn=gr(jn)),YM(e,c,a,jn),ZM(e,f,n,a,jn),KM(Je,f,a,jn),qM(Je,f,a,jn),XM(Je,f,a,jn),rD(Je,f,a,jn))})};if(b.getContentEditable(w.getNode())==="false"){i=w.getNode();for(var J=0,ee=c.length;J<ee;J++){var te=c[J];if(te.ceFalseOverride&&zs(te)&&b.is(i,te.selector)){O(i,te);break}}Dw(e,n,i,a);return}if(f){if(i)if(gb(i)){if(!N(c,i)){var re=b.createRng();re.setStartBefore(i),re.setEndAfter(i),H(b,Kv(e,re,c),!0)}}else H(b,i,!0);else if(!g||!uu(f)||lf(e).length){var pe=w.getNode(),de=c[0];!e.settings.forced_root_block&&de.defaultBlock&&!b.getParent(pe,b.isBlock)&&m2(e,de.defaultBlock),w.setRng(j3(w.getRng())),Eg(w,!0,function(){Xd(e,function(Je,je){var ke=je?Je:Kv(e,Je,c);H(b,ke,!1)})}),gS(b,w,w.getRng()),e.nodeChanged()}else ZO(e,n,a);LM(n,e)}Dw(e,n,i,a)},Vx=function(e){return Fr(e,"vars")},gA=function(e,n){e.set({}),n.on("NodeChange",function(a){hA(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=K.from(a.node).map(function(c){return gb(c)?c:c.startContainer}).bind(function(c){return Nr(c)?K.some(c):K.from(c.parentElement)}).getOrThunk(function(){return mD(n)});hA(n,i,e.get())})},mD=function(e){return e.selection.getStart()},pA=function(e,n,a,i,c){var f=function(b){var w=e.formatter.matchNode(b,a,c??{},i);return!$e(w)},g=function(b){return rA(e,b,a)?!0:i?!1:Vt(e.formatter.matchNode(b,a,c,!0))};return Wt(n,f,g)},gD=function(e,n){var a=n??mD(e);return be(Xp(e.dom,a),function(i){return Nr(i)&&!Jo(i)})},hA=function(e,n,a){var i=gD(e,n);yn(a,function(c,f){var g=function(b){var w=pA(e,i,f,b.similar,Vx(b)?b.vars:void 0),O=w.isSome();if(b.state.get()!==O){b.state.set(O);var N=w.getOr(n);Vx(b)?b.callback(O,{node:N,format:f,parents:i}):yt(b.callbacks,function(L){return L(O,{node:N,format:f,parents:i})})}};yt([c.withSimilar,c.withoutSimilar],g),yt(c.withVars,g)})},bA=function(e,n,a,i,c,f){var g=n.get();yt(a.split(","),function(b){var w=Dr(g,b).getOrThunk(function(){var L={withSimilar:{state:Yu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Yu(!1),similar:!1,callbacks:[]},withVars:[]};return g[b]=L,L}),O=function(){var L=gD(e);return pA(e,L,b,c,f).isSome()};if($e(f)){var N=c?w.withSimilar:w.withoutSimilar;N.callbacks.push(i),N.callbacks.length===1&&N.state.set(O())}else w.withVars.push({state:Yu(O()),similar:c,vars:f,callback:i})}),n.set(g)},JM=function(e,n,a){var i=e.get();yt(n.split(","),function(c){return Dr(i,c).each(function(f){i[c]={withSimilar:ir(ir({},f.withSimilar),{callbacks:be(f.withSimilar.callbacks,function(g){return g!==a})}),withoutSimilar:ir(ir({},f.withoutSimilar),{callbacks:be(f.withoutSimilar.callbacks,function(g){return g!==a})}),withVars:be(f.withVars,function(g){return g.callback!==a})}})}),e.set(i)},pD=function(e,n,a,i,c,f){return n.get()===null&&gA(n,e),bA(e,n,a,i,c,f),{unbind:function(){return JM(n,a,i)}}},QM=function(e,n,a,i){var c=e.formatter.get(n);Fx(e,n,a,i)&&(!("toggle"in c[0])||c[0].toggle)?vD(e,n,a,i):m2(e,n,a,i)},Oh=function(e,n){var a=n||document,i=a.createDocumentFragment();return yt(e,function(c){i.appendChild(c.dom)}),R.fromDom(i)},Ux=function(e,n,a){return{element:e,width:n,rows:a}},hD=function(e,n){return{element:e,cells:n}},bD=function(e,n){return{x:e,y:n}},yD=function(e,n){var a=parseInt(W(e,n),10);return isNaN(a)?1:a},eF=function(e,n,a,i,c){for(var f=yD(c,"rowspan"),g=yD(c,"colspan"),b=e.rows,w=a;w<a+f;w++){b[w]||(b[w]=hD(N1(i),[]));for(var O=n;O<n+g;O++){var N=b[w].cells;N[O]=w===a&&O===n?c:di(c)}}},tF=function(e,n,a){var i=e.rows,c=i[a]?i[a].cells:[];return!!c[n]},nF=function(e,n,a){for(;tF(e,n,a);)n++;return n},wD=function(e){return Cn(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},yA=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var c=a[i].cells,f=0;f<c.length;f++)if(Br(c[f],n))return K.some(bD(f,i));return K.none()},CD=function(e,n,a,i,c){for(var f=[],g=e.rows,b=a;b<=c;b++){var w=g[b].cells,O=n<i?w.slice(n,i+1):w.slice(i,n+1);f.push(hD(g[b].element,O))}return f},wA=function(e,n,a){var i=n.x,c=n.y,f=a.x,g=a.y,b=c<g?CD(e,i,c,f,g):CD(e,i,g,f,c);return Ux(e.element,wD(b),b)},i0=function(e,n){var a=di(e.element),i=R.fromTag("tbody");return Rf(i,n),wi(a,i),a},rF=function(e){return qt(e.rows,function(n){var a=qt(n.cells,function(c){var f=N1(c);return Bt(f,"colspan"),Bt(f,"rowspan"),f}),i=di(n.element);return Rf(i,a),i})},aF=function(e){var n=Ux(di(e),0,[]);return yt(au(e,"tr"),function(a,i){yt(au(a,"td,th"),function(c,f){eF(n,nF(n,f,i),i,a,c)})}),Ux(n.element,wD(n.rows),n.rows)},Wx=function(e){return i0(e,rF(e))},CA=function(e,n,a){return yA(e,n).bind(function(i){return yA(e,a).map(function(c){return wA(e,i,c)})})},oF=function(e){return Kn(e,function(n){return La(n)==="ul"||La(n)==="ol"})},iF=function(e,n){return Kn(e,function(a){return La(a)==="li"&&tl(a,n)}).fold(B([]),function(a){return oF(e).map(function(i){var c=R.fromTag(La(i)),f=Zn(zo(i),function(g,b){return F(b,"list-style")});return ga(c,f),[R.fromTag("li"),c]}).getOr([])})},SD=function(e,n){var a=Cn(n,function(i,c){return wi(c,i),c},e);return n.length>0?Oh([a]):a},SA=function(e){return xu(e)?$o(e).filter(qc).fold(B([]),function(n){return[e,n]}):qc(e)?[e]:[]},uF=function(e,n){var a=R.fromDom(n.commonAncestorContainer),i=dr(a,e),c=be(i,function(b){return Bu(b)||Ir(b)}),f=iF(i,n),g=c.concat(f.length?f:SA(a));return qt(g,di)},g2=function(){return Oh([])},fm=function(e,n){return SD(R.fromDom(n.cloneContents()),uF(e,n))},sF=function(e,n){return hd(n,"table",Xe(Br,e))},xA=function(e,n){return sF(e,n[0]).bind(function(a){var i=n[0],c=n[n.length-1],f=aF(a);return CA(f,i,c).map(function(g){return Oh([Wx(g)])})}).getOrThunk(g2)},cF=function(e,n){return n.length>0&&n[0].collapsed?g2():fm(e,n[0])},lF=function(e,n){var a=Qf(n,e);return a.length>0?xA(e,a):cF(e,n)},fF=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},jx=function(e,n){return n>=0&&n<e.length&&qv(e.charAt(n))},kA=function(e,n){var a=gs(e.innerText);return n?fF(a):a},vF=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},u0=function(e){return K.from(e.selection.getRng()).map(function(n){var a=K.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=vF(a),f=Sr.browser.isIE()&&c!=="pre",g=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),b=kA(g,f),w=gs(g.textContent);if(e.dom.remove(g),jx(w,0)||jx(w,w.length-1)){var O=a.getOr(i),N=kA(O,f),L=N.indexOf(b);if(L===-1)return b;var H=jx(N,L-1),J=jx(N,L+b.length);return(H?" ":"")+b+(J?" ":"")}else return b}).getOr("")},dF=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),f=$b(e,yw(c)),g=n.contextual?lF(R.fromDom(e.getBody()),f).dom:a.cloneContents();return g&&i.appendChild(g),e.selection.serializer.serialize(i,n)},mF=function(e,n){return ir(ir({},e),{format:n,get:!0,selection:!0})},gF=function(e,n,a){a===void 0&&(a={});var i=mF(a,n),c=e.fire("BeforeGetContent",i);if(c.isDefaultPrevented())return e.fire("GetContent",c),c.content;if(c.format==="text")return u0(e);c.getInner=!0;var f=dF(e,c);return c.format==="tree"?f:(c.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",c),c.content)},TA=0,EA=1,xD=2,pF=function(e,n){var a=e.length+n.length+2,i=new Array(a),c=new Array(a),f=function(N,L,H){return{start:N,end:L,diag:H}},g=function(N,L,H,J,ee){var te=w(N,L,H,J);if(te===null||te.start===L&&te.diag===L-J||te.end===N&&te.diag===N-H)for(var re=N,pe=H;re<L||pe<J;)re<L&&pe<J&&e[re]===n[pe]?(ee.push([TA,e[re]]),++re,++pe):L-N>J-H?(ee.push([xD,e[re]]),++re):(ee.push([EA,n[pe]]),++pe);else{g(N,te.start,H,te.start-te.diag,ee);for(var de=te.start;de<te.end;++de)ee.push([TA,e[de]]);g(te.end,L,te.end-te.diag,J,ee)}},b=function(N,L,H,J){for(var ee=N;ee-L<J&&ee<H&&e[ee]===n[ee-L];)++ee;return f(N,ee,L)},w=function(N,L,H,J){var ee=L-N,te=J-H;if(ee===0||te===0)return null;var re=ee-te,pe=te+ee,de=(pe%2===0?pe:pe+1)/2;i[1+de]=N,c[1+de]=L+1;var Je,je,ke,tt,Ut;for(Je=0;Je<=de;++Je){for(je=-Je;je<=Je;je+=2){for(ke=je+de,je===-Je||je!==Je&&i[ke-1]<i[ke+1]?i[ke]=i[ke+1]:i[ke]=i[ke-1]+1,tt=i[ke],Ut=tt-N+H-je;tt<L&&Ut<J&&e[tt]===n[Ut];)i[ke]=++tt,++Ut;if(re%2!==0&&re-Je<=je&&je<=re+Je&&c[ke-re]<=i[ke])return b(c[ke-re],je+N-H,L,J)}for(je=re-Je;je<=re+Je;je+=2){for(ke=je+de-re,je===re-Je||je!==re+Je&&c[ke+1]<=c[ke-1]?c[ke]=c[ke+1]-1:c[ke]=c[ke-1],tt=c[ke]-1,Ut=tt-N+H-je;tt>=N&&Ut>=H&&e[tt]===n[Ut];)c[ke]=tt--,Ut--;if(re%2===0&&-Je<=je&&je<=Je&&c[ke]<=i[ke+re])return b(c[ke],je+N-H,L,J)}}},O=[];return g(0,e.length,0,n.length,O),O},AA=function(e){return Nr(e)?e.outerHTML:Jn(e)?rc.encodeRaw(e.data,!1):$f(e)?"<!--"+e.data+"-->":""},hF=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},bF=function(e,n,a){var i=hF(n);if(e.hasChildNodes()&&a<e.childNodes.length){var c=e.childNodes[a];c.parentNode.insertBefore(i,c)}else e.appendChild(i)},yF=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},wF=function(e,n){var a=0;yt(e,function(i){i[0]===TA?a++:i[0]===EA?(bF(n,i[1],a),a++):i[0]===xD&&yF(n,a)})},CF=function(e,n){return be(qt(hn(e.childNodes),n?Ue(gs,AA):AA),function(a){return a.length>0})},SF=function(e,n){var a=qt(hn(n.childNodes),AA);return wF(pF(a,e),n),n},xF=hi(function(){return document.implementation.createHTMLDocument("undo")}),OA=function(e){return e.querySelector("iframe")!==null},kD=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},kF=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},s0=function(e){var n=e.serializer.getTempAttrs(),a=am(e.getBody(),n);return OA(a)?kD(CF(a,!0)):kF(gs(a.innerHTML))},Gx=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?SF(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Vt(i)&&sS(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},Dh=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},c0=function(e){var n=R.fromTag("body",xF());return Qu(n,Dh(e)),yt(au(n,"*[data-mce-bogus]"),Bf),Ju(n)},TD=function(e,n){return Dh(e)===Dh(n)},TF=function(e,n){return c0(e)===c0(n)},qx=function(e,n){return!e||!n?!1:TD(e,n)?!0:TF(e,n)},DA=function(e){return e.get()===0},Kx=function(e,n,a){DA(a)&&(e.typing=n)},ED=function(e,n){e.typing&&(Kx(e,!1,n),e.add())},EF=function(e){e.typing&&(e.typing=!1,e.add())},AF=function(e,n,a){DA(n)&&a.set(IC(e.selection))},AD=function(e,n,a,i,c,f,g){var b=s0(e);if(f=f||{},f=Rt.extend(f,b),DA(i)===!1||e.removed)return null;var w=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:w,originalEvent:g}).isDefaultPrevented()||w&&qx(w,f))return null;n.data[a.get()]&&c.get().each(function(H){n.data[a.get()].beforeBookmark=H});var O=Gp(e);if(O&&n.data.length>O){for(var N=0;N<n.data.length-1;N++)n.data[N]=n.data[N+1];n.data.length--,a.set(n.data.length)}f.bookmark=IC(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(f),a.set(n.data.length-1);var L={level:f,lastLevel:w,originalEvent:g};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",L),e.fire("change",L)):e.fire("AddUndo",L),f},OF=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},p2=function(e,n,a,i,c){if(n.transact(i)){var f=n.data[a.get()].bookmark,g=n.data[a.get()-1];Gx(e,g,!0),n.transact(c)&&(n.data[a.get()-1].beforeBookmark=f)}},DF=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],Gx(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},_F=function(e,n,a,i){var c;return n.typing&&(n.add(),n.typing=!1,Kx(n,!1,a)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],Gx(e,c,!0),e.setDirty(!0),e.fire("Undo",{level:c})),c},RF=function(e){e.clear(),e.add()},PF=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!qx(s0(e),n.data[0])},OD=function(e,n){return n.get()<e.data.length-1&&!e.typing},DD=function(e,n,a){return ED(e,n),e.beforeChange(),e.ignore(a),e.add()},_D=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},RD=function(e,n){var a=e.dom,i=Vt(n)?n:e.getBody();$e(e.hasVisual)&&(e.hasVisual=XC(e)),yt(a.select("table,a",i),function(c){switch(c.nodeName){case"TABLE":var f=OE(e),g=a.getAttrib(c,"border");(!g||g==="0")&&e.hasVisual?a.addClass(c,f):a.removeClass(c,f);break;case"A":if(!a.getAttrib(c,"href")){var b=a.getAttrib(c,"name")||c.id,w=Xy(e);b&&e.hasVisual?a.addClass(c,w):a.removeClass(c,w)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},Xx=function(e){return{undoManager:{beforeChange:function(n,a){return AF(e,n,a)},add:function(n,a,i,c,f,g){return AD(e,n,a,i,c,f,g)},undo:function(n,a,i){return _F(e,n,a,i)},redo:function(n,a){return DF(e,n,a)},clear:function(n,a){return OF(e,n,a)},reset:function(n){return RF(n)},hasUndo:function(n,a){return PF(e,n,a)},hasRedo:function(n,a){return OD(n,a)},transact:function(n,a,i){return DD(n,a,i)},ignore:function(n,a){return _D(n,a)},extra:function(n,a,i,c){return p2(e,n,a,i,c)}},formatter:{match:function(n,a,i,c){return Fx(e,n,a,i,c)},matchAll:function(n,a){return oA(e,n,a)},matchNode:function(n,a,i,c){return id(e,n,a,i,c)},canApply:function(n){return jO(e,n)},closest:function(n){return iA(e,n)},apply:function(n,a,i){return m2(e,n,a,i)},remove:function(n,a,i,c){return vD(e,n,a,i,c)},toggle:function(n,a,i){return QM(e,n,a,i)},formatChanged:function(n,a,i,c,f){return pD(e,n,a,i,c,f)}},editor:{getContent:function(n,a){return t2(e,n,a)},setContent:function(n,a){return _M(e,n,a)},insertContent:function(n,a){return Z3(e,n,a)},addVisual:function(n){return RD(e,n)}},selection:{getContent:function(n,a){return gF(e,n,a)}},raw:{getModel:function(){return K.none()}}}},PD=function(e){var n=function(b){return Ke(b)?b:{}},a=e.undoManager,i=e.formatter,c=e.editor,f=e.selection,g=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(b,w,O){return a.transact(O)},ignore:function(b,w){return a.ignore(w)},extra:function(b,w,O,N){return a.extra(O,N)}},formatter:{match:function(b,w,O,N){return i.match(b,n(w),N)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(b){return i.canApply(b)},closest:function(b){return i.closest(b)},apply:function(b,w,O){return i.apply(b,n(w))},remove:function(b,w,O,N){return i.remove(b,n(w))},toggle:function(b,w,O){return i.toggle(b,n(w))},formatChanged:function(b,w,O,N,L){return i.formatChanged(w,O,N,L)}},editor:{getContent:function(b,w){return c.getContent(b)},setContent:function(b,w){return c.setContent(b,w)},insertContent:function(b,w){return c.insertContent(b)},addVisual:c.addVisual},selection:{getContent:function(b,w){return f.getContent(w)}},raw:{getModel:function(){return K.some(g.getRawModel())}}}},BF=function(){var e=B(null),n=B("");return{undoManager:{beforeChange:rt,add:e,undo:e,redo:e,clear:rt,reset:rt,hasUndo:Se,hasRedo:Se,transact:e,ignore:rt,extra:rt},formatter:{match:Se,matchAll:B([]),matchNode:B(void 0),canApply:Se,closest:n,apply:rt,remove:rt,toggle:rt,formatChanged:B({unbind:rt})},editor:{getContent:n,setContent:n,insertContent:rt,addVisual:rt},selection:{getContent:n},raw:{getModel:B(K.none())}}},vm=function(e){return Fr(e.plugins,"rtc")},MF=function(e){return Dr(e.plugins,"rtc").bind(function(n){return K.from(n.setup)})},FF=function(e){var n=e;return MF(e).fold(function(){return n.rtcInstance=Xx(e),K.none()},function(a){return n.rtcInstance=BF(),K.some(function(){return a().then(function(i){return n.rtcInstance=PD(i),i.rtc.isRemote})})})},_A=function(e){return e.rtcInstance?e.rtcInstance:Xx(e)},Bi=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},RA=function(e,n,a){Bi(e).undoManager.beforeChange(n,a)},BD=function(e,n,a,i,c,f,g){return Bi(e).undoManager.add(n,a,i,c,f,g)},Yx=function(e,n,a,i){return Bi(e).undoManager.undo(n,a,i)},ol=function(e,n,a){return Bi(e).undoManager.redo(n,a)},h2=function(e,n,a){Bi(e).undoManager.clear(n,a)},_h=function(e,n){Bi(e).undoManager.reset(n)},NF=function(e,n,a){return Bi(e).undoManager.hasUndo(n,a)},MD=function(e,n,a){return Bi(e).undoManager.hasRedo(n,a)},FD=function(e,n,a,i){return Bi(e).undoManager.transact(n,a,i)},IF=function(e,n,a){Bi(e).undoManager.ignore(n,a)},$F=function(e,n,a,i,c){Bi(e).undoManager.extra(n,a,i,c)},LF=function(e,n,a,i,c){return Bi(e).formatter.match(n,a,i,c)},ND=function(e,n,a){return Bi(e).formatter.matchAll(n,a)},Zx=function(e,n,a,i,c){return Bi(e).formatter.matchNode(n,a,i,c)},ID=function(e,n){return Bi(e).formatter.canApply(n)},$D=function(e,n){return Bi(e).formatter.closest(n)},Jx=function(e,n,a,i){Bi(e).formatter.apply(n,a,i)},zF=function(e,n,a,i,c){Bi(e).formatter.remove(n,a,i,c)},HF=function(e,n,a,i){Bi(e).formatter.toggle(n,a,i)},VF=function(e,n,a,i,c,f){return Bi(e).formatter.formatChanged(n,a,i,c,f)},UF=function(e,n,a){return _A(e).editor.getContent(n,a)},WF=function(e,n,a){return _A(e).editor.setContent(n,a)},jF=function(e,n,a){return _A(e).editor.insertContent(n,a)},GF=function(e,n,a){return Bi(e).selection.getContent(n,a)},qF=function(e,n){return Bi(e).editor.addVisual(n)},KF=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return GF(e,a,n)},LD=function(e){return e.dom.length===0?(Lo(e),K.none()):K.some(e)},XF=function(e,n){return e.filter(function(a){return Zv.isBookmarkNode(a.dom)}).bind(n?Ys:Df)},YF=function(e,n,a,i){var c=e.dom,f=n.dom,g=i?c.length:f.length;i?(Yb(c,f,!1,!i),a.setStart(f,g)):(Yb(f,c,!1,!i),a.setEnd(f,g))},PA=function(e,n){$o(e).each(function(a){var i=e.dom;n&&gf(a,At(i,0))?$g(i,0):!n&&yh(a,At(i,i.length))&&pa(i,i.length)})},zD=function(e,n,a,i){e.bind(function(c){var f=i?pa:$g;return f(c.dom,i?c.dom.length:0),n.filter(Po).map(function(g){return YF(c,g,a,i)})}).orThunk(function(){var c=XF(n,i).or(n).filter(Po);return c.map(function(f){return PA(f,i)})})},l0=function(e,n){var a=K.from(n.firstChild).map(R.fromDom),i=K.from(n.lastChild).map(R.fromDom);e.deleteContents(),e.insertNode(n);var c=a.bind(Df).filter(Po).bind(LD),f=i.bind(Ys).filter(Po).bind(LD);zD(c,a,e,!0),zD(f,i,e,!1),e.collapse(!1)},HD=function(e,n){return ir(ir({format:"html"},e),{set:!0,selection:!0,content:n})},Mi=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,ir(ir({isRootContent:!0,forced_root_block:!1},c),n));return om({validate:e.validate},e.schema).serialize(f)}else return n.content},ZF=function(e,n,a){a===void 0&&(a={});var i=HD(a,n),c=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else c=f}c.content=Mi(e,c);var g=e.selection.getRng();l0(g,g.createContextualFragment(c.content)),e.selection.setRng(g),ah(e,g),c.no_events||e.fire("SetContent",c)},VD=function(e,n,a){if(e&&Fr(e,n)){var i=be(e[n],function(c){return c!==a});i.length===0?delete e[n]:e[n]=i}};function JF(e,n){var a,i,c=function(g,b){return Kn(b,function(w){return e.is(w,g)})},f=function(g){return e.getParents(g,null,e.getRoot())};return{selectorChangedWithUnbind:function(g,b){return a||(a={},i={},n.on("NodeChange",function(w){var O=w.element,N=f(O),L={};Rt.each(a,function(H,J){c(J,N).each(function(ee){i[J]||(yt(H,function(te){te(!0,{node:ee,selector:J,parents:N})}),i[J]=H),L[J]=H})}),Rt.each(i,function(H,J){L[J]||(delete i[J],Rt.each(H,function(ee){ee(!1,{node:O,selector:J,parents:N})}))})})),a[g]||(a[g]=[]),a[g].push(b),c(g,f(n.selection.getStart())).each(function(){i[g]=a[g]}),{unbind:function(){VD(a,g,b),VD(i,g,b)}}}}}var UD=function(e){return!!e.select},Ml=function(e){return!!(e&&e.ownerDocument)&&qa(R.fromDom(e.ownerDocument),R.fromDom(e))},Qx=function(e){return e?UD(e)?!0:Ml(e.startContainer)&&Ml(e.endContainer):!1},f0=function(e,n,a,i){var c,f,g=JF(e,i).selectorChangedWithUnbind,b=function(ln,Xn){var ca=e.createRng();Vt(ln)&&Vt(Xn)?(ca.setStart(ln,Xn),ca.setEnd(ln,Xn),Je(ca),re(!1)):(Xv(e,ca,i.getBody(),!0),Je(ca))},w=function(ln){return KF(i,ln)},O=function(ln,Xn){return ZF(i,ln,Xn)},N=function(ln){return rm(i.getBody(),de(),ln)},L=function(ln){return Bg(i.getBody(),de(),ln)},H=function(ln,Xn){return In.getBookmark(ln,Xn)},J=function(ln){return In.moveToBookmark(ln)},ee=function(ln,Xn){return C3(e,ln,Xn).each(Je),ln},te=function(){var ln=de(),Xn=pe();return!ln||ln.item?!1:ln.compareEndPoints?ln.compareEndPoints("StartToEnd",ln)===0:!Xn||ln.collapsed},re=function(ln){var Xn=de();Xn.collapse(!!ln),Je(Xn)},pe=function(){return n.getSelection?n.getSelection():n.document.selection},de=function(){var ln,Xn,ca,Fa=function(Uo,ks,Fc){try{return ks.compareBoundaryPoints(Uo,Fc)}catch{return-1}},Ba=n.document;if(i.bookmark!==void 0&&Oc(i)===!1){var fu=_g(i);if(fu.isSome())return fu.map(function(Uo){return $b(i,[Uo])[0]}).getOr(Ba.createRange())}try{(ln=pe())&&!Ul(ln.anchorNode)&&(ln.rangeCount>0?Xn=ln.getRangeAt(0):Xn=ln.createRange?ln.createRange():Ba.createRange(),Xn=$b(i,[Xn])[0])}catch{}return Xn||(Xn=Ba.createRange?Ba.createRange():Ba.body.createTextRange()),Xn.setStart&&Xn.startContainer.nodeType===9&&Xn.collapsed&&(ca=e.getRoot(),Xn.setStart(ca,0),Xn.setEnd(ca,0)),c&&f&&(Fa(Xn.START_TO_START,Xn,c)===0&&Fa(Xn.END_TO_END,Xn,c)===0?Xn=f:(c=null,f=null)),Xn},Je=function(ln,Xn){var ca;if(Qx(ln)){var Fa=UD(ln)?ln:null;if(Fa){f=null;try{Fa.select()}catch{}return}var Ba=pe(),fu=i.fire("SetSelectionRange",{range:ln,forward:Xn});if(ln=fu.range,Ba){f=ln;try{Ba.removeAllRanges(),Ba.addRange(ln)}catch{}Xn===!1&&Ba.extend&&(Ba.collapse(ln.endContainer,ln.endOffset),Ba.extend(ln.startContainer,ln.startOffset)),c=Ba.rangeCount>0?Ba.getRangeAt(0):null}!ln.collapsed&&ln.startContainer===ln.endContainer&&Ba.setBaseAndExtent&&!Sr.ie&&ln.endOffset-ln.startOffset<2&&ln.startContainer.hasChildNodes()&&(ca=ln.startContainer.childNodes[ln.startOffset],ca&&ca.tagName==="IMG"&&(Ba.setBaseAndExtent(ln.startContainer,ln.startOffset,ln.endContainer,ln.endOffset),(Ba.anchorNode!==ln.startContainer||Ba.focusNode!==ln.endContainer)&&Ba.setBaseAndExtent(ca,0,ca,1))),i.fire("AfterSetSelectionRange",{range:ln,forward:Xn})}},je=function(ln){return O(e.getOuterHTML(ln)),ln},ke=function(){return tx(i.getBody(),de())},tt=function(ln,Xn){return Ib(e,de(),ln,Xn)},Ut=function(){var ln=pe(),Xn=ln==null?void 0:ln.anchorNode,ca=ln==null?void 0:ln.focusNode;if(!ln||!Xn||!ca||Ul(Xn)||Ul(ca))return!0;var Fa=e.createRng();Fa.setStart(Xn,ln.anchorOffset),Fa.collapse(!0);var Ba=e.createRng();return Ba.setStart(ca,ln.focusOffset),Ba.collapse(!0),Fa.compareBoundaryPoints(Fa.START_TO_START,Ba)<=0},bn=function(){var ln=de(),Xn=pe();if(!Cw(Xn)&&Yv(i)){var ca=Ab(e,ln);return ca.each(function(Fa){Je(Fa,Ut())}),ca.getOr(ln)}return ln},Ar=function(ln,Xn){return g(ln,Xn),kn},jn=function(){for(var ln,Xn=e.getRoot();Xn&&Xn.nodeName!=="BODY";){if(Xn.scrollHeight>Xn.clientHeight){ln=Xn;break}Xn=Xn.parentNode}return ln},Kt=function(ln,Xn){Vt(ln)?m3(i,ln,Xn):ah(i,de(),Xn)},gr=function(ln,Xn){return Je(Pw(ln,Xn,i.getDoc()))},Sn=function(){var ln=de();return ln.collapsed?At.fromRangeStart(ln).getClientRects()[0]:ln.getBoundingClientRect()},Wn=function(){n=c=f=null,er.destroy()},kn={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:re,setCursorLocation:b,getContent:w,setContent:O,getBookmark:H,moveToBookmark:J,select:ee,isCollapsed:te,isForward:Ut,setNode:je,getNode:ke,getSel:pe,setRng:Je,getRng:de,getStart:N,getEnd:L,getSelectedBlocks:tt,normalize:bn,selectorChanged:Ar,selectorChangedWithUnbind:g,getScrollContainer:jn,scrollIntoView:Kt,placeCaretAt:gr,getBoundingClientRect:Sn,destroy:Wn},In=Zv(kn),er=_w(kn,i);return kn.bookmarkManager=In,kn.controlSelection=er,kn},b2=function(e,n){yt(n,function(a){e.attr(a,null)})},BA=function(e,n,a){e.addNodeFilter("font",function(i){yt(i,function(c){var f=n.parse(c.attr("style")),g=c.attr("color"),b=c.attr("face"),w=c.attr("size");g&&(f.color=g),b&&(f["font-family"]=b),w&&(f["font-size"]=a[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",n.serialize(f)),b2(c,["color","face","size"])})})},QF=function(e,n){e.addNodeFilter("strike",function(a){yt(a,function(i){var c=n.parse(i.attr("style"));c["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(c))})})},e5=function(e,n){var a=Zc();n.convert_fonts_to_spans&&BA(e,a,Rt.explode(n.font_size_legacy_values)),QF(e,a)},v0=function(e,n){n.inline_styles&&e5(e,n)},d0=function(e){return new Li(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="blob",c.onload=function(){c.status===200?n(c.response):i()},c.onerror=i,c.send()}catch{i()}})},Vg=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},ek=function(e,n){var a;try{a=atob(n)}catch{return K.none()}for(var i=new Uint8Array(a.length),c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return K.some(new Blob([i],{type:e}))},t5=function(e){return new Li(function(n){var a=Vg(e),i=a.type,c=a.data;ek(i,c).fold(function(){return n(new Blob([]))},n)})},tk=function(e){return e.indexOf("blob:")===0?d0(e):e.indexOf("data:")===0?t5(e):null},WD=function(e){return new Li(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},jD=0,MA=function(e){return(e||"blobid")+jD++},n5=function(e,n,a,i){var c,f;if(n.src.indexOf("blob:")===0){f=e.getByUri(n.src),f?a({image:n,blobInfo:f}):tk(n.src).then(function(O){WD(O).then(function(N){c=Vg(N).data,f=e.create(MA(),O,c),e.add(f),a({image:n,blobInfo:f})})},function(O){i(O)});return}var g=Vg(n.src),b=g.data,w=g.type;c=b,f=e.getByData(c,w),f?a({image:n,blobInfo:f}):tk(n.src).then(function(O){f=e.create(MA(),O,c),e.add(f),a({image:n,blobInfo:f})},function(O){i(O)})},GD=function(e){return e?hn(e.getElementsByTagName("img")):[]},r5=function(e,n){var a={},i=function(c,f){f||(f=Nt);var g=be(GD(c),function(w){var O=w.src;return!Sr.fileApi||w.hasAttribute("data-mce-bogus")||w.hasAttribute("data-mce-placeholder")||!O||O===Sr.transparentSrc?!1:O.indexOf("blob:")===0?!e.isUploaded(O)&&f(w):O.indexOf("data:")===0?f(w):!1}),b=qt(g,function(w){if(a[w.src]!==void 0)return new Li(function(N){a[w.src].then(function(L){if(typeof L=="string")return L;N({image:w,blobInfo:L.blobInfo})})});var O=new Li(function(N,L){n5(n,w,N,L)}).then(function(N){return delete a[N.image.src],N}).catch(function(N){return delete a[w.src],N});return a[w.src]=O,O});return Li.all(b)};return{findAll:i}},a5=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},c=_C("img"),f,g=0,b=0;f=n.exec(e);){var w=f[0],O=c+"_"+b++;i[O]=w,g<f.index&&a.push(e.substr(g,f.index-g)),a.push(O),g=f.index+w.length}var N=new RegExp(c+"_[0-9]+","g");return g===0?{prefix:c,uris:i,html:e,re:N}:(g<e.length&&a.push(e.substr(g)),{prefix:c,uris:i,html:a.join(""),re:N})},FA=function(e,n){return e.replace(n.re,function(a){return Dr(n.uris,a).getOr(a)})},o5=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?K.some({type:n[1],data:decodeURIComponent(n[2])}):K.none()},NA=function(e,n,a,i){var c=e.padd_empty_with_br||n.insert;c&&a[i.name]?i.empty().append(new Dc("br",1)).shortEnded=!0:i.empty().append(new Dc("#text",3)).value=Fs},qD=function(e){return KD(e,"#text")&&e.firstChild.value===Fs},KD=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},y2=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},m0=function(e,n,a,i){return i.isEmpty(n,a,function(c){return y2(e,c)})},i5=function(e,n){return e&&(Fr(n,e.name)||e.name==="br")},XD=function(e){return Vt(e.attr("data-mce-bogus"))},u5=function(e){return e.attr("src")===Sr.transparentSrc||Vt(e.attr("data-mce-placeholder"))},YD=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),yn(e.attributes.map,function(i,c){a.setAttribute(c,i)}),n.images_dataimg_filter(a)}else return!0},s5=function(e,n){var a=n.blob_cache,i=function(c){var f=c.attr("src");u5(c)||XD(c)||o5(f).filter(function(){return YD(c,n)}).bind(function(g){var b=g.type,w=g.data;return K.from(a.getByData(w,b)).orThunk(function(){return ek(b,w).map(function(O){var N=a.create(MA(),O,w);return a.add(N),N})})}).each(function(g){c.attr("src",g.blobUri())})};a&&e.addAttributeFilter("src",function(c){return yt(c,i)})},c5=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,c,f){var g,b=i.length,w,O=Rt.extend({},a.getBlockElements()),N=a.getNonEmptyElements(),L,H,J,ee,te=a.getWhiteSpaceElements(),re,pe;for(O.body=1,g=0;g<b;g++)if(w=i[g],L=w.parent,O[w.parent.name]&&w===L.lastChild){for(J=w.prev;J;){if(ee=J.name,ee!=="span"||J.attr("data-mce-type")!=="bookmark"){ee==="br"&&(w=null);break}J=J.prev}w&&(w.remove(),m0(a,N,te,L)&&(re=a.getElementRule(L.name),re&&(re.removeEmpty?L.remove():re.paddEmpty&&NA(n,f,O,L))))}else{for(H=w;L&&L.firstChild===H&&L.lastChild===H&&(H=L,!O[L.name]);)L=L.parent;H===L&&n.padd_empty_with_br!==!0&&(pe=new Dc("#text",3),pe.value=Fs,w.replace(pe))}}),e.addAttributeFilter("href",function(i){var c=i.length,f=function(w){var O=w.split(" ").filter(function(N){return N.length>0});return O.concat(["noopener"]).sort().join(" ")},g=function(w){var O=w?Rt.trim(w):"";return/\b(noopener)\b/g.test(O)?O:f(O)};if(!n.allow_unsafe_link_target)for(;c--;){var b=i[c];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",g(b.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var c=i.length,f,g,b,w;c--;)if(w=i[c],w.name==="a"&&w.firstChild&&!w.attr("href")){b=w.parent,f=w.lastChild;do g=f.prev,b.insert(f,w),f=g;while(f)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var c=i.length,f,g;c--;)if(f=i[c],g=f.parent,g.name==="ul"||g.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new Dc("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var c=a.getValidClasses(),f=i.length;f--;){for(var g=i[f],b=g.attr("class").split(" "),w="",O=0;O<b.length;O++){var N=b[O],L=!1,H=c["*"];H&&H[N]&&(L=!0),H=c[g.name],!L&&H&&H[N]&&(L=!0),L&&(w&&(w+=" "),w+=N)}w.length||(w=null),g.attr("class",w)}}),s5(e,n)},IA=Rt.each,ZD=Rt.trim,JD="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),QD={ftp:21,http:80,https:443,mailto:25},e_=["img","video"],l5=function(e,n){return Vt(e)?!e:Vt(n)?!Me(e_,n):!0},f5=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?l5(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},Ug=function(){function e(n,a){n=ZD(n),this.settings=a||{};var i=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}var f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var g=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+c.toAbsPath(g,n);else{var b=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(g,b[1])+b[2]}}n=n.replace(/@@/g,"(mce_at)");var w=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);IA(JD,function(O,N){var L=w[N];L&&(L=L.replace(/\(mce_at\)/g,"@@")),c[O]=L}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),f&&(c.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(a=c[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var c=rc.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch{c=unescape(c)}return/((java|vb)script|mhtml):/i.test(c)?!1:!f5(i,c,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var c=this.getURI(),f=i.getURI();return c===f||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===f?c:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=QD[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,c="",f,g,b=n.substring(0,n.lastIndexOf("/")).split("/"),w=a.split("/");if(b.length>=w.length){for(f=0,g=b.length;f<g;f++)if(f>=w.length||b[f]!==w[f]){i=f+1;break}}if(b.length<w.length){for(f=0,g=w.length;f<g;f++)if(f>=b.length||b[f]!==w[f]){i=f+1;break}}if(i===1)return a;for(f=0,g=b.length-(i-1);f<g;f++)c+="../";for(f=i-1,g=w.length;f<g;f++)f!==i-1?c+="/"+w[f]:c+=w[f];return c},e.prototype.toAbsPath=function(n,a){var i,c=0,f=[],g,b=/\/$/.test(a)?"/":"",w=n.split("/"),O=a.split("/");for(IA(w,function(N){N&&f.push(N)}),w=f,i=O.length-1,f=[];i>=0;i--)if(!(O[i].length===0||O[i]===".")){if(O[i]===".."){c++;continue}if(c>0){c--;continue}f.push(O[i])}return i=w.length-c,i<=0?g=Yt(f).join("/"):g=w.slice(0,i).join("/")+"/"+Yt(f).join("/"),g.indexOf("/")!==0&&(g="/"+g),b&&g.lastIndexOf("/")!==g.length-1&&(g+=b),g},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),v5=Rt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),$A=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},w2=hi(function(){return document.implementation.createHTMLDocument("parser")}),nk=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),g=1,b=a;g!==0;)for(i.lastIndex=b;;){var w=i.exec(n);if(w===null)return b;if(w[1]==="!"){F(w[2],"--")?b=g0(n,!1,w.index+3):b=g0(n,!0,w.index+1);break}else{c.lastIndex=i.lastIndex;var O=c.exec(n);if(j(O)||O.index!==i.lastIndex)continue;w[1]==="/"?g-=1:Fr(f,w[2])||(g+=1),b=i.lastIndex+O[0].length;break}}return b},t_=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},g0=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&t_(i,a)){var c=i.indexOf("[endif]",a);return i.indexOf(">",c)}else if(n){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var g=/--!?>/g;g.lastIndex=a;var b=g.exec(e);return b?b.index+b[0].length:i.length}},d5=function(e,n){var a=e.exec(n);if(a){var i=a[1],c=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?c:null}else return null},LA=function(e,n){n===void 0&&(n=ac()),e=e||{};var a=w2(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:rt,f=e.cdata?e.cdata:rt,g=e.text?e.text:rt,b=e.start?e.start:rt,w=e.end?e.end:rt,O=e.pi?e.pi:rt,N=e.doctype?e.doctype:rt,L=function(J,ee){ee===void 0&&(ee="html");for(var te=J.html,re,pe=0,de,Je,je=[],ke,tt,Ut,bn,Ar,jn,Kt,gr,Sn,Wn,kn,In,er,ln,Xn,ca,Fa,Ba=0,fu=rc.decode,Uo=Rt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ks=ee==="html"?0:1,Fc=function(Na){var xo,Gi;for(xo=je.length;xo--&&je[xo].name!==Na;);if(xo>=0){for(Gi=je.length-1;Gi>=xo;Gi--)Na=je[Gi],Na.valid&&w(Na.name);je.length=xo}},fn=function(Na,xo){return g(FA(Na,J),xo)},_n=function(Na){Na!==""&&(Na.charAt(0)===">"&&(Na=" "+Na),!e.allow_conditional_comments&&Na.substr(0,3).toLowerCase()==="[if"&&(Na=" "+Na),c(FA(Na,J)))},pr=function(Na){return FA(Na,J)},ft=function(Na,xo){var Gi=Na||"",dv=!F(Gi,"--"),mv=g0(te,dv,xo);return Na=te.substr(xo,mv-xo),_n(dv?Gi+Na:Na),mv+1},wn=function(Na,xo,Gi,dv,mv){if(xo=xo.toLowerCase(),Gi=pr(xo in ji?xo:fu(Gi||dv||mv||"")),Fi&&!Ar&&$A(xo)===!1){var gv=kn[xo];if(!gv&&In){for(var op=In.length;op--&&(gv=In[op],!gv.pattern.test(xo)););op===-1&&(gv=null)}if(!gv||gv.validValues&&!(Gi in gv.validValues))return}var TO=xo==="name"||xo==="id";TO&&Na in v5&&(Gi in a||Gi in i)||Uo[xo]&&!Ug.isDomSafe(Gi,Na,e)||Ar&&(xo in Uo||xo.indexOf("on")===0)||(ke.map[xo]=Gi,ke.push({name:xo,value:Gi}))},gn=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),wr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Er=n.getShortEndedElements(),uo=e.self_closing_elements||n.getSelfClosingElements(),ji=n.getBoolAttrs(),Fi=e.validate,os=e.remove_internals,is=e.fix_self_closing,Ws=n.getSpecialElements(),Ni=te+">";re=gn.exec(Ni);){var cl=re[0];if(pe<re.index&&fn(fu(te.substr(pe,re.index-pe))),de=re[7])de=de.toLowerCase(),de.charAt(0)===":"&&(de=de.substr(1)),Fc(de);else if(de=re[8]){if(re.index+cl.length>te.length){fn(fu(te.substr(re.index))),pe=re.index+cl.length;continue}de=de.toLowerCase(),de.charAt(0)===":"&&(de=de.substr(1)),jn=de in Er,is&&uo[de]&&je.length>0&&je[je.length-1].name===de&&Fc(de);var js=d5(wr,re[9]);if(js!==null){if(js==="all"){pe=nk(n,te,gn.lastIndex),gn.lastIndex=pe;continue}gr=!1}if(!Fi||(Kt=n.getElementRule(de))){if(gr=!0,Fi&&(kn=Kt.attributes,In=Kt.attributePatterns),(Wn=re[9])?(Ar=Wn.indexOf("data-mce-type")!==-1,Ar&&os&&(gr=!1),ke=[],ke.map={},Wn.replace(wr,function(Na,xo,Gi,dv,mv){return wn(de,xo,Gi,dv,mv),""})):(ke=[],ke.map={}),Fi&&!Ar){if(er=Kt.attributesRequired,ln=Kt.attributesDefault,Xn=Kt.attributesForced,ca=Kt.removeEmptyAttrs,ca&&!ke.length&&(gr=!1),Xn)for(tt=Xn.length;tt--;)Sn=Xn[tt],bn=Sn.name,Fa=Sn.value,Fa==="{$uid}"&&(Fa="mce_"+Ba++),ke.map[bn]=Fa,ke.push({name:bn,value:Fa});if(ln)for(tt=ln.length;tt--;)Sn=ln[tt],bn=Sn.name,bn in ke.map||(Fa=Sn.value,Fa==="{$uid}"&&(Fa="mce_"+Ba++),ke.map[bn]=Fa,ke.push({name:bn,value:Fa}));if(er){for(tt=er.length;tt--&&!(er[tt]in ke.map););tt===-1&&(gr=!1)}if(Sn=ke.map["data-mce-bogus"]){if(Sn==="all"){pe=nk(n,te,gn.lastIndex),gn.lastIndex=pe;continue}gr=!1}}gr&&b(de,ke,jn)}else gr=!1;if(Je=Ws[de]){Je.lastIndex=pe=re.index+cl.length,(re=Je.exec(te))?(gr&&(Ut=te.substr(pe,re.index-pe)),pe=re.index+re[0].length):(Ut=te.substr(pe),pe=te.length),gr&&(Ut.length>0&&fn(Ut,!0),w(de)),gn.lastIndex=pe;continue}jn||(!Wn||Wn.indexOf("/")!==Wn.length-1?je.push({name:de,valid:gr}):gr&&w(de))}else if(de=re[1])_n(de);else if(de=re[2]){var ld=ks===1||e.preserve_cdata||je.length>0&&n.isValidChild(je[je.length-1].name,"#cdata");if(ld)f(de);else{pe=ft("",re.index+2),gn.lastIndex=pe;continue}}else if(de=re[3])N(de);else if((de=re[4])||cl==="<!"){pe=ft(de,re.index+cl.length),gn.lastIndex=pe;continue}else if(de=re[5])if(ks===1)O(de,re[6]);else{pe=ft("?",re.index+2),gn.lastIndex=pe;continue}pe=re.index+cl.length}for(pe<te.length&&fn(fu(te.substr(pe))),tt=je.length-1;tt>=0;tt--)de=je[tt],de.valid&&w(de.name)},H=function(J,ee){ee===void 0&&(ee="html"),L(a5(J),ee)};return{parse:H}};LA.findEndTag=nk;var dm=Rt.makeMap,rk=Rt.each,zA=Rt.explode,C2=Rt.extend,ak=function(e,n){n===void 0&&(n=ac());var a={},i=[],c={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var g=function(ee){for(var te=dm("tr,td,th,tbody,thead,tfoot,table"),re=n.getNonEmptyElements(),pe=n.getWhiteSpaceElements(),de=n.getTextBlockElements(),Je=n.getSpecialElements(),je=function(In,er){if(er===void 0&&(er=In.parent),Je[In.name])In.empty().remove();else{for(var ln=In.children(),Xn=0,ca=ln;Xn<ca.length;Xn++){var Fa=ca[Xn];n.isValidChild(er.name,Fa.name)||je(Fa,er)}In.unwrap()}},ke=0;ke<ee.length;ke++){var tt=ee[ke],Ut=void 0,bn=void 0,Ar=void 0;if(!(!tt.parent||tt.fixed)){if(de[tt.name]&&tt.parent.name==="li"){for(var jn=tt.next;jn&&de[jn.name];){jn.name="li",jn.fixed=!0,tt.parent.insert(jn,tt.parent);jn=jn.next}tt.unwrap();continue}var Kt=[tt];for(Ut=tt.parent;Ut&&!n.isValidChild(Ut.name,tt.name)&&!te[Ut.name];Ut=Ut.parent)Kt.push(Ut);if(Ut&&Kt.length>1)if(n.isValidChild(Ut.name,tt.name)){Kt.reverse(),bn=b(Kt[0].clone());for(var gr=bn,Sn=0;Sn<Kt.length-1;Sn++){n.isValidChild(gr.name,Kt[Sn].name)?(Ar=b(Kt[Sn].clone()),gr.append(Ar)):Ar=gr;for(var Wn=Kt[Sn].firstChild;Wn&&Wn!==Kt[Sn+1];){var kn=Wn.next;Ar.append(Wn),Wn=kn}gr=Ar}m0(n,re,pe,bn)?Ut.insert(tt,Kt[0],!0):(Ut.insert(bn,Kt[0],!0),Ut.insert(tt,bn)),Ut=Kt[0],(m0(n,re,pe,Ut)||KD(Ut,"br"))&&Ut.empty().remove()}else je(tt);else if(tt.parent){if(tt.name==="li"){var jn=tt.prev;if(jn&&(jn.name==="ul"||jn.name==="ol")){jn.append(tt);continue}if(jn=tt.next,jn&&(jn.name==="ul"||jn.name==="ol")){jn.insert(tt,jn.firstChild,!0);continue}tt.wrap(b(new Dc("ul",1)));continue}n.isValidChild(tt.parent.name,"div")&&n.isValidChild("div",tt.name)?tt.wrap(b(new Dc("div",1))):je(tt)}}}},b=function(ee){var te=ee.name;if(te in a){var re=c[te];re?re.push(ee):c[te]=[ee]}for(var pe=i.length;pe--;){var de=i[pe].name;if(de in ee.attributes.map){var re=f[de];re?re.push(ee):f[de]=[ee]}}return ee},w=function(ee,te){rk(zA(ee),function(re){var pe=a[re];pe||(a[re]=pe=[]),pe.push(te)})},O=function(){var ee=[];for(var te in a)Fr(a,te)&&ee.push({name:te,callbacks:a[te]});return ee},N=function(ee,te){rk(zA(ee),function(re){var pe;for(pe=0;pe<i.length;pe++)if(i[pe].name===re){i[pe].callbacks.push(te);return}i.push({name:re,callbacks:[te]})})},L=function(){return[].concat(i)},H=function(ee,te){var re,pe,de,Je,je,ke,tt,Ut=[],bn,Ar=function(ft){return ft===!1?"":ft===!0?"p":ft};te=te||{},c={},f={};var jn=C2(dm("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Kt=l1(n),gr=n.getNonEmptyElements(),Sn=n.children,Wn=e.validate,kn="forced_root_block"in te?te.forced_root_block:e.forced_root_block,In=Ar(kn),er=n.getWhiteSpaceElements(),ln=/^[ \t\r\n]+/,Xn=/[ \t\r\n]+$/,ca=/[ \t\r\n]+/g,Fa=/^[ \t\r\n]+$/,Ba=Fr(er,te.context)||Fr(er,e.root_name),fu=function(){var ft=pr.firstChild,wn=null,gn=function(Er){Er&&(ft=Er.firstChild,ft&&ft.type===3&&(ft.value=ft.value.replace(ln,"")),ft=Er.lastChild,ft&&ft.type===3&&(ft.value=ft.value.replace(Xn,"")))};if(n.isValidChild(pr.name,In.toLowerCase())){for(;ft;){var wr=ft.next;ft.type===3||ft.type===1&&ft.name!=="p"&&!jn[ft.name]&&!ft.attr("data-mce-type")?(wn||(wn=Uo(In,1),wn.attr(e.forced_root_block_attrs),pr.insert(wn,ft)),wn.append(ft)):(gn(wn),wn=null),ft=wr}gn(wn)}},Uo=function(ft,wn){var gn=new Dc(ft,wn),wr;return ft in a&&(wr=c[ft],wr?wr.push(gn):c[ft]=[gn]),gn},ks=function(ft){for(var wn=n.getBlockElements(),gn=ft.prev;gn&&gn.type===3;){var wr=gn.value.replace(Xn,"");if(wr.length>0){gn.value=wr;return}var Er=gn.next;if(Er){if(Er.type===3&&Er.value.length){gn=gn.prev;continue}if(!wn[Er.name]&&Er.name!=="script"&&Er.name!=="style"){gn=gn.prev;continue}}var uo=gn.prev;gn.remove(),gn=uo}},Fc=function(ft){var wn={};for(var gn in ft)gn!=="li"&&gn!=="p"&&(wn[gn]=ft[gn]);return wn},fn=function(ft){for(var wn=ft;Vt(wn);){if(wn.name in Kt)return m0(n,gr,er,wn);wn=wn.parent}return!1},_n=LA({validate:Wn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Fc(n.getSelfClosingElements()),cdata:function(ft){bn.append(Uo("#cdata",4)).value=ft},text:function(ft,wn){var gn;Ba||(ft=ft.replace(ca," "),i5(bn.lastChild,jn)&&(ft=ft.replace(ln,""))),ft.length!==0&&(gn=Uo("#text",3),gn.raw=!!wn,bn.append(gn).value=ft)},comment:function(ft){bn.append(Uo("#comment",8)).value=ft},pi:function(ft,wn){bn.append(Uo(ft,7)).value=wn,ks(bn)},doctype:function(ft){var wn=bn.append(Uo("#doctype",10));wn.value=ft,ks(bn)},start:function(ft,wn,gn){var wr=Wn?n.getElementRule(ft):{};if(wr){var Er=Uo(wr.outputName||ft,1);Er.attributes=wn,Er.shortEnded=gn,bn.append(Er);var uo=Sn[bn.name];uo&&Sn[Er.name]&&!uo[Er.name]&&Ut.push(Er);for(var ji=i.length;ji--;){var Fi=i[ji].name;Fi in wn.map&&(ke=f[Fi],ke?ke.push(Er):f[Fi]=[Er])}jn[ft]&&ks(Er),gn||(bn=Er),!Ba&&er[ft]&&(Ba=!0)}},end:function(ft){var wn,gn,wr,Er=Wn?n.getElementRule(ft):{};if(Er){if(jn[ft]&&!Ba){if(wn=bn.firstChild,wn&&wn.type===3)if(gn=wn.value.replace(ln,""),gn.length>0)wn.value=gn,wn=wn.next;else for(wr=wn.next,wn.remove(),wn=wr;wn&&wn.type===3;)gn=wn.value,wr=wn.next,(gn.length===0||Fa.test(gn))&&(wn.remove(),wn=wr),wn=wr;if(wn=bn.lastChild,wn&&wn.type===3)if(gn=wn.value.replace(Xn,""),gn.length>0)wn.value=gn,wn=wn.prev;else for(wr=wn.prev,wn.remove(),wn=wr;wn&&wn.type===3;)gn=wn.value,wr=wn.prev,(gn.length===0||Fa.test(gn))&&(wn.remove(),wn=wr),wn=wr}Ba&&er[ft]&&(Ba=!1);var uo=m0(n,gr,er,bn),ji=bn.parent;Er.paddInEmptyBlock&&uo&&fn(bn)?NA(e,te,jn,bn):Er.removeEmpty&&uo?jn[bn.name]?bn.empty().remove():bn.unwrap():Er.paddEmpty&&(qD(bn)||uo)&&NA(e,te,jn,bn),bn=ji}}},n),pr=bn=new Dc(te.context||e.root_name,11);if(_n.parse(ee,te.format),Wn&&Ut.length&&(te.context?te.invalid=!0:g(Ut)),In&&(pr.name==="body"||te.isRootContent)&&fu(),!te.invalid){for(tt in c)if(Fr(c,tt)){for(ke=a[tt],re=c[tt],Je=re.length;Je--;)re[Je].parent||re.splice(Je,1);for(pe=0,de=ke.length;pe<de;pe++)ke[pe](re,tt,te)}for(pe=0,de=i.length;pe<de;pe++)if(ke=i[pe],ke.name in f){for(re=f[ke.name],Je=re.length;Je--;)re[Je].parent||re.splice(Je,1);for(Je=0,je=ke.callbacks.length;Je<je;Je++)ke.callbacks[Je](re,ke.name,te)}}return pr},J={schema:n,addAttributeFilter:N,getAttributeFilters:L,addNodeFilter:w,getNodeFilters:O,filterNode:b,parse:H};return c5(J,e),v0(J,e),J},n_=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,c){for(var f=i.length;f--;){var g=i[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(c,null)}}),e.addAttributeFilter("src,href,style",function(i,c){for(var f="data-mce-"+c,g=n.url_converter,b=n.url_converter_scope,w=i.length;w--;){var O=i[w],N=O.attr(f);N!==void 0?(O.attr(c,N.length>0?N:null),O.attr(f,null)):(N=O.attr(c),c==="style"?N=a.serializeStyle(a.parseStyle(N),O.name):g&&(N=g.call(b,N,c,O.name)),O.attr(c,N.length>0?N:null))}}),e.addAttributeFilter("class",function(i){for(var c=i.length;c--;){var f=i[c],g=f.attr("class");g&&(g=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",function(i,c,f){for(var g=i.length;g--;){var b=i[g];if(b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var w=K.from(b.firstChild).exists(function(O){return!qu(O.value)});w?b.unwrap():b.remove()}}}),e.addNodeFilter("noscript",function(i){for(var c=i.length;c--;){var f=i[c].firstChild;f&&(f.value=rc.decode(f.value))}}),e.addNodeFilter("script,style",function(i,c){for(var f=function(N){return N.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},g=i.length;g--;){var b=i[g],w=b.firstChild?b.firstChild.value:"";if(c==="script"){var O=b.attr("type");O&&b.attr("type",O==="mce-no/type"?null:O.replace(/^mce\-/,"")),n.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`// <![CDATA[
`+f(w)+`
// ]]>`)}else n.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`<!--
`+f(w)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var c=i.length;c--;){var f=i[c];n.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,c){for(var f=i.length;f--;){var g=i[f];g.type===7?g.remove():g.type===1&&c==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){yt(i,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)})},r_=function(e){var n=function(c){return c&&c.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},a_=function(e,n,a){var i,c=e.dom,f=n.cloneNode(!0),g=document.implementation;if(g.createHTMLDocument){var b=g.createHTMLDocument("");Rt.each(f.nodeName==="BODY"?f.childNodes:[f],function(w){b.body.appendChild(b.importNode(w,!0))}),f.nodeName!=="BODY"?f=b.body.firstChild:f=b.body,i=c.doc,c.doc=b}return QE(e,ir(ir({},a),{node:f})),i&&(c.doc=i),f},m5=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},g5=function(e,n,a){return m5(e,a)?a_(e,n,a):n},p5=function(e,n,a){Rt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)}),n.push(a))},HA=function(e,n,a){if(!n.no_events&&e){var i=Ew(e,ir(ir({},n),{content:a}));return i.content}else return a},h5=function(e,n,a){var i=gs(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||bd(R.fromDom(n))?i:Rt.trim(i)},b5=function(e,n,a){var i=a.selection?ir({forced_root_block:!1},a):a,c=e.parse(n,i);return r_(c),c},S2=function(e,n,a){var i=om(e,n);return i.serialize(a)},VA=function(e,n,a,i,c){var f=S2(n,a,i);return HA(e,c,f)},y5=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:go.DOM,c=n&&n.schema?n.schema:ac(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=ak(e,c);n_(f,e,i);var g=function(b,w){w===void 0&&(w={});var O=ir({format:"html"},w),N=g5(n,b,O),L=h5(i,N,O),H=b5(f,L,O);return O.format==="tree"?H:VA(n,e,c,H,O)};return{schema:c,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Xe(p5,f,a),getTempAttrs:B(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},UA=function(e,n){var a=y5(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},w5="html",ok=function(e,n){n===void 0&&(n={});var a=n.format?n.format:w5;return UF(e,n,a)},ik=function(e,n,a){return a===void 0&&(a={}),WF(e,n,a)},uk=go.DOM,Wi=function(e){uk.setStyle(e.id,"display",e.orgDisplay)},sk=function(e){return K.from(e).each(function(n){return n.destroy()})},o_=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},C5=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),uk.unbind(n,"submit reset",e.formEventDelegate))},S5=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&c&&uk.remove(c.nextSibling),bS(e),e.editorManager.remove(e),!e.inline&&i&&Wi(e),yS(e),uk.remove(e.getContainer()),sk(n),sk(a),e.destroy()}},i_=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),sk(a),sk(i)),C5(e),o_(e),e.destroyed=!0}},x5=function(e,n){var a=Ke(e)&&Ke(n);return a?u_(e,n):n},WA=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},c=0;c<n.length;c++){var f=n[c];for(var g in f)Fr(f,g)&&(i[g]=e(i[g],f[g]))}return i}},u_=WA(x5),s_="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),jA="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),k5="imagetools,toc".split(","),T5=function(e){var n=be(s_,function(i){return Fr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Ye(n)},E5=function(e){var n=Rt.makeMap(e.plugins," "),a=function(c){return Fr(n,c)},i=Go(Go([],be(jA,a),!0),va(k5,function(c){return a(c)?[c+" (moving to premium)"]:[]}),!0);return Ye(i)},A5=function(e,n){var a=T5(e),i=E5(n),c=i.length>0,f=a.length>0,g=n.theme==="mobile";if(c||f||g){var b=`
- `,w=g?`

Themes:`+b+"mobile":"",O=c?`

Plugins:`+b+i.join(b):"",N=f?`

Settings:`+b+a.join(b):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+w+O+N)}},O5=function(e,n){return{sections:B(e),settings:B(n)}},ck=sr().deviceType,c_=ck.isTouch(),lk=ck.isPhone(),l_=ck.isTablet(),f_=["lists","autolink","autosave"],GA={table_grid:!1,object_resizing:!1,resize:!1},p0=function(e){var n=_t(e)?e.join(" "):e,a=qt(Mt(n)?n.split(" "):[],me);return be(a,function(i){return i.length>0})},v_=function(e){return be(e,Xe(Me,f_))},d_=function(e,n){var a=sn(n,function(i,c){return Me(e,c)});return O5(a.t,a.f)},D5=function(e,n,a){a===void 0&&(a={});var i=e.sections(),c=Dr(i,n).getOr({});return Rt.extend({},a,c)},h0=function(e,n){return Fr(e.sections(),n)},_5=function(e,n,a){var i=e.sections();return h0(e,n)&&i[n].theme===a},fk=function(e,n){return h0(e,n)?e.sections()[n]:{}},m_=function(e,n){return Dr(e,"toolbar_mode").orThunk(function(){return Dr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},R5=function(e,n,a,i,c){var f={id:n,theme:"silver",toolbar_mode:m_(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return ir(ir({},f),i?GA:{})},P5=function(e,n){var a={resize:!1,toolbar_mode:m_(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return ir(ir(ir({},GA),a),n?i:{})},g_=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Rt.extend({},e.external_plugins,a):a},p_=function(e,n){return[].concat(p0(e)).concat(p0(n))},B5=function(e,n,a,i){return e&&_5(n,"mobile","mobile")?v_(i):e&&h0(n,"mobile")?i:a},M5=function(e,n,a,i){var c=p0(a.forced_plugins),f=p0(i.plugins),g=fk(n,"mobile"),b=g.plugins?p0(g.plugins):f,w=B5(e,n,f,b),O=p_(c,w);if(Sr.browser.isIE()&&Me(O,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Rt.extend(i,{plugins:O.join(" ")})},F5=function(e,n){return e&&h0(n,"mobile")},N5=function(e,n,a,i,c){var f=e?{mobile:P5(c.mobile||{},n)}:{},g=d_(["mobile"],u_(f,c)),b=Rt.extend(a,i,g.settings(),F5(e,g)?D5(g,"mobile"):{},{validate:!0,external_plugins:g_(i,g.settings())});return M5(e,g,i,b)},h_=function(e,n,a,i,c){var f=R5(c,n,a,c_,e),g=N5(lk||l_,lk,f,i,c);return g.deprecation_warnings!==!1&&A5(c,g),g},Rh=function(e,n,a){return K.from(n.settings[a]).filter(e)},I5=function(e){var n={};return typeof e=="string"?yt(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Rt.trim(i[0])]=Rt.trim(i[1]):n[Rt.trim(i[0])]=Rt.trim(i[0])}):n=e,n},$5=function(e){return function(n){return _t(n)&&xa(n,e)}},L5=function(e,n,a,i){var c=n in e.settings?e.settings[n]:a;return i==="hash"?I5(c):i==="string"?Rh(Mt,e,n).getOr(a):i==="number"?Rh(st,e,n).getOr(a):i==="boolean"?Rh(Ne,e,n).getOr(a):i==="object"?Rh(Ke,e,n).getOr(a):i==="array"?Rh(_t,e,n).getOr(a):i==="string[]"?Rh($5(Mt),e,n).getOr(a):i==="function"?Rh(Ae,e,n).getOr(a):c},z5=function(){var e={},n=function(c,f){e[c]=f},a=function(c){return e[c]?e[c]:{icons:{}}},i=function(c){return Fr(e,c)};return{add:n,get:a,has:i}},vk=z5(),b_=function(e,n){var a=n.dom;return a[e]},y_=function(e,n){return parseInt(ra(n,e),10)},w_=Xe(b_,"clientWidth"),H5=Xe(b_,"clientHeight"),V5=Xe(y_,"margin-top"),U5=Xe(y_,"margin-left"),W5=function(e){return e.dom.getBoundingClientRect()},j5=function(e,n,a){var i=w_(e),c=H5(e);return n>=0&&a>=0&&n<=i&&a<=c},x2=function(e,n,a,i){var c=W5(n),f=e?c.left+n.dom.clientLeft+U5(n):0,g=e?c.top+n.dom.clientTop+V5(n):0,b=a-f,w=i-g;return{x:b,y:w}},C_=function(e,n,a){var i=R.fromDom(e.getBody()),c=e.inline?i:Rs(i),f=x2(e.inline,c,n,a);return j5(c,f.x,f.y)},G5=function(e){return K.from(e).map(R.fromDom)},S_=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return G5(n).map(Mf).getOr(!1)},x_=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},k_=function(e){var n=[],a=function(){var H=e.theme;return H&&H.getNotificationManagerImpl?H.getNotificationManagerImpl():x_()},i=function(){return K.from(n[0])},c=function(H,J){return H.type===J.type&&H.text===J.text&&!H.progressBar&&!H.timeout&&!J.progressBar&&!J.timeout},f=function(){n.length>0&&a().reposition(n)},g=function(H){n.push(H)},b=function(H){ar(n,function(J){return J===H}).each(function(J){n.splice(J,1)})},w=function(H,J){if(J===void 0&&(J=!0),!(e.removed||!S_(e)))return J&&e.fire("BeforeOpenNotification",{notification:H}),Kn(n,function(ee){return c(a().getArgs(ee),H)}).getOrThunk(function(){e.editorManager.setActive(e);var ee=a().open(H,function(){b(ee),f(),i().fold(function(){return e.focus()},function(te){return Db(R.fromDom(te.getEl()))})});return g(ee),f(),e.fire("OpenNotification",{notification:ir({},ee)}),ee})},O=function(){i().each(function(H){a().close(H),b(H),f()})},N=B(n),L=function(H){H.on("SkinLoaded",function(){var J=jC(H);J&&w({text:J,type:"warning",timeout:0},!1),f()}),H.on("show ResizeEditor ResizeWindow NodeChange",function(){Su.requestAnimationFrame(f)}),H.on("remove",function(){yt(n.slice(),function(J){a().close(J)})})};return L(e),{open:w,close:O,getNotifications:N}},uv=hs.PluginManager,Wg=hs.ThemeManager;function k2(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var qA=function(e){var n=[],a=function(){var te=e.theme;return te&&te.getWindowManagerImpl?te.getWindowManagerImpl():k2()},i=function(te,re){return function(){for(var pe=[],de=0;de<arguments.length;de++)pe[de]=arguments[de];return re?re.apply(te,pe):void 0}},c=function(te){e.fire("OpenWindow",{dialog:te})},f=function(te){e.fire("CloseWindow",{dialog:te})},g=function(te){n.push(te),c(te)},b=function(te){f(te),n=be(n,function(re){return re!==te}),n.length===0&&e.focus()},w=function(){return K.from(n[n.length-1])},O=function(te){e.editorManager.setActive(e),Rb(e);var re=te();return g(re),re},N=function(te,re){return O(function(){return a().open(te,re,b)})},L=function(te){return O(function(){return a().openUrl(te,b)})},H=function(te,re,pe){var de=a();de.alert(te,i(pe||de,re))},J=function(te,re,pe){var de=a();de.confirm(te,i(pe||de,re))},ee=function(){w().each(function(te){a().close(te),b(te)})};return e.on("remove",function(){yt(n,function(te){a().close(te)})}),{open:N,openUrl:L,alert:H,confirm:J,close:ee}},KA=function(e,n){e.notificationManager.open({type:"error",text:n})},dk=function(e,n){e._skinLoaded?KA(e,n):e.on("SkinLoaded",function(){KA(e,n)})},T_=function(e,n){dk(e,Zu.translate(["Failed to upload image: {0}",n]))},XA=function(e,n,a){kb(e,n,{message:a}),console.error(a)},YA=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},ZA=function(e,n,a){XA(e,"PluginLoadError",YA("plugin",n,a))},E_=function(e,n,a){XA(e,"IconsLoadError",YA("icons",n,a))},q5=function(e,n,a){XA(e,"LanguageLoadError",YA("language",n,a))},K5=function(e,n,a){var i=Zu.translate(["Failed to initialize plugin: {0}",n]);kb(e,"PluginLoadError",{message:i}),mk(i,a),dk(e,i)},mk=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Go([e],n,!1)):i.log.apply(i,Go([e],n,!1)))},A_=function(e){return/^[a-z0-9\-]+$/i.test(e)},X5=function(e){return b0(e,HC(e))},Y5=function(e){return b0(e,VC(e))},b0=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,c="content"+i+".css",f=e.inline===!0;return qt(n,function(g){return A_(g)&&!f?a+"/"+g+"/"+c:e.documentBaseURI.toAbsolute(g)})},O_=function(e){e.contentCSS=e.contentCSS.concat(X5(e),Y5(e))},JA=function(){var e=1,n=2,a={},i=function(H,J){return{status:H,resultUri:J}},c=function(H){return H in a},f=function(H){var J=a[H];return J?J.resultUri:null},g=function(H){return c(H)?a[H].status===e:!1},b=function(H){return c(H)?a[H].status===n:!1},w=function(H){a[H]=i(e,null)},O=function(H,J){a[H]=i(n,J)},N=function(H){delete a[H]},L=function(){a={}};return{hasBlobUri:c,getResultUri:f,isPending:g,isUploaded:b,markPending:w,markUploaded:O,removeFailed:N,destroy:L}},Z5=0,J5=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},D_=function(e){return e+Z5+++J5()},__=function(){var e=[],n=function(L){var H={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return H[L.toLowerCase()]||"dat"},a=function(L,H,J,ee,te){if(Mt(L)){var re=L;return i({id:re,name:ee,filename:te,blob:H,base64:J})}else{if(Ke(L))return i(L);throw new Error("Unknown input type")}},i=function(L){if(!L.blob||!L.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var H=L.id||D_("blobid"),J=L.name||H,ee=L.blob;return{id:B(H),name:B(J),filename:B(L.filename||J+"."+n(ee.type)),blob:B(ee),base64:B(L.base64),blobUri:B(L.blobUri||URL.createObjectURL(ee)),uri:B(L.uri)}},c=function(L){g(L.id())||e.push(L)},f=function(L){return Kn(e,L).getOrUndefined()},g=function(L){return f(function(H){return H.id()===L})},b=function(L){return f(function(H){return H.blobUri()===L})},w=function(L,H){return f(function(J){return J.base64()===L&&J.blob().type===H})},O=function(L){e=be(e,function(H){return H.blobUri()===L?(URL.revokeObjectURL(H.blobUri()),!1):!0})},N=function(){yt(e,function(L){URL.revokeObjectURL(L.blobUri())}),e=[]};return{create:a,add:c,get:g,getByUri:b,getByData:w,findFirst:f,removeByUri:O,destroy:N}},Q5=function(e,n){var a={},i=function(ee,te){return ee?ee.replace(/\/$/,"")+"/"+te.replace(/^\//,""):te},c=function(ee,te,re,pe){var de=new XMLHttpRequest;de.open("POST",n.url),de.withCredentials=n.credentials,de.upload.onprogress=function(je){pe(je.loaded/je.total*100)},de.onerror=function(){re("Image upload failed due to a XHR Transport error. Code: "+de.status)},de.onload=function(){if(de.status<200||de.status>=300){re("HTTP Error: "+de.status);return}var je=JSON.parse(de.responseText);if(!je||typeof je.location!="string"){re("Invalid JSON: "+de.responseText);return}te(i(n.basePath,je.location))};var Je=new FormData;Je.append("file",ee.blob(),ee.filename()),de.send(Je)},f=function(){return new Li(function(ee){ee([])})},g=function(ee,te){return{url:te,blobInfo:ee,status:!0}},b=function(ee,te,re){return{url:"",blobInfo:ee,status:!1,error:{message:te,options:re}}},w=function(ee,te){Rt.each(a[ee],function(re){re(te)}),delete a[ee]},O=function(ee,te,re){return e.markPending(ee.blobUri()),new Li(function(pe){var de,Je;try{var je=function(){de&&(de.close(),Je=rt)},ke=function(Ut){je(),e.markUploaded(ee.blobUri(),Ut),w(ee.blobUri(),g(ee,Ut)),pe(g(ee,Ut))},tt=function(Ut,bn){var Ar=bn||{};je(),e.removeFailed(ee.blobUri()),w(ee.blobUri(),b(ee,Ut,Ar)),pe(b(ee,Ut,Ar))};Je=function(Ut){Ut<0||Ut>100||K.from(de).orThunk(function(){return K.from(re).map(A)}).each(function(bn){de=bn,bn.progressBar.value(Ut)})},te(ee,ke,tt,Je)}catch(Ut){pe(b(ee,Ut.message,{}))}})},N=function(ee){return ee===c},L=function(ee){var te=ee.blobUri();return new Li(function(re){a[te]=a[te]||[],a[te].push(re)})},H=function(ee,te){return ee=Rt.grep(ee,function(re){return!e.isUploaded(re.blobUri())}),Li.all(Rt.map(ee,function(re){return e.isPending(re.blobUri())?L(re):O(re,n.handler,te)}))},J=function(ee,te){return!n.url&&N(n.handler)?f():H(ee,te)};return Ae(n.handler)===!1&&(n.handler=c),{upload:J}},R_=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},P_=function(e,n){return Q5(n,{url:hE(e),basePath:Vv(e),credentials:Uv(e),handler:bE(e)})},eN=function(e){var n=JA(),a=P_(e,n);return{upload:function(i,c){return c===void 0&&(c=!0),a.upload(i,c?R_(e):void 0)}}},tN=function(e){var n=Yu(null);e.on("change AddUndo",function(i){n.set(ir({},i.level))});var a=function(){var i=e.undoManager.data;Fn(i).filter(function(c){return!qx(n.get(),c)}).each(function(c){e.setDirty(!0),e.fire("change",{level:c,lastLevel:ct(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},rs=function(e){var n=__(),a,i,c=JA(),f=[],g=tN(e),b=function(je){return function(ke){return e.selection?je(ke):[]}},w=function(je){return je+(je.indexOf("?")===-1?"?":"&")+new Date().getTime()},O=function(je,ke,tt){var Ut=0;do Ut=je.indexOf(ke,Ut),Ut!==-1&&(je=je.substring(0,Ut)+tt+je.substr(Ut+ke.length),Ut+=tt.length-ke.length+1);while(Ut!==-1);return je},N=function(je,ke,tt){var Ut='src="'+tt+'"'+(tt===Sr.transparentSrc?' data-mce-placeholder="1"':"");return je=O(je,'src="'+ke+'"',Ut),je=O(je,'data-mce-src="'+ke+'"','data-mce-src="'+tt+'"'),je},L=function(je,ke){yt(e.undoManager.data,function(tt){tt.type==="fragmented"?tt.fragments=qt(tt.fragments,function(Ut){return N(Ut,je,ke)}):tt.content=N(tt.content,je,ke)})},H=function(je,ke){var tt=e.convertURL(ke,"src");L(je.src,ke),e.$(je).attr({src:Wy(e)?w(ke):ke,"data-mce-src":tt})},J=function(je){return a||(a=P_(e,c)),pe().then(b(function(ke){var tt=qt(ke,function(Ut){return Ut.blobInfo});return a.upload(tt,R_(e)).then(b(function(Ut){var bn=[],Ar=qt(Ut,function(jn,Kt){var gr=ke[Kt].blobInfo,Sn=ke[Kt].image;return jn.status&&pE(e)?(n.removeByUri(Sn.src),vm(e)||H(Sn,jn.url)):jn.error&&(jn.error.options.remove&&(L(Sn.getAttribute("src"),Sr.transparentSrc),bn.push(Sn)),T_(e,jn.error.message)),{element:Sn,status:jn.status,uploadUri:jn.url,blobInfo:gr}});return Ar.length>0&&g.fireIfChanged(),bn.length>0&&(vm(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){yt(bn,function(jn){e.dom.remove(jn),n.removeByUri(jn.src)})})),je&&je(Ar),Ar}))}))},ee=function(je){if(Wp(e))return J(je)},te=function(je){if(xa(f,function(tt){return tt(je)})===!1)return!1;if(je.getAttribute("src").indexOf("data:")===0){var ke=Y1(e);return ke(je)}return!0},re=function(je){f.push(je)},pe=function(){return i||(i=r5(c,n)),i.findAll(e.getBody(),te).then(b(function(je){return je=be(je,function(ke){return typeof ke=="string"?(dk(e,ke),!1):!0}),vm(e)||yt(je,function(ke){L(ke.image.src,ke.blobInfo.blobUri()),ke.image.src=ke.blobInfo.blobUri(),ke.image.removeAttribute("data-mce-src")}),je}))},de=function(){n.destroy(),c.destroy(),i=a=null},Je=function(je){return je.replace(/src="(blob:[^"]+)"/g,function(ke,tt){var Ut=c.getResultUri(tt);if(Ut)return'src="'+Ut+'"';var bn=n.getByUri(tt);if(bn||(bn=Cn(e.editorManager.get(),function(jn,Kt){return jn||Kt.editorUpload&&Kt.editorUpload.blobCache.getByUri(tt)},null)),bn){var Ar=bn.blob();return'src="data:'+Ar.type+";base64,"+bn.base64()+'"'}return ke})};return e.on("SetContent",function(){Wp(e)?ee():pe()}),e.on("RawSaveContent",function(je){je.content=Je(je.content)}),e.on("GetContent",function(je){je.source_view||je.format==="raw"||je.format==="tree"||(je.content=Je(je.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(je){yt(je,function(ke){var tt=ke.attr("src");if(!n.getByUri(tt)){var Ut=c.getResultUri(tt);Ut&&ke.attr("src",Ut)}})})}),{blobCache:n,addFilter:re,uploadImages:J,uploadImagesAuto:ee,scanForImages:pe,destroy:de}},B_=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,c){return Nr(a)&&a.hasAttribute("href")},onformat:function(a,i,c){Rt.each(c,function(f,g){e.setAttrib(a,g,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Rt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},nN=function(e){var n={},a=function(g){return Vt(g)?n[g]:n},i=function(g){return Fr(n,g)},c=function(g,b){g&&(Mt(g)?(_t(b)||(b=[b]),yt(b,function(w){$e(w.deep)&&(w.deep=!zs(w)),$e(w.split)&&(w.split=!zs(w)||uu(w)),$e(w.remove)&&zs(w)&&!uu(w)&&(w.remove="none"),zs(w)&&uu(w)&&(w.mixed=!0,w.block_expand=!0),Mt(w.classes)&&(w.classes=w.classes.split(/\s+/))}),n[g]=b):yn(g,function(w,O){c(O,w)}))},f=function(g){return g&&n[g]&&delete n[g],n};return c(B_(e.dom)),c(wE(e)),{get:a,has:i,register:c,unregister:f}},gk=Rt.each,Us=go.DOM,M_=function(e,n){var a,i,c,f=n&&n.schema||ac({}),g=function(N,L){L.classes.length&&Us.addClass(N,L.classes.join(" ")),Us.setAttribs(N,L.attrs)},b=function(N){i=typeof N=="string"?{name:N,classes:[],attrs:{}}:N;var L=Us.create(i.name);return g(L,i),L},w=function(N,L){var H=typeof N!="string"?N.nodeName.toLowerCase():N,J=f.getElementRule(H),ee=J&&J.parentsRequired;return ee&&ee.length?L&&Rt.inArray(ee,L)!==-1?L:ee[0]:!1},O=function(N,L,H){var J,ee,te=L.length>0&&L[0],re=te&&te.name,pe=w(N,re);if(pe)re===pe?(ee=L[0],L=L.slice(1)):ee=pe;else if(te)ee=L[0],L=L.slice(1);else if(!H)return N;return ee&&(J=b(ee),J.appendChild(N)),H&&(J||(J=Us.create("div"),J.appendChild(N)),Rt.each(H,function(de){var Je=b(de);J.insertBefore(Je,N)})),O(J,L,ee&&ee.siblings)};return e&&e.length?(i=e[0],a=b(i),c=Us.create("div"),c.appendChild(O(a,e.slice(1),i.siblings)),c):""},Pa=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Rt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,c,f,g,b){switch(c){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":Rt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(g==="["){var w=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);w&&(a.attrs[w[1]]=w[2])}return""})),a.name=n||"div",a},rN=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Rt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Rt.map(n.split(/(?:~\+|~|\+)/),Pa),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},aN=function(e,n){var a,i,c="",f,g=og(e);if(g==="")return"";var b=function(L){return L.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var w=Dr(n,"preview");if(pd(w,!1))return"";g=w.getOr(g)}a=n.block||n.inline||"span";var O=rN(n.selector);O.length?(O[0].name||(O[0].name=a),a=n.selector,i=M_(O,e)):i=M_([a],e);var N=Us.select(a,i)[0]||i.firstChild;return gk(n.styles,function(L,H){var J=b(L);J&&Us.setStyle(N,H,J)}),gk(n.attributes,function(L,H){var J=b(L);J&&Us.setAttrib(N,H,J)}),gk(n.classes,function(L){var H=b(L);Us.hasClass(N,H)||Us.addClass(N,H)}),e.fire("PreviewFormats"),Us.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=Us.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,gk(g.split(" "),function(L){var H=Us.getStyle(N,L,!0);if(!(L==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(H)&&(H=Us.getStyle(e.getBody(),L,!0),Us.toHex(H).toLowerCase()==="#ffffff"))&&!(L==="color"&&Us.toHex(H).toLowerCase()==="#000000")){if(L==="font-size"&&/em|%$/.test(H)){if(f===0)return;var J=parseFloat(H)/(/%$/.test(H)?100:1);H=J*f+"px"}L==="border"&&H&&(c+="padding:0 2px;"),c+=L+":"+H+";"}}),e.fire("AfterPreviewFormats"),Us.remove(i),c},oN=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ti=function(e){var n=nN(e),a=Yu(null);return oN(e),Ix(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,c,f){Jx(e,i,c,f)},remove:function(i,c,f,g){zF(e,i,c,f,g)},toggle:function(i,c,f){HF(e,i,c,f)},match:function(i,c,f,g){return LF(e,i,c,f,g)},closest:function(i){return $D(e,i)},matchAll:function(i,c){return ND(e,i,c)},matchNode:function(i,c,f,g){return Zx(e,i,c,f,g)},canApply:function(i){return ID(e,i)},formatChanged:function(i,c,f,g){return VF(e,a,i,c,f,g)},getCssText:Xe(aN,e)}},F_=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},T2=function(e,n,a){var i=Yu(!1),c=function(w){Kx(n,!1,a),n.add({},w)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(w){var O=w.command;F_(O)||(ED(n,a),n.beforeChange())}),e.on("ExecCommand",function(w){var O=w.command;F_(O)||c(w)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",function(w){var O=w.keyCode;w.isDefaultPrevented()||((O>=33&&O<=36||O>=37&&O<=40||O===45||w.ctrlKey)&&(c(),e.nodeChanged()),(O===46||O===8)&&e.nodeChanged(),i.get()&&n.typing&&qx(s0(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(w){var O=w.keyCode;if(!w.isDefaultPrevented()){if(O>=33&&O<=36||O>=37&&O<=40||O===45){n.typing&&c(w);return}var N=w.ctrlKey&&!w.altKey||w.metaKey;(O<16||O>20)&&O!==224&&O!==91&&!n.typing&&!N&&(n.beforeChange(),Kx(n,!0,a),n.add({},w),i.set(!0))}}),e.on("mousedown",function(w){n.typing&&c(w)});var f=function(w){return w.inputType==="insertReplacementText"},g=function(w){return w.inputType==="insertText"&&w.data===null},b=function(w){return w.inputType==="insertFromPaste"||w.inputType==="insertFromDrop"};e.on("input",function(w){w.inputType&&(f(w)||g(w)||b(w))&&c(w)}),e.on("AddUndo Undo Redo ClearUndos",function(w){w.isDefaultPrevented()||e.nodeChanged()})},iN=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},N_=function(e){var n=Lv(),a=Yu(0),i=Yu(0),c={data:[],typing:!1,beforeChange:function(){RA(e,a,n)},add:function(f,g){return BD(e,c,i,a,n,f,g)},undo:function(){return Yx(e,c,a,i)},redo:function(){return ol(e,i,c.data)},clear:function(){h2(e,c,i)},reset:function(){_h(e,c)},hasUndo:function(){return NF(e,c,i)},hasRedo:function(){return MD(e,c,i)},transact:function(f){return FD(e,c,a,f)},ignore:function(f){IF(e,a,f)},extra:function(f,g){$F(e,c,i,f,g)}};return vm(e)||T2(e,c,a),iN(e),c},uN=[9,27,Or.HOME,Or.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Or.DOWN,Or.UP,Or.LEFT,Or.RIGHT].concat(Sr.browser.isFirefox()?[224]:[]),QA="data-mce-placeholder",mm=function(e){return e.type==="keydown"||e.type==="keyup"},Bc=function(e){var n=e.keyCode;return n===Or.BACKSPACE||n===Or.DELETE},E2=function(e){if(mm(e)){var n=e.keyCode;return!Bc(e)&&(Or.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Me(uN,n))}else return!1},Ph=function(e){return mm(e)&&!(Bc(e)||e.type==="keyup"&&e.keyCode===229)},ud=function(e,n,a){if(eu(R.fromDom(n),!1)){var i=a==="",c=n.firstElementChild;return c?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(c):a===c.nodeName.toLowerCase():!0}else return!1},A2=function(e){var n=e.dom,a=ou(e),i=Gy(e),c=function(f,g){if(!E2(f)){var b=e.getBody(),w=Ph(f)?!1:ud(n,b,a),O=n.getAttrib(b,QA)!=="";(O!==w||g)&&(n.setAttrib(b,QA,w?i:null),n.setAttrib(b,"aria-placeholder",w?i:null),SS(e,w),e.on(w?"keydown":"keyup",c),e.off(w?"keyup":"keydown",c))}};i&&e.on("init",function(f){c(f,!0),e.on("change SetContent ExecCommand",c),e.on("paste",function(g){return Su.setEditorTimeout(e,function(){return c(g)})})})},e4=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,t4=function(e){return e4.test(e)},jg=function(e,n){return Un(R.fromDom(n),Zf(e))},I_=function(e){return go.DOM.getStyle(e,"direction",!0)==="rtl"||t4(e.textContent)},sN=function(e,n,a){return be(go.DOM.getParents(a.container(),"*",n),e)},gm=function(e,n,a){var i=sN(e,n,a);return K.from(i[i.length-1])},$_=function(e,n,a){var i=Al(n,e),c=Al(a,e);return i&&i===c},cN=function(e){return kr(e)||a1(e)},il=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?fo(a)?Jn(a.nextSibling)?At(a.nextSibling,0):At.after(a):kr(n)?At(a,i+1):n:fo(a)?Jn(a.previousSibling)?At(a.previousSibling,a.previousSibling.data.length):At.before(a):a1(n)?At(a,i-1):n},L_=Xe(il,!0),y0=Xe(il,!1),z_=function(e){return function(n){return Br(e,R.fromDom(n.dom.parentNode))}},H_=function(e){return Gl(e)||xu(e)},yf=function(e,n){return qa(e,n)?Dm(n,H_,z_(e)):K.none()},n4=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},V_=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),n4(e))},lN=function(e,n,a){return Pu(Iu(a),Tc(a),function(i,c){var f=il(!0,i),g=il(!1,c),b=il(!1,n);return e?el(a,b).exists(function(w){return w.isEqual(g)&&n.isEqual(f)}):_l(a,b).exists(function(w){return w.isEqual(f)&&n.isEqual(g)})}).getOr(!0)},fN=function(e,n){return{block:e,position:n}},w0=function(e,n){return{from:e,to:n}},r4=function(e,n){var a=R.fromDom(e),i=R.fromDom(n.container());return yf(a,i).map(function(c){return fN(c,n)})},vN=function(e){return Br(e.from.block,e.to.block)===!1},Lu=function(e){return $o(e.from.block).bind(function(n){return $o(e.to.block).filter(function(a){return Br(n,a)})}).isSome()},dN=function(e){return Co(e.from.block.dom)===!1&&Co(e.to.block.dom)===!1},U_=function(e,n,a){return to(a.position.getNode())&&eu(a.block)===!1?Jf(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?ws(n,e,i).bind(function(c){return r4(e,c)}):K.some(a)}).getOr(a):a},W_=function(e,n,a){var i=r4(e,At.fromRangeStart(a)),c=i.bind(function(f){return ws(n,e,f.position).bind(function(g){return r4(e,g).map(function(b){return U_(e,n,b)})})});return Pu(i,c,w0).filter(function(f){return vN(f)&&Lu(f)&&dN(f)})},j_=function(e,n,a){return a.collapsed?W_(e,n,a):K.none()},G_=function(e){var n=Ru(e);return ar(n,Qs).fold(B(n),function(a){return n.slice(0,a)})},pk=function(e){var n=G_(e);return yt(n,Lo),n},q_=function(e,n){var a=dr(n,e);return Kn(a.reverse(),function(i){return eu(i)}).each(Lo)},mN=function(e){return be(Da(e),function(n){return!eu(n)}).length===0},gN=function(e,n,a,i){if(eu(a))return im(a),Iu(a.dom);mN(i)&&eu(n)&&Zi(i,R.fromTag("br"));var c=_l(a.dom,At.before(i.dom));return yt(pk(n),function(f){Zi(i,f)}),q_(e,n),c},pN=function(e,n,a){if(eu(a))return Lo(a),eu(n)&&im(n),Iu(n.dom);var i=Tc(a.dom);return yt(pk(n),function(c){wi(a,c)}),q_(e,n),i},hN=function(e,n){var a=dr(n,e);return K.from(a[a.length-1])},sd=function(e,n){return qa(n,e)?hN(n,e):K.none()},K_=function(e,n){Jf(e,n.dom).map(function(a){return a.getNode()}).map(R.fromDom).filter(Pm).each(Lo)},X_=function(e,n,a){return K_(!0,n),K_(!1,a),sd(n,a).fold(Xe(pN,e,n,a),Xe(gN,e,n,a))},Y_=function(e,n,a,i){return n?X_(e,i,a):X_(e,a,i)},hk=function(e,n){var a=R.fromDom(e.getBody()),i=j_(a.dom,n,e.selection.getRng()).bind(function(c){return Y_(a,n,c.from.block,c.to.block)});return i.each(function(c){e.selection.setRng(c.toRange())}),i.isSome()},bN=function(e,n){var a=n.getRng();return Pu(yf(e,R.fromDom(a.startContainer)),yf(e,R.fromDom(a.endContainer)),function(i,c){return Br(i,c)===!1?(a.deleteContents(),Y_(e,!0,i,c).each(function(f){n.setRng(f.toRange())}),!0):!1}).getOr(!1)},ui=function(e,n){var a=R.fromDom(n),i=Xe(Br,e);return Cv(a,yl,i).isSome()},Z_=function(e,n){return ui(e,n.startContainer)||ui(e,n.endContainer)},J_=function(e,n){var a=_l(e.dom,At.fromRangeStart(n)).isNone(),i=el(e.dom,At.fromRangeEnd(n)).isNone();return!Z_(e,n)&&a&&i},sv=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},Q_=function(e){var n=R.fromDom(e.getBody()),a=e.selection.getRng();return J_(n,a)?sv(e):bN(n,e.selection)},bk=function(e,n){return e.selection.isCollapsed()?!1:Q_(e)},yN=Wc,a4=Co,pm=function(e,n,a,i,c){return K.from(n._selectionOverrides.showCaret(e,a,i,c))},C0=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},S0=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?K.none():K.some(C0(n))},o4=function(e,n,a){var i=Au(1,e.getBody(),n),c=At.fromRangeStart(i),f=c.getNode();if(lg(f))return pm(1,e,f,!c.isAtEnd(),!1);var g=c.getNode(!0);if(lg(g))return pm(1,e,g,!1,!1);var b=e.dom.getParent(c.getNode(),function(w){return a4(w)||yN(w)});return lg(b)?pm(1,e,b,!1,a):K.none()},yk=function(e,n,a){return n.collapsed?o4(e,n,a).getOr(n):n},i4=function(e){return nd(e)||Ng(e)},eR=function(e){return rd(e)||Ig(e)},u4=function(e,n){Jn(n)&&n.data.length===0&&e.remove(n)},tR=function(e,n,a,i,c,f){return pm(i,e,f.getNode(!c),c,!0).each(function(g){if(n.collapsed){var b=n.cloneRange();c?b.setEnd(g.startContainer,g.startOffset):b.setStart(g.endContainer,g.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(g)}),u4(e.dom,a),!0},wN=function(e,n){var a=e.selection.getRng();if(!Jn(a.commonAncestorContainer))return!1;var i=n?iu.Forwards:iu.Backwards,c=Yo(e.getBody()),f=Xe(aw,n?c.next:c.prev),g=n?i4:eR,b=pg(i,e.getBody(),a),w=il(n,f(b));if(!w||!sb(b,w))return!1;if(g(w))return tR(e,a,b.getNode(),i,n,w);var O=f(w);return O&&g(O)&&sb(w,O)?tR(e,a,b.getNode(),i,n,O):!1},wk=function(e,n){return wN(e,n)},wf=function(e){return yl(R.fromDom(e))||xu(R.fromDom(e))},ul=br.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),CN=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Nr(a)&&a.getAttribute("data-mce-caret")===i},SN=function(e,n,a,i){var c=function(f){return Bu(R.fromDom(f))&&!Ol(a,i,e)};return gg(!n,a).fold(function(){return gg(n,i).fold(Se,c)},c)},x0=function(e,n,a,i){var c=i.getNode(n===!1);return yf(R.fromDom(e),R.fromDom(a.getNode())).map(function(f){return eu(f)?ul.remove(f.dom):ul.moveToElement(c)}).orThunk(function(){return K.some(ul.moveToElement(c))})},nR=function(e,n,a){return ws(n,e,a).bind(function(i){return wf(i.getNode())||SN(e,n,a,i)?K.none():n&&Co(i.getNode())||n===!1&&Co(i.getNode(!0))?x0(e,n,a,i):n&&rd(a)||n===!1&&nd(a)?K.some(ul.moveToPosition(i)):K.none()})},rR=function(e,n){return e&&Co(n.nextSibling)?K.some(ul.moveToElement(n.nextSibling)):e===!1&&Co(n.previousSibling)?K.some(ul.moveToElement(n.previousSibling)):K.none()},aR=function(e,n,a){return a.fold(function(i){return K.some(ul.remove(i))},function(i){return K.some(ul.moveToElement(i))},function(i){return Ol(n,i,e)?K.none():K.some(ul.moveToPosition(i))})},oR=function(e,n,a){return CN(n,a)?rR(n,a.getNode(n===!1)).fold(function(){return nR(e,n,a)},K.some):nR(e,n,a).bind(function(i){return aR(e,a,i)})},xN=function(e,n,a){var i=Au(n?1:-1,e,a),c=At.fromRangeStart(i),f=R.fromDom(e);return n===!1&&rd(c)?K.some(ul.remove(c.getNode(!0))):n&&nd(c)?K.some(ul.remove(c.getNode())):n===!1&&nd(c)&&Xr(f,c)?yx(f,c).map(function(g){return ul.remove(g.getNode())}):n&&rd(c)&&jb(f,c)?wx(f,c).map(function(g){return ul.remove(g.getNode())}):oR(e,n,c)},kN=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),cn(e,n,R.fromDom(a)),!0}},Gg=function(e,n){return function(a){var i=n?At.before(a):At.after(a);return e.selection.setRng(i.toRange()),!0}},TN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},iR=function(e,n){return K.from(Yd(e.getBody(),n))},EN=function(e,n){var a=e.selection.getNode();return iR(e,a).filter(Co).fold(function(){return xN(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(kN(e,n),Gg(e,n),TN(e))})},Nt)},AN=function(e){yt(au(e,".mce-offscreen-selection"),Lo)},ON=function(e,n){var a=e.selection.getNode();if(Co(a)&&!Tm(a)){var i=iR(e,a.parentNode).filter(Co);return i.fold(function(){return AN(R.fromDom(e.getBody())),cn(e,n,R.fromDom(e.selection.getNode())),V_(e),!0},Nt)}return!1},uR=function(e){var n=e.dom,a=e.selection,i=Yd(e.getBody(),a.getNode());if(Wc(i)&&n.isBlock(i)&&n.isEmpty(i)){var c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),a.setRng(At.before(c).toRange())}return!0},Ck=function(e,n){return e.selection.isCollapsed()?EN(e,n):ON(e,n)},DN=function(e,n){var a=At.fromRangeStart(e.selection.getRng());return ws(n,e.getBody(),a).filter(function(i){return n?R3(i):vx(i)}).bind(function(i){return K.from(ob(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Sk=function(e,n){return e.selection.isCollapsed()?DN(e,n):!1},k0=Jn,sR=function(e){return k0(e)&&e.data[0]===Ie},cR=function(e){return k0(e)&&e.data[e.data.length-1]===Ie},T0=function(e){return e.ownerDocument.createTextNode(Ie)},_N=function(e){if(k0(e.previousSibling))return cR(e.previousSibling)||e.previousSibling.appendData(Ie),e.previousSibling;if(k0(e))return sR(e)||e.insertData(0,Ie),e;var n=T0(e);return e.parentNode.insertBefore(n,e),n},s4=function(e){if(k0(e.nextSibling))return sR(e.nextSibling)||e.nextSibling.insertData(0,Ie),e.nextSibling;if(k0(e))return cR(e)||e.appendData(Ie),e;var n=T0(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},xk=function(e,n){return e?_N(n):s4(n)},RN=Xe(xk,!0),PN=Xe(xk,!1),lR=function(e,n){return Jn(e.container())?xk(n,e.container()):xk(n,e.getNode())},qg=function(e,n){var a=n.get();return a&&e.container()===a&&fo(a)},hm=function(e,n){return n.fold(function(a){Wv(e.get());var i=RN(a);return e.set(i),K.some(At(i,i.length-1))},function(a){return Iu(a).map(function(i){if(qg(i,e))return At(e.get(),1);Wv(e.get());var c=lR(i,!0);return e.set(c),At(c,1)})},function(a){return Tc(a).map(function(i){if(qg(i,e))return At(e.get(),e.get().length-1);Wv(e.get());var c=lR(i,!1);return e.set(c),At(c,c.length-1)})},function(a){Wv(e.get());var i=PN(a);return e.set(i),K.some(At(i,1))})},O2=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return K.none()},zu=br.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Kg=function(e,n){var a=Al(n,e);return a||e},Bh=function(e,n,a){var i=L_(a),c=Kg(n,i.container());return gm(e,c,i).fold(function(){return el(c,i).bind(Xe(gm,e,c)).map(function(f){return zu.before(f)})},K.none)},kk=function(e,n){return jd(e,n)===null},D2=function(e,n,a){return gm(e,n,a).filter(Xe(kk,n))},fR=function(e,n,a){var i=y0(a);return D2(e,n,i).bind(function(c){var f=_l(c,i);return f.isNone()?K.some(zu.start(c)):K.none()})},c4=function(e,n,a){var i=L_(a);return D2(e,n,i).bind(function(c){var f=el(c,i);return f.isNone()?K.some(zu.end(c)):K.none()})},l4=function(e,n,a){var i=y0(a),c=Kg(n,i.container());return gm(e,c,i).fold(function(){return _l(c,i).bind(Xe(gm,e,c)).map(function(f){return zu.after(f)})},K.none)},f4=function(e){return I_(Xg(e))===!1},cv=function(e,n,a){var i=O2([Bh,fR,c4,l4],[e,n,a]);return i.filter(f4)},Xg=function(e){return e.fold(He,He,He,He)},v4=function(e){return e.fold(B("before"),B("start"),B("end"),B("after"))},_2=function(e){return e.fold(zu.before,zu.before,zu.after,zu.after)},Tk=function(e){return e.fold(zu.start,zu.start,zu.end,zu.end)},Ek=function(e,n){return v4(e)===v4(n)&&Xg(e)===Xg(n)},vR=function(e,n,a,i,c,f){return Pu(gm(n,a,i),gm(n,a,c),function(g,b){return g!==b&&$_(a,g,b)?zu.after(e?g:b):f}).getOr(f)},dR=function(e,n){return e.fold(Nt,function(a){return!Ek(a,n)})},mR=function(e,n,a,i,c){var f=il(e,c),g=ws(e,a,f).map(Xe(il,e)),b=g.fold(function(){return i.map(_2)},function(w){return cv(n,a,w).map(Xe(vR,e,n,a,f,w)).filter(Xe(dR,i))});return b.filter(f4)},gR=function(e,n){return e?n.fold(Ue(K.some,zu.start),K.none,Ue(K.some,zu.after),K.none):n.fold(K.none,Ue(K.some,zu.before),K.none,Ue(K.some,zu.end))},lv=function(e,n,a,i){var c=il(e,i),f=cv(n,a,c);return cv(n,a,c).bind(Xe(gR,e)).orThunk(function(){return mR(e,n,a,f,i)})};Xe(lv,!1),Xe(lv,!0);var pR=function(e){return Ae(e.selection.getSel().modify)},d4=function(e,n,a){var i=e?1:-1;return n.setRng(At(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Yg=function(e,n){var a=n.selection.getRng(),i=e?At.fromRangeEnd(a):At.fromRangeStart(a);return pR(n)?e&&kr(i)?d4(!0,n.selection,i):!e&&a1(i)?d4(!1,n.selection,i):!1:!1},Ou;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ou||(Ou={}));var Ak=function(e,n){return e===iu.Backwards?Yt(n):n},BN=function(e,n,a){return e===iu.Forwards?n.next(a):n.prev(a)},MN=function(e,n,a,i){return to(i.getNode(n===iu.Forwards))?Ou.Br:Ol(a,i)===!1?Ou.Block:Ou.Wrap},hR=function(e,n,a,i){for(var c=Yo(a),f=i,g=[];f;){var b=BN(n,c,f);if(!b)break;if(to(b.getNode(!1)))return n===iu.Forwards?{positions:Ak(n,g).concat([b]),breakType:Ou.Br,breakAt:K.some(b)}:{positions:Ak(n,g),breakType:Ou.Br,breakAt:K.some(b)};if(!b.isVisible()){f=b;continue}if(e(f,b)){var w=MN(a,n,f,b);return{positions:Ak(n,g),breakType:w,breakAt:K.some(b)}}g.push(b),f=b}return{positions:Ak(n,g),breakType:Ou.Eol,breakAt:K.none()}},bR=function(e,n,a,i){return n(a,i).breakAt.map(function(c){var f=n(a,c).positions;return e===iu.Backwards?f.concat(c):[c].concat(f)}).getOr([])},m4=function(e,n){return Cn(e,function(a,i){return a.fold(function(){return K.some(i)},function(c){return Pu(dn(c.getClientRects()),dn(i.getClientRects()),function(f,g){var b=Math.abs(n-f.left),w=Math.abs(n-g.left);return w<=b?i:c}).or(a)})},K.none())},yR=function(e,n){return dn(n.getClientRects()).bind(function(a){return m4(e,a.left)})},R2=Xe(hR,At.isAbove,-1),P2=Xe(hR,At.isBelow,1),FN=Xe(bR,-1,R2),NN=Xe(bR,1,P2),IN=function(e,n){return R2(e,n).breakAt.isNone()},g4=function(e,n){return P2(e,n).breakAt.isNone()},p4=function(e){return Iu(e).map(function(n){return[n].concat(P2(e,n).positions)}).getOr([])},wR=function(e){return Tc(e).map(function(n){return R2(e,n).positions.concat(n)}).getOr([])},$N=function(e){var n=function(i){return qt(i,function(c){var f=zv(c);return f.node=e,f})};if(Nr(e))return n(e.getClientRects());if(Jn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},h4=function(e){return va(e,$N)},Zg;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Zg||(Zg={}));var CR=function(e,n,a,i){for(;i=Gv(i,e,fi,n);)if(a(i))return},Ok=function(e,n,a,i,c,f){var g=0,b=[],w=function(L){var H=h4([L]);e===-1&&(H=H.reverse());for(var J=0;J<H.length;J++){var ee=H[J];if(!a(ee,O)){if(b.length>0&&n(ee,Zo(b))&&g++,ee.line=g,c(ee))return!0;b.push(ee)}}},O=Zo(f.getClientRects());if(!O)return b;var N=f.getNode();return w(N),CR(e,i,w,N),b},SR=function(e,n){return n.line>e},xR=function(e,n){return n.line===e},b4=Xe(Ok,Zg.Up,Ym,Zm),LN=Xe(Ok,Zg.Down,Zm,Ym),zN=function(e,n,a,i){var c=Yo(n),f,g,b,w,O=[],N=0,L=function(te){return Zo(te.getClientRects())};e===1?(f=c.next,g=Zm,b=Ym,w=At.after(i)):(f=c.prev,g=Ym,b=Zm,w=At.before(i));var H=L(w);do if(w.isVisible()){var J=L(w);if(!b(J,H)){O.length>0&&g(J,Zo(O))&&N++;var ee=zv(J);if(ee.position=w,ee.line=N,a(ee))return O;O.push(ee)}}while(w=f(w));return O},fv=function(e){return function(n){return SR(e,n)}},sl=function(e){return function(n){return xR(e,n)}},Dk=Co,y4=Gv,E0=function(e,n){return Math.abs(e.left-n)},_k=function(e,n){return Math.abs(e.right-n)},w4=function(e,n){return e>=n.left&&e<=n.right},kR=function(e,n){return e>=n.top&&e<=n.bottom},TR=function(e){return Xa(e,"node")},B2=function(e,n,a){return a===void 0&&(a=Nt),ri(e,function(i,c){if(w4(n,c))return a(c)?c:i;if(w4(n,i))return a(i)?i:c;var f=Math.min(E0(i,n),_k(i,n)),g=Math.min(E0(c,n),_k(c,n));return g===f&&TR(c)&&Dk(c.node)||g<f?c:i})},C4=function(e,n,a,i,c){var f=y4(i,e,fi,n,!c);do if(!f||a(f))return;while(f=y4(f,e,fi,n))},Rk=function(e,n,a){a===void 0&&(a=!0);var i=[],c=function(f,g){var b=be(h4([g]),function(w){return!f(w,n)});return i=i.concat(b),b.length===0};return i.push(n),C4(Zg.Up,e,Xe(c,Ym),n.node,a),C4(Zg.Down,e,Xe(c,Zm),n.node,a),i},Pk=function(e){return be(hn(e.getElementsByTagName("*")),Vd)},S4=function(e,n){return{node:e.node,before:E0(e,n)<_k(e,n)}},HN=function(e,n,a){var i=h4(Pk(e)),c=be(i,Xe(kR,a)),f=function(w){return!oi(w.node)&&!vs(w.node)},g=B2(c,n,f);if(g){var b=f(g);if(g=B2(Rk(e,g,b),n,f),g&&Vd(g.node))return S4(g,n)}return null},bm=function(e,n){e.selection.setRng(n),ah(e,e.selection.getRng())},x4=function(e,n,a){return K.some(yk(e,n,a))},ER=function(e,n,a,i,c,f){var g=n===iu.Forwards,b=Yo(e.getBody()),w=Xe(aw,g?b.next:b.prev),O=g?i:c;if(!a.collapsed){var N=Nd(a);if(f(N))return pm(n,e,N,n===iu.Backwards,!1)}var L=pg(n,e.getBody(),a);if(O(L))return S0(e,L.getNode(!g));var H=il(g,w(L)),J=ql(a);if(!H)return J?K.some(a):K.none();if(O(H))return pm(n,e,H.getNode(!g),g,!1);var ee=w(H);return ee&&O(ee)&&sb(H,ee)?pm(n,e,ee.getNode(!g),g,!1):J?x4(e,H.toRange(),!1):K.none()},k4=function(e,n,a,i,c,f){var g=pg(n,e.getBody(),a),b=Zo(g.getClientRects()),w=n===Zg.Down;if(!b)return K.none();var O=w?LN:b4,N=O(e.getBody(),fv(1),g),L=be(N,sl(1)),H=b.left,J=B2(L,H);if(J&&f(J.node)){var ee=Math.abs(H-J.left),te=Math.abs(H-J.right);return pm(n,e,J.node,ee<te,!1)}var re;if(i(g)?re=g.getNode():c(g)?re=g.getNode(!0):re=Nd(a),re){var pe=zN(n,e.getBody(),fv(1),re),de=B2(be(pe,sl(1)),H);if(de||(de=Zo(be(pe,sl(0))),de))return x4(e,de.position.toRange(),!1)}return L.length===0?T4(e,w).filter(w?c:i).map(function(Je){return yk(e,Je.toRange(),!1)}):K.none()},T4=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var c=At.fromRangeEnd(a),f=P2(i,c);return Fn(f.positions)}else{var c=At.fromRangeStart(a),f=R2(i,c);return dn(f.positions)}},AR=function(e,n,a){return T4(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},A0=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},OR=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},DR=function(e,n,a){return hm(n,a).map(function(i){return A0(e,i),a})},VN=function(e,n,a){var i=e.getBody(),c=At.fromRangeStart(e.selection.getRng()),f=Xe(jg,e),g=lv(a,f,i,c);return g.bind(function(b){return DR(e,n,b)})},UN=function(e,n,a){var i=qt(au(R.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(g){return g.dom}),c=be(i,e),f=be(a,e);yt(jt(c,f),Xe(OR,!1)),yt(jt(f,c),Xe(OR,!0))},WN=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=At.fromRangeStart(e.selection.getRng());At.isTextPosition(a)&&cN(a)===!1&&(A0(e,QC(n.get(),a)),n.set(null))}},jN=function(e,n,a,i){if(n.selection.isCollapsed()){var c=be(i,e);yt(c,function(f){var g=At.fromRangeStart(n.selection.getRng());cv(e,n.getBody(),g).bind(function(b){return DR(n,a,b)})})}},_R=function(e,n,a){return jp(e)?VN(e,n,a).isSome():!1},M2=function(e,n,a){return jp(n)?Yg(e,n):!1},Bk=function(e){var n=Yu(null),a=Xe(jg,e);return e.on("NodeChange",function(i){jp(e)&&!(Sr.browser.isIE()&&i.initial)&&(UN(a,e.dom,i.parents),WN(e,n),jN(a,e,n,i.parents))}),n},E4=Xe(M2,!0),GN=Xe(M2,!1),Mk=function(e,n,a){if(jp(e)){var i=T4(e,n).getOrThunk(function(){var c=e.selection.getRng();return n?At.fromRangeEnd(c):At.fromRangeStart(c)});return cv(Xe(jg,e),e.getBody(),i).exists(function(c){var f=_2(c);return hm(a,f).exists(function(g){return A0(e,g),!0})})}else return!1},qN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},KN=function(e){return Pu(Iu(e),Tc(e),function(n,a){var i=il(!0,n),c=il(!1,a);return el(e,i).forall(function(f){return f.isEqual(c)})}).getOr(!0)},A4=function(e,n){return function(a){return hm(n,a).exists(function(i){return A0(e,i),!0})}},RR=function(e,n,a,i){var c=e.getBody(),f=Xe(jg,e);e.undoManager.ignore(function(){e.selection.setRng(qN(a,i)),e.execCommand("Delete"),cv(f,c,At.fromRangeStart(e.selection.getRng())).map(Tk).map(A4(e,n))}),e.nodeChanged()},XN=function(e,n){var a=Al(n,e);return a||e},O4=function(e,n,a,i){var c=XN(e.getBody(),i.container()),f=Xe(jg,e),g=cv(f,c,i);return g.bind(function(b){return a?b.fold(B(K.some(Tk(b))),K.none,B(K.some(_2(b))),K.none):b.fold(K.none,B(K.some(_2(b))),K.none,B(K.some(Tk(b))))}).map(A4(e,n)).getOrThunk(function(){var b=Dl(a,c,i),w=b.bind(function(O){return cv(f,c,O)});return Pu(g,w,function(){return gm(f,c,i).exists(function(O){return KN(O)?(cn(e,a,R.fromDom(O)),!0):!1})}).orThunk(function(){return w.bind(function(O){return b.map(function(N){return a?RR(e,n,i,N):RR(e,n,N,i),!0})})}).getOr(!1)})},Fk=function(e,n,a){if(e.selection.isCollapsed()&&jp(e)){var i=At.fromRangeStart(e.selection.getRng());return O4(e,n,a,i)}return!1},YN=function(e,n){var a=dr(n,e);return ar(a,Qs).fold(B(a),function(i){return a.slice(0,i)})},ZN=function(e){return Jh(e)===1},JN=function(e,n,a,i){var c=Xe(JO,n),f=qt(be(i,c),function(b){return b.dom});if(f.length===0)cn(n,e,a);else{var g=$M(a.dom,f);n.selection.setRng(g.toRange())}},QN=function(e,n){var a=R.fromDom(e.getBody()),i=R.fromDom(e.selection.getStart()),c=be(YN(a,i),ZN);return Fn(c).exists(function(f){var g=At.fromRangeStart(e.selection.getRng());return lN(n,g,f.dom)&&!QO(f)?(JN(n,e,f,c),!0):!1})},Nk=function(e,n){return e.selection.isCollapsed()?QN(e,n):!1},D4=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),cn(e,n,R.fromDom(a)),!0},Ik=function(e,n){var a=n?Ng:Ig,i=n?iu.Forwards:iu.Backwards,c=pg(i,e.getBody(),e.selection.getRng());return a(c)?D4(e,n,c.getNode(!n)):K.from(il(n,c)).filter(function(f){return a(f)&&sb(c,f)}).exists(function(f){return D4(e,n,f.getNode(!n))})},$k=function(e,n){var a=e.selection.getNode();return vs(a)?D4(e,n,a):!1},Lk=function(e,n){return e.selection.isCollapsed()?Ik(e,n):$k(e,n)},e6=function(e){return Dm(e,function(n){return Wc(n.dom)||Co(n.dom)}).exists(function(n){return Wc(n.dom)})},O0=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},PR=function(e,n){var a=e||BT(n)?"margin":"padding",i=ra(n,"direction")==="rtl"?"-right":"-left";return a+i},t6=function(e,n,a,i,c,f){var g=PR(a,R.fromDom(f));if(n==="outdent"){var b=Math.max(0,O0(f.style[g])-i);e.setStyle(f,g,b?b+c:"")}else{var b=O0(f.style[g])+i+c;e.setStyle(f,g,b)}},n6=function(e,n){return xa(n,function(a){var i=PR(zC(e),a),c=Qi(a,i).map(O0).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&c>0})},BR=function(e){var n=FR(e);return!e.mode.isReadOnly()&&(n.length>1||n6(e,n))},MR=function(e){return qc(e)||xu(e)},r6=function(e){return $o(e).exists(MR)},FR=function(e){return be(Pi(e.selection.getSelectedBlocks()),function(n){return!MR(n)&&!r6(n)&&e6(n)})},NR=function(e,n){var a=e.dom,i=e.selection,c=e.formatter,f=jy(e),g=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),w=zC(e),O=ou(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&O===""&&!a.getParent(i.getNode(),a.isBlock)&&c.apply("div"),yt(FR(e),function(N){t6(a,n,w,b,g,N.dom)})},IR=function(e,n){if(e.selection.isCollapsed()&&BR(e)){var a=e.dom,i=e.selection.getRng(),c=At.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&Wb(R.fromDom(f),c))return NR(e,"outdent"),!0}return!1},$R=function(e,n){e.getDoc().execCommand(n,!1,null)},a6=function(e,n){if(!IR(e)){if(Ck(e,!1))return;if(wk(e,!1))return;if(Fk(e,n,!1))return;if(hk(e,!1))return;if(kh(e))return;if(Sk(e,!1))return;if(Lk(e,!1))return;if(bk(e))return;if(Nk(e,!1))return;$R(e,"Delete"),V_(e)}},o6=function(e,n){if(!Ck(e,!0)){if(wk(e,!0))return;if(Fk(e,n,!0))return;if(hk(e,!0))return;if(kh(e))return;if(Sk(e,!0))return;if(Lk(e,!0))return;if(bk(e))return;if(Nk(e,!0))return;$R(e,"ForwardDelete")}},Cf=function(e,n){e.addCommand("delete",function(){a6(e,n)}),e.addCommand("forwardDelete",function(){o6(e,n)})},zk=5,LR=400,_4=function(e){return e.touches===void 0||e.touches.length!==1?K.none():K.some(e.touches[0])},i6=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>zk||i>zk},zR=function(e){var n=Lv(),a=Yu(!1),i=Ri(function(c){e.fire("longpress",ir(ir({},c),{type:"longpress"})),a.set(!0)},LR);e.on("touchstart",function(c){_4(c).each(function(f){i.cancel();var g={x:f.clientX,y:f.clientY,target:c.target};i.throttle(c),a.set(!1),n.set(g)})},!0),e.on("touchmove",function(c){i.cancel(),_4(c).each(function(f){n.on(function(g){i6(f,g)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(c){i.cancel(),c.type!=="touchcancel"&&n.get().filter(function(f){return f.target.isEqualNode(c.target)}).each(function(){a.get()?c.preventDefault():e.fire("tap",ir(ir({},c),{type:"tap"}))})},!0)},R4=function(e,n){return Fr(e,n.nodeName)},HR=function(e,n){return Jn(n)?!0:Nr(n)?!R4(e,n)&&!Cs(n):!1},u6=function(e,n,a){return bt(px(R.fromDom(a),R.fromDom(n)),function(i){return R4(e,i.dom)})},s6=function(e,n){if(Jn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||R4(e,n.nextSibling)))return!0}return!1},c6=function(e){var n=e.dom,a=e.selection,i=e.schema,c=i.getBlockElements(),f=a.getStart(),g=e.getBody(),b,w,O,N=ou(e);if(!(!f||!Nr(f)||!N)){var L=g.nodeName.toLowerCase();if(!(!i.isValidChild(L,N.toLowerCase())||u6(c,g,f))){var H=a.getRng(),J=H.startContainer,ee=H.startOffset,te=H.endContainer,re=H.endOffset,pe=Oc(e);for(f=g.firstChild;f;)if(HR(c,f)){if(s6(c,f)){w=f,f=f.nextSibling,n.remove(w);continue}b||(b=n.create(N,ng(e)),f.parentNode.insertBefore(b,f),O=!0),w=f,f=f.nextSibling,b.appendChild(w)}else b=null,f=f.nextSibling;O&&pe&&(H.setStart(J,ee),H.setEnd(te,re),a.setRng(H),e.nodeChanged())}}},D0=function(e){ou(e)&&e.on("NodeChange",Xe(c6,e))},VR=function(e){return _m(R.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},UR=function(e){e.selection.setRng(e.selection.getRng())},P4=function(e,n){n.hasAttribute("data-mce-caret")&&(Y0(n),UR(e),e.selection.scrollIntoView(n))},B4=function(e,n){var a=VR(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),P4(e,a);return}Hf(a)&&(P4(e,a),e.undoManager.add())}},l6=function(e){e.on("keyup compositionstart",Xe(B4,e))},WR=Co,f6=function(e,n,a){return ER(n,e,a,nd,rd,WR)},v6=function(e,n,a){var i=function(f){return nd(f)||dx(f)},c=function(f){return rd(f)||mx(f)};return k4(n,e,a,i,c,WR)},d6=function(e){var n=e.dom.create(ou(e));return(!Sr.ie||Sr.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},jR=function(e,n,a){var i=Yo(e.getBody()),c=Xe(aw,n===1?i.next:i.prev);if(a.collapsed&&xE(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var g=c(At.fromRangeStart(a));if(!g){var b=d6(e);n===1?e.$(f).after(b):e.$(f).before(b),e.selection.select(b,!0),e.selection.collapse()}}},vv=function(e,n){var a=n?iu.Forwards:iu.Backwards,i=e.selection.getRng();return f6(a,e,i).orThunk(function(){return jR(e,a,i),K.none()})},m6=function(e,n){var a=n?1:-1,i=e.selection.getRng();return v6(a,e,i).orThunk(function(){return jR(e,a,i),K.none()})},GR=function(e,n){return vv(e,n).exists(function(a){return bm(e,a),!0})},qR=function(e,n){return m6(e,n).exists(function(a){return bm(e,a),!0})},KR=function(e,n){var a=n?rd:nd;return AR(e,n,a)},g6=function(e){return Me(["figcaption"],La(e))},XR=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},YR=function(e,n,a){a?wi(e,n):yc(e,n)},Jg=function(e,n){var a=R.fromTag("br");return YR(e,a,n),XR(a)},p6=function(e,n,a,i){var c=R.fromTag(a),f=R.fromTag("br");return $(c,i),wi(c,f),YR(e,c,n),XR(f)},h6=function(e,n,a,i){return n===""?Jg(e,i):p6(e,i,n,a)},ZR=function(e,n){var a=Xe(Br,n);return Dm(R.fromDom(e.container()),Qs,a).filter(g6)},M4=function(e,n,a){return n?g4(e.dom,a):IN(e.dom,a)},b6=function(e,n){var a=R.fromDom(e.getBody()),i=At.fromRangeStart(e.selection.getRng()),c=ou(e),f=ng(e);return ZR(i,a).exists(function(){if(M4(a,n,i)){var g=h6(a,c,f,n);return e.selection.setRng(g),!0}else return!1})},JR=function(e,n){return e.selection.isCollapsed()?b6(e,n):!1},y6=function(e){return qt(e,function(n){return ir({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:rt},n)})},Mh=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},w6=function(e,n){return va(y6(e),function(a){return Mh(a,n)?[a]:[]})},Ta=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},_0=function(e,n){return Kn(w6(e,n),function(a){return a.action()})},QR=function(e,n){var a=n?iu.Forwards:iu.Backwards,i=e.selection.getRng();return ER(e,a,i,Ng,Ig,vs).exists(function(c){return bm(e,c),!0})},Hk=function(e,n){var a=n?1:-1,i=e.selection.getRng();return k4(e,a,i,Ng,Ig,vs).exists(function(c){return bm(e,c),!0})},Vk=function(e,n){var a=n?Ig:Ng;return AR(e,n,a)},eP=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},tP=function(e,n){return va(n,function(a){var i=eP(zv(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},nP=function(e,n,a){return Cn(e,function(i,c){return i.fold(function(){return K.some(c)},function(f){var g=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-a)),b=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-a));return K.some(b<g?c:f)})},K.none())},rP=function(e,n,a,i,c){var f=au(R.fromDom(a),"td,th,caption").map(function(b){return b.dom}),g=be(tP(e,f),function(b){return n(b,c)});return nP(g,i,c).map(function(b){return b.cell})},F2=function(e){return e.bottom},C6=function(e){return e.top},S6=function(e,n){return e.y<n},x6=function(e,n){return e.y>n},R0=Xe(rP,F2,S6),k6=Xe(rP,C6,x6),ym=function(e,n){return dn(n.getClientRects()).bind(function(a){return R0(e,a.left,a.top)}).bind(function(a){return yR(wR(a),n)})},T6=function(e,n){return Fn(n.getClientRects()).bind(function(a){return k6(e,a.left,a.top)}).bind(function(a){return yR(p4(a),n)})},F4=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},N4=function(e){return e.breakType===Ou.Wrap&&e.positions.length===0},E6=function(e){return e.breakType===Ou.Br&&e.positions.length===1},aP=function(e,n,a){var i=e(n,a);return N4(i)||!to(a.getNode())&&E6(i)?!F4(e,n,i):i.breakAt.isNone()},A6=Xe(aP,R2),oP=Xe(aP,P2),O6=function(e,n,a){var i=At.fromRangeStart(n);return Jf(!e,a).exists(function(c){return c.isEqual(i)})},D6=function(e,n,a,i){var c=e.selection.getRng(),f=n?1:-1;return tw()&&O6(n,c,a)?(pm(f,e,a,!n,!1).each(function(g){bm(e,g)}),!0):!1},_6=function(e,n,a){return ym(n,a).orThunk(function(){return dn(a.getClientRects()).bind(function(i){return m4(FN(e,At.before(n)),i.left)})}).getOr(At.before(n))},R6=function(e,n,a){return T6(n,a).orThunk(function(){return dn(a.getClientRects()).bind(function(i){return m4(NN(e,At.after(n)),i.left)})}).getOr(At.after(n))},I4=function(e,n){var a=n.getNode(e);return Nr(a)&&a.nodeName==="TABLE"?K.some(a):K.none()},P6=function(e,n,a,i){var c=ou(n);c?n.undoManager.transact(function(){var f=R.fromTag(c);$(f,ng(n)),wi(f,R.fromTag("br")),e?wv(R.fromDom(a),f):Zi(R.fromDom(a),f);var g=n.dom.createRng();g.setStart(f.dom,0),g.setEnd(f.dom,0),bm(n,g)}):bm(n,i.toRange())},Qg=function(e,n,a){var i=I4(!!n,a),c=n===!1;i.fold(function(){return bm(e,a.toRange())},function(f){return Jf(c,e.getBody()).filter(function(g){return g.isEqual(a)}).fold(function(){return bm(e,a.toRange())},function(g){return P6(n,e,f,a)})})},B6=function(e,n,a,i){var c=e.selection.getRng(),f=At.fromRangeStart(c),g=e.getBody();if(!n&&A6(i,f)){var b=_6(g,a,f);return Qg(e,n,b),!0}else if(n&&oP(i,f)){var b=R6(g,a,f);return Qg(e,n,b),!0}else return!1},P0=function(e,n,a){return K.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return K.from(e.dom.getParent(i,"table")).map(function(c){return a(e,n,c,i)})}).getOr(!1)},$4=function(e,n){return P0(e,n,D6)},Uk=function(e,n){return P0(e,n,B6)},L4=function(e,n,a){var i=sr().os;_0([{keyCode:Or.RIGHT,action:Ta(GR,e,!0)},{keyCode:Or.LEFT,action:Ta(GR,e,!1)},{keyCode:Or.UP,action:Ta(qR,e,!1)},{keyCode:Or.DOWN,action:Ta(qR,e,!0)},{keyCode:Or.RIGHT,action:Ta($4,e,!0)},{keyCode:Or.LEFT,action:Ta($4,e,!1)},{keyCode:Or.UP,action:Ta(Uk,e,!1)},{keyCode:Or.DOWN,action:Ta(Uk,e,!0)},{keyCode:Or.RIGHT,action:Ta(QR,e,!0)},{keyCode:Or.LEFT,action:Ta(QR,e,!1)},{keyCode:Or.UP,action:Ta(Hk,e,!1)},{keyCode:Or.DOWN,action:Ta(Hk,e,!0)},{keyCode:Or.RIGHT,action:Ta(_R,e,n,!0)},{keyCode:Or.LEFT,action:Ta(_R,e,n,!1)},{keyCode:Or.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Ta(E4,e,n)},{keyCode:Or.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Ta(GN,e,n)},{keyCode:Or.UP,action:Ta(JR,e,!1)},{keyCode:Or.DOWN,action:Ta(JR,e,!0)}],a).each(function(c){a.preventDefault()})},M6=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&L4(e,n,a)})},F6=function(e,n,a){_0([{keyCode:Or.BACKSPACE,action:Ta(IR,e,!1)},{keyCode:Or.BACKSPACE,action:Ta(Ck,e,!1)},{keyCode:Or.DELETE,action:Ta(Ck,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(wk,e,!1)},{keyCode:Or.DELETE,action:Ta(wk,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(Fk,e,n,!1)},{keyCode:Or.DELETE,action:Ta(Fk,e,n,!0)},{keyCode:Or.BACKSPACE,action:Ta(kh,e,!1)},{keyCode:Or.DELETE,action:Ta(kh,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(Sk,e,!1)},{keyCode:Or.DELETE,action:Ta(Sk,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(Lk,e,!1)},{keyCode:Or.DELETE,action:Ta(Lk,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(bk,e,!1)},{keyCode:Or.DELETE,action:Ta(bk,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(hk,e,!1)},{keyCode:Or.DELETE,action:Ta(hk,e,!0)},{keyCode:Or.BACKSPACE,action:Ta(Nk,e,!1)},{keyCode:Or.DELETE,action:Ta(Nk,e,!0)}],a).each(function(i){a.preventDefault()})},N6=function(e,n){_0([{keyCode:Or.BACKSPACE,action:Ta(uR,e)},{keyCode:Or.DELETE,action:Ta(uR,e)}],n)},z4=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&F6(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&N6(e,a)})},I6=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},N2=function(e,n){var a,i=n,c=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var g=I6(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(c.doc.createTextNode(Fs),n.firstChild)}var b=c.createRng();if(n.normalize(),n.hasChildNodes()){for(var w=new Ua(n,n);a=w.current();){if(Jn(a)){b.setStart(a,0),b.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){b.setStartBefore(a),b.setEndBefore(a);break}i=a,a=w.next()}a||(b.setStart(i,0),b.setEnd(i,0))}else to(n)?n.nextSibling&&c.isBlock(n.nextSibling)?(b.setStartBefore(n),b.setEndBefore(n)):(b.setStartAfter(n),b.setEndAfter(n)):(b.setStart(n,0),b.setEnd(n,0));e.selection.setRng(b),ah(e,b)}},$6=function(e,n){var a=e.getRoot(),i,c;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},H4=function(e){return K.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},iP=function(e){return H4(e).fold(B(""),function(n){return n.nodeName.toUpperCase()})},L6=function(e){return H4(e).filter(function(n){return xu(R.fromDom(n))}).isSome()},z6=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},H6=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},uP=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},sP=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},V6=function(e){return sP(e)&&sP(e.parentNode)},Wk=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},jk=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Nr(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},cP=function(e,n,a,i,c){var f=e.dom,g=e.selection.getRng();if(a!==e.getBody()){V6(a)&&(c="LI");var b=c?n(c):f.create("BR");if(jk(a,i,!0)&&jk(a,i,!1))if(uP(a,"LI")){var w=Wk(a);f.insertAfter(b,w),H6(a)?f.remove(w):f.remove(a)}else f.replace(b,a);else if(jk(a,i,!0))uP(a,"LI")?(f.insertAfter(b,Wk(a)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(a)):a.parentNode.insertBefore(b,a),f.remove(i);else if(jk(a,i,!1))f.insertAfter(b,Wk(a)),f.remove(i);else{a=Wk(a);var O=g.cloneRange();O.setStartAfter(i),O.setEndAfter(a);var N=O.extractContents();c==="LI"&&z6(N,"LI")?(b=N.firstChild,f.insertAfter(N,a)):(f.insertAfter(N,a),f.insertAfter(b,a)),f.remove(i)}N2(e,b)}},U6=function(e){yt(Xm(R.fromDom(e),Po),function(n){var a=n.dom;a.nodeValue=gs(a.nodeValue)})},lP=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},W6=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},V4=function(e){e.innerHTML='<br data-mce-bogus="1">'},U4=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},fP=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},j6=function(e,n,a){var i=a,c=[],f;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Nr(i)&&!n[i.nodeName.toLowerCase()]&&c.push(i)}for(f=c.length;f--;)i=c[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||lP(e,i))&&e.remove(i)}},W4=function(e,n,a){return Jn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Ie?0:a:a===n.data.length-1&&n.data.charAt(a)===Ie?n.data.length:a},G6=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,W4(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,W4(!1,e.endContainer,e.endOffset)),n},q6=function(e){do Jn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},vP=function(e,n){var a=e.getRoot(),i,c;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},K6=function(e,n,a){var i=e.dom;K.from(a.style).map(i.parseStyle).each(function(w){var O=zo(R.fromDom(n)),N=ir(ir({},O),w);i.setStyles(n,N)});var c=K.from(a.class).map(function(w){return w.split(/\s+/)}),f=K.from(n.className).map(function(w){return be(w.split(/\s+/),function(O){return O!==""})});Pu(c,f,function(w,O){var N=be(O,function(H){return!Me(w,H)}),L=Go(Go([],w,!0),N,!0);i.setAttrib(n,"class",L.join(" "))});var g=["style","class"],b=Zn(a,function(w,O){return!Me(g,O)});i.setAttribs(n,b)},I2=function(e,n){var a=ou(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=ng(e);K6(e,n,i)}},X6=function(e,n,a,i,c){var f,g,b,w,O,N,L=n||"P",H=e.dom,J=vP(H,i);if(g=H.getParent(i,H.isBlock),!g||!fP(H,g)){if(g=g||J,g===e.getBody()||W6(g)?N=g.nodeName.toLowerCase():N=g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=H.create(L),I2(e,f),g.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(w=i;w.parentNode!==g;)w=w.parentNode;for(;w&&!H.isBlock(w);)b=w,w=w.previousSibling;if(b&&e.schema.isValidChild(N,L.toLowerCase())){for(f=H.create(L),I2(e,f),b.parentNode.insertBefore(f,b),w=b;w&&!H.isBlock(w);)O=w.nextSibling,f.appendChild(w),w=O;a.setStart(i,c),a.setEnd(i,c)}}return i},Y6=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},dP=function(e,n){var a,i,c,f,g,b,w,O,N,L,H=e.dom,J=e.schema,ee=J.getNonEmptyElements(),te=e.selection.getRng(),re=function(Ut){var bn=i,Ar,jn,Kt,gr=J.getTextInlineElements();if(Ut||O==="TABLE"||O==="HR"?Ar=H.create(Ut||N):Ar=f.cloneNode(!1),Kt=Ar,gE(e)===!1)H.setAttrib(Ar,"style",null),H.setAttrib(Ar,"class",null);else do if(gr[bn.nodeName]){if(uf(bn)||Cs(bn))continue;jn=bn.cloneNode(!1),H.setAttrib(jn,"id",""),Ar.hasChildNodes()?(jn.appendChild(Ar.firstChild),Ar.appendChild(jn)):(Kt=jn,Ar.appendChild(jn))}while((bn=bn.parentNode)&&bn!==ke);return I2(e,Ar),V4(Kt),Ar},pe=function(Ut){var bn,Ar,jn=W4(Ut,i,c);if(Jn(i)&&(Ut?jn>0:jn<i.nodeValue.length))return!1;if(i.parentNode===f&&L&&!Ut||Ut&&Nr(i)&&i===f.firstChild)return!0;if(U4(i,"TABLE")||U4(i,"HR"))return L&&!Ut||!L&&Ut;var Kt=new Ua(i,f);for(Jn(i)&&(Ut&&jn===0?Kt.prev():!Ut&&jn===i.nodeValue.length&&Kt.next());bn=Kt.current();){if(Nr(bn)){if(!bn.getAttribute("data-mce-bogus")&&(Ar=bn.nodeName.toLowerCase(),ee[Ar]&&Ar!=="br"))return!1}else if(Jn(bn)&&!Kc(bn.nodeValue))return!1;Ut?Kt.prev():Kt.next()}return!0},de=function(){/^(H[1-6]|PRE|FIGURE)$/.test(O)&&tt!=="HGROUP"?g=re(N):g=re(),Vp(e)&&fP(H,w)&&H.isEmpty(f)?g=H.split(w,f):H.insertAfter(g,f),N2(e,g)};Ab(H,te).each(function(Ut){te.setStart(Ut.startContainer,Ut.startOffset),te.setEnd(Ut.endContainer,Ut.endOffset)}),i=te.startContainer,c=te.startOffset,N=ou(e);var Je=!!(n&&n.shiftKey),je=!!(n&&n.ctrlKey);Nr(i)&&i.hasChildNodes()&&(L=c>i.childNodes.length-1,i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i,L&&Jn(i)?c=i.nodeValue.length:c=0);var ke=vP(H,i);if(ke){(N&&!Je||!N&&Je)&&(i=X6(e,N,te,i,c)),f=H.getParent(i,H.isBlock),w=f?H.getParent(f.parentNode,H.isBlock):null,O=f?f.nodeName.toUpperCase():"";var tt=w?w.nodeName.toUpperCase():"";if(tt==="LI"&&!je&&(f=w,w=w.parentNode,O=tt),/^(LI|DT|DD)$/.test(O)&&H.isEmpty(f)){cP(e,re,w,f,N);return}N&&f===e.getBody()||(N=N||"P",no(f)?(g=Y0(f),H.isEmpty(f)&&V4(f),I2(e,g),N2(e,g)):pe()?de():pe(!0)?(g=f.parentNode.insertBefore(re(),f),N2(e,U4(f,"HR")?g:f)):(a=G6(te).cloneRange(),a.setEndAfter(f),b=a.extractContents(),U6(b),q6(b),g=b.firstChild,H.insertAfter(b,f),j6(H,ee,g),Y6(H,f),H.isEmpty(f)&&V4(f),g.normalize(),H.isEmpty(g)?(H.remove(g),de()):(I2(e,g),N2(e,g))),H.setAttrib(g,"id",""),e.fire("NewBlock",{newBlock:g}))}},Z6=function(e,n,a){for(var i=new Ua(n,a),c,f=e.getNonEmptyElements();c=i.next();)if(f[c.nodeName.toLowerCase()]||c.length>0)return!0},mP=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),ah(e,i)},gP=function(e,n){var a=e.selection,i=e.dom,c=a.getRng(),f,g;Ab(i,c).each(function(ee){c.setStart(ee.startContainer,ee.startOffset),c.setEnd(ee.endContainer,ee.endOffset)});var b=c.startOffset,w=c.startContainer;if(w.nodeType===1&&w.hasChildNodes()){var O=b>w.childNodes.length-1;w=w.childNodes[Math.min(b,w.childNodes.length-1)]||w,O&&w.nodeType===3?b=w.nodeValue.length:b=0}var N=i.getParent(w,i.isBlock),L=N?i.getParent(N.parentNode,i.isBlock):null,H=L?L.nodeName.toUpperCase():"",J=!!(n&&n.ctrlKey);H==="LI"&&!J&&(N=L),w&&w.nodeType===3&&b>=w.nodeValue.length&&(Z6(e.schema,w,N)||(f=i.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),g=!0)),f=i.create("br"),U1(i,c,f),mP(e,f,g),e.undoManager.add()},pP=function(e,n){var a=R.fromTag("br");Zi(R.fromDom(n),a),e.undoManager.add()},Gk=function(e,n){j4(e.getBody(),n)||wv(R.fromDom(n),R.fromTag("br"));var a=R.fromTag("br");wv(R.fromDom(n),a),mP(e,a.dom,!1),e.undoManager.add()},hP=function(e){return to(e.getNode())},j4=function(e,n){return hP(At.after(n))?!0:el(e,At.after(n)).map(function(a){return to(a.getNode())}).getOr(!1)},qk=function(e){return e&&e.nodeName==="A"&&"href"in e},bP=function(e){return e.fold(Se,qk,qk,Se)},J6=function(e){var n=Xe(jg,e),a=At.fromRangeStart(e.selection.getRng());return cv(n,e.getBody(),a).filter(bP)},yP=function(e,n){n.fold(rt,Xe(pP,e),Xe(Gk,e),rt)},Fh=function(e,n){var a=J6(e);a.isSome()?a.each(Xe(yP,e)):gP(e,n)},G4=function(e,n){return H4(e).filter(function(a){return n.length>0&&Un(R.fromDom(a),n)}).isSome()},q4=function(e){return G4(e,rg(e))},Q6=function(e){return G4(e,LC(e))},vc=br.generate([{br:[]},{block:[]},{none:[]}]),eI=function(e,n){return Q6(e)},K4=function(e){return function(n,a){var i=ou(n)==="";return i===e}},wP=function(e){return function(n,a){return L6(n)===e}},CP=function(e,n){return function(a,i){var c=iP(a)===e.toUpperCase();return c===n}},Kk=function(e){return CP("pre",e)},tI=function(){return CP("summary",!0)},$2=function(e){return function(n,a){return Uy(n)===e}},B0=function(e,n){return q4(e)},L2=function(e,n){return n},Xk=function(e){var n=ou(e),a=$6(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Fl=function(e,n){return function(a,i){var c=Cn(e,function(f,g){return f&&g(a,i)},!0);return c?K.some(n):K.none()}},SP=function(e,n){return O2([Fl([eI],vc.none()),Fl([tI()],vc.br()),Fl([Kk(!0),$2(!1),L2],vc.br()),Fl([Kk(!0),$2(!1)],vc.block()),Fl([Kk(!0),$2(!0),L2],vc.block()),Fl([Kk(!0),$2(!0)],vc.br()),Fl([wP(!0),L2],vc.br()),Fl([wP(!0)],vc.block()),Fl([K4(!0),L2,Xk],vc.block()),Fl([K4(!0)],vc.br()),Fl([B0],vc.br()),Fl([K4(!1),L2],vc.br()),Fl([Xk],vc.block())],[e,!!(n&&n.shiftKey)]).getOr(vc.none())},X4=function(e,n){SP(e,n).fold(function(){Fh(e,n)},function(){dP(e,n)},rt)},xP=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),EF(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),X4(e,n)}))},kP=function(e){e.on("keydown",function(n){n.keyCode===Or.ENTER&&xP(e,n)})},Y4=function(e,n,a){_0([{keyCode:Or.END,action:Ta(KR,e,!0)},{keyCode:Or.HOME,action:Ta(KR,e,!1)},{keyCode:Or.END,action:Ta(Vk,e,!0)},{keyCode:Or.HOME,action:Ta(Vk,e,!1)},{keyCode:Or.END,action:Ta(Mk,e,!0,n)},{keyCode:Or.HOME,action:Ta(Mk,e,!1,n)}],a).each(function(i){a.preventDefault()})},TP=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Y4(e,n,a)})},nI=sr().browser,rI=function(e){var n=R1(function(){e.composing||Tx(e)},0);nI.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},Yk=function(e){rI(e),e.on("input",function(n){n.isComposing===!1&&Tx(e)})},aI=sr(),oI=function(e,n,a){_0([{keyCode:Or.PAGE_UP,action:Ta(Mk,e,!1,n)},{keyCode:Or.PAGE_DOWN,action:Ta(Mk,e,!0,n)}],a)},EP=function(e){return e.stopImmediatePropagation()},Z4=function(e){return e.keyCode===Or.PAGE_UP||e.keyCode===Or.PAGE_DOWN},AP=function(e,n,a){a&&!e.get()?n.on("NodeChange",EP,!0):!a&&e.get()&&n.off("NodeChange",EP),e.set(a)},iI=function(e,n){if(!aI.os.isOSX()){var a=Yu(!1);e.on("keydown",function(i){Z4(i)&&AP(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&oI(e,n,i),Z4(i)&&a.get()&&(AP(a,e,!1),e.nodeChanged())})}},Mc=function(e,n){var a=n.container(),i=n.offset();return Jn(a)?(a.insertData(i,e),K.some(At(a,i+e.length))):ub(n).map(function(c){var f=R.fromText(e);return n.isAtEnd()?wv(c,f):Zi(c,f),At(f.dom,e.length)})},uI=Xe(Mc,Fs),J4=Xe(Mc," "),OP=function(e){return function(n){return n.fold(function(a){return _l(e.dom,At.before(a))},function(a){return Iu(a)},function(a){return Tc(a)},function(a){return el(e.dom,At.after(a))})}},Q4=function(e,n){return function(a){return Kb(e,a)?uI(n):J4(n)}},sI=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},cI=function(e){var n=At.fromRangeStart(e.selection.getRng()),a=R.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=Xe(jg,e),c=At.fromRangeStart(e.selection.getRng());return cv(i,e.getBody(),c).bind(OP(a)).bind(Q4(a,n)).exists(sI(e))}else return!1},DP=function(e,n){_0([{keyCode:Or.SPACEBAR,action:Ta(cI,e)}],n).each(function(a){n.preventDefault()})},lI=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&DP(e,n)})},fI=function(e){var n=Bk(e);return l6(e),M6(e,n),z4(e,n),kP(e),lI(e),Yk(e),TP(e,n),iI(e,n),n},vI=function(e){return vm(e)?Yu(null):fI(e)},dI=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(c){var f=n.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!Bw(g,a))&&n.fire("SelectionChange"),a=g}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var c=n.selection.getStart(!0);!c||!Sr.range&&n.selection.isCollapsed()||Yv(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(c){!c.isDefaultPrevented()&&Yv(n)&&(n.selection.getNode().nodeName==="IMG"?Su.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,c,f;this.editor.initialized&&a&&!kE(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),c=[],this.editor.dom.getParent(i,function(g){if(g===f)return!0;c.push(g)}),n=n||{},n.element=i,n.parents=c,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),mI=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},gI=function(e){e.parser.addNodeFilter("details",function(n){yt(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){yt(n,function(a){var i=a.attr("data-mce-open");a.attr("open",Mt(i)?i:null),a.attr("data-mce-open",null)})})},pI=function(e){mI(e),gI(e)},_P=function(e){return Nr(e)&&Gl(R.fromDom(e))},hI=function(e){var n=e.selection.getRng(),a=At.fromRangeStart(n),i=At.fromRangeEnd(n);if(At.isElementPosition(a)){var c=a.container();_P(c)&&Iu(c).each(function(f){return n.setStart(f.container(),f.offset())})}if(At.isElementPosition(i)){var c=a.container();_P(c)&&Tc(c).each(function(g){return n.setEnd(g.container(),g.offset())})}e.selection.setRng(j3(n))},as=function(e){e.on("click",function(n){n.detail>=3&&hI(e)})},RP=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,c=a.defaultView;return{top:n.top+c.pageYOffset-i.clientTop,left:n.left+c.pageXOffset-i.clientLeft}},bI=function(e){return e.inline?RP(e.getBody()):{left:0,top:0}},yI=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},dc=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:c},wI=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=RP(e.getContentAreaContainer()),i=dc(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},PP=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},CI=function(e,n){return PP(bI(e),yI(e),wI(e,n))},wm=Co,SI=Wc,xI=function(e,n){return wm(n)&&n!==e},eO=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!wm(n)},kI=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},TI=function(e,n,a,i){var c=e.dom,f=n.cloneNode(!0);c.setStyles(f,{width:a,height:i}),c.setAttrib(f,"data-mce-selected",null);var g=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},EI=function(e,n){e.parentNode!==n&&n.appendChild(e)},AI=function(e,n,a,i,c,f){var g=0,b=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>c&&(g=n.pageX+a-c),n.pageY+i>f&&(b=n.pageY+i-f),e.style.width=a-g+"px",e.style.height=i-b+"px"},BP=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},OI=function(e){return e.button===0},Zk=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},MP=function(e,n){return function(a){if(OI(a)){var i=Kn(n.dom.getParents(a.target),oE(wm,SI)).getOr(null);if(xI(n.getBody(),i)){var c=n.dom.getPos(i),f=n.getBody(),g=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:g.offsetHeight)-2,relX:a.pageX-c.x,relY:a.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:TI(n,i,i.offsetWidth,i.offsetHeight)})}}}},DI=function(e,n){var a=Su.throttle(function(i,c){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,c)},0);return n.on("remove",a.stop),function(i){return e.on(function(c){var f=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&f>10){var g=n.fire("dragstart",{target:c.element});if(g.isDefaultPrevented())return;c.dragging=!0,n.focus()}if(c.dragging){var b=Zk(c,CI(n,i));EI(c.ghost,n.getBody()),AI(c.ghost,b,c.width,c.height,c.maxX,c.maxY),a(i.clientX,i.clientY)}})}},_I=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},RI=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(eO(n,_I(n.selection),i.element)){var c=kI(i.element),f=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||n.undoManager.transact(function(){BP(i.element),n.insertContent(n.dom.getOuterHTML(c)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),FP(e)}},PI=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),FP(e)}},FP=function(e){e.on(function(n){BP(n.ghost)}),e.clear()},tO=function(e){var n=Lv(),a=go.DOM,i=document,c=MP(n,e),f=DI(n,e),g=RI(n,e),b=PI(n,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",g),a.bind(i,"mousemove",f),a.bind(i,"mouseup",b),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",b)}),e.on("keydown",function(w){w.keyCode===Or.ESC&&b()})},NP=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(wm(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},IP=function(e){var n=function(c){if(!c.isDefaultPrevented()){var f=c.dataTransfer;f&&(Me(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&dk(e,"Dropped file type is not supported"))}},a=function(c){Mb(e,c.target)&&n(c)},i=function(){var c=go.DOM,f=e.dom,g=document,b=e.inline?e.getBody():e.getDoc(),w=["drop","dragover"];yt(w,function(O){c.bind(g,O,a),f.bind(b,O,n)}),e.on("remove",function(){yt(w,function(O){c.unbind(g,O,a),f.unbind(b,O,n)})})};e.on("init",function(){Su.setEditorTimeout(e,i,0)})},$P=function(e){tO(e),NP(e),ig(e)&&IP(e)},BI=function(e){var n=R1(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=yk(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},MI=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(vs(a)){var i=Yd(e.getBody(),a),c=Co(i)?i:a;e.selection.getNode()!==c&&S0(e,c).each(function(f){return e.selection.setRng(f)})}})})},LP=Wc,Nh=Co,Jk=function(e,n){return Yd(e.getBody(),n)},FI=function(e){var n=e.selection,a=e.dom,i=a.isBlock,c=e.getBody(),f=Nu(e,c,i,function(){return Oc(e)}),g="sel-"+a.uniqueId(),b="data-mce-selected",w,O=function(Kt){return a.hasClass(Kt,"mce-offscreen-selection")},N=function(Kt){return Kt!==c&&(Nh(Kt)||vs(Kt))&&a.isChildOf(Kt,c)},L=function(Kt){return nd(Kt)||rd(Kt)||Ng(Kt)||Ig(Kt)},H=function(){var Kt=a.get(g);return Kt&&Kt.getElementsByTagName("*")[0]},J=function(Kt){Kt&&n.setRng(Kt)},ee=n.getRng,te=function(Kt,gr,Sn,Wn){Wn===void 0&&(Wn=!0);var kn=e.fire("ShowCaret",{target:gr,direction:Kt,before:Sn});return kn.isDefaultPrevented()?null:(Wn&&n.scrollIntoView(gr,Kt===-1),f.show(Sn,gr))},re=function(Kt){Kt.hasAttribute("data-mce-caret")&&(Y0(Kt),J(ee()),n.scrollIntoView(Kt))},pe=function(){e.on("mouseup",function(kn){var In=ee();In.collapsed&&C_(e,kn.clientX,kn.clientY)&&o4(e,In,!1).each(J)}),e.on("click",function(kn){var In=Jk(e,kn.target);In&&(Nh(In)&&(kn.preventDefault(),e.focus()),LP(In)&&a.isChildOf(In,n.getNode())&&bn())}),e.on("blur NewBlock",bn),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var Kt=function(kn){var In=kn.firstChild;if(un(In))return!1;var er=At.before(In);if(to(er.getNode())&&kn.childNodes.length===1)return!L(er);var ln=Yo(kn),Xn=ln.next(er);return Xn&&!L(Xn)},gr=function(kn,In){var er=a.getParent(kn,i),ln=a.getParent(In,i);return er===ln},Sn=function(kn,In){var er=a.getParent(kn,i),ln=a.getParent(In,i);return un(er)?!1:kn!==ln&&a.isChildOf(er,ln)&&Nh(Jk(e,er))===!1?!0:!a.isChildOf(ln,er)&&!gr(er,ln)&&Kt(er)};e.on("tap",function(kn){var In=kn.target,er=Jk(e,In);Nh(er)?(kn.preventDefault(),S0(e,er).each(Ut)):N(In)&&S0(e,In).each(Ut)},!0),e.on("mousedown",function(kn){var In=kn.target;if(!(In!==c&&In.nodeName!=="HTML"&&!a.isChildOf(In,c))&&C_(e,kn.clientX,kn.clientY)!==!1){var er=Jk(e,In);if(er)Nh(er)?(kn.preventDefault(),S0(e,er).each(Ut)):(bn(),!(LP(er)&&kn.shiftKey)&&!Zd(kn.clientX,kn.clientY,n.getRng())&&(jn(),n.placeCaretAt(kn.clientX,kn.clientY)));else if(N(In))S0(e,In).each(Ut);else if(Vd(In)===!1){bn(),jn();var ln=HN(c,kn.clientX,kn.clientY);if(ln&&!Sn(In,ln.node)){kn.preventDefault();var Xn=te(1,ln.node,ln.before,!1);J(Xn),e.getBody().focus()}}}}),e.on("keypress",function(kn){Or.modifierPressed(kn)||Nh(n.getNode())&&kn.preventDefault()}),e.on("GetSelectionRange",function(kn){var In=kn.range;if(w){if(!w.parentNode){w=null;return}In=In.cloneRange(),In.selectNode(w),kn.range=In}}),e.on("SetSelectionRange",function(kn){kn.range=je(kn.range);var In=Ut(kn.range,kn.forward);In&&(kn.range=In)});var Wn=function(kn){return kn.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(kn){var In=kn.range,er=In.startContainer.parentNode;!Je(In)&&!Wn(er)&&jn(),O(er)||bn()}),e.on("copy",function(kn){var In=kn.clipboardData;if(!kn.isDefaultPrevented()&&kn.clipboardData&&!Sr.ie){var er=H();er&&(kn.preventDefault(),In.clearData(),In.setData("text/html",er.outerHTML),In.setData("text/plain",er.outerText||er.innerText))}}),$P(e),BI(e),MI(e)},de=function(Kt){return ps(Kt)||wp(Kt)||Cp(Kt)},Je=function(Kt){return de(Kt.startContainer)||de(Kt.endContainer)},je=function(Kt){var gr=e.schema.getShortEndedElements(),Sn=a.createRng(),Wn=Kt.startContainer,kn=Kt.startOffset,In=Kt.endContainer,er=Kt.endOffset;return Fr(gr,Wn.nodeName.toLowerCase())?kn===0?Sn.setStartBefore(Wn):Sn.setStartAfter(Wn):Sn.setStart(Wn,kn),Fr(gr,In.nodeName.toLowerCase())?er===0?Sn.setEndBefore(In):Sn.setEndAfter(In):Sn.setEnd(In,er),Sn},ke=function(Kt,gr,Sn){var Wn=e.$,kn=_m(R.fromDom(e.getBody()),"#"+g).fold(function(){return Wn([])},function(ln){return Wn([ln.dom])});kn.length===0&&(kn=Wn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g),kn.appendTo(e.getBody()));var In=a.createRng();gr===Sn&&Sr.ie?(kn.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(gr),In.setStartAfter(kn[0].firstChild.firstChild),In.setEndAfter(gr)):(kn.empty().append(Fs).append(gr).append(Fs),In.setStart(kn[0].firstChild,1),In.setEnd(kn[0].lastChild,0)),kn.css({top:a.getPos(Kt,e.getBody()).y}),kn[0].focus();var er=n.getSel();return er.removeAllRanges(),er.addRange(In),In},tt=function(Kt){var gr=Kt.cloneNode(!0),Sn=e.fire("ObjectSelected",{target:Kt,targetClone:gr});if(Sn.isDefaultPrevented())return null;var Wn=ke(Kt,Sn.targetClone,gr),kn=R.fromDom(Kt);return yt(au(R.fromDom(e.getBody()),"*[data-mce-selected]"),function(In){Br(kn,In)||Bt(In,b)}),a.getAttrib(Kt,b)||Kt.setAttribute(b,"1"),w=Kt,jn(),Wn},Ut=function(Kt,gr){if(!Kt)return null;if(Kt.collapsed){if(!Je(Kt)){var Sn=gr?1:-1,Wn=pg(Sn,c,Kt),kn=Wn.getNode(!gr);if(Vd(kn))return te(Sn,kn,gr?!Wn.isAtEnd():!1,!1);var In=Wn.getNode(gr);if(Vd(In))return te(Sn,In,gr?!1:!Wn.isAtEnd(),!1)}return null}var er=Kt.startContainer,ln=Kt.startOffset,Xn=Kt.endOffset;if(er.nodeType===3&&ln===0&&Nh(er.parentNode)&&(er=er.parentNode,ln=a.nodeIndex(er),er=er.parentNode),er.nodeType!==1)return null;if(Xn===ln+1&&er===Kt.endContainer){var ca=er.childNodes[ln];if(N(ca))return tt(ca)}return null},bn=function(){w&&w.removeAttribute(b),_m(R.fromDom(e.getBody()),"#"+g).each(Lo),w=null},Ar=function(){f.destroy(),w=null},jn=function(){f.hide()};return Sr.ceFalse&&!vm(e)&&pe(),{showCaret:te,showBlockCaretContainer:re,hideFakeCaret:jn,destroy:Ar}},zP=function(e){var n=Rt.each,a=Or.BACKSPACE,i=Or.DELETE,c=e.dom,f=e.selection,g=e.parser,b=Sr.gecko,w=Sr.ie,O=Sr.webkit,N="data:text/mce-internal,",L=w?"Text":"URL",H=function(fn,_n){try{e.getDoc().execCommand(fn,!1,_n)}catch{}},J=function(fn){return fn.isDefaultPrevented()},ee=function(fn){var _n,pr;fn.dataTransfer&&(e.selection.isCollapsed()&&fn.target.tagName==="IMG"&&f.select(fn.target),_n=e.selection.getContent(),_n.length>0&&(pr=N+escape(e.id)+","+escape(_n),fn.dataTransfer.setData(L,pr)))},te=function(fn){var _n;return fn.dataTransfer&&(_n=fn.dataTransfer.getData(L),_n&&_n.indexOf(N)>=0)?(_n=_n.substr(N.length).split(","),{id:unescape(_n[0]),html:unescape(_n[1])}):null},re=function(fn,_n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:fn,internal:_n}):e.execCommand("mceInsertContent",!1,fn)},pe=function(){var fn=function(pr){var ft=c.create("body"),wn=pr.cloneContents();return ft.appendChild(wn),f.serializer.serialize(ft,{format:"html"})},_n=function(pr){var ft=fn(pr),wn=c.createRng();wn.selectNode(e.getBody());var gn=fn(wn);return ft===gn};e.on("keydown",function(pr){var ft=pr.keyCode,wn,gn;if(!J(pr)&&(ft===i||ft===a)){if(wn=e.selection.isCollapsed(),gn=e.getBody(),wn&&!c.isEmpty(gn)||!wn&&!_n(e.selection.getRng()))return;pr.preventDefault(),e.setContent(""),gn.firstChild&&c.isBlock(gn.firstChild)?e.selection.setCursorLocation(gn.firstChild,0):e.selection.setCursorLocation(gn,0),e.nodeChanged()}})},de=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Je=function(){e.inline||c.bind(e.getDoc(),"mousedown mouseup",function(fn){var _n;if(fn.target===e.getDoc().documentElement)if(_n=f.getRng(),e.getBody().focus(),fn.type==="mousedown"){if(ps(_n.startContainer))return;f.placeCaretAt(fn.clientX,fn.clientY)}else f.setRng(_n)})},je=function(){e.on("keydown",function(fn){if(!J(fn)&&fn.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var _n=f.getNode(),pr=_n.previousSibling;if(_n.nodeName==="HR"){c.remove(_n),fn.preventDefault();return}pr&&pr.nodeName&&pr.nodeName.toLowerCase()==="hr"&&(c.remove(pr),fn.preventDefault())}}})},ke=function(){Range.prototype.getClientRects||e.on("mousedown",function(fn){if(!J(fn)&&fn.target.nodeName==="HTML"){var _n=e.getBody();_n.blur(),Su.setEditorTimeout(e,function(){_n.focus()})}})},tt=function(){e.on("click",function(fn){var _n=fn.target;/^(IMG|HR)$/.test(_n.nodeName)&&c.getContentEditableParent(_n)!=="false"&&(fn.preventDefault(),e.selection.select(_n),e.nodeChanged()),_n.nodeName==="A"&&c.hasClass(_n,"mce-item-anchor")&&(fn.preventDefault(),f.select(_n))})},Ut=function(){var fn=function(){var pr=c.getAttribs(f.getStart().cloneNode(!1));return function(){var ft=f.getStart();ft!==e.getBody()&&(c.setAttrib(ft,"style",null),n(pr,function(wn){ft.setAttributeNode(wn.cloneNode(!0))}))}},_n=function(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock)};e.on("keypress",function(pr){var ft;if(!J(pr)&&(pr.keyCode===8||pr.keyCode===46)&&_n())return ft=fn(),e.getDoc().execCommand("delete",!1,null),ft(),pr.preventDefault(),!1}),c.bind(e.getDoc(),"cut",function(pr){var ft;!J(pr)&&_n()&&(ft=fn(),Su.setEditorTimeout(e,function(){ft()}))})},bn=function(){e.on("keydown",function(fn){if(!J(fn)&&fn.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var _n=f.getNode().previousSibling;if(_n&&_n.nodeName&&_n.nodeName.toLowerCase()==="table")return fn.preventDefault(),!1}})},Ar=function(){e.on("keydown",function(fn){var _n,pr;if(!(J(fn)||fn.keyCode!==Or.BACKSPACE)){_n=f.getRng();var ft=_n.startContainer,wn=_n.startOffset,gn=c.getRoot();if(pr=ft,!(!_n.collapsed||wn!==0)){for(;pr&&pr.parentNode&&pr.parentNode.firstChild===pr&&pr.parentNode!==gn;)pr=pr.parentNode;pr.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,pr),_n=c.createRng(),_n.setStart(ft,0),_n.setEnd(ft,0),f.setRng(_n))}}})},jn=function(){var fn=function(){H("StyleWithCSS",!1),H("enableInlineTableEditing",!1),UC(e)||H("enableObjectResizing",!1)};TE(e)||e.on("BeforeExecCommand mousedown",fn)},Kt=function(){var fn=function(){n(c.select("a"),function(_n){var pr=_n.parentNode,ft=c.getRoot();if(pr.lastChild===_n){for(;pr&&!c.isBlock(pr);){if(pr.parentNode.lastChild!==pr||pr===ft)return;pr=pr.parentNode}c.add(pr,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(_n){(_n.type==="setcontent"||_n.command==="mceInsertLink")&&fn()})},gr=function(){ou(e)&&e.on("init",function(){H("DefaultParagraphSeparator",ou(e))})},Sn=function(){e.on("keyup focusin mouseup",function(fn){Or.modifierPressed(fn)||f.normalize()},!0)},Wn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},kn=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},In=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(fn){var _n;if(fn.target.nodeName==="HTML"){if(Sr.ie>11){e.getBody().focus();return}_n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(_n),e.selection.normalize(),e.nodeChanged()}}))},er=function(){Sr.mac&&e.on("keydown",function(fn){if(Or.metaKeyPressed(fn)&&!fn.shiftKey&&(fn.keyCode===37||fn.keyCode===39)){fn.preventDefault();var _n=e.selection.getSel();_n.modify("move",fn.keyCode===37?"backward":"forward","lineboundary")}})},ln=function(){H("AutoUrlDetect",!1)},Xn=function(){e.on("click",function(fn){var _n=fn.target;do if(_n.tagName==="A"){fn.preventDefault();return}while(_n=_n.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ca=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(fn){fn.preventDefault()})})},Fa=function(){g.addNodeFilter("br",function(fn){for(var _n=fn.length;_n--;)fn[_n].attr("class")==="Apple-interchange-newline"&&fn[_n].remove()})},Ba=function(){e.on("dragstart",function(fn){ee(fn)}),e.on("drop",function(fn){if(!J(fn)){var _n=te(fn);if(_n&&_n.id!==e.id){fn.preventDefault();var pr=Pw(fn.x,fn.y,e.getDoc());f.setRng(pr),re(_n.html,!0)}}})},fu=rt,Uo=function(){if(!b||e.removed)return!1;var fn=e.selection.getSel();return!fn||!fn.rangeCount||fn.rangeCount===0},ks=function(){O&&(Je(),tt(),ca(),de(),Sr.iOS&&(kn(),In(),Xn())),b&&(ke(),jn(),Wn(),er())},Fc=function(){Ar(),pe(),Sr.windowsPhone||Sn(),O&&(Je(),tt(),gr(),ca(),bn(),Fa(),Sr.iOS?(kn(),In(),Xn()):de()),Sr.ie>=11&&(In(),bn()),Sr.ie&&(de(),ln(),Ba()),b&&(je(),ke(),Ut(),jn(),Kt(),Wn(),er(),bn())};return vm(e)?ks():Fc(),{refreshContentEditable:fu,isHidden:Uo}},nO=go.DOM,NI=function(e,n){var a=R.fromDom(e.getBody()),i=Ko(Uu(a)),c=R.fromTag("style");E(c,"type","text/css"),wi(c,R.fromText(n)),wi(i,c),e.on("remove",function(){Lo(c)})},II=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},rO=function(e){return Zn(e,function(n){return $e(n)===!1})},aO=function(e){var n=e.settings;return rO({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},HP=function(e){var n=e.settings,a=e.editorUpload.blobCache;return rO({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:II(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},$I=function(e){var n=e.settings;return ir(ir(ir({},HP(e)),aO(e)),rO({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},LI=function(e){var n=ak(HP(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var c=a.length,f,g,b=e.dom,w="data-mce-"+i;c--;)if(f=a[c],g=f.attr(i),g&&!f.attr(w)){if(g.indexOf("data:")===0||g.indexOf("blob:")===0)continue;i==="style"?(g=b.serializeStyle(b.parseStyle(g),f.name),g.length||(g=null),f.attr(w,g),f.attr(i,g)):i==="tabindex"?(f.attr(w,g),f.attr(i,null)):f.attr(w,e.convertURL(g,i,f.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var c=a[i],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var c=a[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,c=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(c)&&f.getAll("br").length===0&&(f.append(new Dc("br",1)).shortEnded=!0)}}),n},zI=function(e){e.settings.auto_focus&&Su.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},VP=function(e){var n=e.dom.getRoot();!e.inline&&(!Yv(e)||e.selection.getStart(!0)===n)&&Iu(n).each(function(a){var i=a.getNode(),c=oi(i)?Iu(i).getOr(a):a;Sr.browser.isIE()?b3(e,c.toRange()):e.selection.setRng(c.toRange())})},Qk=function(e){e.bindPendingEventDelegates(),e.initialized=!0,CS(e),e.focus(!0),VP(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),zI(e)},oO=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},UP=function(e,n,a){var i=[new Li(function(c,f){return oO(e).loadAll(n,c,f)})];return e.inline?i:i.concat([new Li(function(c,f){return e.ui.styleSheetLoader.loadAll(a,c,f)})])},WP=function(e){var n=oO(e),a=VC(e),i=e.contentCSS,c=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){var g="";Rt.each(e.contentStyles,function(w){g+=w+`\r
`}),e.dom.addStyle(g)}var b=Li.all(UP(e,i,a)).then(f).catch(f);return e.settings.content_style&&NI(e,e.settings.content_style),b},HI=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();df(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,nO.setAttrib(i,"spellcheck","false")),e.quirks=zP(e),wS(e);var c=El(e);c!==void 0&&(i.dir=c),n.protect&&e.on("BeforeSetContent",function(f){Rt.each(n.protect,function(g){f.content=f.content.replace(g,function(b){return"<!--mce:protected "+escape(b)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},iO=function(e){vm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},uO=function(e){e.removed!==!0&&(iO(e),Qk(e))},sO=function(e,n){var a=e.settings,i=e.getElement(),c=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(c.open(),c.write(e.iframeHTML),c.close()),e.inline&&(nO.addClass(i,"mce-content-body"),e.contentDocument=c=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&nO.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=rs(e),e.schema=ac(aO(e)),e.dom=go(c,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:J1(e),referrerPolicy:Q1(e),onSetAttrib:function(w){e.fire("SetAttrib",w)}}),e.parser=LI(e),e.serializer=UA($I(e),e),e.selection=f0(e.dom,e.getWin(),e.serializer,e),e.annotator=xb(e),e.formatter=ti(e),e.undoManager=N_(e),e._nodeChangeDispatcher=new dI(e),e._selectionOverrides=FI(e),zR(e),pI(e),vm(e)||as(e);var g=vI(e);Cf(e,g),D0(e),A2(e);var b=FF(e);HI(e),b.fold(function(){WP(e).then(function(){return uO(e)})},function(w){e.setProgressState(!0),WP(e).then(function(){w().then(function(O){e.setProgressState(!1),uO(e)},function(O){e.notificationManager.open({type:"error",text:String(O)}),uO(e)})})})},z2=go.DOM,VI=function(e,n){if(document.domain!==window.location.hostname&&Sr.browser.isIE()){var a=D_("mce");e[a]=function(){sO(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return z2.setAttrib(n,"src",i),!0}return!1},Sf=function(e,n,a,i){var c=R.fromTag("iframe");return $(c,i),$(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Md(c,"tox-edit-area__iframe"),c},jP=function(e){var n=$C(e)+"<html><head>";Vy(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=dE(e),i=mE(e),c=e.translate(YC(e));return X1(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+X1(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+c+'">')+"<br></body></html>",n},GP=function(e,n){var a=e.translate("Rich Text Area"),i=Sf(e.id,a,n.height,vE(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var c=VI(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=jP(e),z2.add(n.iframeContainer,i),c},UI=function(e,n){var a=GP(e,n);n.editorContainer&&(z2.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=z2.isHidden(n.editorContainer)),e.getElement().style.display="none",z2.setAttrib(e.id,"aria-hidden","true"),a||sO(e)},qP=go.DOM,KP=function(e,n,a){var i=uv.get(a),c=uv.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Rt.trim(a),i&&Rt.inArray(n,a)===-1){if(Rt.each(uv.dependencies(a),function(g){KP(e,n,g)}),e.plugins[a])return;try{var f=new i(e,c,e.$);e.plugins[a]=f,f.init&&(f.init(e,c),n.push(a))}catch(g){K5(e,a,g)}}},XP=function(e){return e.replace(/^\-/,"")},WI=function(e){var n=[];Rt.each(rb(e).split(/[ ,]/),function(a){KP(e,n,XP(a))})},jI=function(e){var n=Rt.trim(af(e)),a=e.ui.registry.getAll().icons,i=ir(ir({},vk.get("default").icons),vk.get(n).icons);yn(i,function(c,f){Fr(a,f)||e.ui.registry.addIcon(f,c)})},GI=function(e){var n=ag(e);if(Mt(n)){e.settings.theme=XP(n);var a=Wg.get(n);e.theme=new a(e,Wg.urls[n]),e.theme.init&&e.theme.init(e,Wg.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},cO=function(e){return e.theme.renderUI()},qI=function(e){var n=e.getElement(),a=ag(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},YP=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},ZP=function(e){var n=qP.create("div");return qP.insertAfter(n,e),YP(n)},KI=function(e){var n=e.getElement();return e.inline?YP(null):ZP(n)},XI=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,Mt(ag(e))?cO(e):Ae(ag(e))?qI(e):KI(e)},YI=function(e,n){var a={show:K.from(n.show).getOr(rt),hide:K.from(n.hide).getOr(rt),disable:K.from(n.disable).getOr(rt),isDisabled:K.from(n.isDisabled).getOr(Se),enable:function(){e.mode.isReadOnly()||K.from(n.enable).map(vt)}};e.ui=ir(ir({},e.ui),a)},JP=function(e){e.fire("ScriptsLoaded"),jI(e),GI(e),WI(e);var n=XI(e);YI(e,K.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,O_(e),e.inline?sO(e):UI(e,a)},Ih=go.DOM,QP=function(e){return e.charAt(0)==="-"},lO=function(e,n){var a=eb(n),i=Hi(n);if(Zu.hasCode(a)===!1&&a!=="en"){var c=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(c,rt,void 0,function(){q5(n,c,a)})}},ZI=function(e,n,a,i){var c=ag(n);if(Mt(c)){if(!QP(c)&&!Fr(Wg.urls,c)){var f=GC(n);f?Wg.load(c,n.documentBaseURI.toAbsolute(f)):Wg.load(c,"themes/"+c+"/theme"+a+".js")}e.loadQueue(function(){Wg.waitFor(c,i)})}else i()},eB=function(e){return K.from(Z1(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:K.none()}})},tB=function(e,n,a){return K.from(n).filter(function(i){return i.length>0&&!vk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:K.some(i)}})},JI=function(e,n,a){var i=tB(n,"default",a),c=eB(n).orThunk(function(){return tB(n,af(n),"")});yt(na([i,c]),function(f){e.add(f.url,rt,void 0,function(){E_(n,f.url,f.name.getOrUndefined())})})},QI=function(e,n){Rt.each(AE(e),function(a,i){uv.load(i,a,rt,void 0,function(){ZA(e,a,i)}),e.settings.plugins+=" "+i}),Rt.each(rb(e).split(/[ ,]/),function(a){if(a=Rt.trim(a),a&&!uv.urls[a])if(QP(a)){a=a.substr(1,a.length);var i=uv.dependencies(a);Rt.each(i,function(f){var g={prefix:"plugins/",resource:f,suffix:"/plugin"+n+".js"},b=uv.createUrl(g,f);uv.load(b.resource,b,rt,void 0,function(){ZA(e,b.prefix+b.resource+b.suffix,b.resource)})})}else{var c={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};uv.load(a,c,rt,void 0,function(){ZA(e,c.prefix+c.resource+c.suffix,a)})}})},e8=function(e,n){var a=qf.ScriptLoader;ZI(a,e,n,function(){lO(a,e),JI(a,e,n),QI(e,n),a.loadQueue(function(){e.removed||JP(e)},e,function(){e.removed||JP(e)})})},lu=function(e,n){return Gc.forElement(e,{contentCssCors:EE(n),referrerPolicy:Q1(n)})},t8=function(e){var n=e.id;Zu.setCode(eb(e));var a=function(){Ih.unbind(window,"ready",a),e.render()};if(!zm.Event.domLoaded){Ih.bind(window,"ready",a);return}if(e.getElement()&&Sr.contentEditable){var i=R.fromDom(e.getElement()),c=cr(i);e.on("remove",function(){Ot(i.dom.attributes,function(g){return Bt(i,g.name)}),$(i,c)}),e.ui.styleSheetLoader=lu(i,e),CE(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||Ih.getParent(n,"form");f&&(e.formElement=f,qC(e)&&!Ji(e.getElement())&&(Ih.insertAfter(Ih.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(g){e.fire(g.type,g)},Ih.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),KC(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=qA(e),e.notificationManager=k_(e),Ky(e)&&e.on("GetContent",function(g){g.save&&(g.content=Ih.encode(g.content))}),SE(e)&&e.on("submit",function(){e.initialized&&e.save()}),nb(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),e8(e,e.suffix)}},n8=function(e,n){return qF(e,n)},r8={"font-size":"size","font-family":"face"},nB=function(e,n,a){var i=function(f){return Qi(f,e).orThunk(function(){return La(f)==="font"?Dr(r8,e).bind(function(g){return se(f,g)}):K.none()})},c=function(f){return Br(R.fromDom(n),f)};return tA(R.fromDom(a),function(f){return i(f)},c)},fO=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},a8=function(e,n){return K.from(go.DOM.getStyle(n,e,!0))},vO=function(e){return function(n,a){return K.from(a).map(R.fromDom).filter(wo).bind(function(i){return nB(e,n,i.dom).or(a8(e,i.dom))}).getOr("")}},o8=vO("font-size"),i8=Ue(fO,vO("font-family")),u8=function(e){return Iu(e.getBody()).map(function(n){var a=n.container();return Jn(a)?a.parentNode:a})},s8=function(e){return K.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?K.none():K.from(e.selection.getStart(!0))})},c8=function(e,n){return s8(e).orThunk(Xe(u8,e)).map(R.fromDom).filter(wo).bind(n)},dO=function(e,n){return c8(e,U(K.some,n))},rB=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Up(e),c=zd(e);return c?c[a-1]||n:i[a-1]||n}else return n}else return n},l8=function(e){var n=e.split(/\s*,\s*/);return qt(n,function(a){return a.indexOf(" ")!==-1&&!(F(a,'"')||F(a,"'"))?"'"+a+"'":a}).join(",")},f8=function(e,n){var a=rB(e,n);e.formatter.toggle("fontname",{value:l8(a)}),e.nodeChanged()},v8=function(e){return dO(e,function(n){return i8(e.getBody(),n.dom)}).getOr("")},d8=function(e,n){e.formatter.toggle("fontsize",{value:rB(e,n)}),e.nodeChanged()},m8=function(e){return dO(e,function(n){return o8(e.getBody(),n.dom)}).getOr("")},g8=function(e){return dO(e,function(n){var a=R.fromDom(e.getBody()),i=tA(n,function(f){return Qi(f,"line-height")},Xe(Br,a)),c=function(){var f=parseFloat(ra(n,"line-height")),g=parseFloat(ra(n,"font-size"));return String(f/g)};return i.getOrThunk(c)}).getOr("")},aB=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},p8=function(e){if(typeof e!="string"){var n=Rt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},h8=function(e,n){var a=p8(n);jF(e,a.content,a.details)},eT=Rt.each,b8=Rt.map,oB=Rt.inArray,iB=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,c){var f,g=!1,b=this;if(!b.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!c||!c.skip_focus)?b.editor.focus():Ww(b.editor)),c=b.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),c.isDefaultPrevented())return!1;var w=n.toLowerCase();if(f=b.commands.exec[w])return f(w,a,i),b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(eT(this.editor.plugins,function(O){if(O.execCommand&&O.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),g=!0,!1}),g)return g;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{g=b.editor.getDoc().execCommand(n,a,i)}catch{}return g?(b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;eT(n,function(c,f){eT(f.toLowerCase().split(","),function(g){i.commands[a][g]=c})})},e.prototype.addCommand=function(n,a,i){var c=this;n=n.toLowerCase(),this.commands.exec[n]=function(f,g,b,w){return a.call(i||c.editor,g,b,w)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var c=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||c.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var c=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||c.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":rt,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(c,f,g){Nb(n,g)},"Cut,Copy,Paste":function(c){var f=n.getDoc(),g;try{a.execNativeCommand(c)}catch{g=!0}if(c==="paste"&&!f.queryCommandEnabled(c)&&(g=!0),g||!f.queryCommandSupported(c)){var b=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Sr.mac&&(b=b.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var c=n.dom.getParent(n.selection.getStart(),"a");c&&n.dom.remove(c,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var f=c.substring(7);f==="full"&&(f="justify"),eT("left,center,right,justify".split(","),function(g){f!==g&&n.formatter.remove("align"+g)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(c){var f;a.execNativeCommand(c);var g=n.dom.getParent(n.selection.getNode(),"ol,ul");g&&(f=g.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),n.dom.split(f,g),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){a.toggleFormat(c)},"ForeColor,HiliteColor":function(c,f,g){a.toggleFormat(c,{value:g})},FontName:function(c,f,g){f8(n,g)},FontSize:function(c,f,g){d8(n,g)},LineHeight:function(c,f,g){aB(n,g)},Lang:function(c,f,g){a.toggleFormat(c,{value:g.code,customValue:g.customCode})},RemoveFormat:function(c){n.formatter.remove(c)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(c,f,g){return a.toggleFormat(g||"p")},mceCleanup:function(){var c=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(c)},mceRemoveNode:function(c,f,g){var b=g||n.selection.getNode();b!==n.getBody()&&(a.storeSelection(),n.dom.remove(b,!0),a.restoreSelection())},mceSelectNodeDepth:function(c,f,g){var b=0;n.dom.getParent(n.selection.getNode(),function(w){if(w.nodeType===1&&b++===g)return n.selection.select(w),!1},n.getBody())},mceSelectNode:function(c,f,g){n.selection.select(g)},mceInsertContent:function(c,f,g){h8(n,g)},mceInsertRawHTML:function(c,f,g){n.selection.setContent("tiny_mce_marker");var b=n.getContent();n.setContent(b.replace(/tiny_mce_marker/g,function(){return g}))},mceInsertNewLine:function(c,f,g){X4(n,g)},mceToggleFormat:function(c,f,g){a.toggleFormat(g)},mceSetContent:function(c,f,g){n.setContent(g)},"Indent,Outdent":function(c){NR(n,c)},mceRepaint:rt,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(c,f,g){n.execCommand("mceInsertContent",!1,g.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(c,f,g){typeof g=="string"&&(g={href:g});var b=n.dom.getParent(n.selection.getNode(),"a");g.href=g.href.replace(/ /g,"%20"),(!b||!g.href)&&n.formatter.remove("link"),g.href&&n.formatter.apply("link",g,b)},selectAll:function(){var c=n.dom.getParent(n.selection.getStart(),Wc);if(c){var f=n.dom.createRng();f.selectNodeContents(c),n.selection.setRng(f)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(c,f,g){return Fh(n,g),!0}});var i=function(c){return function(){var f=n.selection,g=f.isCollapsed()?[n.dom.getParent(f.getNode(),n.dom.isBlock)]:f.getSelectedBlocks(),b=b8(g,function(w){return!!n.formatter.matchNode(w,c)});return oB(b,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return a.isFormatMatch(c)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return BR(n)},"InsertUnorderedList,InsertOrderedList":function(c){var f=n.dom.getParent(n.selection.getNode(),"ul,ol");return f&&(c==="insertunorderedlist"&&f.tagName==="UL"||c==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return v8(n)},this),a.addQueryValueHandler("FontSize",function(){return m8(n)},this),a.addQueryValueHandler("LineHeight",function(){return g8(n)},this)},e}(),ep="data-mce-contenteditable",uB=function(e,n,a){Ey(e,n)&&a===!1?Ty(e,n):a&&Md(e,n)},tT=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},nT=function(e,n){e.dom.contentEditable=n?"true":"false"},y8=function(e){yt(au(e,'*[contenteditable="true"]'),function(n){E(n,ep,"true"),nT(n,!1)})},w8=function(e){yt(au(e,"*["+ep+'="true"]'),function(n){Bt(n,ep),nT(n,!0)})},sB=function(e){K.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},C8=function(e){e.selection.setRng(e.selection.getRng())},S8=function(e,n){var a=R.fromDom(e.getBody());uB(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),sB(e),e.readonly=!0,nT(a,!1),y8(a)):(e.readonly=!1,nT(a,!0),w8(a),tT(e,"StyleWithCSS",!1),tT(e,"enableInlineTableEditing",!1),tT(e,"enableObjectResizing",!1),JS(e)&&e.focus(),C8(e),e.nodeChanged())},tp=function(e){return e.readonly},cB=function(e){e.parser.addAttributeFilter("contenteditable",function(n){tp(e)&&yt(n,function(a){a.attr(ep,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ep,function(n){tp(e)&&yt(n,function(a){a.attr("contenteditable",a.attr(ep))})}),e.serializer.addTempAttr(ep)},x8=function(e){e.serializer?cB(e):e.on("PreInit",function(){cB(e)})},lB=function(e){return e.type==="click"},k8=function(e,n){var a=function(i){return Br(i,R.fromDom(e.getBody()))};return Qo(n,"a",a).bind(function(i){return se(i,"href")})},T8=function(e,n){if(lB(n)&&!Or.metaKeyPressed(n)){var a=R.fromDom(n.target);k8(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var c=e.dom.select(i+',[name="'+lt(i,"#")+'"]');c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},E8=function(e){e.on("ShowCaret",function(n){tp(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){tp(e)&&n.preventDefault()})},fB=Rt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),rT=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Se}return e.isNative=function(n){return!!fB[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),c=rn(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);var f=this.bindings[i];if(f)for(var g=0,b=f.length;g<b;g++){var w=f[g];if(!w.removed){if(w.once&&this.off(i,w.func),c.isImmediatePropagationStopped())return c;if(w.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c},e.prototype.on=function(n,a,i,c){if(a===!1&&(a=Se),a){var f={func:a,removed:!1};c&&Rt.extend(f,c);for(var g=n.toLowerCase().split(" "),b=g.length;b--;){var w=g[b],O=this.bindings[w];O||(O=[],this.toggleEvent(w,!0)),i?O=Go([f],O,!0):O=Go(Go([],O,!0),[f],!1),this.bindings[w]=O}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var c=n.toLowerCase().split(" "),f=c.length;f--;){var g=c[f],b=this.bindings[g];if(!g)return yn(this.bindings,function(O,N){i.toggleEvent(N,!1),delete i.bindings[N]}),this;if(b){if(!a)b.length=0;else{var w=tr(b,function(O){return O.func===a});b=w.fail,this.bindings[g]=b,yt(w.pass,function(O){O.removed=!0})}b.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}else yn(this.bindings,function(O,N){i.toggleEvent(N,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),H2=function(e){return e._eventDispatcher||(e._eventDispatcher=new rT({scope:e,toggleEvent:function(n,a){rT.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},aT={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var c=H2(i).fire(e,n);if(a!==!1&&i.parent)for(var f=i.parent();f&&!c.isPropagationStopped();)f.fire(e,c,!1),f=f.parent();return c},on:function(e,n,a){return H2(this).on(e,n,a)},off:function(e,n){return H2(this).off(e,n)},once:function(e,n){return H2(this).once(e,n)},hasEventListeners:function(e){return H2(this).has(e)}},oT=go.DOM,$h,iT=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=tb(e);return a?(e.eventRoot||(e.eventRoot=oT.select(a)[0]),e.eventRoot):e.getBody()},A8=function(e){return!e.hidden&&!tp(e)},vB=function(e,n,a){A8(e)?e.fire(n,a):tp(e)&&T8(e,a)},dB=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=iT(e,n);if(tb(e)){if($h||($h={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||$h&&(yn($h,function(c,f){e.dom.unbind(iT(e,f))}),$h=null)})),$h[n])return;a=function(c){for(var f=c.target,g=e.editorManager.get(),b=g.length;b--;){var w=g[b].getBody();(w===f||oT.isChildOf(f,w))&&vB(g[b],n,c)}},$h[n]=a,oT.bind(i,n,a)}else a=function(c){vB(e,n,c)},oT.bind(i,n,a),e.delegates[n]=a}},mB=ir(ir({},aT),{bindPendingEventDelegates:function(){var e=this;Rt.each(e._pendingNativeEvents,function(n){dB(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?dB(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(iT(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(yn(e.delegates,function(i,c){e.dom.unbind(iT(e,c),c,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),O8=["design","readonly"],V2=function(e,n,a,i){var c=a[n.get()],f=a[i];try{f.activate()}catch(g){console.error("problem while activating editor mode "+i+":",g);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&S8(e,f.editorReadOnly),n.set(i),Aw(e,i)},gB=function(e,n,a,i){if(i!==a.get()){if(!Fr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?V2(e,a,n,i):e.on("init",function(){return V2(e,a,n,i)})}},pB=function(e,n,a){var i;if(Me(O8,n))throw new Error("Cannot override default mode "+n);return ir(ir({},e),(i={},i[n]=ir(ir({},a),{deactivate:function(){try{a.deactivate()}catch(c){console.error("problem while deactivating editor mode "+n+":",c)}}}),i))},D8=function(e){var n=Yu("design"),a=Yu({design:{activate:rt,deactivate:rt,editorReadOnly:!1},readonly:{activate:rt,deactivate:rt,editorReadOnly:!0}});return x8(e),E8(e),{isReadOnly:function(){return tp(e)},set:function(i){return gB(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,c){a.set(pB(a.get(),i,c))}}},uT=Rt.each,sT=Rt.explode,_8={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},hB=Rt.makeMap("alt,ctrl,shift,meta,access"),R8=function(e){var n,a={};uT(sT(e.toLowerCase(),"+"),function(c){c in hB?a[c]=!0:/^[0-9]{2,}$/.test(c)?a.keyCode=parseInt(c,10):(a.charCode=c.charCodeAt(0),a.keyCode=_8[c]||c.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in hB)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Sr.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Sr.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},cT=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(uT(a.shortcuts,function(c){if(a.matchShortcut(i,c))return a.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(c),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,c){var f=this,g=f.normalizeCommandFunc(i);return uT(sT(Rt.trim(n)),function(b){var w=f.createShortcut(b,a,g,c);f.shortcuts[w.id]=w}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Rt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,c){var f=Rt.map(sT(n,">"),R8);return f[f.length-1]=Rt.extend(f[f.length-1],{func:i,scope:c||this.editor}),Rt.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),P8=function(){var e={},n={},a={},i={},c={},f={},g={},b=function(O,N){return function(L,H){return O[L.toLowerCase()]=ir(ir({},H),{type:N})}},w=function(O,N){return i[O.toLowerCase()]=N};return{addButton:b(e,"button"),addGroupToolbarButton:b(e,"grouptoolbarbutton"),addToggleButton:b(e,"togglebutton"),addMenuButton:b(e,"menubutton"),addSplitButton:b(e,"splitbutton"),addMenuItem:b(n,"menuitem"),addNestedMenuItem:b(n,"nestedmenuitem"),addToggleMenuItem:b(n,"togglemenuitem"),addAutocompleter:b(a,"autocompleter"),addContextMenu:b(c,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(g,"sidebar"),addIcon:w,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:c,contextToolbars:f,sidebars:g}}}},mO=function(){var e=P8();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Lh=go.DOM,bB=Rt.extend,B8=Rt.each,gO=Rt.resolve,M8=Sr.ie,lT=function(){function e(n,a,i){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,bB(this,mB),this.settings=h_(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(qf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),go.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),hs.languageLoad=this.settings.language_load,hs.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new Ug(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new cT(this),this.editorCommands=new iB(this),this.settings.cache_suffix&&(Sr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:mO(),styleSheetLoader:void 0,show:rt,hide:rt,enable:rt,disable:rt,isDisabled:Se};var f=this,g=D8(f);this.mode=g,this.setMode=g.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ea.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return e.prototype.render=function(){t8(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return Oc(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var c=this,f=c.settings[n],g;if(f)return c.callbackLookup&&(g=c.callbackLookup[n])&&(f=g.func,g=g.scope),typeof f=="string"&&(g=f.replace(/\.\w+$/,""),g=g?gO(g):0,f=gO(f),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[n]={func:f,scope:g}),f.apply(g||c,a)},e.prototype.translate=function(n){return Zu.translate(n)},e.prototype.getParam=function(n,a,i){return L5(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Me(rb(this).split(/[ ,]/),n);return i?a?uv.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,c){this.shortcuts.add(n,a,i,c)},e.prototype.execCommand=function(n,a,i,c){return this.editorCommands.execCommand(n,a,i,c)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Lh.show(n.getContainer()),Lh.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(M8&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Lh.hide(n.getContainer()),Lh.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),c;if(a.removed)return"";if(i){n=n||{},n.load=!0;var f=Ji(i)?i.value:i.innerHTML;return c=a.setContent(f,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,c}},e.prototype.save=function(n){var a=this,i=a.getElement(),c,f;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,c=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),c=n.content,Ji(i)?i.value=c:((n.is_removing||!a.inline)&&(i.innerHTML=c),(f=Lh.getParent(a.id,"form"))&&B8(f.elements,function(g){if(g.name===a.id)return g.value=c,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),c},e.prototype.setContent=function(n,a){return ik(this,n,a)},e.prototype.getContent=function(n){return ok(this,n)},e.prototype.insertContent=function(n,a){a&&(n=bB({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?ik(this,this.startContent,{format:"raw"}):ik(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=Lh.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Lh.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var c=this,f=c.settings;return f.urlconverter_callback?c.execCallback("urlconverter_callback",n,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f.relative_urls?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,f.remove_script_host),n)},e.prototype.addVisual=function(n){n8(this,n)},e.prototype.remove=function(){S5(this)},e.prototype.destroy=function(n){i_(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),xf=go.DOM,F8=Rt.explode,cd=Rt.each,mc=Rt.extend,zh=0,yB=!1,fT,np=[],gc=[],N8=function(e){return e!=="length"},wB=function(e){var n=e.type;cd(rp.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},pO=function(e){e!==yB&&(e?ea(window).on("resize scroll",wB):ea(window).off("resize scroll",wB),yB=e)},Hh=function(e){var n=gc;delete np[e.id];for(var a=0;a<np.length;a++)if(np[a]===e){np.splice(a,1);break}return gc=be(gc,function(i){return e!==i}),rp.activeEditor===e&&(rp.activeEditor=gc.length>0?gc[0]:null),rp.focusedEditor===e&&(rp.focusedEditor=null),n.length!==gc.length},I8=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Hh(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},$8=document.compatMode!=="CSS1Compat",rp=ir(ir({},aT),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ea,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:np,i18n:Zu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=Ug.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,i=c.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){var b=f[g].src||"";if(b!==""){var w=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){w.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new Ug(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Ug(e.baseURL),e.suffix=i,GS(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&yn(i,function(c,f){hs.PluginManager.urls[f]=c})},init:function(e){var n=this,a,i=Rt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(L,H){return L.inline&&H.tagName.toLowerCase()in i},f=function(L){var H=L.id;return H||(H=Dr(L,"name").filter(function(J){return!xf.get(J)}).getOrThunk(xf.uniqueId),L.setAttribute("id",H)),H},g=function(L){var H=e[L];if(H)return H.apply(n,[])},b=function(L,H){return H.constructor===RegExp?H.test(L.className):xf.hasClass(L,H)},w=function(L){var H=[];if(Sr.browser.isIE()&&Sr.browser.version.major<11)return mk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if($8)return mk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(L.types)return cd(L.types,function(ee){H=H.concat(xf.select(ee.selector))}),H;if(L.selector)return xf.select(L.selector);if(L.target)return[L.target];switch(L.mode){case"exact":var J=L.elements||"";J.length>0&&cd(F8(J),function(ee){var te=xf.get(ee);te?H.push(te):cd(document.forms,function(re){cd(re.elements,function(pe){pe.name===ee&&(ee="mce_editor_"+zh++,xf.setAttrib(pe,"id",ee),H.push(pe))})})});break;case"textareas":case"specific_textareas":cd(xf.select("textarea"),function(ee){L.editor_deselector&&b(ee,L.editor_deselector)||(!L.editor_selector||b(ee,L.editor_selector))&&H.push(ee)});break}return H},O=function(L){a=L},N=function(){var L=0,H=[],J,ee=function(te,re,pe){var de=new lT(te,re,n);H.push(de),de.on("init",function(){++L===J.length&&O(H)}),de.targetElm=de.targetElm||pe,de.render()};if(xf.unbind(window,"ready",N),g("onpageload"),J=ea.unique(w(e)),e.types){cd(e.types,function(te){Rt.each(J,function(re){return xf.is(re,te.selector)?(ee(f(re),mc({},e,te),re),!1):!0})});return}Rt.each(J,function(te){I8(n.get(te.id))}),J=Rt.grep(J,function(te){return!n.get(te.id)}),J.length===0?O([]):cd(J,function(te){c(e,te)?mk("Could not initialize inline editor on invalid inline target element",te):ee(f(te),e,te)})};return n.settings=e,xf.bind(window,"ready",N),new Li(function(L){a?L(a):O=function(H){L(H)}})},get:function(e){return arguments.length===0?gc.slice(0):Mt(e)?Kn(gc,function(n){return n.id===e}).getOr(null):st(e)&&gc[e]?gc[e]:null},add:function(e){var n=this,a=np[e.id];return a===e||(n.get(e.id)===null&&(N8(e.id)&&(np[e.id]=e),np.push(e),gc.push(e)),pO(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),fT||(fT=function(i){var c=n.fire("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",fT))),e},createEditor:function(e,n){return this.add(new lT(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=gc.length-1;a>=0;a--)n.remove(gc[a]);return}if(Mt(e)){cd(xf.select(e),function(c){i=n.get(c.id),i&&n.remove(i)});return}return i=e,j(n.get(i.id))?null:(Hh(i)&&n.fire("RemoveEditor",{editor:i}),gc.length===0&&window.removeEventListener("beforeunload",fT),i.remove(),pO(gc.length>0),i)},execCommand:function(e,n,a){var i=this,c=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new lT(a,i.settings,i).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){cd(gc,function(e){e.save()})},addI18n:function(e,n){Zu.add(e,n)},translate:function(e){return Zu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Ug(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ug(this.baseURL)}});rp.setup();var kf=Math.min,M0=Math.max,vT=Math.round,hO=function(e,n,a){var i=n.x,c=n.y,f=e.w,g=e.h,b=n.w,w=n.h,O=(a||"").split("");return O[0]==="b"&&(c+=w),O[1]==="r"&&(i+=b),O[0]==="c"&&(c+=vT(w/2)),O[1]==="c"&&(i+=vT(b/2)),O[3]==="b"&&(c-=g),O[4]==="r"&&(i-=f),O[3]==="c"&&(c-=vT(g/2)),O[4]==="c"&&(i-=vT(f/2)),F0(i,c,f,g)},L8=function(e,n,a,i){var c,f;for(f=0;f<i.length;f++)if(c=hO(e,n,i[f]),c.x>=a.x&&c.x+c.w<=a.w+a.x&&c.y>=a.y&&c.y+c.h<=a.h+a.y)return i[f];return null},CB=function(e,n,a){return F0(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},SB=function(e,n){var a=M0(e.x,n.x),i=M0(e.y,n.y),c=kf(e.x+e.w,n.x+n.w),f=kf(e.y+e.h,n.y+n.h);return c-a<0||f-i<0?null:F0(a,i,c-a,f-i)},bO=function(e,n,a){var i=e.x,c=e.y,f=e.x+e.w,g=e.y+e.h,b=n.x+n.w,w=n.y+n.h,O=M0(0,n.x-i),N=M0(0,n.y-c),L=M0(0,f-b),H=M0(0,g-w);return i+=O,c+=N,a&&(f+=O,g+=N,i-=L,c-=H),f-=L,g-=H,F0(i,c,f-i,g-c)},F0=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},z8=function(e){return F0(e.left,e.top,e.width,e.height)},H8={inflate:CB,relativePosition:hO,findBestRelativePosition:L8,intersect:SB,clamp:bO,create:F0,fromClientRect:z8},V8=function(e,n,a){a===void 0&&(a=1e3);var i=!1,c=null,f=function(O){return function(){for(var N=[],L=0;L<arguments.length;L++)N[L]=arguments[L];i||(i=!0,c!==null&&(clearTimeout(c),c=null),O.apply(null,N))}},g=f(e),b=f(n),w=function(){for(var O=[],N=0;N<arguments.length;N++)O[N]=arguments[N];!i&&c===null&&(c=setTimeout(function(){return b.apply(null,O)},a))};return{start:w,resolve:g,reject:b}},U8=function(){var e={},n={},a=function(c,f){var g='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(e[c]!==void 0)return e[c];var w=new Li(function(O,N){var L=V8(O,N);n[c]=L.resolve,qf.ScriptLoader.loadScript(f,function(){return L.start(b)},function(){return L.reject(g)})});return e[c]=w,w},i=function(c,f){n[c]!==void 0&&(n[c](f),delete n[c]),e[c]=Li.resolve(f)};return{load:a,add:i}},xB=U8(),U2=Rt.each,W8=Rt.extend,yO,wO,kB=function(){};kB.extend=yO=function(e){var n=this,a=n.prototype,i=function(){var b,w,O,N=this;if(!wO&&(N.init&&N.init.apply(N,arguments),w=N.Mixins,w))for(b=w.length;b--;)O=w[b],O.init&&O.init.apply(N,arguments)},c=function(){return this},f=function(b,w){return function(){var O=this,N=O._super;O._super=a[b];var L=w.apply(O,arguments);return O._super=N,L}};wO=!0;var g=new n;return wO=!1,e.Mixins&&(U2(e.Mixins,function(b){for(var w in b)w!=="init"&&(e[w]=b[w])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&U2(e.Methods.split(","),function(b){e[b]=c}),e.Properties&&U2(e.Properties.split(","),function(b){var w="_"+b;e[b]=function(O){var N=this;return O!==void 0?(N[w]=O,N):N[w]}}),e.Statics&&U2(e.Statics,function(b,w){i[w]=b}),e.Defaults&&a.Defaults&&(e.Defaults=W8({},a.Defaults,e.Defaults)),yn(e,function(b,w){typeof b=="function"&&a[w]?g[w]=f(w,b):g[w]=b}),i.prototype=g,i.constructor=i,i.extend=yO,i};var dT=Math.min,mT=Math.max,ap=Math.round,CO=function(e){var n={},a=0,i=0,c=0,f=function(L,H,J){var ee,te,re;ee=0,te=0,re=0,L=L/255,H=H/255,J=J/255;var pe=dT(L,dT(H,J)),de=mT(L,mT(H,J));if(pe===de)return re=pe,{h:0,s:0,v:re*100};var Je=L===pe?H-J:J===pe?L-H:J-L;return ee=L===pe?3:J===pe?1:5,ee=60*(ee-Je/(de-pe)),te=(de-pe)/de,re=de,{h:ap(ee),s:ap(te*100),v:ap(re*100)}},g=function(L,H,J){if(L=(parseInt(L,10)||0)%360,H=parseInt(H,10)/100,J=parseInt(J,10)/100,H=mT(0,dT(H,1)),J=mT(0,dT(J,1)),H===0){a=i=c=ap(255*J);return}var ee=L/60,te=J*H,re=te*(1-Math.abs(ee%2-1)),pe=J-te;switch(Math.floor(ee)){case 0:a=te,i=re,c=0;break;case 1:a=re,i=te,c=0;break;case 2:a=0,i=te,c=re;break;case 3:a=0,i=re,c=te;break;case 4:a=re,i=0,c=te;break;case 5:a=te,i=0,c=re;break;default:a=i=c=0}a=ap(255*(a+pe)),i=ap(255*(i+pe)),c=ap(255*(c+pe))},b=function(){var L=function(H){return H=parseInt(H,10).toString(16),H.length>1?H:"0"+H};return"#"+L(a)+L(i)+L(c)},w=function(){return{r:a,g:i,b:c}},O=function(){return f(a,i,c)},N=function(L){var H;return typeof L=="object"?"r"in L?(a=L.r,i=L.g,c=L.b):"v"in L&&g(L.h,L.s,L.v):(H=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(L))?(a=parseInt(H[1],10),i=parseInt(H[2],10),c=parseInt(H[3],10)):(H=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(L))?(a=parseInt(H[1],16),i=parseInt(H[2],16),c=parseInt(H[3],16)):(H=/#([0-F])([0-F])([0-F])/gi.exec(L))&&(a=parseInt(H[1]+H[1],16),i=parseInt(H[2]+H[2],16),c=parseInt(H[3]+H[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,c=c<0?0:c>255?255:c,n};return e&&N(e),n.toRgb=w,n.toHsv=O,n.toHex=b,n.parse=N,n},TB=function(e){var n=JSON.stringify(e);return Mt(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},SO={serialize:TB,parse:function(e){try{return JSON.parse(e)}catch{}}},j8={callbacks:{},count:0,send:function(e){var n=this,a=go.DOM,i=e.count!==void 0?e.count:n.count,c="tinymce_jsonp_"+i;n.callbacks[i]=function(f){a.remove(c),delete n.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:c,src:e.url,type:"text/javascript"}),n.count++}},N0=ir(ir({},aT),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Su.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",N0.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Rt.each(e.requestheaders,function(c){n.setRequestHeader(c.key,c.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=N0.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Su.setTimeout(i,10)}}),xO=Rt.extend,G8=function(){function e(n){this.settings=xO({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,c=xO(this.settings,n);c.success=function(f,g){f=SO.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?a.call(c.error_scope||c.scope,f.error,g):i.call(c.success_scope||c.scope,f.result)},c.error=function(f,g){a&&a.call(c.error_scope||c.scope,f,g)},c.data=SO.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),c.content_type="application/json",N0.send(c)},e}(),q8=function(){return function(){var e={},n=[],a={getItem:function(i){var c=e[i];return c||null},setItem:function(i,c){n.push(i),e[i]=String(c)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(c){return c===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},W2;try{var kO="__storage_test__";W2=window.localStorage,W2.setItem(kO,kO),W2.removeItem(kO)}catch{W2=q8()}var K8=W2,X8={geom:{Rect:H8},util:{Promise:Li,Delay:Su,Tools:Rt,VK:Or,URI:Ug,Class:kB,EventDispatcher:rT,Observable:aT,I18n:Zu,XHR:N0,JSON:SO,JSONRequest:G8,JSONP:j8,LocalStorage:K8,Color:CO,ImageUploader:eN},dom:{EventUtils:zm,Sizzle:Za,DomQuery:ea,TreeWalker:Ua,TextSeeker:_y,DOMUtils:go,ScriptLoader:qf,RangeUtils:th,Serializer:UA,StyleSheetLoader:iC,ControlSelection:_w,BookmarkManager:Zv,Selection:f0,Event:zm.Event},html:{Styles:Zc,Entities:rc,Node:Dc,Schema:ac,SaxParser:LA,DomParser:ak,Writer:r2,Serializer:om},Env:Sr,AddOnManager:hs,Annotator:xb,Formatter:ti,UndoManager:N_,EditorCommands:iB,WindowManager:qA,NotificationManager:k_,EditorObservable:mB,Shortcuts:cT,Editor:lT,FocusManager:zS,EditorManager:rp,DOM:go.DOM,ScriptLoader:qf.ScriptLoader,PluginManager:uv,ThemeManager:Wg,IconManager:vk,Resource:xB,trim:Rt.trim,isArray:Rt.isArray,is:Rt.is,toArray:Rt.toArray,makeMap:Rt.makeMap,each:Rt.each,map:Rt.map,grep:Rt.grep,inArray:Rt.inArray,extend:Rt.extend,create:Rt.create,walk:Rt.walk,createNS:Rt.createNS,resolve:Rt.resolve,explode:Rt.explode,_addCacheSuffix:Rt._addCacheSuffix,isOpera:Sr.opera,isWebKit:Sr.webkit,isIE:Sr.ie,isGecko:Sr.gecko,isMac:Sr.mac},EB=Rt.extend(rp,X8),Y8=function(e){try{ae.exports=e}catch{}},Z8=function(e){window.tinymce=e,window.tinyMCE=e};Z8(EB),Y8(EB)})()})(Jz);var QK=Jz.exports;const Q2=PG(QK);(function(){var ae=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},z=function(t){return function(r){return ae(r)===t}},fe=function(t){return function(r){return typeof r===t}},xe=function(t){return function(r){return t===r}},we=z("string"),nt=z("object"),xt=z("array"),mt=xe(null),gt=fe("boolean"),Xt=xe(void 0),at=function(t){return t==null},he=function(t){return!at(t)},ze=fe("function"),We=fe("number"),Oe=function(t,r){if(xt(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},ve=function(){},Mt=function(t){return function(){return t()}},Ke=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},_t=function(t,r){return function(o){return t(r(o))}},j=function(t){return function(){return t}},Ne=function(t){return t},$e=function(t,r){return t===r};function un(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];var m=r.concat(s);return t.apply(null,m)}}var Vt=function(t){return function(r){return!t(r)}},Ae=function(t){return function(){throw new Error(t)}},st=j(!1),rt=j(!0),Ue=tinymce.util.Tools.resolve("tinymce.ThemeManager"),U=function(){return U=Object.assign||function(r){for(var o,s=1,v=arguments.length;s<v;s++){o=arguments[s];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(r[m]=o[m])}return r},U.apply(this,arguments)};function B(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(t);v<s.length;v++)r.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(t,s[v])&&(o[s[v]]=t[s[v]]);return o}function He(t,r,o){if(o||arguments.length===2)for(var s=0,v=r.length,m;s<v;s++)(m||!(s in r))&&(m||(m=Array.prototype.slice.call(r,0,s)),m[s]=r[s]);return t.concat(m||Array.prototype.slice.call(r))}var Jt=function(){return Xe},Xe=function(){var t=function(s){return s()},r=Ne,o={fold:function(s,v){return s()},isSome:st,isNone:rt,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:j(null),getOrUndefined:j(void 0),or:r,orThunk:t,map:Jt,each:ve,bind:Jt,exists:st,forall:rt,filter:function(){return Jt()},toArray:function(){return[]},toString:j("none()")};return o}(),pn=function(t){var r=j(t),o=function(){return v},s=function(m){return m(t)},v={fold:function(m,h){return h(t)},isSome:rt,isNone:st,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(m){return pn(m(t))},each:function(m){m(t)},bind:s,exists:s,forall:s,filter:function(m){return m(t)?v:Xe},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return v},Mn=function(t){return t==null?Xe:pn(t)},A={some:pn,none:Jt,from:Mn},vt=Array.prototype.slice,Se=Array.prototype.indexOf,Nt=Array.prototype.push,et=function(t,r){return Se.call(t,r)},vn=function(t,r){var o=et(t,r);return o===-1?A.none():A.some(o)},$t=function(t,r){return et(t,r)>-1},an=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return!0}return!1},K=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},hr=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var v=vt.call(t,s,s+r);o.push(v)}return o},pt=function(t,r){for(var o=t.length,s=new Array(o),v=0;v<o;v++){var m=t[v];s[v]=r(m,v)}return s},qe=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];r(v,o)}},Rn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Le=function(t,r){for(var o=[],s=[],v=0,m=t.length;v<m;v++){var h=t[v],C=r(h,v)?o:s;C.push(h)}return{pass:o,fail:s}},Me=function(t,r){for(var o=[],s=0,v=t.length;s<v;s++){var m=t[s];r(m,s)&&o.push(m)}return o},bt=function(t,r,o){return Rn(t,function(s,v){o=r(o,s,v)}),o},qt=function(t,r,o){return qe(t,function(s,v){o=r(o,s,v)}),o},yt=function(t,r,o){for(var s=0,v=t.length;s<v;s++){var m=t[s];if(r(m,s))return A.some(m);if(o(m,s))break}return A.none()},Ot=function(t,r){return yt(t,r,st)},tr=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return A.some(o)}return A.none()},be=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!xt(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);Nt.apply(r,t[o])}return r},St=function(t,r){return be(pt(t,r))},Cn=function(t,r){for(var o=0,s=t.length;o<s;++o){var v=t[o];if(r(v,o)!==!0)return!1}return!0},Wt=function(t){var r=vt.call(t,0);return r.reverse(),r},Kn=function(t,r){return Me(t,function(o){return!$t(r,o)})},ar=function(t,r){for(var o={},s=0,v=t.length;s<v;s++){var m=t[s];o[String(m)]=r(m,s)}return o},qr=function(t){return[t]},va=function(t,r){var o=vt.call(t,0);return o.sort(r),o},xa=function(t,r){return r>=0&&r<t.length?A.some(t[r]):A.none()},Yt=function(t){return xa(t,0)},jt=function(t){return xa(t,t.length-1)},Qt=ze(Array.from)?Array.from:function(t){return vt.call(t)},Ye=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return A.none()},ct=Object.keys,dn=Object.hasOwnProperty,Fn=function(t,r){for(var o=ct(t),s=0,v=o.length;s<v;s++){var m=o[s],h=t[m];r(h,m)}},hn=function(t,r){return Ve(t,function(o,s){return{k:s,v:r(o,s)}})},Ve=function(t,r){var o={};return Fn(t,function(s,v){var m=r(s,v);o[m.k]=m.v}),o},nn=function(t){return function(r,o){t[o]=r}},Nn=function(t,r,o,s){var v={};return Fn(t,function(m,h){(r(m,h)?o:s)(m,h)}),v},yn=function(t,r){var o={};return Nn(t,r,nn(o),ve),o},Yn=function(t,r){var o=[];return Fn(t,function(s,v){o.push(r(s,v))}),o},Ce=function(t,r){for(var o=ct(t),s=0,v=o.length;s<v;s++){var m=o[s],h=t[m];if(r(h,m,t))return A.some(h)}return A.none()},Ft=function(t){return Yn(t,Ne)},wt=function(t,r){return sn(t,r)?A.from(t[r]):A.none()},sn=function(t,r){return dn.call(t,r)},Zn=function(t,r){return sn(t,r)&&t[r]!==void 0&&t[r]!==null},Rr=function(t,r,o){return o===void 0&&(o=$e),t.exists(function(s){return o(s,r)})},Ia=function(t,r,o){return o===void 0&&(o=$e),Xa(t,r,o).getOr(t.isNone()&&r.isNone())},Dr=function(t){for(var r=[],o=function(v){r.push(v)},s=0;s<t.length;s++)t[s].each(o);return r},Fr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return A.none()}return A.some(r)},Xa=function(t,r,o){return t.isSome()&&r.isSome()?A.some(o(t.getOrDie(),r.getOrDie())):A.none()},ni=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?A.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):A.none()},ho=function(t,r){return t!=null?A.some(r(t)):A.none()},so=function(t,r){return t?A.some(r):A.none()},ko=function(t,r){return t+r},si=function(t,r){return t.substring(r)},To=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},bo=function(t,r){return Zo(t,r)?si(t,r.length):t},ri=function(t,r){return ir(t,r)?t:ko(t,r)},oa=function(t,r){return t.indexOf(r)!==-1},Zo=function(t,r){return To(t,r,0)},ir=function(t,r){return To(t,r,t.length-r.length)},du=function(t){return function(r){return r.replace(t,"")}},Go=du(/^\s+|\s+$/g),hi=function(t){return t.length>0},mu=function(t){return!hi(t)},Di=function(t){return t.style!==void 0&&ze(t.style.getPropertyValue)},gu=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ue(s.childNodes[0])},pu=function(t,r){var o=r||document,s=o.createElement(t);return ue(s)},ss=function(t,r){var o=r||document,s=o.createTextNode(t);return ue(s)},ue=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Fe=function(t,r,o){return A.from(t.dom.elementFromPoint(r,o)).map(ue)},ce={fromHtml:gu,fromTag:pu,fromText:ss,fromDom:ue,fromPoint:Fe};typeof window<"u"||Function("return this;")();var it=9,Dn=11,qn=1,ne=3,ge=function(t){var r=t.dom.nodeName;return r.toLowerCase()},lt=function(t){return t.dom.nodeType},It=function(t){return function(r){return lt(r)===t}},F=It(qn),Z=It(ne),me=It(it),_e=It(Dn),Qe=function(t){var r=!1,o;return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return r||(r=!0,o=t.apply(null,s)),o}},ot=function(t,r,o,s){var v=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!v,h=t.isiOS()||t.isAndroid(),C=h||s("(pointer:coarse)"),S=v||!m&&h&&s("(min-device-width:768px)"),T=m||h&&!S,_=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,P=!T&&!S&&!_;return{isiPad:j(v),isiPhone:j(m),isTablet:j(S),isPhone:j(T),isTouch:j(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:j(_),isDesktop:j(P)}},En=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},Vn=function(t,r){var o=En(t,r);if(!o)return{major:0,minor:0};var s=function(v){return Number(r.replace(o,"$"+v))};return lr(s(1),s(2))},Cr=function(t,r){var o=String(r).toLowerCase();return t.length===0?ht():Vn(t,o)},ht=function(){return lr(0,0)},lr=function(t,r){return{major:t,minor:r}},Hr={nu:lr,detect:Cr,unknown:ht},Oa=function(t,r){return Ye(r.brands,function(o){var s=o.brand.toLowerCase();return Ot(t,function(v){var m;return s===((m=v.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(function(v){return{current:v.name,version:Hr.nu(parseInt(o.version,10),0)}})})},Eo=function(t,r){var o=String(r).toLowerCase();return Ot(t,function(s){return s.search(o)})},ia=function(t,r){return Eo(t,r).map(function(o){var s=Hr.detect(o.versionRegexes,r);return{current:o.name,version:s}})},cs=function(t,r){return Eo(t,r).map(function(o){var s=Hr.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Hu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yo=function(t){return function(r){return oa(r,t)}},Lc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return oa(t,"edge/")&&oa(t,"chrome")&&oa(t,"safari")&&oa(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hu],search:function(t){return oa(t,"chrome")&&!oa(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return oa(t,"msie")||oa(t,"trident")}},{name:"Opera",versionRegexes:[Hu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yo("firefox")},{name:"Safari",versionRegexes:[Hu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(oa(t,"safari")||oa(t,"mobile/"))&&oa(t,"applewebkit")}}],Ii=[{name:"Windows",search:yo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return oa(t,"iphone")||oa(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yo("linux"),versionRegexes:[]},{name:"Solaris",search:yo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hu={browsers:j(Lc),oses:j(Ii)},Ya="Edge",pc="Chrome",Os="IE",zc="Opera",fl="Firefox",Xi="Safari",Du=function(){return Hc({current:void 0,version:Hr.unknown()})},Hc=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isEdge:s(Ya),isChrome:s(pc),isIE:s(Os),isOpera:s(zc),isFirefox:s(fl),isSafari:s(Xi)}},bu={unknown:Du,nu:Hc,edge:j(Ya),chrome:j(pc),ie:j(Os),opera:j(zc),firefox:j(fl),safari:j(Xi)},Yi="Windows",G="iOS",Ee="Android",Ze="Linux",Ht="OSX",xn="Solaris",sr="FreeBSD",Ea="ChromeOS",$a=function(){return Jr({current:void 0,version:Hr.unknown()})},Jr=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isWindows:s(Yi),isiOS:s(G),isAndroid:s(Ee),isOSX:s(Ht),isLinux:s(Ze),isSolaris:s(xn),isFreeBSD:s(sr),isChromeOS:s(Ea)}},Qa={unknown:$a,nu:Jr,windows:j(Yi),ios:j(G),android:j(Ee),linux:j(Ze),osx:j(Ht),solaris:j(xn),freebsd:j(sr),chromeos:j(Ea)},vo=function(t,r,o){var s=hu.browsers(),v=hu.oses(),m=r.bind(function(S){return Oa(s,S)}).orThunk(function(){return ia(s,t)}).fold(bu.unknown,bu.nu),h=cs(v,t).fold(Qa.unknown,Qa.nu),C=ot(h,m,t,o);return{browser:m,os:h,deviceType:C}},Ds={detect:vo},ci=function(t){return window.matchMedia(t).matches},ls=Qe(function(){return Ds.detect(navigator.userAgent,A.from(navigator.userAgentData),ci)}),Sr=function(){return ls()},Ks=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},Af=function(t,r){return Ks(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Sa=function(t,r){var o=t.dom;if(o.nodeType!==qn)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Ll=function(t){return t.nodeType!==qn&&t.nodeType!==it&&t.nodeType!==Dn||t.childElementCount===0},zl=function(t,r){var o=r===void 0?document:r.dom;return Ll(o)?[]:pt(o.querySelectorAll(t),ce.fromDom)},yv=function(t,r){var o=r===void 0?document:r.dom;return Ll(o)?A.none():A.from(o.querySelector(t)).map(ce.fromDom)},Ga=function(t,r){return t.dom===r.dom},_u=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},md=function(t,r){return Af(t.dom,r.dom)},Vu=function(t,r){return Sr().browser.isIE()?md(t,r):_u(t,r)},qo=function(t){return ce.fromDom(t.dom.ownerDocument)},hc=function(t){return me(t)?t:qo(t)},Rt=function(t){return ce.fromDom(hc(t).dom.documentElement)},vl=function(t){return ce.fromDom(hc(t).dom.defaultView)},Ro=function(t){return A.from(t.dom.parentNode).map(ce.fromDom)},Of=function(t){return Ro(t)},Xs=function(t){return A.from(t.dom.offsetParent).map(ce.fromDom)},Vc=function(t){return A.from(t.dom.nextSibling).map(ce.fromDom)},R=function(t){return pt(t.dom.childNodes,ce.fromDom)},k=function(t,r){var o=t.dom.childNodes;return A.from(o[r]).map(ce.fromDom)},I=function(t){return k(t,0)},Y=function(t,r){return{element:t,offset:r}},ye=function(t,r){var o=R(t);return o.length>0&&r<o.length?Y(o[r],0):Y(t,r)},ut=function(t){return _e(t)&&he(t.dom.host)},mn=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),vr=j(mn),Pr=mn?function(t){return ce.fromDom(t.dom.getRootNode())}:hc,Un=function(t){return ut(t)?t:ce.fromDom(hc(t).dom.body)},ur=function(t){return Gr(t).isSome()},Gr=function(t){var r=Pr(t);return ut(r)?A.some(r):A.none()},jr=function(t){return ce.fromDom(t.dom.host)},Br=function(t){if(vr()&&he(t.target)){var r=ce.fromDom(t.target);if(F(r)&&co(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Yt(o)}}return A.from(t.target)},co=function(t){return he(t.dom.shadowRoot)},Vr=function(t){var r=Z(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return Gr(ce.fromDom(r)).fold(function(){return o.body.contains(r)},_t(Vr,jr))},qa=function(){return La(ce.fromDom(document))},La=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return ce.fromDom(r)},bi=function(t,r,o){if(we(o)||gt(o)||We(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Zr=function(t,r,o){bi(t.dom,r,o)},_s=function(t,r){var o=t.dom;Fn(r,function(s,v){bi(o,v,s)})},wo=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Po=function(t,r){return A.from(wo(t,r))},Zh=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},$i=function(t,r){t.dom.removeAttribute(r)},lp=function(t,r,o){if(!we(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Di(t)&&t.style.setProperty(r,o)},Uc=function(t,r){Di(t)&&t.style.removeProperty(r)},Mr=function(t,r,o){var s=t.dom;lp(s,r,o)},Rs=function(t,r){var o=t.dom;Fn(r,function(s,v){lp(o,v,s)})},Io=function(t,r){var o=t.dom;Fn(r,function(s,v){s.fold(function(){Uc(o,v)},function(m){lp(o,v,m)})})},$o=function(t,r){var o=t.dom,s=window.getComputedStyle(o),v=s.getPropertyValue(r);return v===""&&!Vr(t)?yi(o,r):v},yi=function(t,r){return Di(t)?t.style.getPropertyValue(r):""},ai=function(t,r){var o=t.dom,s=yi(o,r);return A.from(s).filter(function(v){return v.length>0})},Df=function(t){var r={},o=t.dom;if(Di(o))for(var s=0;s<o.style.length;s++){var v=o.style.item(s);r[v]=o.style[v]}return r},Ys=function(t,r,o){var s=ce.fromTag(t);Mr(s,r,o);var v=ai(s,r);return v.isSome()},Da=function(t,r){var o=t.dom;Uc(o,r),Rr(Po(t,"style").map(Go),"")&&$i(t,"style")},mo=function(t){return t.dom.offsetWidth},Ru=function(t,r){var o=function(C,S){if(!We(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);var T=C.dom;Di(T)&&(T.style[t]=S+"px")},s=function(C){var S=r(C);if(S<=0||S===null){var T=$o(C,t);return parseFloat(T)||0}return S},v=s,m=function(C,S){return qt(S,function(T,_){var P=$o(C,_),V=P===void 0?0:parseInt(P,10);return isNaN(V)?T:T+V},0)},h=function(C,S,T){var _=m(C,T),P=S>_?S-_:0;return P};return{set:o,get:s,getOuter:v,aggregate:m,max:h}},dl=Ru("height",function(t){var r=t.dom;return Vr(t)?r.getBoundingClientRect().height:r.offsetHeight}),li=function(t){return dl.get(t)},Ps=function(t){return dl.getOuter(t)},Jh=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=dl.max(t,r,o);Mr(t,"max-height",s+"px")},_f=function(t,r){var o=function(s,v){return _f(t+s,r+v)};return{left:t,top:r,translate:o}},eo=_f,bc=function(t){var r=t.getBoundingClientRect();return eo(r.left,r.top)},Hl=function(t,r){return t!==void 0?t:r!==void 0?r:0},Uu=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,v=r.documentElement;if(o===t.dom)return eo(o.offsetLeft,o.offsetTop);var m=Hl(s==null?void 0:s.pageYOffset,v.scrollTop),h=Hl(s==null?void 0:s.pageXOffset,v.scrollLeft),C=Hl(v.clientTop,o.clientTop),S=Hl(v.clientLeft,o.clientLeft);return Ko(t).translate(h-S,m-C)},Ko=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?eo(s.offsetLeft,s.offsetTop):Vr(t)?bc(r):eo(0,0)},Vl=Ru("width",function(t){return t.dom.offsetWidth}),ml=function(t,r){return Vl.set(t,r)},yu=function(t){return Vl.get(t)},Wu=function(t){return Vl.getOuter(t)},Zi=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Vl.max(t,r,o);Mr(t,"max-width",s+"px")},wv=function(t,r,o,s,v,m,h){return{target:t,x:r,y:o,stop:s,prevent:v,kill:m,raw:h}},yc=function(t){var r=ce.fromDom(Br(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},v=Ke(s,o);return wv(r,t.clientX,t.clientY,o,s,v,t)},wi=function(t,r){return function(o){t(o)&&r(yc(o))}},gd=function(t,r,o,s,v){var m=wi(o,s);return t.dom.addEventListener(r,m,v),{unbind:un(Pf,t,r,m,v)}},Qh=function(t,r,o,s){return gd(t,r,o,s,!1)},Rf=function(t,r,o,s){return gd(t,r,o,s,!0)},Pf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},Lo=function(t,r){var o=Ro(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Bf=function(t,r){var o=Vc(t);o.fold(function(){var s=Ro(t);s.each(function(v){wu(v,r)})},function(s){Lo(s,r)})},Mf=function(t,r){var o=I(t);o.fold(function(){wu(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},wu=function(t,r){t.dom.appendChild(r.dom)},gl=function(t,r,o){k(t,o).fold(function(){wu(t,r)},function(s){Lo(s,r)})},Ff=function(t,r){qe(r,function(o){Lo(t,o)})},pl=function(t,r){qe(r,function(o){wu(t,o)})},Ao=function(t){t.dom.textContent="",qe(R(t),function(r){fs(r)})},fs=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Sm=function(t){var r=R(t);r.length>0&&Ff(t,r),fs(t)},Bs=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return eo(o,s)},xm=function(t,r,o){var s=o!==void 0?o.dom:document,v=s.defaultView;v&&v.scrollTo(t,r)},e1=function(t){var r=t===void 0?window:t;return Sr().browser.isFirefox()?A.none():A.from(r.visualViewport)},fp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Nf=function(t){var r=t===void 0?window:t,o=r.document,s=Bs(ce.fromDom(o));return e1(r).fold(function(){var v=r.document.documentElement,m=v.clientWidth,h=v.clientHeight;return fp(s.left,s.top,m,h)},function(v){return fp(Math.max(v.pageLeft,s.left),Math.max(v.pageTop,s.top),v.width,v.height)})},If=function(t,r){var o=t.view(r);return o.fold(j([]),function(s){var v=t.owner(s),m=If(t,v);return[s].concat(m)})},Ul=function(t,r){var o=r.owner(t),s=If(r,o);return A.some(s)},Nr=function(t){var r,o=t.dom===document?A.none():A.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(ce.fromDom)},Zs=function(t){return qo(t)},ju=Object.freeze({__proto__:null,view:Nr,owner:Zs}),Cu=function(t){var r=ce.fromDom(document),o=Bs(r),s=Ul(t,ju);return s.fold(un(Uu,t),function(v){var m=Ko(t),h=bt(v,function(C,S){var T=Ko(S);return{left:C.left+T.left,top:C.top+T.top}},{left:0,top:0});return eo(h.left+m.left+o.left,h.top+m.top+o.top)})},Js=function(t,r,o){return{point:t,width:r,height:o}},Jo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Ci=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},oi=function(t){var r=Uu(t),o=Wu(t),s=Ps(t);return Ci(r.left,r.top,o,s)},Wl=function(t){var r=Cu(t),o=Wu(t),s=Ps(t);return Ci(r.left,r.top,o,s)},Ji=function(){return Nf(window)},Jn=function(t){var r=function(P){return Jn(t)},o=function(P){return Jn(t)},s=function(P){return Jn(P(t))},v=function(P){return Jn(t)},m=function(P){P(t)},h=function(P){return P(t)},C=function(P,V){return V(t)},S=function(P){return P(t)},T=function(P){return P(t)},_=function(){return A.some(t)};return{isValue:rt,isError:st,getOr:j(t),getOrThunk:j(t),getOrDie:j(t),or:r,orThunk:o,fold:C,map:s,mapError:v,each:m,bind:h,exists:S,forall:T,toOptional:_}},$f=function(t){var r=function(T){return T()},o=function(){return Ae(String(t))()},s=Ne,v=function(T){return T()},m=function(T){return $f(t)},h=function(T){return $f(T(t))},C=function(T){return $f(t)},S=function(T,_){return T(t)};return{isValue:st,isError:rt,getOr:Ne,getOrThunk:r,getOrDie:o,or:s,orThunk:v,fold:S,map:m,mapError:h,each:ve,bind:C,exists:st,forall:rt,toOptional:A.none}},vp=function(t,r){return t.fold(function(){return $f(r)},Jn)},Qr={value:Jn,error:$f,fromOption:vp},to;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(to||(to={}));var km=function(t,r,o){return t.stype===to.Error?r(t.serror):o(t.svalue)},Wc=function(t){var r=[],o=[];return qe(t,function(s){km(s,function(v){return o.push(v)},function(v){return r.push(v)})}),{values:r,errors:o}},Co=function(t,r){return t.stype===to.Error?{stype:to.Error,serror:r(t.serror)}:t},Tm=function(t,r){return t.stype===to.Value?{stype:to.Value,svalue:r(t.svalue)}:t},vs=function(t,r){return t.stype===to.Value?r(t.svalue):t},pd=function(t,r){return t.stype===to.Error?r(t.serror):t},na=function(t){return{stype:to.Value,svalue:t}},Pu=function(t){return{stype:to.Error,serror:t}},U0=function(t){return km(t,Qr.error,Qr.value)},W0=function(t){return t.fold(Pu,na)},Oo={fromResult:W0,toResult:U0,svalue:na,partition:Wc,serror:Pu,bind:vs,bindError:pd,map:Tm,mapError:Co,fold:km},Em=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},E=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},$=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},W=function(t,r){return r},se=function(t,r){var o=nt(t)&&nt(r);return o?Bt(t,r):r},Ge=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},v=0;v<r.length;v++){var m=r[v];for(var h in m)sn(m,h)&&(s[h]=t(s[h],m[h]))}return s}},Bt=Ge(se),cr=Ge(W),Ur=function(){return{tag:"required",process:{}}},ga=function(t){return{tag:"defaultedThunk",process:t}},ra=function(t){return ga(j(t))},oo=function(){return{tag:"option",process:{}}},Qi=function(t){return{tag:"mergeWithThunk",process:t}},zo=function(t){return Qi(j(t))},TT=function(t,r){return t.length>0?Oo.svalue(Bt(r,cr.apply(void 0,t))):Oo.svalue(r)},tC=function(t){return Ke(Oo.serror,be)(t)},nC=function(t,r){var o=Oo.partition(t);return o.errors.length>0?tC(o.errors):TT(o.values,r)},ET=function(t){var r=Oo.partition(t);return r.errors.length>0?tC(r.errors):Oo.svalue(r.values)},hl={consolidateObj:nC,consolidateArr:ET},dp=function(t){return nt(t)&&ct(t).length>100?" removed due to size":JSON.stringify(t,null,2)},ds=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):t;return pt(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},Am=function(t,r){return Oo.serror([{path:t,getErrorInfo:r}])},j0=function(t,r,o){return Am(t,function(){return'Could not find valid *required* value for "'+r+'" in '+dp(o)})},mp=function(t,r){return Am(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},t1=function(t,r,o){return Am(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+dp(r)})},rC=function(t,r){return Am(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},AT=function(t,r){return Am(t,j(r))},bl=function(t){var r=function(s,v){return Oo.bindError(t(v),function(m){return AT(s,m)})},o=j("val");return{extract:r,toString:o}},gp=bl(Oo.svalue),OT=function(t,r,o,s){return wt(r,o).fold(function(){return j0(t,o,r)},s)},G0=function(t,r,o,s){var v=wt(t,r).getOrThunk(function(){return o(t)});return s(v)},DT=function(t,r,o){return o(wt(t,r))},_T=function(t,r,o,s){var v=wt(t,r).map(function(m){return m===!0?o(t):m});return s(v)},Om=function(t,r,o,s,v){var m=function(C){return v.extract(r.concat([s]),C)},h=function(C){return C.fold(function(){return Oo.svalue(A.none())},function(S){var T=v.extract(r.concat([s]),S);return Oo.map(T,A.some)})};switch(t.tag){case"required":return OT(r,o,s,m);case"defaultedThunk":return G0(o,s,t.process,m);case"option":return DT(o,s,h);case"defaultedOptionThunk":return _T(o,s,t.process,h);case"mergeWithThunk":return G0(o,s,j({}),function(C){var S=Bt(t.process(o),C);return m(S)})}},pp=function(t,r,o){for(var s={},v=[],m=0,h=o;m<h.length;m++){var C=h[m];$(C,function(S,T,_,P){var V=Om(_,t,r,S,P);Oo.fold(V,function(q){v.push.apply(v,q)},function(q){s[T]=q})},function(S,T){s[S]=T(r)})}return v.length>0?Oo.serror(v):Oo.svalue(s)},aC=function(t){var r=function(s,v){return t().extract(s,v)},o=function(){return t().toString()};return{extract:r,toString:o}},oC=function(t){return ct(yn(t,he))},Ms=function(t){var r=br(t),o=bt(t,function(v,m){return $(m,function(h){var C;return Bt(v,(C={},C[h]=!0,C))},j(v))},{}),s=function(v,m){var h=gt(m)?[]:oC(m),C=Me(h,function(S){return!Zn(o,S)});return C.length===0?r.extract(v,m):rC(v,C)};return{extract:s,toString:r.toString}},br=function(t){var r=function(s,v){return pp(s,v,t)},o=function(){var s=pt(t,function(v){return $(v,function(m,h,C,S){return m+" -> "+S.toString()},function(m,h){return"state("+m+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Lf=function(t){var r=function(s,v){var m=pt(v,function(h,C){return t.extract(s.concat(["["+C+"]"]),h)});return hl.consolidateArr(m)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},hp=function(t){var r=function(s,v){for(var m=[],h=0,C=t;h<C.length;h++){var S=C[h],T=S.extract(s,v);if(T.stype===to.Value)return T;m.push(T)}return hl.consolidateArr(m)},o=function(){return"oneOf("+pt(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},Cv=function(t,r){var o=function(m,h){return Lf(bl(t)).extract(m,h)},s=function(m,h){var C=ct(h),S=o(m,C);return Oo.bind(S,function(T){var _=pt(T,function(P){return Em(P,P,Ur(),r)});return br(_).extract(m,h)})},v=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:v}},Dm=function(t,r){var o=Qe(r),s=function(m,h){return o().extract(m,h)},v=function(){return o().toString()};return{extract:s,toString:v}},q0=Ke(Lf,br),jc=j(gp),hd=function(t,r){return bl(function(o){var s=typeof o;return t(o)?Oo.svalue(o):Oo.serror("Expected type: "+r+" but got: "+s)})},_m=hd(We,"number"),Qo=hd(we,"string"),Li=hd(gt,"boolean"),bp=hd(ze,"function"),jl=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return jl(t[r])});default:return!1}},yp=bl(function(t){return jl(t)?Oo.svalue(t):Oo.serror("Expected value to be acceptable for sending via postMessage")}),n1=function(t,r,o,s){var v=wt(o,s);return v.fold(function(){return t1(t,o,s)},function(m){return m.extract(t.concat(["branch: "+s]),r)})},r1=function(t,r){var o=function(v,m){var h=wt(m,t);return h.fold(function(){return mp(v,t)},function(C){return n1(v,m,r,C)})},s=function(){return"chooseOn("+t+"). Possible values: "+ct(r)};return{extract:o,toString:s}},RT=function(){return Lf(gp)},Rm=function(t){return bl(function(r){return t(r).fold(Oo.serror,Oo.svalue)})},Su=function(t,r){return Cv(function(o){return Oo.fromResult(t(o))},r)},iC=function(t,r,o){var s=r.extract([t],o);return Oo.mapError(s,function(v){return{input:o,errors:v}})},Bo=function(t,r,o){return Oo.toResult(iC(t,r,o))},Gc=function(t){return t.fold(function(r){throw new Error(Sv(r))},Ne)},Ua=function(t,r,o){return Gc(Bo(t,r,o))},Sv=function(t){return`Errors: 
`+ds(t.errors).join(`
`)+`

Input object: `+dp(t.input)},wc=function(t,r){return r1(t,hn(r,br))},PT=function(t,r){return Dm(t,r)},Si=Em,Gu=E,uC=function(t){return Rm(function(r){return $t(t,r)?Qr.value(r):Qr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},Gt=function(t){return Si(t,t,Ur(),jc())},ms=function(t,r){return Si(t,t,Ur(),r)},zf=function(t){return ms(t,_m)},Ir=function(t){return ms(t,Qo)},Qs=function(t,r){return Si(t,t,Ur(),uC(r))},BT=function(t){return ms(t,Li)},Bu=function(t){return ms(t,bp)},Pm=function(t,r){return Si(t,t,oo(),bl(function(o){return Oo.serror("The field: "+t+" is forbidden. "+r)}))},Gl=function(t,r){return Si(t,t,Ur(),br(r))},qc=function(t,r){return Si(t,t,Ur(),q0(r))},xu=function(t,r){return Si(t,t,Ur(),Lf(r))},_a=function(t){return Si(t,t,oo(),jc())},yl=function(t,r){return Si(t,t,oo(),r)},bd=function(t){return yl(t,_m)},lo=function(t){return yl(t,Qo)},xv=function(t){return yl(t,bp)},Fs=function(t,r){return yl(t,Lf(r))},Ns=function(t,r){return yl(t,br(r))},MT=function(t,r){return yl(t,Ms(r))},Ie=function(t,r){return Si(t,t,ra(r),jc())},qu=function(t,r,o){return Si(t,t,ra(r),o)},gs=function(t,r){return qu(t,r,_m)},Bm=function(t,r){return qu(t,r,Qo)},ec=function(t,r,o){return qu(t,r,uC(o))},no=function(t,r){return qu(t,r,Li)},fo=function(t,r){return qu(t,r,bp)},ps=function(t,r){return qu(t,r,yp)},Hf=function(t,r,o){return qu(t,r,Lf(o))},K0=function(t,r,o){return qu(t,r,br(o))},kr=function(t){var r=t,o=function(){return r},s=function(v){r=v};return{get:o,set:s}},a1=function(t){if(!xt(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return qe(t,function(s,v){var m=ct(s);if(m.length!==1)throw new Error("one and only one name per case");var h=m[0],C=s[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!xt(C))throw new Error("case arguments must be an array");r.push(h),o[h]=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var _=S.length;if(_!==C.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+C.length+" ("+C+"), got "+_);var P=function(V){var q=ct(V);if(r.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+q.join(","));var Q=Cn(r,function(le){return $t(q,le)});if(!Q)throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+r.join(", "));return V[h].apply(null,S)};return{fold:function(){for(var V=[],q=0;q<arguments.length;q++)V[q]=arguments[q];if(V.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+V.length);var Q=V[v];return Q.apply(null,S)},match:P,log:function(V){console.log(V,{constructors:r,constructor:h,params:S})}}}}),o},tc={generate:a1};tc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var sC=function(t){var r=[],o=[];return qe(t,function(s){s.fold(function(v){r.push(v)},function(v){o.push(v)})}),{errors:r,values:o}},wp=function(t,r){var o={};return Fn(t,function(s,v){$t(r,v)||(o[v]=s)}),o},Cp=function(t,r){var o;return o={},o[t]=r,o},X0=function(t){var r={};return qe(t,function(o){r[o.key]=o.value}),r},Y0=function(t,r){return wp(t,r)},ql=function(t,r){return Cp(t,r)},Vf=function(t){return X0(t)},FT=function(t,r){return t.length===0?Qr.value(r):Qr.value(Bt(r,cr.apply(void 0,t)))},Z0=function(t){return Qr.error(be(t))},NT=function(t,r){var o=sC(t);return o.errors.length>0?Z0(o.errors):FT(o.values,r)},cC=function(t){return ze(t)?t:st},Sp=function(t,r,o){for(var s=t.dom,v=cC(o);s.parentNode;){s=s.parentNode;var m=ce.fromDom(s),h=r(m);if(h.isSome())return h;if(v(m))break}return A.none()},Mm=function(t,r,o){var s=r(t),v=cC(o);return s.orThunk(function(){return v(t)?A.none():Sp(t,r,v)})},lC=function(t,r){return Ga(t.element,r.event.target)},Kl={can:rt,abort:st,run:ve},Fm=function(t){if(!Zn(t,"can")&&!Zn(t,"abort")&&!Zn(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return U(U({},Kl),t)},J0=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return qt(t,function(v,m){return v&&r(m).apply(void 0,o)},!0)}},fC=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return qt(t,function(v,m){return v||r(m).apply(void 0,o)},!1)}},IT=function(t){return ze(t)?{can:rt,abort:st,run:t}:t},$T=function(t){var r=J0(t,function(v){return v.can}),o=fC(t,function(v){return v.abort}),s=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];qe(t,function(h){h.run.apply(void 0,v)})};return{can:r,abort:o,run:s}},fi=j,Xl=fi("touchstart"),Kc=fi("touchmove"),kv=fi("touchend"),vC=fi("touchcancel"),Xc=fi("mousedown"),yd=fi("mousemove"),Q0=fi("mouseout"),ey=fi("mouseup"),Uf=fi("mouseover"),Cc=fi("focusin"),eu=fi("focusout"),o1=fi("keydown"),ty=fi("keyup"),wd=fi("input"),Nm=fi("change"),Im=fi("click"),LT=fi("transitioncancel"),$m=fi("transitionend"),ny=fi("transitionstart"),zT=fi("selectstart"),Ho=function(t){return j("alloy."+t)},i1={tap:Ho("tap")},Tv=Ho("focus"),ry=Ho("blur.post"),ay=Ho("paste.post"),Sc=Ho("receive"),nc=Ho("execute"),Cd=Ho("focus.item"),Ev=i1.tap,u1=Ho("longpress"),xp=Ho("sandbox.close"),oy=Ho("typeahead.cancel"),Sd=Ho("system.init"),s1=Ho("system.touchmove"),HT=Ho("system.touchend"),iy=Ho("system.scroll"),rc=Ho("system.resize"),Is=Ho("system.attached"),Lm=Ho("system.detached"),Yc=Ho("system.dismissRequested"),ku=Ho("system.repositionRequested"),c1=Ho("focusmanager.shifted"),Wf=Ho("slotcontainer.visibility"),dC=Ho("change.tab"),tu=Ho("dismiss.tab"),uy=Ho("highlight"),l1=Ho("dehighlight"),Aa=function(t,r){Zc(t,t.element,r,{})},Tr=function(t,r,o){Zc(t,t.element,r,o)},ac=function(t){Aa(t,nc())},f1=function(t,r,o){Zc(t,r,o,{})},Zc=function(t,r,o,s){var v=U({target:r},s);t.getSystem().triggerEvent(o,r,v)},mC=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},ro=function(t){return Vf(t)},sy=function(t,r){return{key:t,value:Fm({abort:r})}},v1=function(t,r){return{key:t,value:Fm({can:r})}},d1=function(t){return{key:t,value:Fm({run:function(r,o){o.event.prevent()}})}},rn=function(t,r){return{key:t,value:Fm({run:r})}},cy=function(t,r,o){return{key:t,value:Fm({run:function(s,v){r.apply(void 0,[s,v].concat(o))}})}},ly=function(t){return function(r){return rn(t,r)}},Av=function(t){return function(r){return{key:t,value:Fm({run:function(o,s){lC(o,s)&&r(o,s)}})}}},kp=function(t,r){return rn(t,function(o,s){o.getSystem().getByUid(r).each(function(v){mC(v,v.element,t,s)})})},xd=function(t,r,o){var s=r.partUids[o];return kp(t,s)},Ov=function(t,r){return rn(t,function(o,s){var v=s.event,m=o.getSystem().getByDom(v.target).getOrThunk(function(){var h=Mm(v.target,function(C){return o.getSystem().getByDom(C).toOptional()},st);return h.getOr(o)});r(o,m,s)})},kd=function(t){return rn(t,function(r,o){o.cut()})},zm=function(t){return rn(t,function(r,o){o.stop()})},ii=function(t,r){return Av(t)(r)},Kr=Av(Is()),oc=Av(Lm()),gC=Av(Sd()),$s=ly(nc()),fy=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,R(ce.fromDom(s))},Yl=function(t){return t.dom.innerHTML},jf=function(t,r){var o=qo(t),s=o.dom,v=ce.fromDom(s.createDocumentFragment()),m=fy(r,s);pl(v,m),Ao(t),wu(t,v)},Gf=function(t){var r=ce.fromTag("div"),o=ce.fromDom(t.dom.cloneNode(!0));return wu(r,o),Yl(r)},ic=function(t,r){return ce.fromDom(t.dom.cloneNode(r))},Dv=function(t){return ic(t,!1)},_i=function(t){if(ut(t))return"#shadow-root";var r=Dv(t);return Gf(r)},Ku=function(t){return _i(t)},Zl=function(t,r,o){return Ga(r,t.element)&&!Ga(r,o)},_v=ro([v1(Tv(),function(t,r){var o=r.event,s=o.originator,v=o.target;return Zl(t,s,v)?(console.warn(Tv()+` did not get interpreted by the desired target. 
Originator: `+Ku(s)+`
Target: `+Ku(v)+`
Check the `+Tv()+" event handlers"),!1):!0})]),Hm=Object.freeze({__proto__:null,events:_v}),Td=0,nr=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return Td++,t+"_"+s+Td+String(o)},zi=j("alloy-id-"),wl=j("data-alloy-id"),Jl=zi(),Tp=wl(),pC=function(t,r){var o=nr(Jl+t);return m1(r,o),o},m1=function(t,r){Object.defineProperty(t.dom,Tp,{value:r,writable:!0})},Rv=function(t){var r=F(t)?t.dom[Tp]:null;return A.from(r)},Pv=function(t){return nr(t)},Vm=Ne,Ep=function(t){var r=function(v){return"The component must be in a context to execute: "+v+(t?`
`+Ku(t().element)+" is not in context.":"")},o=function(v){return function(){throw new Error(r(v))}},s=function(v){return function(){console.warn(r(v))}};return{debugInfo:j("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:st}},VT=Ep(),uc=function(t,r,o){var s=o.toString(),v=s.indexOf(")")+1,m=s.indexOf("("),h=s.substring(m+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:vy(h.slice(0,1).concat(h.slice(3)))}},t},vy=function(t){return pt(t,function(r){return ir(r,"/*")?r.substring(0,r.length-2):r})},Ed=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:vy(m)}},t},Bv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:vy(m.slice(1))}},t},dy=nr("alloy-premade"),Mv=function(t){return ql(dy,t)},hC=function(t){return wt(t,dy)},Mo=function(t){return Bv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,He([r.getApis(),r],o,!1))},t)},nu={init:function(){return Tu({readState:j("No State required")})}},Tu=function(t){return t},bC=function(t,r){var o=pt(r,function(v){return Ns(v.name(),[Gt("config"),Ie("state",nu)])}),s=Bo("component.behaviours",br(o),t.behaviours).fold(function(v){throw new Error(Sv(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ne);return{list:r,data:hn(s,function(v){var m=v.map(function(h){return{config:h.config,state:h.state.init(h.config)}});return j(m)})}},g1=function(t){return t.list},UT=function(t){return t.data},yC=function(t,r){var o={};return Fn(t,function(s,v){Fn(s,function(m,h){var C=wt(o,h).getOr([]);o[h]=C.concat([r(v,m)])})}),o},Jc=function(t){return{classes:Xt(t.classes)?[]:t.classes,attributes:Xt(t.attributes)?{}:t.attributes,styles:Xt(t.styles)?{}:t.styles}},WT=function(t,r){return U(U({},t),{attributes:U(U({},t.attributes),r.attributes),styles:U(U({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Um=function(t,r,o,s){var v=U({},r);qe(o,function(_){v[_.name()]=_.exhibit(t,s)});var m=yC(v,function(_,P){return{name:_,modification:P}}),h=function(_){return bt(_,function(P,V){return U(U({},V.modification),P)},{})},C=bt(m.classes,function(_,P){return P.modification.concat(_)},[]),S=h(m.attributes),T=h(m.styles);return Jc({classes:C,attributes:S,styles:T})},p1=function(t,r,o,s){try{var v=va(o,function(m,h){var C=m[r],S=h[r],T=s.indexOf(C),_=s.indexOf(S);if(T===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(s,null,2));if(_===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(s,null,2));return T<_?-1:_<T?1:0});return Qr.value(v)}catch(m){return Qr.error([m])}},jT=function(t,r){return{handler:t,purpose:r}},wC=function(t,r){return{cHandler:t,purpose:r}},my=function(t,r){return wC(un.apply(void 0,[t.handler].concat(r)),t.purpose)},gy=function(t){return t.cHandler},py=function(t,r){return{name:t,handler:r}},GT=function(t,r){var o={};return qe(t,function(s){o[s.name()]=s.handlers(r)}),o},Fv=function(t,r,o){var s=U(U({},o),GT(r,t));return yC(s,py)},Nv=function(t,r,o,s){var v=Fv(t,o,s);return CC(v,r)},Za=function(t){var r=IT(t);return function(o,s){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var h=[o,s].concat(v);r.abort.apply(void 0,h)?s.stop():r.can.apply(void 0,h)&&r.run.apply(void 0,h)}},h1=function(t,r){return Qr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(pt(r,function(o){return o.name}),null,2)])},Cl=function(t,r,o){var s=r[o];return s?p1("Event: "+o,"name",t,s).map(function(v){var m=pt(v,function(h){return h.handler});return $T(m)}):h1(o,t)},CC=function(t,r){var o=Yn(t,function(s,v){var m=s.length===1?Qr.value(s[0].handler):Cl(s,r,v);return m.map(function(h){var C=Za(h),S=s.length>1?Me(r[v],function(T){return an(s,function(_){return _.name===T})}).join(" > "):s[0].name;return ql(v,jT(C,S))})});return NT(o,{})},Sl,Ql="alloy.base.behaviour",Iv=br([Si("dom","dom",Ur(),br([Gt("tag"),Ie("styles",{}),Ie("classes",[]),Ie("attributes",{}),_a("value"),_a("innerHtml")])),Gt("components"),Gt("uid"),Ie("events",{}),Ie("apis",{}),Si("eventOrder","eventOrder",zo((Sl={},Sl[nc()]=["disabling",Ql,"toggling","typeaheadevents"],Sl[Tv()]=[Ql,"focusing","keying"],Sl[Sd()]=[Ql,"disabling","toggling","representing"],Sl[wd()]=[Ql,"representing","streaming","invalidating"],Sl[Lm()]=[Ql,"representing","item-events","tooltipping"],Sl[Xc()]=["focusing",Ql,"item-type-events"],Sl[Xl()]=["focusing",Ql,"item-type-events"],Sl[Uf()]=["item-type-events","tooltipping"],Sl[Sc()]=["receiving","reflecting","tooltipping"],Sl)),jc()),_a("domModification")]),b1=function(t){return Bo("custom.definition",Iv,t)},Ap=function(t){return U(U({},t.dom),{uid:t.uid,domChildren:pt(t.components,function(r){return r.element})})},y1=function(t){return t.domModification.fold(function(){return Jc({})},Jc)},w1=function(t){return t.events},Ad=function(t,r){var o=wo(t,r);return o===void 0||o===""?[]:o.split(" ")},qT=function(t,r,o){var s=Ad(t,r),v=s.concat([o]);return Zr(t,r,v.join(" ")),!0},C1=function(t,r,o){var s=Me(Ad(t,r),function(v){return v!==o});return s.length>0?Zr(t,r,s.join(" ")):$i(t,r),!1},Wm=function(t){return t.dom.classList!==void 0},Op=function(t){return Ad(t,"class")},Dp=function(t,r){return qT(t,"class",r)},hy=function(t,r){return C1(t,"class",r)},xi=function(t,r){Wm(t)?t.dom.classList.add(r):Dp(t,r)},Od=function(t){var r=Wm(t)?t.dom.classList:Op(t);r.length===0&&$i(t,"class")},vi=function(t,r){if(Wm(t)){var o=t.dom.classList;o.remove(r)}else hy(t,r);Od(t)},Xu=function(t,r){return Wm(t)&&t.dom.classList.contains(r)},Dd=function(t,r){qe(r,function(o){xi(t,o)})},sc=function(t,r){qe(r,function(o){vi(t,o)})},S1=function(t,r){return Cn(r,function(o){return Xu(t,o)})},ef=function(t){return t.dom.value},jm=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Gm=function(t){var r=ce.fromTag(t.tag);_s(r,t.attributes),Dd(r,t.classes),Rs(r,t.styles),t.innerHtml.each(function(s){return jf(r,s)});var o=t.domChildren;if(pl(r,o),t.value.each(function(s){jm(r,s)}),!t.uid)debugger;return m1(r,t.uid),r},SC=function(t){var r=wt(t,"behaviours").getOr({});return St(ct(r),function(o){var s=r[o];return he(s)?[s.me]:[]})},xC=function(t,r){return bC(t,r)},KT=function(t){var r=SC(t);return xC(t,r)},XT=function(t,r,o){var s=Ap(t),v=y1(t),m={"alloy.base.modification":v},h=r.length>0?Um(o,m,r,s):v;return WT(s,h)},YT=function(t,r,o){var s={"alloy.base.behaviour":w1(t)};return Nv(o,t.eventOrder,r,s).getOrDie()},kC=function(t){var r=function(){return Be},o=kr(VT),s=Gc(b1(t)),v=KT(t),m=g1(v),h=UT(v),C=XT(s,m,h),S=Gm(C),T=YT(s,m,h),_=kr(s.components),P=function(Tt){o.set(Tt)},V=function(){o.set(Ep(r))},q=function(){var Tt=R(S),kt=St(Tt,function(Pe){return o.get().getByDom(Pe).fold(function(){return[]},qr)});_.set(kt)},Q=function(Tt){var kt=h,Pe=ze(kt[Tt.name()])?kt[Tt.name()]:function(){throw new Error("Could not find "+Tt.name()+" in "+JSON.stringify(t,null,2))};return Pe()},le=function(Tt){return ze(h[Tt.name()])},De=function(){return s.apis},ie=function(Tt){return h[Tt]().map(function(kt){return kt.state.readState()}).getOr("not enabled")},Be={uid:t.uid,getSystem:o.get,config:Q,hasConfigured:le,spec:t,readState:ie,getApis:De,connect:P,disconnect:V,element:S,syncComponents:q,components:_.get,events:T};return Be},x1=function(t){var r=wt(t,"components").getOr([]);return pt(r,So)},k1=function(t){var r=Vm(t),o=r.events,s=B(r,["events"]),v=x1(s),m=U(U({},s),{events:U(U({},Hm),o),components:v});return Qr.value(kC(m))},ru=function(t){var r=ce.fromText(t);return T1({element:r})},T1=function(t){var r=Ua("external.component",Ms([Gt("element"),_a("uid")]),t),o=kr(Ep()),s=function(C){o.set(C)},v=function(){o.set(Ep(function(){return h}))},m=r.uid.getOrThunk(function(){return Pv("external")});m1(r.element,m);var h={uid:m,getSystem:o.get,config:A.none,hasConfigured:st,connect:s,disconnect:v,getApis:function(){return{}},element:r.element,spec:t,readState:j("No state"),syncComponents:ve,components:j([]),events:{}};return Mv(h)},by=Pv,xc=function(t){return sn(t,"uid")},So=function(t){return hC(t).getOrThunk(function(){var r=xc(t)?t:U({uid:by("")},t);return k1(r).getOrDie()})},cc=Mv;function $v(t,r,o,s,v){return t(o,s)?A.some(o):ze(v)&&v(o)?A.none():r(o,s,v)}var yy=function(t,r,o){for(var s=t.dom,v=ze(o)?o:st;s.parentNode;){s=s.parentNode;var m=ce.fromDom(s);if(r(m))return A.some(m);if(v(m))break}return A.none()},E1=function(t,r,o){var s=function(v,m){return m(v)};return $v(s,yy,t,r,o)},TC=function(t,r){var o=function(v){return r(ce.fromDom(v))},s=Ot(t.dom.childNodes,o);return s.map(ce.fromDom)},ea=function(t,r){var o=function(s){for(var v=0;v<s.childNodes.length;v++){var m=ce.fromDom(s.childNodes[v]);if(r(m))return A.some(m);var h=o(s.childNodes[v]);if(h.isSome())return h}return A.none()};return o(t.dom)},qm=function(t,r,o){return E1(t,r,o).isSome()},A1=function(t,r,o){return yy(t,function(s){return Sa(s,r)},o)},wy=function(t,r){return TC(t,function(o){return Sa(o,r)})},ki=function(t,r){return yv(r,t)},kc=function(t,r,o){var s=function(v,m){return Sa(v,m)};return $v(s,A1,t,r,o)},EC=function(t){var r=E1(t,function(o){if(!F(o))return!1;var s=wo(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=wo(o,"id"),v=Pr(o);return ki(v,'[aria-owns="'+s+'"]')})},_d=function(){var t=nr("aria-owns"),r=function(s){Zr(s,"aria-owns",t)},o=function(s){$i(s,"aria-owns")};return{id:t,link:r,unlink:o}},go=function(t,r){return EC(r).exists(function(o){return Rd(t,o)})},Rd=function(t,r){return qm(r,function(o){return Ga(o,t.element)},st)||go(t,r)},O1="unknown",Km;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Km||(Km={}));var Cy=kr({}),AC=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(v,m,h){o.push({outcome:"cut",target:m,purpose:h})},logEventStopped:function(v,m,h){o.push({outcome:"stopped",target:m,purpose:h})},logNoParent:function(v,m,h){o.push({outcome:"no-parent",target:m,purpose:h})},logEventNoHandlers:function(v,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(v,m,h){o.push({outcome:"response",purpose:h,target:m})},write:function(){var v=new Date().getTime();$t(["mousemove","mouseover","mouseout",Sd()],t)||console.log(t,{event:t,time:v-s,target:r.dom,sequence:pt(o,function(m){return $t(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+Ku(m.target)+")":m.outcome})})}}},_p=function(t,r,o){var s=wt(Cy.get(),t).orThunk(function(){var h=ct(Cy.get());return Ye(h,function(C){return t.indexOf(C)>-1?A.some(Cy.get()[C]):A.none()})}).getOr(Km.NORMAL);switch(s){case Km.NORMAL:return o(ZT());case Km.LOGGING:{var v=AC(t,r),m=o(v);return v.write(),m}case Km.STOP:return!0}},OC=["alloy/data/Fields","alloy/debugging/Debugging"],qf=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return Ot(r,function(o){return o.indexOf("alloy")>0&&!an(OC,function(s){return o.indexOf(s)>-1})}).getOr(O1)}else return O1},Yu={logEventCut:ve,logEventStopped:ve,logNoParent:ve,logEventNoHandlers:ve,logEventResponse:ve,write:ve},Sy=function(t,r,o){return _p(t,r,o)},ZT=j(Yu),xl=j([Gt("menu"),Gt("selectedMenu")]),Kf=j([Gt("item"),Gt("selectedItem")]);j(br(Kf().concat(xl())));var D1=j(br(Kf())),JT=Gl("initSize",[Gt("numColumns"),Gt("numRows")]),QT=function(){return ms("markers",D1())},Pd=function(){return Gl("markers",[Gt("backgroundMenu")].concat(xl()).concat(Kf()))},Bd=function(t){return Gl("markers",pt(t,Gt))},_1=function(t,r,o){return qf(),Si(r,r,o,Rm(function(s){return Qr.value(function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return s.apply(void 0,v)})}))},Ra=function(t){return _1("onHandler",t,ra(ve))},Ti=function(t){return _1("onKeyboardHandler",t,ra(A.none))},Zu=function(t){return _1("onHandler",t,Ur())},hs=function(t){return _1("onKeyboardHandler",t,Ur())},io=function(t,r){return Gu(t,j(r))},Lv=function(t){return Gu(t,Ne)},R1=j(JT),Ri=function(t,r,o,s,v,m,h,C){return C===void 0&&(C=!1),{x:t,y:r,bubble:o,direction:s,placement:v,restriction:m,label:h+"-"+v,alwaysFit:C}},tf=tc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),eE=function(t,r,o,s,v,m,h,C,S){return t.fold(r,o,s,v,m,h,C,S)},tE=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},P1=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},B1=tf.southeast,xy=tf.southwest,ky=tf.northeast,Md=tf.northwest,Rp=tf.south,Ty=tf.north,Ey=tf.east,Xm=tf.west,au=function(t,r,o,s){var v=t+r;return v>s?o:v<o?s:v},Ls=function(t,r,o){return Math.min(Math.max(t,r),o)},Pp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Ei=function(t,r){return ar(["left","right","top","bottom"],function(o){return wt(r,o).map(function(s){return Pp(t,s)})})},M1=function(t,r,o){var s=function(S,T){return r[S].map(function(_){var P=S==="top"||S==="bottom",V=P?o.top:o.left,q=S==="left"||S==="top"?Math.max:Math.min,Q=q(_,T)+V;return P?Ls(Q,t.y,t.bottom):Ls(Q,t.x,t.right)}).getOr(T)},v=s("left",t.x),m=s("top",t.y),h=s("right",t.right),C=s("bottom",t.bottom);return Ci(v,m,h-v,C-m)},Xf="layout",Ay=function(t){return t.x},Oy=function(t,r){return t.x+t.width/2-r.width/2},DC=function(t,r){return t.x+t.width-r.width},Dy=function(t,r){return t.y-r.height},Bp=function(t){return t.y+t.height},F1=function(t,r){return t.y+t.height/2-r.height/2},_C=function(t){return t.x+t.width},nE=function(t,r){return t.x-r.width},Eu=function(t,r,o){return Ri(Ay(t),Bp(t),o.southeast(),B1(),"southeast",Ei(t,{left:1,top:3}),Xf)},Pi=function(t,r,o){return Ri(DC(t,r),Bp(t),o.southwest(),xy(),"southwest",Ei(t,{right:0,top:3}),Xf)},Ju=function(t,r,o){return Ri(Ay(t),Dy(t,r),o.northeast(),ky(),"northeast",Ei(t,{left:1,bottom:2}),Xf)},Qu=function(t,r,o){return Ri(DC(t,r),Dy(t,r),o.northwest(),Md(),"northwest",Ei(t,{right:0,bottom:2}),Xf)},bs=function(t,r,o){return Ri(Oy(t,r),Dy(t,r),o.north(),Ty(),"north",Ei(t,{bottom:2}),Xf)},di=function(t,r,o){return Ri(Oy(t,r),Bp(t),o.south(),Rp(),"south",Ei(t,{top:3}),Xf)},N1=function(t,r,o){return Ri(_C(t),F1(t,r),o.east(),Ey(),"east",Ei(t,{left:0}),Xf)},I1=function(t,r,o){return Ri(nE(t,r),F1(t,r),o.west(),Xm(),"west",Ei(t,{right:1}),Xf)},_y=function(){return[Eu,Pi,Ju,Qu,di,bs,N1,I1]},Fd=function(){return[Pi,Eu,Qu,Ju,di,bs,N1,I1]},zv=function(){return[Ju,Qu,Eu,Pi,bs,di]},$1=function(){return[Qu,Ju,Pi,Eu,bs,di]},L1=function(){return[Eu,Pi,Ju,Qu,di,bs]},z1=function(){return[Pi,Eu,Qu,Ju,di,bs]},Ym=function(t,r){return r.universal?t:Me(t,function(o){return $t(r.channels,o)})},Zm=function(t){return ro([rn(Sc(),function(r,o){var s=t.channels,v=ct(s),m=o,h=Ym(v,m);qe(h,function(C){var S=s[C],T=S.schema,_=Ua("channel["+C+`] data
Receiver: `+Ku(r.element),T,m.data);S.onReceive(r,_)})})])},RC=Object.freeze({__proto__:null,events:Zm}),nf=[ms("channels",Su(Qr.value,Ms([Zu("onReceive"),Ie("schema",jc())])))],Nd=function(t,r,o){return $s(function(s){o(s,t,r)})},Do=function(t,r,o){return gC(function(s,v){o(s,t,r)})},rE=function(t,r,o,s,v,m){var h=Ms(t),C=Ns(r,[MT("config",t)]);return PC(h,C,r,o,s,v,m)},aE=function(t,r,o,s,v,m){var h=t,C=Ns(r,[yl("config",t)]);return PC(h,C,r,o,s,v,m)},H1=function(t,r,o){var s=function(v){for(var m=[],h=1;h<arguments.length;h++)m[h-1]=arguments[h];var C=[v].concat(m);return v.config({name:j(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(S){var T=Array.prototype.slice.call(C,1);return r.apply(void 0,[v,S.config,S.state].concat(T))})};return uc(s,o,r)},oE=function(t){return{key:t,value:void 0}},PC=function(t,r,o,s,v,m,h){var C=function(P){return Zn(P,o)?P[o]():A.none()},S=hn(v,function(P,V){return H1(o,P,V)}),T=hn(m,function(P,V){return Ed(P,V)}),_=U(U(U({},T),S),{revoke:un(oE,o),config:function(P){var V=Ua(o+"-config",t,P);return{key:o,value:{config:V,me:_,configAsRaw:Qe(function(){return Ua(o+"-config",t,P)}),initialConfig:P,state:h}}},schema:j(r),exhibit:function(P,V){return Xa(C(P),wt(s,"exhibit"),function(q,Q){return Q(V,q.config,q.state)}).getOrThunk(function(){return Jc({})})},name:j(o),handlers:function(P){return C(P).map(function(V){var q=wt(s,"events").getOr(function(){return{}});return q(V.config,V.state)}).getOr({})}});return _},Pn=function(t){return Vf(t)},iE=Ms([Gt("fields"),Gt("name"),Ie("active",{}),Ie("apis",{}),Ie("state",nu),Ie("extra",{})]),Ai=function(t){var r=Ua("Creating behaviour: "+t.name,iE,t);return rE(r.fields,r.name,r.active,r.apis,r.extra,r.state)},Ry=Ms([Gt("branchKey"),Gt("branches"),Gt("name"),Ie("active",{}),Ie("apis",{}),Ie("state",nu),Ie("extra",{})]),Id=function(t){var r=Ua("Creating behaviour: "+t.name,Ry,t);return aE(wc(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},BC=j(void 0),Mu=Ai({fields:nf,name:"receiving",active:RC}),Mp=function(t,r){return Jc({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},V1=Object.freeze({__proto__:null,exhibit:Mp}),Fp=function(){return ce.fromDom(document)},kl=function(t){return t.dom.focus()},Np=function(t){return t.dom.blur()},Ip=function(t){var r=Pr(t).dom;return t.dom===r.activeElement},es=function(t){return t===void 0&&(t=Fp()),A.from(t.dom.activeElement).map(ce.fromDom)},Tl=function(t){return es(Pr(t)).filter(function(r){return t.dom.contains(r.dom)})},MC=function(t,r){var o=Pr(r),s=es(o).bind(function(m){var h=function(C){return Ga(m,C)};return h(r)?A.some(r):ea(r,h)}),v=t(r);return s.each(function(m){es(o).filter(function(h){return Ga(h,m)}).fold(function(){kl(m)},ve)}),v},Fu=function(t,r,o,s,v){var m=function(h){return h+"px"};return{position:t,left:r.map(m),top:o.map(m),right:s.map(m),bottom:v.map(m)}},rf=function(t){return U(U({},t),{position:A.some(t.position)})},Hv=function(t,r){Io(t,rf(r))},$p=tc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),At=function(t,r,o,s,v,m){var h=r.rect,C=h.x-o,S=h.y-s,T=h.width,_=h.height,P=v-(C+T),V=m-(S+_),q=A.some(C),Q=A.some(S),le=A.some(P),De=A.some(V),ie=A.none();return eE(r.direction,function(){return Fu(t,q,Q,ie,ie)},function(){return Fu(t,ie,Q,le,ie)},function(){return Fu(t,q,ie,ie,De)},function(){return Fu(t,ie,ie,le,De)},function(){return Fu(t,q,Q,ie,ie)},function(){return Fu(t,q,ie,ie,De)},function(){return Fu(t,q,Q,ie,ie)},function(){return Fu(t,ie,Q,le,ie)})},Yf=function(t,r){return t.fold(function(){var o=r.rect;return Fu("absolute",A.some(o.x),A.some(o.y),A.none(),A.none())},function(o,s,v,m){return At("absolute",r,o,s,v,m)},function(o,s,v,m){return At("fixed",r,o,s,v,m)})},Jm=function(t,r){var o=un(Cu,r),s=t.fold(o,o,function(){var h=Bs();return Cu(r).translate(-h.left,-h.top)}),v=Wu(r),m=Ps(r);return Ci(s.left,s.top,v,m)},uE=function(t,r){return r.fold(function(){return t.fold(Ji,Ji,Ci)},function(o){return t.fold(o,o,function(){var s=o(),v=U1(t,s.x,s.y);return Ci(v.left,v.top,s.width,s.height)})})},U1=function(t,r,o){var s=eo(r,o),v=function(){var m=Bs();return s.translate(-m.left,-m.top)};return t.fold(j(s),j(s),v)},Qc=function(t,r,o,s){return t.fold(r,o,s)};$p.none;var W1=$p.relative,Py=$p.fixed,By=function(t,r){return{anchorBox:t,origin:r}},j1=function(t,r){return By(t,r)},My="data-alloy-placement",Fy=function(t,r){Zr(t,My,r)},Ny=function(t){return Po(t,My)},Iy=function(t){return $i(t,My)},$d=tc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),FC=function(t,r){var o=r.x,s=r.y,v=r.right,m=r.bottom,h=t.x,C=t.y,S=t.right,T=t.bottom,_=t.width,P=t.height,V=h>=o&&h<=v,q=C>=s&&C<=m,Q=V&&q,le=S<=v&&S>=o,De=T<=m&&T>=s,ie=le&&De,Be=Math.min(_,h>=o?v-h:S-o),Tt=Math.min(P,C>=s?m-C:T-s);return{originInBounds:Q,sizeInBounds:ie,visibleW:Be,visibleH:Tt}},sE=function(t,r){var o=r.x,s=r.y,v=r.right,m=r.bottom,h=t.x,C=t.y,S=t.width,T=t.height,_=Math.max(o,v-S),P=Math.max(s,m-T),V=Ls(h,o,_),q=Ls(C,s,P),Q=Math.min(V+S,v)-V,le=Math.min(q+T,m)-q;return Ci(V,q,Q,le)},cE=function(t,r,o){var s=j(r.bottom-o.y),v=j(o.bottom-r.y),m=tE(t,v,v,s),h=j(r.right-o.x),C=j(o.right-r.x),S=P1(t,C,C,h);return{maxWidth:S,maxHeight:m}},Qm=function(t,r,o,s){var v=t.bubble,m=v.offset,h=M1(s,t.restriction,m),C=t.x+m.left,S=t.y+m.top,T=Ci(C,S,r,o),_=FC(T,h),P=_.originInBounds,V=_.sizeInBounds,q=_.visibleW,Q=_.visibleH,le=P&&V,De=le?T:sE(T,h),ie=De.width>0&&De.height>0,Be=cE(t.direction,De,s),Tt=Be.maxWidth,kt=Be.maxHeight,Pe={rect:De,maxHeight:kt,maxWidth:Tt,direction:t.direction,placement:t.placement,classes:{on:v.classesOn,off:v.classesOff},layout:t.label,testY:S};return le||t.alwaysFit?$d.fit(Pe):$d.nofit(Pe,q,Q,ie)},eg=function(t,r,o,s,v,m){var h=s.width,C=s.height,S=function(_,P,V,q,Q){var le=_(o,s,v,t,m),De=Qm(le,h,C,m);return De.fold(j(De),function(ie,Be,Tt,kt){var Pe=Q===kt?Tt>q||Be>V:!Q&&kt;return Pe?De:$d.nofit(P,V,q,Q)})},T=qt(r,function(_,P){var V=un(S,P);return _.fold(j(_),V)},$d.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:B1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return T.fold(Ne,Ne)},G1=function(t){var r=kr(A.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(A.none())},v=function(){return r.get().isSome()},m=function(){return r.get()},h=function(C){o(),r.set(A.some(C))};return{clear:s,isSet:v,get:m,set:h}},$y=function(){return G1(function(t){return t.destroy()})},tg=function(){return G1(function(t){return t.unbind()})},Ly=function(){var t=$y(),r=function(o){return t.get().each(o)};return U(U({},t),{run:r})},Xo=function(){var t=G1(ve),r=function(o){return t.get().each(o)};return U(U({},t),{on:r})},Lp=rt,ei=function(t,r,o){return Qh(t,r,Lp,o)},q1=function(t,r,o){return Rf(t,r,Lp,o)},Ld=yc,zy=["top","bottom","right","left"],zp="data-alloy-transition-timer",Hy=function(t,r){return S1(t,r.classes)},NC=function(t,r,o){return o.exists(function(s){var v=t.mode;return v==="all"?!0:s[v]!==r[v]})},lE=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Ce(r,function(s,v){var m=t[v].map(o),h=s.map(o);return!Ia(m,h)}).isSome()},IC=function(t){var r=function(m){var h=$o(t,m),C=we(h)?h.split(/\s*,\s*/):[];return Me(C,hi)},o=function(m){if(we(m)&&/^[\d.]+/.test(m)){var h=parseFloat(m);return ir(m,"ms")?h:h*1e3}else return 0},s=r("transition-delay"),v=r("transition-duration");return qt(v,function(m,h,C){var S=o(s[C])+o(h);return Math.max(m,S)},0)},fE=function(t,r){var o=tg(),s=tg(),v,m=function(_){var P,V=(P=_.raw.pseudoElement)!==null&&P!==void 0?P:"";return Ga(_.target,t)&&mu(V)&&$t(zy,_.raw.propertyName)},h=function(_){if(at(_)||m(_)){o.clear(),s.clear();var P=_==null?void 0:_.raw.type;(at(P)||P===$m())&&(clearTimeout(v),$i(t,zp),sc(t,r.classes))}},C=function(){o.set(ei(t,$m(),h)),s.set(ei(t,LT(),h))};if("ontransitionstart"in t.dom)var S=ei(t,ny(),function(_){m(_)&&(S.unbind(),C())});else C();var T=IC(t);requestAnimationFrame(function(){v=setTimeout(h,T+17),Zr(t,zp,v)})},K1=function(t,r){Dd(t,r.classes),Po(t,zp).each(function(o){clearTimeout(parseInt(o,10)),$i(t,zp)}),fE(t,r)},Hp=function(t,r,o,s,v,m){var h=NC(s,v,m);if(h||Hy(t,s)){Mr(t,"position",o.position);var C=Jm(r,t),S=Yf(r,U(U({},v),{rect:C})),T=ar(zy,function(_){return S[_]});lE(o,T)&&(Io(t,T),h&&K1(t,s),mo(t))}else sc(t,s.classes)},vE=function(t){return{width:Wu(t),height:Ps(t)}},$C=function(t,r,o,s){Da(r,"max-height"),Da(r,"max-width");var v=vE(r);return eg(r,s.preference,t,v,o,s.bounds)},Vy=function(t,r){var o=r.classes;sc(t,o.off),Dd(t,o.on)},dE=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},mE=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},X1=function(t,r,o){var s=Yf(o.origin,r);o.transition.each(function(v){Hp(t,o.origin,s,v,r,o.lastPlacement)}),Hv(t,s)},Uy=function(t,r){Fy(t,r.placement)},ou=function(t,r){Jh(t,Math.floor(r))},ng=j(function(t,r){ou(t,r),Rs(t,{"overflow-x":"hidden","overflow-y":"auto"})}),rg=j(function(t,r){ou(t,r)}),LC=function(t,r,o){return t[r]===void 0?o:t[r]},gE=function(t,r,o,s,v,m,h,C){var S=LC(h,"maxHeightFunction",ng()),T=LC(h,"maxWidthFunction",ve),_=t.anchorBox,P=t.origin,V={bounds:uE(P,m),origin:P,preference:s,maxHeightFunction:S,maxWidthFunction:T,lastPlacement:v,transition:C};return Vp(_,r,o,V)},Vp=function(t,r,o,s){var v=$C(t,r,o,s);return X1(r,v,s),Uy(r,v),Vy(r,v),dE(r,v,s),mE(r,v,s),{layout:v.layout,placement:v.placement}},Up=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],zd=function(t,r,o,s){s===void 0&&(s=1);var v=t*s,m=r*s,h=function(S){return wt(o,S).getOr([])},C=function(S,T,_){var P=Kn(Up,_);return{offset:eo(S,T),classesOn:St(_,h),classesOff:St(P,h)}};return{southeast:function(){return C(-t,r,["top","alignLeft"])},southwest:function(){return C(t,r,["top","alignRight"])},south:function(){return C(-t/2,r,["top","alignCentre"])},northeast:function(){return C(-t,-r,["bottom","alignLeft"])},northwest:function(){return C(t,-r,["bottom","alignRight"])},north:function(){return C(-t/2,-r,["bottom","alignCentre"])},east:function(){return C(t,-r/2,["valignCentre","left"])},west:function(){return C(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return C(v,m,["top","alignLeft","inset"])},insetNorthwest:function(){return C(-v,m,["top","alignRight","inset"])},insetNorth:function(){return C(-v/2,m,["top","alignCentre","inset"])},insetSoutheast:function(){return C(v,-m,["bottom","alignLeft","inset"])},insetSouthwest:function(){return C(-v,-m,["bottom","alignRight","inset"])},insetSouth:function(){return C(-v/2,-m,["bottom","alignCentre","inset"])},insetEast:function(){return C(-v,-m/2,["valignCentre","right","inset"])},insetWest:function(){return C(v,-m/2,["valignCentre","left","inset"])}}},Y1=function(){return zd(0,0,{})},Wp=Ne,Wy=function(t,r){return function(o){return pE(o)==="rtl"?r:t}},pE=function(t){return $o(t,"direction")==="rtl"?"rtl":"ltr"},af;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(af||(af={}));var Z1="data-alloy-vertical-dir",hE=function(t){return qm(t,function(r){return F(r)&&wo(r,"data-alloy-vertical-dir")===af.BottomToTop})},Vv=function(){return Ns("layouts",[Gt("onLtr"),Gt("onRtl"),_a("onBottomLtr"),_a("onBottomRtl")])},Uv=function(t,r,o,s,v,m,h){var C=h.map(hE).getOr(!1),S=r.layouts.map(function(q){return q.onLtr(t)}),T=r.layouts.map(function(q){return q.onRtl(t)}),_=C?r.layouts.bind(function(q){return q.onBottomLtr.map(function(Q){return Q(t)})}).or(S).getOr(v):S.getOr(o),P=C?r.layouts.bind(function(q){return q.onBottomRtl.map(function(Q){return Q(t)})}).or(T).getOr(m):T.getOr(s),V=Wy(_,P);return V(t)},bE=function(t,r,o){var s=r.hotspot,v=Jm(o,s.element),m=Uv(t.element,r,L1(),z1(),zv(),$1(),A.some(r.hotspot.element));return A.some(Wp({anchorBox:v,bubble:r.bubble.getOr(Y1()),overrides:r.overrides,layouts:m,placer:A.none()}))},J1=[Gt("hotspot"),_a("bubble"),Ie("overrides",{}),Vv(),io("placement",bE)],Q1=function(t,r,o){var s=U1(o,r.x,r.y),v=Ci(s.left,s.top,r.width,r.height),m=Uv(t.element,r,_y(),Fd(),_y(),Fd(),A.none());return A.some(Wp({anchorBox:v,bubble:r.bubble,overrides:r.overrides,layouts:m,placer:A.none()}))},eb=[Gt("x"),Gt("y"),Ie("height",0),Ie("width",0),Ie("bubble",Y1()),Ie("overrides",{}),Vv(),io("placement",Q1)],Hi=tc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),zC=function(t){return t.fold(Ne,function(r,o,s){return r.translate(-o,-s)})},jy=function(t){return t.fold(Ne,Ne)},HC=function(t){return qt(t,function(r,o){return r.translate(o.left,o.top)},eo(0,0))},VC=function(t){var r=pt(t,zC);return HC(r)},El=function(t){var r=pt(t,jy);return HC(r)},Zf=Hi.screen,UC=Hi.absolute,WC=function(t,r,o){var s=vl(o.root).dom,v=function(m){var h=qo(m),C=qo(t.element);return Ga(h,C)};return A.from(s.frameElement).map(ce.fromDom).filter(v).map(Uu)},Gy=function(t,r,o){var s=qo(t.element),v=Bs(s),m=WC(t,r,o).getOr(v);return UC(m,v.left,v.top)},tb=function(t,r,o,s){var v=Zf(eo(t,r));return A.some(Js(v,o,s))},jC=function(t,r,o,s,v){return t.map(function(m){var h=[r,m.point],C=Qc(s,function(){return El(h)},function(){return El(h)},function(){return VC(h)}),S=Jo(C.left,C.top,m.width,m.height),T=o.showAbove?zv():L1(),_=o.showAbove?$1():z1(),P=Uv(v,o,T,_,T,_,A.none());return Wp({anchorBox:S,bubble:o.bubble.getOr(Y1()),overrides:o.overrides,layouts:P,placer:A.none()})})},ag=function(t,r,o){var s=Gy(t,o,r);return r.node.filter(Vr).bind(function(v){var m=v.dom.getBoundingClientRect(),h=tb(m.left,m.top,m.width,m.height),C=r.node.getOr(t.element);return jC(h,s,r,o,C)})},yE=[Gt("node"),Gt("root"),_a("bubble"),Vv(),Ie("overrides",{}),Ie("showAbove",!1),io("placement",ag)],jp="\uFEFF",wE=" ",og=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},Hd={create:og},qy=tc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),GC=function(t,r,o,s){return t.fold(r,o,s)},CE=function(t){return t.fold(Ne,Ne,Ne)},qC=qy.before,KC=qy.on,Ky=qy.after,SE={before:qC,on:KC,after:Ky,cata:GC,getStart:CE},nb=tc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),xE=function(t){return nb.exact(t.start,t.soffset,t.finish,t.foffset)},Gp=function(t){return t.match({domRange:function(r){return ce.fromDom(r.startContainer)},relative:function(r,o){return SE.getStart(r)},exact:function(r,o,s,v){return r}})},kE=nb.domRange,TE=nb.relative,EE=nb.exact,rb=function(t){var r=Gp(t);return vl(r)},AE=Hd.create,ig={domRange:kE,relative:TE,exact:EE,exactFromRange:xE,getWin:rb,range:AE},XC=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},OE=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},Xy=function(t,r,o){var s=t.document.createRange();return XC(s,r),OE(s,o),s},YC=function(t,r,o,s,v){var m=t.document.createRange();return m.setStart(r.dom,o),m.setEnd(s.dom,v),m},Yy=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},ZC=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?A.some(o).map(Yy):A.none()},JC=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?A.some(r).map(Yy):A.none()},ug=tc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zy=function(t,r,o){return r(ce.fromDom(o.startContainer),o.startOffset,ce.fromDom(o.endContainer),o.endOffset)},Jy=function(t,r){return r.match({domRange:function(o){return{ltr:j(o),rtl:A.none}},relative:function(o,s){return{ltr:Qe(function(){return Xy(t,o,s)}),rtl:Qe(function(){return A.some(Xy(t,s,o))})}},exact:function(o,s,v,m){return{ltr:Qe(function(){return YC(t,o,s,v,m)}),rtl:Qe(function(){return A.some(YC(t,v,m,o,s))})}}})},DE=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(v){return v.collapsed===!1});return s.map(function(v){return ug.rtl(ce.fromDom(v.endContainer),v.endOffset,ce.fromDom(v.startContainer),v.startOffset)}).getOrThunk(function(){return Zy(t,ug.ltr,o)})}else return Zy(t,ug.ltr,o)},_E=function(t,r){var o=Jy(t,r);return DE(t,o)},Qy=function(t,r){var o=_E(t,r);return o.match({ltr:function(s,v,m,h){var C=t.document.createRange();return C.setStart(s.dom,v),C.setEnd(m.dom,h),C},rtl:function(s,v,m,h){var C=t.document.createRange();return C.setStart(m.dom,h),C.setEnd(s.dom,v),C}})};ug.ltr,ug.rtl;var RE=function(t,r){var o=function(m){if(!t(m))throw new Error("Can only get "+r+" value of a "+r+" node");return s(m).getOr("")},s=function(m){return t(m)?A.from(m.dom.nodeValue):A.none()},v=function(m,h){if(!t(m))throw new Error("Can only set raw "+r+" value of a "+r+" node");m.dom.nodeValue=h};return{get:o,getOption:s,set:v}},QC=RE(Z,"text"),Wv=function(t){return QC.get(t)},sg=function(t){return QC.getOption(t)},eS=function(t){return ge(t)==="img"?1:sg(t).fold(function(){return R(t).length},function(r){return r.length})},PE=function(t){return sg(t).filter(function(r){return r.trim().length!==0||r.indexOf(wE)>-1}).isSome()},tS=["img","br"],BE=function(t){var r=PE(t);return r||$t(tS,ge(t))},ew=function(t){return cg(t,BE)},cg=function(t,r){var o=function(s){for(var v=R(s),m=v.length-1;m>=0;m--){var h=v[m];if(r(h))return A.some(h);var C=o(h);if(C.isSome())return C}return A.none()};return o(t)},Nu=function(t,r){return zl(r,t)},tw=function(t,r,o,s){var v=qo(t),m=v.dom.createRange();return m.setStart(t.dom,r),m.setEnd(o.dom,s),m},lg=function(t,r,o,s){var v=tw(t,r,o,s),m=Ga(t,o)&&r===s;return v.collapsed&&!m},Vd=function(t){return A.from(t.getSelection())},ab=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return A.some(Hd.create(ce.fromDom(r.startContainer),r.startOffset,ce.fromDom(o.endContainer),o.endOffset))}else return A.none()},ME=function(t){if(t.anchorNode===null||t.focusNode===null)return ab(t);var r=ce.fromDom(t.anchorNode),o=ce.fromDom(t.focusNode);return lg(r,t.anchorOffset,o,t.focusOffset)?A.some(Hd.create(r,t.anchorOffset,o,t.focusOffset)):ab(t)},nS=function(t){return Vd(t).filter(function(r){return r.rangeCount>0}).bind(ME)},nw=function(t,r){var o=Qy(t,r);return ZC(o)},ys=function(t,r){var o=Qy(t,r);return JC(o)},qp=function(t,r){return{element:t,offset:r}},FE=function(t,r){var o=R(t);if(o.length===0)return qp(t,r);if(r<o.length)return qp(o[r],0);var s=o[o.length-1],v=Z(s)?Wv(s).length:R(s).length;return qp(s,v)},Ud=function(t,r){return Z(t)?qp(t,r):FE(t,r)},jv=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return nS(t)}});return o().map(function(s){var v=Ud(s.start,s.soffset),m=Ud(s.finish,s.foffset);return ig.range(v.element,v.offset,m.element,m.offset)})},fg=function(t,r,o){var s=vl(r.root).dom,v=Gy(t,o,r),m=jv(s,r).bind(function(S){var T=ys(s,ig.exactFromRange(S)).orThunk(function(){var _=ce.fromText(jp);Lo(S.start,_);var P=nw(s,ig.exact(_,0,_,1));return fs(_),P});return T.bind(function(_){return tb(_.left,_.top,_.width,_.height)})}),h=jv(s,r).bind(function(S){return F(S.start)?A.some(S.start):Of(S.start)}),C=h.getOr(t.element);return jC(m,v,r,o,C)},Gv=[_a("getSelection"),Gt("root"),_a("bubble"),Vv(),Ie("overrides",{}),Ie("showAbove",!1),io("placement",fg)],Al="link-layout",Ol=function(t){return t.x+t.width},ob=function(t,r){return t.x-r.width},ib=function(t,r){return t.y-r.height+t.height},rw=function(t){return t.y},vg=function(t,r,o){return Ri(Ol(t),rw(t),o.southeast(),B1(),"southeast",Ei(t,{left:0,top:2}),Al)},dg=function(t,r,o){return Ri(ob(t,r),rw(t),o.southwest(),xy(),"southwest",Ei(t,{right:1,top:2}),Al)},mg=function(t,r,o){return Ri(Ol(t),ib(t,r),o.northeast(),ky(),"northeast",Ei(t,{left:0,bottom:3}),Al)},Au=function(t,r,o){return Ri(ob(t,r),ib(t,r),o.northwest(),Md(),"northwest",Ei(t,{right:1,bottom:3}),Al)},gg=function(){return[vg,dg,mg,Au]},pg=function(){return[dg,vg,Au,mg]},ub=function(t,r,o){var s=Jm(o,r.item.element),v=Uv(t.element,r,gg(),pg(),gg(),pg(),A.none());return A.some(Wp({anchorBox:s,bubble:Y1(),overrides:r.overrides,layouts:v,placer:A.none()}))},NE=[Gt("item"),Vv(),Ie("overrides",{}),io("placement",ub)],aw=wc("type",{selection:Gv,node:yE,hotspot:J1,submenu:NE,makeshift:eb}),sb=[xu("classes",Qo),ec("mode","all",["all","layout","placement"])],iu=[Ie("useFixed",st),_a("getBounds")],IE=[ms("anchor",aw),Ns("transition",sb)],of=function(){var t=document.documentElement;return Py(0,0,t.clientWidth,t.clientHeight)},cb=function(t){var r=Uu(t.element),o=t.element.dom.getBoundingClientRect();return W1(r.left,r.top,o.width,o.height)},ow=function(t,r,o,s,v,m,h){var C=j1(o.anchorBox,r);return gE(C,v.element,o.bubble,o.layouts,m,s,o.overrides,h)},hg=function(t,r,o,s,v){iw(t,r,o,s,v,A.none())},iw=function(t,r,o,s,v,m){var h=m.map(oi);return Kp(t,r,o,s,v,h)},Kp=function(t,r,o,s,v,m){var h=Ua("placement.info",br(IE),v),C=h.anchor,S=s.element,T=o.get(s.uid);MC(function(){Mr(S,"position","fixed");var _=ai(S,"visibility");Mr(S,"visibility","hidden");var P=r.useFixed()?of():cb(t),V=C.placement,q=m.map(j).or(r.getBounds);V(t,C,P).each(function(Q){var le=Q.placer.getOr(ow),De=le(t,P,Q,q,s,T,h.transition);o.set(s.uid,De)}),_.fold(function(){Da(S,"visibility")},function(Q){Mr(S,"visibility",Q)}),ai(S,"left").isNone()&&ai(S,"top").isNone()&&ai(S,"right").isNone()&&ai(S,"bottom").isNone()&&Rr(ai(S,"position"),"fixed")&&Da(S,"position")},S)},$E=function(t,r,o){return r.useFixed()?"fixed":"absolute"},rS=function(t,r,o,s){var v=s.element;qe(["position","left","right","top","bottom"],function(m){return Da(v,m)}),Iy(v),o.clear(s.uid)},aS=Object.freeze({__proto__:null,position:hg,positionWithin:iw,positionWithinBounds:Kp,getMode:$E,reset:rS}),LE=function(){var t={},r=function(v,m){t[v]=m},o=function(v){return wt(t,v)},s=function(v){he(v)?delete t[v]:t={}};return Tu({readState:function(){return t},clear:s,set:r,get:o})},bg=Object.freeze({__proto__:null,init:LE}),Yo=Ai({fields:iu,name:"positioning",active:V1,apis:aS,state:bg}),lb=function(t){Aa(t,Lm());var r=t.components();qe(r,lb)},fb=function(t){var r=t.components();qe(r,fb),Aa(t,Is())},uw=function(t,r){wu(t.element,r.element)},oS=function(t){qe(t.components(),function(r){return fs(r.element)}),Ao(t.element),t.syncComponents()},sw=function(t,r){var o=t.components();oS(t);var s=Kn(o,r);qe(s,function(v){lb(v),t.getSystem().removeFromWorld(v)}),qe(r,function(v){v.getSystem().isConnected()?uw(t,v):(t.getSystem().addToWorld(v),uw(t,v),Vr(t.element)&&fb(v)),t.syncComponents()})},Wd=function(t,r){vb(t,r,wu)},vb=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),Vr(t.element)&&fb(r),t.syncComponents()},ws=function(t){lb(t),fs(t.element),t.getSystem().removeFromWorld(t)},Dl=function(t){var r=Ro(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});ws(t),r.each(function(o){o.syncComponents()})},db=function(t){var r=t.components();qe(r,ws),Ao(t.element),t.syncComponents()},Jf=function(t,r){_l(t,r,wu)},el=function(t,r){_l(t,r,Bf)},_l=function(t,r,o){o(t,r.element);var s=R(r.element);qe(s,function(v){r.getByDom(v).each(fb)})},Iu=function(t){var r=R(t.element);qe(r,function(o){t.getByDom(o).each(lb)}),fs(t.element)},Tc=function(t,r,o,s){o.get().each(function(h){db(t)});var v=r.getAttachPoint(t);Wd(v,t);var m=t.getSystem().build(s);return Wd(t,m),o.set(m),m},yg=function(t,r,o,s){var v=Tc(t,r,o,s);return r.onOpen(t,v),v},uf=function(t,r,o,s){return o.get().map(function(){return Tc(t,r,o,s)})},jd=function(t,r,o,s,v){lS(t,r),yg(t,r,o,s),v(),fS(t,r)},iS=function(t,r,o){o.get().each(function(s){db(t),Dl(t),r.onClose(t,s),o.clear()})},uS=function(t,r,o){return o.isOpen()},zE=function(t,r,o,s){return uS(t,r,o)&&o.get().exists(function(v){return r.isPartOf(t,v,s)})},HE=function(t,r,o){return o.get()},sS=function(t,r,o,s){ai(t.element,r).fold(function(){$i(t.element,o)},function(v){Zr(t.element,o,v)}),Mr(t.element,r,s)},cS=function(t,r,o){Po(t.element,o).fold(function(){return Da(t.element,r)},function(s){return Mr(t.element,r,s)})},lS=function(t,r,o){var s=r.getAttachPoint(t);Mr(t.element,"position",Yo.getMode(s)),sS(t,"visibility",r.cloakVisibilityAttr,"hidden")},VE=function(t){return an(["top","left","right","bottom"],function(r){return ai(t,r).isSome()})},fS=function(t,r,o){VE(t.element)||Da(t.element,"position"),cS(t,"visibility",r.cloakVisibilityAttr)},UE=Object.freeze({__proto__:null,cloak:lS,decloak:fS,open:yg,openWhileCloaked:jd,close:iS,isOpen:uS,isPartOf:zE,getState:HE,setContent:uf}),vS=function(t,r){return ro([rn(xp(),function(o,s){iS(o,t,r)})])},dS=Object.freeze({__proto__:null,events:vS}),cw=[Ra("onOpen"),Ra("onClose"),Gt("isPartOf"),Gt("getAttachPoint"),Ie("cloakVisibilityAttr","data-precloak-visibility")],mS=function(){var t=Xo(),r=j("not-implemented");return Tu({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},WE=Object.freeze({__proto__:null,init:mS}),ba=Ai({fields:cw,name:"sandboxing",active:dS,apis:UE,state:WE}),Gd=j("dismiss.popups"),wg=j("reposition.popups"),lw=j("mouse.released"),jE=Ms([Ie("isExtraPart",st),Ns("fireEventInstead",[Ie("event",Yc())])]),Cs=function(t){var r,o=Ua("Dismissal",jE,t);return r={},r[Gd()]={schema:Ms([Gt("target")]),onReceive:function(s,v){if(ba.isOpen(s)){var m=ba.isPartOf(s,v.target)||o.isExtraPart(s,v.target);m||o.fireEventInstead.fold(function(){return ba.close(s)},function(h){return Aa(s,h.event)})}}},r},GE=Ms([Ns("fireEventInstead",[Ie("event",ku())]),Bu("doReposition")]),qd=function(t){var r,o=Ua("Reposition",GE,t);return r={},r[wg()]={onReceive:function(s){ba.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(v){return Aa(s,v.event)})}},r},qv=function(t,r,o){r.store.manager.onLoad(t,r,o)},mb=function(t,r,o){r.store.manager.onUnload(t,r,o)},gb=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},qE=function(t,r,o){return r.store.manager.getValue(t,r,o)},gS=function(t,r,o){return o},pb=Object.freeze({__proto__:null,onLoad:qv,onUnload:mb,setValue:gb,getValue:qE,getState:gS}),fw=function(t,r){var o=t.resetOnDom?[Kr(function(s,v){qv(s,t,r)}),oc(function(s,v){mb(s,t,r)})]:[Do(t,r,qv)];return ro(o)},Cg=Object.freeze({__proto__:null,events:fw}),hb=function(){var t=kr(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Tu({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},KE=function(){var t=ve;return Tu({readState:t})},sf=function(){var t=kr({}),r=kr({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},v=function(h){return wt(t.get(),h).orThunk(function(){return wt(r.get(),h)})},m=function(h){var C=t.get(),S=r.get(),T={},_={};qe(h,function(P){T[P.value]=P,wt(P,"meta").each(function(V){wt(V,"text").each(function(q){_[q]=P})})}),t.set(U(U({},C),T)),r.set(U(U({},S),_))};return Tu({readState:o,lookup:v,update:m,clear:s})},vw=function(t){return t.store.manager.state(t)},dw=Object.freeze({__proto__:null,memory:hb,dataset:sf,manual:KE,init:vw}),Sg=function(t,r,o,s){var v=r.store;o.update([s]),v.setValue(t,s),r.onSetValue(t,s)},mw=function(t,r,o){var s=r.store,v=s.getDataKey(t);return o.lookup(v).getOrThunk(function(){return s.getFallbackEntry(v)})},Xp=function(t,r,o){var s=r.store;s.initialValue.each(function(v){Sg(t,r,o,v)})},pS=function(t,r,o){o.clear()},XE=[_a("initialValue"),Gt("getFallbackEntry"),Gt("getDataKey"),Gt("setValue"),io("manager",{setValue:Sg,getValue:mw,onLoad:Xp,onUnload:pS,state:sf})],cf=function(t,r,o){return r.store.getValue(t)},zs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},uu=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},YE=[Gt("getValue"),Ie("setValue",ve),_a("initialValue"),io("manager",{setValue:zs,getValue:cf,onLoad:uu,onUnload:ve,state:nu.init})],gw=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},xg=function(t,r,o){return o.get()},pw=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},Yp=function(t,r,o){o.clear()},hw=[_a("initialValue"),io("manager",{setValue:gw,getValue:xg,onLoad:pw,onUnload:Yp,state:hb})],ZE=[qu("store",{mode:"memory"},wc("mode",{memory:hw,manual:YE,dataset:XE})),Ra("onSetValue"),Ie("resetOnDom",!1)],Ln=Ai({fields:ZE,name:"representing",active:Cg,apis:pb,extra:{setValueFrom:function(t,r){var o=Ln.getValue(r);Ln.setValue(t,o)}},state:dw}),Oi=function(t,r){return K0(t,{},pt(r,function(o){return Pm(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([Gu("dump",Ne)]))},kg=function(t){return t.dump},Vi=function(t,r){return U(U({},Pn(r)),t.dump)},Ec={field:Oi,augment:Vi,get:kg},bw="placeholder",Zp=tc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),bb=function(t){return sn(t,"uiType")},yb=function(t,r,o,s){return t.exists(function(v){return v!==o.owner})?Zp.single(!0,j(o)):wt(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+ct(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(v){return v.replace()})},wb=function(t,r,o,s){return bb(o)&&o.uiType===bw?yb(t,r,o,s):Zp.single(!1,j(o))},Kv=function(t,r,o,s){var v=wb(t,r,o,s);return v.fold(function(m,h){var C=bb(o)?h(r,o.config,o.validated):h(r),S=wt(C,"components").getOr([]),T=St(S,function(_){return Kv(t,r,_,s)});return[U(U({},C),{components:T})]},function(m,h){if(bb(o)){var C=h(r,o.config,o.validated),S=o.validated.preprocess.getOr(Ne);return S(C)}else return h(r)})},Jp=function(t,r,o,s){return St(o,function(v){return Kv(t,r,v,s)})},yw=function(t,r){var o=!1,s=function(){return o},v=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},m=function(){return r.fold(function(h,C){return h},function(h,C){return h})};return{name:j(t),required:m,used:s,replace:v}},ww=function(t,r,o,s){var v=hn(s,function(h,C){return yw(C,h)}),m=Jp(t,r,o,v);return Fn(v,function(h){if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),m},Cw=Zp.single,JE=Zp.multiple,hS=j(bw),Qf=tc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),lf=Ie("factory",{sketch:Ne}),Kd=Ie("schema",[]),Tg=Gt("name"),Sw=Si("pname","pname",ga(function(t){return"<alloy."+nr(t.name)+">"}),jc()),Cb=Gu("schema",function(){return[_a("preprocess")]}),ff=Ie("defaults",j({})),tl=Ie("overrides",j({})),Xv=br([lf,Kd,Tg,Sw,ff,tl]),Yv=br([lf,Kd,Tg,ff,tl]),Xd=br([lf,Kd,Tg,Sw,ff,tl]),Eg=br([lf,Cb,Tg,Gt("unit"),Sw,ff,tl]),xw=function(t){return t.fold(A.some,A.none,A.some,A.some)},kw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},Tw=function(t){return t.fold(Ne,Ne,Ne,Ne)},Sb=function(t,r){return function(o){var s=Ua("Converting part type",r,o);return t(s)}},su=Sb(Qf.required,Xv),lc=Sb(Qf.external,Yv),Ac=Sb(Qf.optional,Xd),vf=Sb(Qf.group,Eg),Ag=j("entirety"),xb=Object.freeze({__proto__:null,required:su,external:lc,optional:Ac,group:vf,asNamedPart:xw,name:kw,asCommon:Tw,original:Ag}),Zv=function(t,r,o,s){return Bt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},Yd=function(t,r,o){var s={},v={};return qe(o,function(m){m.fold(function(h){s[h.pname]=Cw(!0,function(C,S,T){return h.factory.sketch(Zv(C,h,S,T))})},function(h){var C=r.parts[h.name];v[h.name]=j(h.factory.sketch(Zv(r,h,C[Ag()]),C))},function(h){s[h.pname]=Cw(!1,function(C,S,T){return h.factory.sketch(Zv(C,h,S,T))})},function(h){s[h.pname]=JE(!0,function(C,S,T){var _=C[h.name];return pt(_,function(P){return h.factory.sketch(Bt(h.defaults(C,P,T),P,h.overrides(C,P)))})})})}),{internals:j(s),externals:j(v)}},Zd=function(t,r){var o={};return qe(r,function(s){xw(s).each(function(v){var m=QE(t,v.pname);o[v.name]=function(h){var C=Ua("Part: "+v.name+" in "+t,br(v.schema),h);return U(U({},m),{config:h,validated:C})}})}),o},QE=function(t,r){return{uiType:hS(),owner:t,name:r}},Ew=function(t,r,o){return{uiType:hS(),owner:t,name:r,config:o,validated:{}}},bS=function(t){return St(t,function(r){return r.fold(A.none,A.some,A.none,A.none).map(function(o){return Gl(o.name,o.schema.concat([Lv(Ag())]))}).toArray()})},yS=function(t){return pt(t,kw)},Aw=function(t,r,o){return Yd(t,r,o)},Ow=function(t,r,o){return ww(A.some(t),r,r.components,o)},Ja=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},df=function(t,r,o){return Ja(t,r,o).getOrDie("Could not find part: "+o)},wS=function(t,r,o){var s={},v=r.partUids,m=t.getSystem();return qe(o,function(h){s[h]=j(m.getByUid(v[h]))}),s},CS=function(t,r){var o=t.getSystem();return hn(r.partUids,function(s,v){return j(o.getByUid(s))})},SS=function(t){return ct(t.partUids)},kb=function(t,r,o){var s={},v=r.partUids,m=t.getSystem();return qe(o,function(h){s[h]=j(m.getByUid(v[h]).getOrDie())}),s},Dw=function(t,r){var o=yS(r);return Vf(pt(o,function(s){return{key:s,value:t+"-"+s}}))},Qp=function(t){return Si("partUids","partUids",Qi(function(r){return Dw(r.uid,t)}),jc())},Or=Object.freeze({__proto__:null,generate:Zd,generateOne:Ew,schemas:bS,names:yS,substitutes:Aw,components:Ow,defaultUids:Dw,defaultUidsSchema:Qp,getAllParts:CS,getAllPartNames:SS,getPart:Ja,getPartOrDie:df,getParts:wS,getPartsOrDie:kb}),e3=function(t,r){var o=t.length>0?[Gl("parts",t)]:[];return o.concat([Gt("uid"),Ie("dom",{}),Ie("components",[]),Lv("originalSpec"),Ie("debug.sketcher",{})]).concat(r)},_w=function(t,r,o,s,v){var m=e3(s,v);return Ua(t+" [SpecSchema]",Ms(m.concat(r)),o)},xS=function(t,r,o,s){var v=kS(s),m=_w(t,r,v,[],[]);return o(m,v)},Rw=function(t,r,o,s,v){var m=kS(v),h=bS(o),C=Qp(o),S=_w(t,r,m,h,[C]),T=Aw(t,S,o),_=Ow(t,S,T.internals());return s(S,_,m,T.externals())},t3=function(t){return sn(t,"uid")},kS=function(t){return t3(t)?t:U(U({},t),{uid:Pv("uid")})},Pw=function(t){return t.uid!==void 0},Bw=Ms([Gt("name"),Gt("factory"),Gt("configFields"),Ie("apis",{}),Ie("extraApis",{})]),n3=Ms([Gt("name"),Gt("factory"),Gt("configFields"),Gt("partFields"),Ie("apis",{}),Ie("extraApis",{})]),fc=function(t){var r=Ua("Sketcher for "+t.name,Bw,t),o=function(m){return xS(r.name,r.configFields,r.factory,m)},s=hn(r.apis,Mo),v=hn(r.extraApis,function(m,h){return Ed(m,h)});return U(U({name:r.name,configFields:r.configFields,sketch:o},s),v)},ts=function(t){var r=Ua("Sketcher for "+t.name,n3,t),o=function(h){return Rw(r.name,r.configFields,r.partFields,r.factory,h)},s=Zd(r.name,r.partFields),v=hn(r.apis,Mo),m=hn(r.extraApis,function(h,C){return Ed(h,C)});return U(U({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},v),m)},mf=function(t){return ge(t)==="input"&&wo(t,"type")!=="radio"||ge(t)==="textarea"},r3=function(t,r,o){return r.find(t)},a3=Object.freeze({__proto__:null,getCurrent:r3}),Mw=[Gt("find")],fa=Ai({fields:Mw,name:"composing",apis:a3}),o3=["input","button","textarea","select"],Tb=function(t,r,o){var s=r.disabled()?Fw:Jv;s(t,r)},Eb=function(t,r){return r.useNative===!0&&$t(o3,ge(t.element))},Ab=function(t){return Zh(t.element,"disabled")},eh=function(t){Zr(t.element,"disabled","disabled")},ev=function(t){$i(t.element,"disabled")},th=function(t){return wo(t.element,"aria-disabled")==="true"},i3=function(t){Zr(t.element,"aria-disabled","true")},TS=function(t){Zr(t.element,"aria-disabled","false")},Fw=function(t,r,o){r.disableClass.each(function(v){xi(t.element,v)});var s=Eb(t,r)?eh:i3;s(t),r.onDisabled(t)},Jv=function(t,r,o){r.disableClass.each(function(v){vi(t.element,v)});var s=Eb(t,r)?ev:TS;s(t),r.onEnabled(t)},Ob=function(t,r){return Eb(t,r)?Ab(t):th(t)},ES=function(t,r,o,s){var v=s?Fw:Jv;v(t,r)},u3=Object.freeze({__proto__:null,enable:Jv,disable:Fw,isDisabled:Ob,onLoad:Tb,set:ES}),s3=function(t,r){return Jc({classes:r.disabled()?r.disableClass.toArray():[]})},c3=function(t,r){return ro([sy(nc(),function(o,s){return Ob(o,t)}),Do(t,r,Tb)])},Jd=Object.freeze({__proto__:null,exhibit:s3,events:c3}),Nw=[fo("disabled",st),Ie("useNative",!0),_a("disableClass"),Ra("onDisabled"),Ra("onEnabled")],xr=Ai({fields:Nw,name:"disabling",active:Jd,apis:u3}),AS=function(t,r,o,s){var v=Nu(t.element,"."+r.highlightClass);qe(v,function(m){an(s,function(h){return h.element===m})||(vi(m,r.highlightClass),t.getSystem().getByDom(m).each(function(h){r.onDehighlight(t,h),Aa(h,l1())}))})},OS=function(t,r,o){return AS(t,r,o,[])},l3=function(t,r,o,s){Iw(t,r,o,s)&&(vi(s.element,r.highlightClass),r.onDehighlight(t,s),Aa(s,l1()))},nh=function(t,r,o,s){AS(t,r,o,[s]),Iw(t,r,o,s)||(xi(s.element,r.highlightClass),r.onHighlight(t,s),Aa(s,uy()))},$u=function(t,r,o){Lw(t,r).each(function(s){nh(t,r,o,s)})},rh=function(t,r,o){zw(t,r).each(function(s){nh(t,r,o,s)})},f3=function(t,r,o,s){_S(t,r,o,s).fold(function(v){throw v},function(v){nh(t,r,o,v)})},DS=function(t,r,o,s){var v=RS(t,r),m=Ot(v,s);m.each(function(h){nh(t,r,o,h)})},Iw=function(t,r,o,s){return Xu(s.element,r.highlightClass)},$w=function(t,r,o){return ki(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},_S=function(t,r,o,s){var v=Nu(t.element,"."+r.itemClass);return A.from(v[s]).fold(function(){return Qr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},Lw=function(t,r,o){return ki(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},zw=function(t,r,o){var s=Nu(t.element,"."+r.itemClass),v=s.length>0?A.some(s[s.length-1]):A.none();return v.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},tv=function(t,r,o,s){var v=Nu(t.element,"."+r.itemClass),m=tr(v,function(h){return Xu(h,r.highlightClass)});return m.bind(function(h){var C=au(h,s,0,v.length-1);return t.getSystem().getByDom(v[C]).toOptional()})},v3=function(t,r,o){return tv(t,r,o,-1)},d3=function(t,r,o){return tv(t,r,o,1)},RS=function(t,r,o){var s=Nu(t.element,"."+r.itemClass);return Dr(pt(s,function(v){return t.getSystem().getByDom(v).toOptional()}))},m3=Object.freeze({__proto__:null,dehighlightAll:OS,dehighlight:l3,highlight:nh,highlightFirst:$u,highlightLast:rh,highlightAt:f3,highlightBy:DS,isHighlighted:Iw,getHighlighted:$w,getFirst:Lw,getLast:zw,getPrevious:v3,getNext:d3,getCandidates:RS}),ah=[Gt("highlightClass"),Gt("itemClass"),Ra("onHighlight"),Ra("onDehighlight")],Ma=Ai({fields:ah,name:"highlighting",apis:m3}),Db=[8],nv=[9],nl=[13],Qv=[27],Ss=[32],_b=[37],Qd=[38],Og=[39],ed=[40],g3=function(t,r,o){var s=Wt(t.slice(0,r)),v=Wt(t.slice(r+1));return Ot(s.concat(v),o)},PS=function(t,r,o){var s=Wt(t.slice(0,r));return Ot(s,o)},p3=function(t,r,o){var s=t.slice(0,r),v=t.slice(r+1);return Ot(v.concat(s),o)},h3=function(t,r,o){var s=t.slice(r+1);return Ot(s,o)},ua=function(t){return function(r){var o=r.raw;return $t(t,o.which)}},rl=function(t){return function(r){return Cn(t,function(o){return o(r)})}},Dg=function(t){var r=t.raw;return r.shiftKey===!0},BS=function(t){var r=t.raw;return r.ctrlKey===!0},oh=Vt(Dg),ya=function(t,r){return{matches:t,classification:r}},MS=function(t,r){var o=Ot(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},FS=function(t,r,o){var s=r.exists(function(v){return o.exists(function(m){return Ga(m,v)})});s||Tr(t,c1(),{prevFocus:r,newFocus:o})},ih=function(){var t=function(o){return Tl(o.element)},r=function(o,s){var v=t(o);o.getSystem().triggerFocus(s,o.element);var m=t(o);FS(o,v,m)};return{get:t,set:r}},NS=function(){var t=function(o){return Ma.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var v=t(o);o.getSystem().getByDom(s).fold(ve,function(h){Ma.highlight(o,h)});var m=t(o);FS(o,v,m)};return{get:t,set:r}},uh;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(uh||(uh={}));var em=function(t,r,o,s,v){var m=function(){return t.concat([Ie("focusManager",ih()),qu("focusInside","onFocus",Rm(function(T){return $t(["onFocus","onEnterOrSpace","onApi"],T)?Qr.value(T):Qr.error("Invalid value for focusInside")})),io("handler",S),io("state",r),io("sendFocusIn",v)])},h=function(T,_,P,V,q){var Q=P(T,_,V,q);return MS(Q,_.event).bind(function(le){return le(T,_,V,q)})},C=function(T,_){var P=T.focusInside!==uh.OnFocusMode?A.none():v(T).map(function(Q){return rn(Tv(),function(le,De){Q(le,T,_),De.stop()})}),V=function(Q,le){var De=ua(Ss.concat(nl))(le.event);T.focusInside===uh.OnEnterOrSpaceMode&&De&&lC(Q,le)&&v(T).each(function(ie){ie(Q,T,_),le.stop()})},q=[rn(o1(),function(Q,le){h(Q,le,o,T,_).fold(function(){V(Q,le)},function(De){le.stop()})}),rn(ty(),function(Q,le){h(Q,le,s,T,_).each(function(De){le.stop()})})];return ro(P.toArray().concat(q))},S={schema:m,processKey:h,toEvents:C};return S},Hw=function(t){var r=[_a("onEscape"),_a("onEnter"),Ie("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ie("firstTabstop",0),Ie("useTabstopAt",rt),_a("visibilitySelector")].concat([t]),o=function(le,De){var ie=le.visibilitySelector.bind(function(Be){return kc(De,Be)}).getOr(De);return li(ie)>0},s=function(le,De){var ie=Nu(le.element,De.selector),Be=Me(ie,function(Tt){return o(De,Tt)});return A.from(Be[De.firstTabstop])},v=function(le,De){return De.focusManager.get(le).bind(function(ie){return kc(ie,De.selector)})},m=function(le,De){return o(le,De)&&le.useTabstopAt(De)},h=function(le,De,ie){s(le,De).each(function(Be){De.focusManager.set(le,Be)})},C=function(le,De,ie,Be,Tt){return Tt(De,ie,function(kt){return m(Be,kt)}).fold(function(){return Be.cyclic?A.some(!0):A.none()},function(kt){return Be.focusManager.set(le,kt),A.some(!0)})},S=function(le,De,ie,Be){var Tt=Nu(le.element,ie.selector);return v(le,ie).bind(function(kt){var Pe=tr(Tt,un(Ga,kt));return Pe.bind(function(dt){return C(le,Tt,dt,ie,Be)})})},T=function(le,De,ie){var Be=ie.cyclic?g3:PS;return S(le,De,ie,Be)},_=function(le,De,ie){var Be=ie.cyclic?p3:h3;return S(le,De,ie,Be)},P=function(le,De,ie){return ie.onEnter.bind(function(Be){return Be(le,De)})},V=function(le,De,ie){return ie.onEscape.bind(function(Be){return Be(le,De)})},q=j([ya(rl([Dg,ua(nv)]),T),ya(ua(nv),_),ya(ua(Qv),V),ya(rl([oh,ua(nl)]),P)]),Q=j([]);return em(r,nu.init,q,Q,function(){return A.some(h)})},Vw=Hw(Gu("cyclic",st)),IS=Hw(Gu("cyclic",rt)),$S=function(t,r,o){return f1(t,o,nc()),A.some(!0)},td=function(t,r,o){var s=mf(o)&&ua(Ss)(r.event);return s?A.none():$S(t,r,o)},tm=function(t,r){return A.some(!0)},Uw=[Ie("execute",td),Ie("useSpace",!1),Ie("useEnter",!0),Ie("useControlEnter",!1),Ie("useDown",!1)],LS=function(t,r,o){return o.execute(t,r,t.element)},Rb=function(t,r,o,s){var v=o.useSpace&&!mf(t.element)?Ss:[],m=o.useEnter?nl:[],h=o.useDown?ed:[],C=v.concat(m).concat(h);return[ya(ua(C),LS)].concat(o.useControlEnter?[ya(rl([BS,ua(nl)]),LS)]:[])},b3=function(t,r,o,s){return o.useSpace&&!mf(t.element)?[ya(ua(Ss),tm)]:[]},_g=em(Uw,nu.init,Rb,b3,function(){return A.none()}),Ww=function(){var t=Xo(),r=function(v,m){t.set({numRows:v,numColumns:m})},o=function(){return t.get().map(function(v){return v.numRows})},s=function(){return t.get().map(function(v){return v.numColumns})};return Tu({readState:function(){return t.get().map(function(v){return{numRows:String(v.numRows),numColumns:String(v.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},jw=function(t){return t.state(t)},zS=Object.freeze({__proto__:null,flatgrid:Ww,init:jw}),Gw=function(t){return function(r,o,s,v){var m=t(r.element);return Kw(m,r,o,s,v)}},Pb=function(t,r){var o=Wy(t,r);return Gw(o)},Bb=function(t,r){var o=Wy(r,t);return Gw(o)},qw=function(t){return function(r,o,s,v){return Kw(t,r,o,s,v)}},Kw=function(t,r,o,s,v){var m=s.focusManager.get(r).bind(function(h){return t(r.element,h,s,v)});return m.map(function(h){return s.focusManager.set(r,h),!0})},HS=qw,nm=qw,Rg=qw,VS=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},US=function(t){return!VS(t.dom)},Mb=function(t,r){return tr(t,r).map(function(o){return{index:o,candidates:t}})},WS=function(t,r,o){var s=function(h){return Ga(h,r)},v=Nu(t,o),m=Me(v,US);return Mb(m,s)},jS=function(t,r){return tr(t,function(o){return Ga(r,o)})},Xw=function(t,r,o,s){var v=Math.floor(r/o),m=r%o;return s(v,m).bind(function(h){var C=h.row*o+h.column;return C>=0&&C<t.length?A.some(t[C]):A.none()})},GS=function(t,r,o,s,v){return Xw(t,r,s,function(m,h){var C=m===o-1,S=C?t.length-m*s:s,T=au(h,v,0,S-1);return A.some({row:m,column:T})})},qS=function(t,r,o,s,v){return Xw(t,r,s,function(m,h){var C=au(m,v,0,o-1),S=C===o-1,T=S?t.length-C*s:s,_=Ls(h,0,T-1);return A.some({row:C,column:_})})},KS=function(t,r,o,s){return GS(t,r,o,s,1)},y3=function(t,r,o,s){return GS(t,r,o,s,-1)},XS=function(t,r,o,s){return qS(t,r,o,s,-1)},Yw=function(t,r,o,s){return qS(t,r,o,s,1)},Pg=[Gt("selector"),Ie("execute",td),Ti("onEscape"),Ie("captureTab",!1),R1()],w3=function(t,r,o){ki(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},YS=function(t,r){return r.focusManager.get(t).bind(function(o){return kc(o,r.selector)})},ZS=function(t,r,o,s){return YS(t,o).bind(function(v){return o.execute(t,r,v)})},Oc=function(t){return function(r,o,s,v){return WS(r,o,s.selector).bind(function(m){return t(m.candidates,m.index,v.getNumRows().getOr(s.initSize.numRows),v.getNumColumns().getOr(s.initSize.numColumns))})}},JS=function(t,r,o){return o.captureTab?A.some(!0):A.none()},QS=function(t,r,o){return o.onEscape(t,r)},Fb=Oc(y3),Nb=Oc(KS),Zw=Oc(XS),rm=Oc(Yw),Bg=j([ya(ua(_b),Pb(Fb,Nb)),ya(ua(Og),Bb(Fb,Nb)),ya(ua(Qd),HS(Zw)),ya(ua(ed),nm(rm)),ya(rl([Dg,ua(nv)]),JS),ya(rl([oh,ua(nv)]),JS),ya(ua(Qv),QS),ya(ua(Ss.concat(nl)),ZS)]),ex=j([ya(ua(Ss),tm)]),tx=em(Pg,Ww,Bg,ex,function(){return A.some(w3)}),Ib=function(t,r,o,s){var v=function(h){return ge(h)==="button"&&wo(h,"disabled")==="disabled"},m=function(h,C,S){var T=au(C,s,0,S.length-1);return T===h?A.none():v(S[T])?m(h,T,S):A.from(S[T])};return WS(t,o,r).bind(function(h){var C=h.index,S=h.candidates;return m(C,C,S)})},C3=[Gt("selector"),Ie("getInitial",A.none),Ie("execute",td),Ti("onEscape"),Ie("executeOnMove",!1),Ie("allowVertical",!0)],$b=function(t,r){return r.focusManager.get(t).bind(function(o){return kc(o,r.selector)})},sh=function(t,r,o){return $b(t,o).bind(function(s){return o.execute(t,r,s)})},Lb=function(t,r,o){r.getInitial(t).orThunk(function(){return ki(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},nx=function(t,r,o){return Ib(t,o.selector,r,-1)},zb=function(t,r,o){return Ib(t,o.selector,r,1)},Dc=function(t){return function(r,o,s,v){return t(r,o,s,v).bind(function(){return s.executeOnMove?sh(r,o,s):A.some(!0)})}},S3=function(t,r,o){return o.onEscape(t,r)},Jw=function(t,r,o,s){var v=_b.concat(o.allowVertical?Qd:[]),m=Og.concat(o.allowVertical?ed:[]);return[ya(ua(v),Dc(Pb(nx,zb))),ya(ua(m),Dc(Bb(nx,zb))),ya(ua(nl),sh),ya(ua(Ss),sh),ya(ua(Qv),S3)]},Qw=j([ya(ua(Ss),tm)]),Hb=em(C3,nu.init,Jw,Qw,function(){return A.some(Lb)}),Mg=function(t,r,o){return A.from(t[r]).bind(function(s){return A.from(s[o]).map(function(v){return{rowIndex:r,columnIndex:o,cell:v}})})},Vb=function(t,r,o,s){var v=t[r],m=v.length,h=au(o,s,0,m-1);return Mg(t,r,h)},e2=function(t,r,o,s){var v=au(o,s,0,t.length-1),m=t[v].length,h=Ls(r,0,m-1);return Mg(t,v,h)},rx=function(t,r,o,s){var v=t[r],m=v.length,h=Ls(o+s,0,m-1);return Mg(t,r,h)},ax=function(t,r,o,s){var v=Ls(o+s,0,t.length-1),m=t[v].length,h=Ls(r,0,m-1);return Mg(t,v,h)},Ub=function(t,r,o){return Vb(t,r,o,1)},x3=function(t,r,o){return Vb(t,r,o,-1)},ox=function(t,r,o){return e2(t,o,r,-1)},k3=function(t,r,o){return e2(t,o,r,1)},T3=function(t,r,o){return rx(t,r,o,-1)},am=function(t,r,o){return rx(t,r,o,1)},E3=function(t,r,o){return ax(t,o,r,-1)},A3=function(t,r,o){return ax(t,o,r,1)},O3=[Gl("selectors",[Gt("row"),Gt("cell")]),Ie("cycles",!0),Ie("previousSelector",A.none),Ie("execute",td)],t2=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var v=r.selectors;return ki(t.element,v.cell)});s.each(function(v){r.focusManager.set(t,v)})},n2=function(t,r,o){return Tl(t.element).bind(function(s){return o.execute(t,r,s)})},ix=function(t,r){return pt(t,function(o){return Nu(o,r.selectors.cell)})},ch=function(t,r){return function(o,s,v){var m=v.cycles?t:r;return kc(s,v.selectors.row).bind(function(h){var C=Nu(h,v.selectors.cell);return jS(C,s).bind(function(S){var T=Nu(o,v.selectors.row);return jS(T,h).bind(function(_){var P=ix(T,v);return m(P,_,S).map(function(V){return V.cell})})})})}},r2=ch(x3,T3),om=ch(Ub,am),ux=ch(ox,E3),lh=ch(k3,A3),Fg=j([ya(ua(_b),Pb(r2,om)),ya(ua(Og),Bb(r2,om)),ya(ua(Qd),HS(ux)),ya(ua(ed),nm(lh)),ya(ua(Ss.concat(nl)),n2)]),sx=j([ya(ua(Ss),tm)]),D3=em(O3,nu.init,Fg,sx,function(){return A.some(t2)}),_3=[Gt("selector"),Ie("execute",td),Ie("moveOnTab",!1)],cx=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},fh=function(t,r,o){ki(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},vh=function(t,r,o){return Ib(t,o.selector,r,-1)},dh=function(t,r,o){return Ib(t,o.selector,r,1)},lx=function(t,r,o,s){return o.moveOnTab?Rg(vh)(t,r,o,s):A.none()},xs=function(t,r,o,s){return o.moveOnTab?Rg(dh)(t,r,o,s):A.none()},fx=j([ya(ua(Qd),Rg(vh)),ya(ua(ed),Rg(dh)),ya(rl([Dg,ua(nv)]),lx),ya(rl([oh,ua(nv)]),xs),ya(ua(nl),cx),ya(ua(Ss),cx)]),Rl=j([ya(ua(Ss),tm)]),R3=em(_3,nu.init,fx,Rl,function(){return A.some(fh)}),vx=[Ti("onSpace"),Ti("onEnter"),Ti("onShiftEnter"),Ti("onLeft"),Ti("onRight"),Ti("onTab"),Ti("onShiftTab"),Ti("onUp"),Ti("onDown"),Ti("onEscape"),Ie("stopSpaceKeyup",!1),_a("focusIn")],Ng=function(t,r,o){return[ya(ua(Ss),o.onSpace),ya(rl([oh,ua(nl)]),o.onEnter),ya(rl([Dg,ua(nl)]),o.onShiftEnter),ya(rl([Dg,ua(nv)]),o.onShiftTab),ya(rl([oh,ua(nv)]),o.onTab),ya(ua(Qd),o.onUp),ya(ua(ed),o.onDown),ya(ua(_b),o.onLeft),ya(ua(Og),o.onRight),ya(ua(Ss),o.onSpace),ya(ua(Qv),o.onEscape)]},Ig=function(t,r,o){return o.stopSpaceKeyup?[ya(ua(Ss),tm)]:[]},dx=em(vx,nu.init,Ng,Ig,function(t){return t.focusIn}),mx=Vw.schema(),nd=IS.schema(),rd=Hb.schema(),a2=tx.schema(),P3=D3.schema(),im=_g.schema(),B3=R3.schema(),gx=dx.schema(),mh=Object.freeze({__proto__:null,acyclic:mx,cyclic:nd,flow:rd,flatgrid:a2,matrix:P3,execution:im,menu:B3,special:gx}),px=function(t){return Zn(t,"setGridSize")},dr=Id({branchKey:"mode",branches:mh,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,v){px(o)?o.setGridSize(s,v):console.error("Layout does not support setGridSize")}},state:zS}),gh=function(t,r,o,s){MC(function(){var v=pt(s,t.getSystem().build);sw(t,v)},t.element)},ph=function(t,r,o,s){var v=t.getSystem().build(s);vb(t,v,o)},o2=function(t,r,o,s){ph(t,r,wu,s)},hx=function(t,r,o,s){ph(t,r,Mf,s)},Wb=function(t,r,o,s){var v=hh(t),m=Ot(v,function(h){return Ga(s.element,h.element)});m.each(Dl)},hh=function(t,r){return t.components()},i2=function(t,r,o,s,v){var m=hh(t);return A.from(m[s]).map(function(h){return Wb(t,r,o,h),v.each(function(C){ph(t,r,function(S,T){gl(S,T,s)},C)}),h})},bx=function(t,r,o,s,v){var m=hh(t);return tr(m,s).bind(function(h){return i2(t,r,o,h,v)})},M3=Object.freeze({__proto__:null,append:o2,prepend:hx,remove:Wb,replaceAt:i2,replaceBy:bx,set:gh,contents:hh}),$r=Ai({fields:[],name:"replacing",apis:M3}),jb=function(t,r){var o=ro(r);return Ai({fields:[Gt("enabled")],name:t,active:{events:j(o)}})},Xr=function(t,r){var o=jb(t,r);return{key:t,value:{config:{},me:o,configAsRaw:j({}),initialConfig:{},state:nu}}},yx=function(t,r){r.ignore||(kl(t.element),r.onFocus(t))},wx=function(t,r){r.ignore||Np(t.element)},u2=function(t){return Ip(t.element)},um=Object.freeze({__proto__:null,focus:yx,blur:wx,isFocused:u2}),Gb=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Jc(o)},bh=function(t){return ro([rn(Tv(),function(r,o){yx(r,t),o.stop()})].concat(t.stopMousedown?[rn(Xc(),function(r,o){o.event.prevent()})]:[]))},qb=Object.freeze({__proto__:null,exhibit:Gb,events:bh}),s2=[Ra("onFocus"),Ie("stopMousedown",!1),Ie("ignore",!1)],Lr=Ai({fields:s2,name:"focusing",active:qb,apis:um}),F3=function(t){var r=function(){var o=kr(t),s=function(){return o.get()},v=function(C){return o.set(C)},m=function(){return o.set(t)},h=function(){return o.get()};return{get:s,set:v,clear:m,readState:h}};return{init:r}},Cx=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},Kb=function(t,r,o){r.toggleClass.each(function(s){o.get()?xi(t.element,s):vi(t.element,s)})},gf=function(t,r,o){Xb(t,r,o,!o.get())},Sx=function(t,r,o){o.set(!0),Kb(t,r,o),Cx(t,r,o)},yh=function(t,r,o){o.set(!1),Kb(t,r,o),Cx(t,r,o)},Xb=function(t,r,o,s){var v=s?Sx:yh;v(t,r,o)},xx=function(t,r,o){return o.get()},kx=function(t,r,o){Xb(t,r,o,r.selected)},N3=Object.freeze({__proto__:null,onLoad:kx,toggle:gf,isOn:xx,on:Sx,off:yh,set:Xb}),I3=function(){return Jc({})},$3=function(t,r){var o=Nd(t,r,gf),s=Do(t,r,kx);return ro(be([t.toggleOnExecute?[o]:[],[s]]))},L3=Object.freeze({__proto__:null,exhibit:I3,events:$3}),z3=function(t,r,o){Zr(t.element,"aria-pressed",o),r.syncWithExpanded&&c2(t,r,o)},Tx=function(t,r,o){Zr(t.element,"aria-selected",o)},H3=function(t,r,o){Zr(t.element,"aria-checked",o)},c2=function(t,r,o){Zr(t.element,"aria-expanded",o)},$g=[Ie("selected",!1),_a("toggleClass"),Ie("toggleOnExecute",!0),qu("aria",{mode:"none"},wc("mode",{pressed:[Ie("syncWithExpanded",!1),io("update",z3)],checked:[io("update",H3)],expanded:[io("update",c2)],selected:[io("update",Tx)],none:[io("update",ve)]}))],pa=Ai({fields:$g,name:"toggling",active:L3,apis:N3,state:F3(!1)}),Yb=function(){var t=function(r,o){o.stop(),ac(r)};return[rn(Im(),t),rn(Ev(),t),kd(Xl()),kd(Xc())]},Zb=function(t){var r=function(o){return $s(function(s,v){o(s),v.stop()})};return ro(be([t.map(r).toArray(),Yb()]))},Ex="alloy.item-hover",Ax="alloy.item-focus",Ox=function(t){(Tl(t.element).isNone()||Lr.isFocused(t))&&(Lr.isFocused(t)||Lr.focus(t),Tr(t,Ex,{item:t}))},l2=function(t){Tr(t,Ax,{item:t})},f2=j(Ex),u=j(Ax),l=function(t){return{dom:t.dom,domModification:U(U({},t.domModification),{attributes:U(U(U({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Ec.augment(t.itemBehaviours,[t.toggling.fold(pa.revoke,function(r){return pa.config(U({aria:{mode:"checked"}},r))}),Lr.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){l2(r)}}),dr.config({mode:"execution"}),Ln.config({store:{mode:"memory",initialValue:t.data}}),Xr("item-type-events",He(He([],Yb(),!0),[rn(Uf(),Ox),rn(Cd(),Lr.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},d=[Gt("data"),Gt("components"),Gt("dom"),Ie("hasSubmenu",!1),_a("toggling"),Ec.field("itemBehaviours",[pa,Lr,dr,Ln]),Ie("ignoreFocus",!1),Ie("domModification",{}),io("builder",l),Ie("eventOrder",{})],p=function(t){return{dom:t.dom,components:t.components,events:ro([zm(Cd())])}},y=[Gt("dom"),Gt("components"),io("builder",p)],x=j("item-widget"),D=j([su({name:"widget",overrides:function(t){return{behaviours:Pn([Ln.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:ve}})])}}})]),M=function(t){var r=Aw(x(),t,D()),o=Ow(x(),t,r.internals()),s=function(m){return Ja(m,t,"widget").map(function(h){return dr.focusIn(h),h})},v=function(m,h){return mf(h.event.target)?A.none():function(){return t.autofocus&&h.setSource(m.element),A.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ro([$s(function(m,h){s(m).each(function(C){h.stop()})}),rn(Uf(),Ox),rn(Cd(),function(m,h){t.autofocus?s(m):Lr.focus(m)})]),behaviours:Ec.augment(t.widgetBehaviours,[Ln.config({store:{mode:"memory",initialValue:t.data}}),Lr.config({ignore:t.ignoreFocus,onFocus:function(m){l2(m)}}),dr.config({mode:"special",focusIn:t.autofocus?function(m){s(m)}:BC(),onLeft:v,onRight:v,onEscape:function(m,h){return!Lr.isFocused(m)&&!t.autofocus?(Lr.focus(m),A.some(!0)):(t.autofocus&&h.setSource(m.element),A.none())}})])}},X=[Gt("uid"),Gt("data"),Gt("components"),Gt("dom"),Ie("autofocus",!1),Ie("ignoreFocus",!1),Ec.field("widgetBehaviours",[Ln,Lr,dr]),Ie("domModification",{}),Qp(D()),io("builder",M)],oe=wc("type",{widget:X,item:d,separator:y}),Te=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},Pt=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},cn=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},en=j([vf({factory:{sketch:function(t){var r=Ua("menu.spec item",oe,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return sn(r,"uid")?r:U(U({},r),{uid:Pv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Dt=j([Gt("value"),Gt("items"),Gt("dom"),Gt("components"),Ie("eventOrder",{}),Oi("menuBehaviours",[Ma,Ln,fa,dr]),qu("movement",{mode:"menu",moveOnTab:!0},wc("mode",{grid:[R1(),io("config",Te)],matrix:[io("config",Pt),Gt("rowSelector")],menu:[Ie("moveOnTab",!0),io("config",cn)]})),QT(),Ie("fakeFocus",!1),Ie("focusManager",ih()),Ra("onHighlight")]),On=j("alloy.menu-focus"),Bn=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Vi(t.menuBehaviours,[Ma.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Ln.config({store:{mode:"memory",initialValue:t.value}}),fa.config({find:A.some}),dr.config(t.movement.config(t,t.movement))]),events:ro([rn(u(),function(v,m){var h=m.event;v.getSystem().getByDom(h.target).each(function(C){Ma.highlight(v,C),m.stop(),Tr(v,On(),{menu:v,item:C})})}),rn(f2(),function(v,m){var h=m.event.item;Ma.highlight(v,h)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},mr=ts({name:"Menu",configFields:Dt(),partFields:en(),factory:Bn}),wa=function(t){return Ve(t,function(r,o){return{k:r,v:o}})},yr=function(t,r,o,s){return wt(o,s).bind(function(v){return wt(t,v).bind(function(m){var h=yr(t,r,o,m);return A.some([m].concat(h))})}).getOr([])},zr=function(t,r){var o={};Fn(t,function(h,C){qe(h,function(S){o[S]=C})});var s=r,v=wa(r),m=hn(v,function(h,C){return[C].concat(yr(o,s,v,C))});return hn(o,function(h){return wt(m,h).getOr([h])})},da=function(){var t=kr({}),r=kr({}),o=kr({}),s=Xo(),v=kr({}),m=function(){t.set({}),r.set({}),o.set({}),s.clear()},h=function(){return s.get().isNone()},C=function(Pe,dt){var zt;r.set(U(U({},r.get()),(zt={},zt[Pe]={type:"prepared",menu:dt},zt)))},S=function(Pe,dt,zt,zn){s.set(Pe),t.set(zt),r.set(dt),v.set(zn);var tn=zr(zn,zt);o.set(tn)},T=function(Pe){return Ce(t.get(),function(dt,zt){return dt===Pe})},_=function(Pe,dt,zt){return le(Pe).bind(function(zn){return T(Pe).bind(function(tn){return dt(tn).map(function(Hn){return{triggeredMenu:zn,triggeringItem:Hn,triggeringPath:zt}})})})},P=function(Pe,dt){var zt=Me(ie(Pe).toArray(),function(zn){return le(zn).isSome()});return wt(o.get(),Pe).bind(function(zn){var tn=Wt(zt.concat(zn)),Hn=St(tn,function(on,Lt){return _(on,dt,tn.slice(0,Lt+1)).fold(function(){return Rr(s.get(),on)?[]:[A.none()]},function(An){return[A.some(An)]})});return Fr(Hn)})},V=function(Pe){return wt(t.get(),Pe).map(function(dt){var zt=wt(o.get(),Pe).getOr([]);return[dt].concat(zt)})},q=function(Pe){return wt(o.get(),Pe).bind(function(dt){return dt.length>1?A.some(dt.slice(1)):A.none()})},Q=function(Pe){return wt(o.get(),Pe)},le=function(Pe){return De(Pe).bind(sa)},De=function(Pe){return wt(r.get(),Pe)},ie=function(Pe){return wt(t.get(),Pe)},Be=function(Pe){var dt=v.get();return Kn(ct(dt),Pe)},Tt=function(){return s.get().bind(le)},kt=function(){return r.get()};return{setMenuBuilt:C,setContents:S,expand:V,refresh:Q,collapse:q,lookupMenu:De,lookupItem:ie,otherMenus:Be,getPrimary:Tt,getMenus:kt,clear:m,isClear:h,getTriggeringPath:P}},sa=function(t){return t.type==="prepared"?A.some(t.menu):A.none()},mi={init:da,extractPreparedMenu:sa},Ui=function(t,r){var o=Xo(),s=function(Zt,Qn,fr){return hn(fr,function(ma,Va){var po=function(){return mr.sketch(U(U({},ma),{value:Va,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?NS():ih()}))};return Va===Qn?{type:"prepared",menu:Zt.getSystem().build(po())}:{type:"notbuilt",nbMenu:po}})},v=mi.init(),m=function(Zt){var Qn=s(Zt,t.data.primary,t.data.menus),fr=S();return v.setContents(t.data.primary,Qn,t.data.expansions,fr),v.getPrimary()},h=function(Zt){return Ln.getValue(Zt).value},C=function(Zt,Qn,fr){return Ye(Qn,function(ma){if(!ma.getSystem().isConnected())return A.none();var Va=Ma.getCandidates(ma);return Ot(Va,function(po){return h(po)===fr})})},S=function(Zt){return hn(t.data.menus,function(Qn,fr){return St(Qn.items,function(ma){return ma.type==="separator"?[]:[ma.data.value]})})},T=function(Zt,Qn){Ma.highlight(Zt,Qn),Ma.getHighlighted(Qn).orThunk(function(){return Ma.getFirst(Qn)}).each(function(fr){f1(Zt,fr.element,Cd())})},_=function(Zt,Qn){return Dr(pt(Qn,function(fr){return Zt.lookupMenu(fr).bind(function(ma){return ma.type==="prepared"?A.some(ma.menu):A.none()})}))},P=function(Zt,Qn,fr){var ma=_(Qn,Qn.otherMenus(fr));qe(ma,function(Va){sc(Va.element,[t.markers.backgroundMenu]),t.stayInDom||$r.remove(Zt,Va)})},V=function(Zt){return o.get().getOrThunk(function(){var Qn={},fr=Nu(Zt.element,"."+t.markers.item),ma=Me(fr,function(Va){return wo(Va,"aria-haspopup")==="true"});return qe(ma,function(Va){Zt.getSystem().getByDom(Va).each(function(po){var Wo=h(po);Qn[Wo]=po})}),o.set(Qn),Qn})},q=function(Zt,Qn){var fr=V(Zt);Fn(fr,function(ma,Va){var po=$t(Qn,Va);Zr(ma.element,"aria-expanded",po)})},Q=function(Zt,Qn,fr){return A.from(fr[0]).bind(function(ma){return Qn.lookupMenu(ma).bind(function(Va){if(Va.type==="notbuilt")return A.none();var po=Va.menu,Wo=_(Qn,fr.slice(1));return qe(Wo,function(Nc){xi(Nc.element,t.markers.backgroundMenu)}),Vr(po.element)||$r.append(Zt,cc(po)),sc(po.element,[t.markers.backgroundMenu]),T(Zt,po),P(Zt,Qn,fr),A.some(po)})})},le;(function(Zt){Zt[Zt.HighlightSubmenu=0]="HighlightSubmenu",Zt[Zt.HighlightParent=1]="HighlightParent"})(le||(le={}));var De=function(Zt,Qn,fr){if(fr.type==="notbuilt"){var ma=Zt.getSystem().build(fr.nbMenu());return v.setMenuBuilt(Qn,ma),ma}else return fr.menu},ie=function(Zt,Qn,fr){if(fr===void 0&&(fr=le.HighlightSubmenu),Qn.hasConfigured(xr)&&xr.isDisabled(Qn))return A.some(Qn);var ma=h(Qn);return v.expand(ma).bind(function(Va){return q(Zt,Va),A.from(Va[0]).bind(function(po){return v.lookupMenu(po).bind(function(Wo){var Nc=De(Zt,po,Wo);return Vr(Nc.element)||$r.append(Zt,cc(Nc)),t.onOpenSubmenu(Zt,Qn,Nc,Wt(Va)),fr===le.HighlightSubmenu?(Ma.highlightFirst(Nc),Q(Zt,v,Va)):(Ma.dehighlightAll(Nc),A.some(Qn))})})})},Be=function(Zt,Qn){var fr=h(Qn);return v.collapse(fr).bind(function(ma){return q(Zt,ma),Q(Zt,v,ma).map(function(Va){return t.onCollapseMenu(Zt,Qn,Va),Va})})},Tt=function(Zt,Qn){var fr=h(Qn);return v.refresh(fr).bind(function(ma){return q(Zt,ma),Q(Zt,v,ma)})},kt=function(Zt,Qn){return mf(Qn.element)?A.none():ie(Zt,Qn,le.HighlightSubmenu)},Pe=function(Zt,Qn){return mf(Qn.element)?A.none():Be(Zt,Qn)},dt=function(Zt,Qn){return Be(Zt,Qn).orThunk(function(){return t.onEscape(Zt,Qn).map(function(){return Zt})})},zt=function(Zt){return function(Qn,fr){return kc(fr.getSource(),"."+t.markers.item).bind(function(ma){return Qn.getSystem().getByDom(ma).toOptional().bind(function(Va){return Zt(Qn,Va).map(rt)})})}},zn=ro([rn(On(),function(Zt,Qn){var fr=Qn.event.item;v.lookupItem(h(fr)).each(function(){var ma=Qn.event.menu;Ma.highlight(Zt,ma);var Va=h(Qn.event.item);v.refresh(Va).each(function(po){return P(Zt,v,po)})})}),$s(function(Zt,Qn){var fr=Qn.event.target;Zt.getSystem().getByDom(fr).each(function(ma){var Va=h(ma);Va.indexOf("collapse-item")===0&&Be(Zt,ma),ie(Zt,ma,le.HighlightSubmenu).fold(function(){t.onExecute(Zt,ma)},ve)})}),Kr(function(Zt,Qn){m(Zt).each(function(fr){$r.append(Zt,cc(fr)),t.onOpenMenu(Zt,fr),t.highlightImmediately&&T(Zt,fr)})})].concat(t.navigateOnHover?[rn(f2(),function(Zt,Qn){var fr=Qn.event.item;Tt(Zt,fr),ie(Zt,fr,le.HighlightParent),t.onHover(Zt,fr)})]:[])),tn=function(Zt){return Ma.getHighlighted(Zt).bind(Ma.getHighlighted)},Hn=function(Zt){tn(Zt).each(function(Qn){Be(Zt,Qn)})},on=function(Zt){v.getPrimary().each(function(Qn){T(Zt,Qn)})},Lt=function(Zt){return A.from(Zt.components()[0]).filter(function(Qn){return wo(Qn.element,"role")==="menu"})},An=function(Zt){var Qn=v.getPrimary().bind(function(fr){return tn(Zt).bind(function(ma){var Va=h(ma),po=Ft(v.getMenus()),Wo=Dr(pt(po,mi.extractPreparedMenu));return v.getTriggeringPath(Va,function(Nc){return C(Zt,Wo,Nc)})}).map(function(ma){return{primary:fr,triggeringPath:ma}})});Qn.fold(function(){Lt(Zt).each(function(fr){t.onRepositionMenu(Zt,fr,[])})},function(fr){var ma=fr.primary,Va=fr.triggeringPath;t.onRepositionMenu(Zt,ma,Va)})},rr={collapseMenu:Hn,highlightPrimary:on,repositionMenus:An};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Vi(t.tmenuBehaviours,[dr.config({mode:"special",onRight:zt(kt),onLeft:zt(Pe),onEscape:zt(dt),focusIn:function(Zt,Qn){v.getPrimary().each(function(fr){f1(Zt,fr.element,Cd())})}}),Ma.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),fa.config({find:function(Zt){return Ma.getHighlighted(Zt)}}),$r.config({})]),eventOrder:t.eventOrder,apis:rr,events:zn}},ns=j("collapse-item"),ka=function(t,r,o){return{primary:t,menus:r,expansions:o}},Wr=function(t,r){return{primary:t,menus:ql(t,r),expansions:{}}},ha=function(t){return{value:nr(ns()),meta:{text:t}}},Wa=fc({name:"TieredMenu",configFields:[hs("onExecute"),hs("onEscape"),Zu("onOpenMenu"),Zu("onOpenSubmenu"),Ra("onRepositionMenu"),Ra("onCollapseMenu"),Ie("highlightImmediately",!0),Gl("data",[Gt("primary"),Gt("menus"),Gt("expansions")]),Ie("fakeFocus",!1),Ra("onHighlight"),Ra("onHover"),Pd(),Gt("dom"),Ie("navigateOnHover",!0),Ie("stayInDom",!1),Oi("tmenuBehaviours",[dr,Ma,fa,$r]),Ie("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:Ui,extraApis:{tieredData:ka,singleData:Wr,collapseItem:ha}}),Vo=function(t,r,o,s,v){var m=function(){return t.lazySink(r)},h=s.type==="horizontal"?{layouts:{onLtr:function(){return L1()},onRtl:function(){return z1()}}}:{},C=function(T){return T.length===2},S=function(T){return C(T)?h:{}};return Wa.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return ba.close(r),t.onEscape.map(function(T){return T(r)}),A.some(!0)},onExecute:function(){return A.some(!0)},onOpenMenu:function(T,_){Yo.positionWithinBounds(m().getOrDie(),_,o,v())},onOpenSubmenu:function(T,_,P,V){var q=m().getOrDie();Yo.position(q,P,{anchor:U({type:"submenu",item:_},S(V))})},onRepositionMenu:function(T,_,P){var V=m().getOrDie();Yo.positionWithinBounds(V,_,o,v()),qe(P,function(q){var Q=S(q.triggeringPath);Yo.position(V,q.triggeredMenu,{anchor:U({type:"submenu",item:q.triggeringItem},Q)})})}})},pf=function(t,r){var o=function(q,Q){var le=t.getRelated(q);return le.exists(function(De){return Rd(De,Q)})},s=function(q,Q){ba.setContent(q,Q)},v=function(q,Q,le){m(q,Q,le,A.none())},m=function(q,Q,le,De){h(q,Q,le,function(){return De.map(function(ie){return oi(ie)})})},h=function(q,Q,le,De){var ie=t.lazySink(q).getOrDie();ba.openWhileCloaked(q,Q,function(){return Yo.positionWithinBounds(ie,q,le,De())}),Ln.setValue(q,A.some({mode:"position",config:le,getBounds:De}))},C=function(q,Q,le){S(q,Q,le,A.none)},S=function(q,Q,le,De){var ie=Vo(t,q,Q,le,De);ba.open(q,ie),Ln.setValue(q,A.some({mode:"menu",menu:ie}))},T=function(q){ba.isOpen(q)&&(Ln.setValue(q,A.none()),ba.close(q))},_=function(q){return ba.getState(q)},P=function(q){ba.isOpen(q)&&Ln.getValue(q).each(function(Q){switch(Q.mode){case"menu":ba.getState(q).each(Wa.repositionMenus);break;case"position":var le=t.lazySink(q).getOrDie();Yo.positionWithinBounds(le,q,Q.config,Q.getBounds());break}})},V={setContent:s,showAt:v,showWithin:m,showWithinBounds:h,showMenuAt:C,showMenuWithinBounds:S,hide:T,getContent:_,reposition:P,isOpen:ba.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Vi(t.inlineBehaviours,[ba.config({isPartOf:function(q,Q,le){return Rd(Q,le)||o(q,le)},getAttachPoint:function(q){return t.lazySink(q).getOrDie()},onOpen:function(q){t.onShow(q)},onClose:function(q){t.onHide(q)}}),Ln.config({store:{mode:"memory",initialValue:A.none()}}),Mu.config({channels:U(U({},Cs(U({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})))),qd(U(U({},t.fireRepositionEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})),{doReposition:P})))})]),eventOrder:t.eventOrder,apis:V}},Ka=fc({name:"InlineView",configFields:[Gt("lazySink"),Ra("onShow"),Ra("onHide"),xv("onEscape"),Oi("inlineBehaviours",[ba,Ln,Mu]),Ns("fireDismissalEventInstead",[Ie("event",Yc())]),Ns("fireRepositionEventInstead",[Ie("event",ku())]),Ie("getRelated",A.none),Ie("isExtraPart",st),Ie("eventOrder",A.none)],factory:pf,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,v){t.showWithin(r,o,s,v)},showWithinBounds:function(t,r,o,s,v){t.showWithinBounds(r,o,s,v)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,v){t.showMenuWithinBounds(r,o,s,v)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),_c="layout-inset",cu=function(t){return t.x},wh=function(t,r){return t.x+t.width/2-r.width/2},ad=function(t,r){return t.x+t.width-r.width},Pl=function(t){return t.y},Rc=function(t,r){return t.y+t.height-r.height},al=function(t,r){return t.y+t.height/2-r.height/2},Ch=function(t,r,o){return Ri(ad(t,r),Rc(t,r),o.insetSouthwest(),Md(),"southwest",Ei(t,{right:0,bottom:3}),_c)},sm=function(t,r,o){return Ri(cu(t),Rc(t,r),o.insetSoutheast(),ky(),"southeast",Ei(t,{left:1,bottom:3}),_c)},Sh=function(t,r,o){return Ri(ad(t,r),Pl(t),o.insetNorthwest(),xy(),"northwest",Ei(t,{right:0,top:2}),_c)},cm=function(t,r,o){return Ri(cu(t),Pl(t),o.insetNortheast(),B1(),"northeast",Ei(t,{left:1,top:2}),_c)},Bl=function(t,r,o){return Ri(wh(t,r),Pl(t),o.insetNorth(),Rp(),"north",Ei(t,{top:2}),_c)},Lg=function(t,r,o){return Ri(wh(t,r),Rc(t,r),o.insetSouth(),Ty(),"south",Ei(t,{bottom:3}),_c)},Jb=function(t,r,o){return Ri(ad(t,r),al(t,r),o.insetEast(),Xm(),"east",Ei(t,{right:0}),_c)},Dx=function(t,r,o){return Ri(cu(t),al(t,r),o.insetWest(),Ey(),"west",Ei(t,{left:1}),_c)},xh=function(t){switch(t){case"north":return Bl;case"northeast":return cm;case"northwest":return Sh;case"south":return Lg;case"southeast":return sm;case"southwest":return Ch;case"east":return Jb;case"west":return Dx}},V3=function(t,r,o,s,v){var m=Ny(s).map(xh).getOr(Bl);return m(t,r,o,s,v)},U3=function(t){switch(t){case"north":return Lg;case"northeast":return sm;case"northwest":return Ch;case"south":return Bl;case"southeast":return cm;case"southwest":return Sh;case"east":return Dx;case"west":return Jb}},sM=function(t,r,o,s,v){var m=Ny(s).map(U3).getOr(Bl);return m(t,r,o,s,v)},rv=tinymce.util.Tools.resolve("tinymce.util.Delay"),cM=function(t){var r=Zb(t.action),o=t.dom.tag,s=function(m){return wt(t.dom,"attributes").bind(function(h){return wt(h,m)})},v=function(){if(o==="button"){var m=s("type").getOr("button"),h=s("role").map(function(S){return{role:S}}).getOr({});return U({type:m},h)}else{var C=s("role").getOr("button");return{role:C}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:Ec.augment(t.buttonBehaviours,[Lr.config({}),dr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},Hs=fc({name:"Button",factory:cM,configFields:[Ie("uid",void 0),Gt("dom"),Ie("components",[]),Ec.field("buttonBehaviours",[Lr,dr]),_a("action"),_a("role"),Ie("eventOrder",{})]}),lM=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return qt(r,function(o,s){var v;return s.name==="class"?o:U(U({},o),(v={},v[s.name]=s.value,v))},{})},fM=function(t){return Array.prototype.slice.call(t.dom.classList,0)},lm=function(t){var r=ce.fromHtml(t),o=R(r),s=lM(r),v=fM(r),m=o.length===0?{}:{innerHtml:Yl(r)};return U({tag:ge(r),classes:v,attributes:s},m)},za=function(t){var r=Pw(t)&&Zn(t,"uid")?t.uid:Pv("memento"),o=function(m){return m.getSystem().getByUid(r).getOrDie()},s=function(m){return m.getSystem().getByUid(r).toOptional()},v=function(){return U(U({},t),{uid:r})};return{get:o,getOpt:s,asSpec:v}};function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zg(t)}function W3(t,r){return W3=Object.setPrototypeOf||function(s,v){return s.__proto__=v,s},W3(t,r)}function vM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kh(t,r,o){return vM()?kh=Reflect.construct:kh=function(v,m,h){var C=[null];C.push.apply(C,m);var S=Function.bind.apply(v,C),T=new S;return h&&W3(T,h.prototype),T},kh.apply(null,arguments)}function av(t){return dM(t)||j3(t)||mM(t)||gM()}function dM(t){if(Array.isArray(t))return G3(t)}function j3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mM(t,r){if(t){if(typeof t=="string")return G3(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return G3(t,r)}}function G3(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function gM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pM=Object.hasOwnProperty,$O=Object.setPrototypeOf,hM=Object.isFrozen,bM=Object.getPrototypeOf,yM=Object.getOwnPropertyDescriptor,Pc=Object.freeze,od=Object.seal,wM=Object.create,LO=typeof Reflect<"u"&&Reflect,Qb=LO.apply,q3=LO.construct;Qb||(Qb=function(r,o,s){return r.apply(o,s)}),Pc||(Pc=function(r){return r}),od||(od=function(r){return r}),q3||(q3=function(r,o){return kh(r,av(o))});var CM=ov(Array.prototype.forEach),zO=ov(Array.prototype.pop),e0=ov(Array.prototype.push),_x=ov(String.prototype.toLowerCase),SM=ov(String.prototype.match),Hg=ov(String.prototype.replace),xM=ov(String.prototype.indexOf),kM=ov(String.prototype.trim),Vs=ov(RegExp.prototype.test),K3=TM(TypeError);function ov(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),v=1;v<o;v++)s[v-1]=arguments[v];return Qb(t,r,s)}}function TM(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return q3(t,o)}}function ao(t,r){$O&&$O(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var v=_x(s);v!==s&&(hM(r)||(r[o]=v),s=v)}t[s]=!0}return t}function Th(t){var r=wM(null),o;for(o in t)Qb(pM,t,[o])&&(r[o]=t[o]);return r}function Rx(t,r){for(;t!==null;){var o=yM(t,r);if(o){if(o.get)return ov(o.get);if(typeof o.value=="function")return ov(o.value)}t=bM(t)}function s(v){return console.warn("fallback value for",v),null}return s}var HO=Pc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),X3=Pc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y3=Pc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),EM=Pc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Z3=Pc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),J3=Pc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VO=Pc(["#text"]),UO=Pc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Q3=Pc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Px=Pc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bx=Pc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eA=od(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AM=od(/<%[\w\W]*|[\w\W]*%>/gm),OM=od(/^data-[\-\w.\u00B7-\uFFFF]/),DM=od(/^aria-[\-\w]+$/),_M=od(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),RM=od(/^(?:\w+script|data):/i),WO=od(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PM=od(/^html$/i),tA=function(){return typeof window>"u"?null:window},nA=function(r,o){if(zg(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,v="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(v)&&(s=o.currentScript.getAttribute(v));var m="dompurify"+(s?"#"+s:"");try{return r.createPolicy(m,{createHTML:function(C){return C}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function rA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tA(),r=function(Et){return rA(Et)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,v=t.DocumentFragment,m=t.HTMLTemplateElement,h=t.Node,C=t.Element,S=t.NodeFilter,T=t.NamedNodeMap,_=T===void 0?t.NamedNodeMap||t.MozNamedAttrMap:T,P=t.HTMLFormElement,V=t.DOMParser,q=t.trustedTypes,Q=C.prototype,le=Rx(Q,"cloneNode"),De=Rx(Q,"nextSibling"),ie=Rx(Q,"childNodes"),Be=Rx(Q,"parentNode");if(typeof m=="function"){var Tt=s.createElement("template");Tt.content&&Tt.content.ownerDocument&&(s=Tt.content.ownerDocument)}var kt=nA(q,o),Pe=kt?kt.createHTML(""):"",dt=s,zt=dt.implementation,zn=dt.createNodeIterator,tn=dt.createDocumentFragment,Hn=dt.getElementsByTagName,on=o.importNode,Lt={};try{Lt=Th(s).documentMode?s.documentMode:{}}catch{}var An={};r.isSupported=typeof Be=="function"&&zt&&typeof zt.createHTMLDocument<"u"&&Lt!==9;var rr=eA,Zt=AM,Qn=OM,fr=DM,ma=RM,Va=WO,po=_M,Wo=null,Nc=ao({},[].concat(av(HO),av(X3),av(Y3),av(Z3),av(VO))),us=null,ST=ao({},[].concat(av(UO),av(Q3),av(Px),av(Bx))),qi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Wh=null,jh=null,X2=!0,Gh=!0,Y2=!1,Gs=!1,hv=!1,Ts=!1,Z2=!1,up=!1,$0=!1,Ki=!1,Cm=!0,sp=!0,qh=!1,bv={},cp=null,Gn=ao({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ta=null,ja=ao({},["audio","video","img","source","image","track"]),No=null,qs=ao({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Es="http://www.w3.org/1998/Math/MathML",Ic="http://www.w3.org/2000/svg",Il="http://www.w3.org/1999/xhtml",L0=Il,J2=!1,z0,H$=["application/xhtml+xml","text/html"],V$="text/html",Kh,H0=null,EG=s.createElement("form"),lz=function(Et){return Et instanceof RegExp||Et instanceof Function},U$=function(Et){H0&&H0===Et||((!Et||zg(Et)!=="object")&&(Et={}),Et=Th(Et),Wo="ALLOWED_TAGS"in Et?ao({},Et.ALLOWED_TAGS):Nc,us="ALLOWED_ATTR"in Et?ao({},Et.ALLOWED_ATTR):ST,No="ADD_URI_SAFE_ATTR"in Et?ao(Th(qs),Et.ADD_URI_SAFE_ATTR):qs,ta="ADD_DATA_URI_TAGS"in Et?ao(Th(ja),Et.ADD_DATA_URI_TAGS):ja,cp="FORBID_CONTENTS"in Et?ao({},Et.FORBID_CONTENTS):Gn,Wh="FORBID_TAGS"in Et?ao({},Et.FORBID_TAGS):{},jh="FORBID_ATTR"in Et?ao({},Et.FORBID_ATTR):{},bv="USE_PROFILES"in Et?Et.USE_PROFILES:!1,X2=Et.ALLOW_ARIA_ATTR!==!1,Gh=Et.ALLOW_DATA_ATTR!==!1,Y2=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,Gs=Et.SAFE_FOR_TEMPLATES||!1,hv=Et.WHOLE_DOCUMENT||!1,up=Et.RETURN_DOM||!1,$0=Et.RETURN_DOM_FRAGMENT||!1,Ki=Et.RETURN_TRUSTED_TYPE||!1,Z2=Et.FORCE_BODY||!1,Cm=Et.SANITIZE_DOM!==!1,sp=Et.KEEP_CONTENT!==!1,qh=Et.IN_PLACE||!1,po=Et.ALLOWED_URI_REGEXP||po,L0=Et.NAMESPACE||Il,Et.CUSTOM_ELEMENT_HANDLING&&lz(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(qi.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&lz(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(qi.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(qi.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z0=H$.indexOf(Et.PARSER_MEDIA_TYPE)===-1?z0=V$:z0=Et.PARSER_MEDIA_TYPE,Kh=z0==="application/xhtml+xml"?function(or){return or}:_x,Gs&&(Gh=!1),$0&&(up=!0),bv&&(Wo=ao({},av(VO)),us=[],bv.html===!0&&(ao(Wo,HO),ao(us,UO)),bv.svg===!0&&(ao(Wo,X3),ao(us,Q3),ao(us,Bx)),bv.svgFilters===!0&&(ao(Wo,Y3),ao(us,Q3),ao(us,Bx)),bv.mathMl===!0&&(ao(Wo,Z3),ao(us,Px),ao(us,Bx))),Et.ADD_TAGS&&(Wo===Nc&&(Wo=Th(Wo)),ao(Wo,Et.ADD_TAGS)),Et.ADD_ATTR&&(us===ST&&(us=Th(us)),ao(us,Et.ADD_ATTR)),Et.ADD_URI_SAFE_ATTR&&ao(No,Et.ADD_URI_SAFE_ATTR),Et.FORBID_CONTENTS&&(cp===Gn&&(cp=Th(cp)),ao(cp,Et.FORBID_CONTENTS)),sp&&(Wo["#text"]=!0),hv&&ao(Wo,["html","head","body"]),Wo.table&&(ao(Wo,["tbody"]),delete Wh.tbody),Pc&&Pc(Et),H0=Et)},fz=ao({},["mi","mo","mn","ms","mtext"]),vz=ao({},["foreignobject","desc","title","annotation-xml"]),AG=ao({},["title","style","font","a","script"]),GB=ao({},X3);ao(GB,Y3),ao(GB,EM);var W$=ao({},Z3);ao(W$,J3);var OG=function(Et){var or=Be(Et);(!or||!or.tagName)&&(or={namespaceURI:Il,tagName:"template"});var Yr=_x(Et.tagName),pi=_x(or.tagName);return Et.namespaceURI===Ic?or.namespaceURI===Il?Yr==="svg":or.namespaceURI===Es?Yr==="svg"&&(pi==="annotation-xml"||fz[pi]):!!GB[Yr]:Et.namespaceURI===Es?or.namespaceURI===Il?Yr==="math":or.namespaceURI===Ic?Yr==="math"&&vz[pi]:!!W$[Yr]:Et.namespaceURI===Il?or.namespaceURI===Ic&&!vz[pi]||or.namespaceURI===Es&&!fz[pi]?!1:!W$[Yr]&&(AG[Yr]||!GB[Yr]):!1},Xh=function(Et){e0(r.removed,{element:Et});try{Et.parentNode.removeChild(Et)}catch{try{Et.outerHTML=Pe}catch{Et.remove()}}},dz=function(Et,or){try{e0(r.removed,{attribute:or.getAttributeNode(Et),from:or})}catch{e0(r.removed,{attribute:null,from:or})}if(or.removeAttribute(Et),Et==="is"&&!us[Et])if(up||$0)try{Xh(or)}catch{}else try{or.setAttribute(Et,"")}catch{}},mz=function(Et){var or,Yr;if(Z2)Et="<remove></remove>"+Et;else{var pi=SM(Et,/^[\r\n\t ]+/);Yr=pi&&pi[0]}z0==="application/xhtml+xml"&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");var Tf=kt?kt.createHTML(Et):Et;if(L0===Il)try{or=new V().parseFromString(Tf,z0)}catch{}if(!or||!or.documentElement){or=zt.createDocument(L0,"template",null);try{or.documentElement.innerHTML=J2?"":Tf}catch{}}var ll=or.body||or.documentElement;return Et&&Yr&&ll.insertBefore(s.createTextNode(Yr),ll.childNodes[0]||null),L0===Il?Hn.call(or,hv?"html":"body")[0]:hv?or.documentElement:ll},gz=function(Et){return zn.call(Et.ownerDocument||Et,Et,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},DG=function(Et){return Et instanceof P&&(typeof Et.nodeName!="string"||typeof Et.textContent!="string"||typeof Et.removeChild!="function"||!(Et.attributes instanceof _)||typeof Et.removeAttribute!="function"||typeof Et.setAttribute!="function"||typeof Et.namespaceURI!="string"||typeof Et.insertBefore!="function")},RO=function(Et){return zg(h)==="object"?Et instanceof h:Et&&zg(Et)==="object"&&typeof Et.nodeType=="number"&&typeof Et.nodeName=="string"},Yh=function(Et,or,Yr){An[Et]&&CM(An[Et],function(pi){pi.call(r,or,Yr,H0)})},pz=function(Et){var or;if(Yh("beforeSanitizeElements",Et,null),DG(Et)||Vs(/[\u0080-\uFFFF]/,Et.nodeName))return Xh(Et),!0;var Yr=Kh(Et.nodeName);if(Yh("uponSanitizeElement",Et,{tagName:Yr,allowedTags:Wo}),Et.hasChildNodes()&&!RO(Et.firstElementChild)&&(!RO(Et.content)||!RO(Et.content.firstElementChild))&&Vs(/<[/\w]/g,Et.innerHTML)&&Vs(/<[/\w]/g,Et.textContent)||Yr==="select"&&Vs(/<template/i,Et.innerHTML))return Xh(Et),!0;if(!Wo[Yr]||Wh[Yr]){if(!Wh[Yr]&&bz(Yr)&&(qi.tagNameCheck instanceof RegExp&&Vs(qi.tagNameCheck,Yr)||qi.tagNameCheck instanceof Function&&qi.tagNameCheck(Yr)))return!1;if(sp&&!cp[Yr]){var pi=Be(Et)||Et.parentNode,Tf=ie(Et)||Et.childNodes;if(Tf&&pi)for(var ll=Tf.length,$c=ll-1;$c>=0;--$c)pi.insertBefore(le(Tf[$c],!0),De(Et))}return Xh(Et),!0}return Et instanceof C&&!OG(Et)||(Yr==="noscript"||Yr==="noembed")&&Vs(/<\/no(script|embed)/i,Et.innerHTML)?(Xh(Et),!0):(Gs&&Et.nodeType===3&&(or=Et.textContent,or=Hg(or,rr," "),or=Hg(or,Zt," "),Et.textContent!==or&&(e0(r.removed,{element:Et.cloneNode()}),Et.textContent=or)),Yh("afterSanitizeElements",Et,null),!1)},hz=function(Et,or,Yr){if(Cm&&(or==="id"||or==="name")&&(Yr in s||Yr in EG))return!1;if(!(Gh&&!jh[or]&&Vs(Qn,or))){if(!(X2&&Vs(fr,or))){if(!us[or]||jh[or]){if(!(bz(Et)&&(qi.tagNameCheck instanceof RegExp&&Vs(qi.tagNameCheck,Et)||qi.tagNameCheck instanceof Function&&qi.tagNameCheck(Et))&&(qi.attributeNameCheck instanceof RegExp&&Vs(qi.attributeNameCheck,or)||qi.attributeNameCheck instanceof Function&&qi.attributeNameCheck(or))||or==="is"&&qi.allowCustomizedBuiltInElements&&(qi.tagNameCheck instanceof RegExp&&Vs(qi.tagNameCheck,Yr)||qi.tagNameCheck instanceof Function&&qi.tagNameCheck(Yr))))return!1}else if(!No[or]){if(!Vs(po,Hg(Yr,Va,""))){if(!((or==="src"||or==="xlink:href"||or==="href")&&Et!=="script"&&xM(Yr,"data:")===0&&ta[Et])){if(!(Y2&&!Vs(ma,Hg(Yr,Va,"")))){if(Yr)return!1}}}}}}return!0},bz=function(Et){return Et.indexOf("-")>0},yz=function(Et){var or,Yr,pi,Tf;Yh("beforeSanitizeAttributes",Et,null);var ll=Et.attributes;if(ll){var $c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:us};for(Tf=ll.length;Tf--;){or=ll[Tf];var qB=or,$l=qB.name,wz=qB.namespaceURI;if(Yr=$l==="value"?or.value:kM(or.value),pi=Kh($l),$c.attrName=pi,$c.attrValue=Yr,$c.keepAttr=!0,$c.forceKeepAttr=void 0,Yh("uponSanitizeAttribute",Et,$c),Yr=$c.attrValue,!$c.forceKeepAttr&&(dz($l,Et),!!$c.keepAttr)){if(Vs(/\/>/i,Yr)){dz($l,Et);continue}Gs&&(Yr=Hg(Yr,rr," "),Yr=Hg(Yr,Zt," "));var RG=Kh(Et.nodeName);if(hz(RG,pi,Yr))try{wz?Et.setAttributeNS(wz,$l,Yr):Et.setAttribute($l,Yr),zO(r.removed)}catch{}}}Yh("afterSanitizeAttributes",Et,null)}},_G=function la(Et){var or,Yr=gz(Et);for(Yh("beforeSanitizeShadowDOM",Et,null);or=Yr.nextNode();)Yh("uponSanitizeShadowNode",or,null),!pz(or)&&(or.content instanceof v&&la(or.content),yz(or));Yh("afterSanitizeShadowDOM",Et,null)};return r.sanitize=function(la,Et){var or,Yr,pi,Tf,ll;if(J2=!la,J2&&(la="<!-->"),typeof la!="string"&&!RO(la)){if(typeof la.toString!="function")throw K3("toString is not a function");if(la=la.toString(),typeof la!="string")throw K3("dirty is not a string, aborting")}if(!r.isSupported){if(zg(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof la=="string")return t.toStaticHTML(la);if(RO(la))return t.toStaticHTML(la.outerHTML)}return la}if(Ts||U$(Et),r.removed=[],typeof la=="string"&&(qh=!1),qh){if(la.nodeName){var $c=Kh(la.nodeName);if(!Wo[$c]||Wh[$c])throw K3("root node is forbidden and cannot be sanitized in-place")}}else if(la instanceof h)or=mz("<!---->"),Yr=or.ownerDocument.importNode(la,!0),Yr.nodeType===1&&Yr.nodeName==="BODY"||Yr.nodeName==="HTML"?or=Yr:or.appendChild(Yr);else{if(!up&&!Gs&&!hv&&la.indexOf("<")===-1)return kt&&Ki?kt.createHTML(la):la;if(or=mz(la),!or)return up?null:Ki?Pe:""}or&&Z2&&Xh(or.firstChild);for(var qB=gz(qh?la:or);pi=qB.nextNode();)pi.nodeType===3&&pi===Tf||pz(pi)||(pi.content instanceof v&&_G(pi.content),yz(pi),Tf=pi);if(Tf=null,qh)return la;if(up){if($0)for(ll=tn.call(or.ownerDocument);or.firstChild;)ll.appendChild(or.firstChild);else ll=or;return us.shadowroot&&(ll=on.call(o,ll,!0)),ll}var $l=hv?or.outerHTML:or.innerHTML;return hv&&Wo["!doctype"]&&or.ownerDocument&&or.ownerDocument.doctype&&or.ownerDocument.doctype.name&&Vs(PM,or.ownerDocument.doctype.name)&&($l="<!DOCTYPE "+or.ownerDocument.doctype.name+`>
`+$l),Gs&&($l=Hg($l,rr," "),$l=Hg($l,Zt," ")),kt&&Ki?kt.createHTML($l):$l},r.setConfig=function(la){U$(la),Ts=!0},r.clearConfig=function(){H0=null,Ts=!1},r.isValidAttribute=function(la,Et,or){H0||U$({});var Yr=Kh(la),pi=Kh(Et);return hz(Yr,pi,or)},r.addHook=function(la,Et){typeof Et=="function"&&(An[la]=An[la]||[],e0(An[la],Et))},r.removeHook=function(la){if(An[la])return zO(An[la])},r.removeHooks=function(la){An[la]&&(An[la]=[])},r.removeAllHooks=function(){An={}},r}var aA=rA(),Mx=function(t){return aA().sanitize(t)},hf=tinymce.util.Tools.resolve("tinymce.util.I18n"),id={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Fx="temporary-placeholder",oA=function(t){return function(){return wt(t,Fx).getOr("!not found!")}},iA=function(t,r){var o=t.toLowerCase();if(hf.isRtl()){var s=ri(o,"-rtl");return sn(r,s)?s:o}else return o},jO=function(t,r){return wt(r,iA(t,r))},GO=function(t,r){var o=r();return jO(t,o).getOrThunk(oA(o))},t0=function(t,r,o){var s=r();return jO(t,s).or(o).getOrThunk(oA(s))},qO=function(t){return hf.isRtl()?sn(id,t):!1},uA=function(){return Xr("add-focusable",[Kr(function(t){wy(t.element,"svg").each(function(r){return Zr(r,"focusable","false")})})])},KO=function(t,r,o,s){var v,m,h=qO(r)?["tox-icon--flip"]:[],C=wt(o,iA(r,o)).or(s).getOrThunk(oA(o));return{dom:{tag:t.tag,attributes:(v=t.attributes)!==null&&v!==void 0?v:{},classes:t.classes.concat(h),innerHtml:C},behaviours:Pn(He(He([],(m=t.behaviours)!==null&&m!==void 0?m:[],!0),[uA()],!1))}},bf=function(t,r,o,s){return s===void 0&&(s=A.none()),KO(r,t,o(),s)},XO=function(t,r,o){var s=o(),v=Ot(t,function(m){return sn(s,iA(m,s))});return KO(r,v.getOr(Fx),s,A.none())},sA={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},BM=function(t){var r=za({dom:lm("<p>"+Mx(t.translationProvider(t.text))+"</p>"),behaviours:Pn([$r.config({})])}),o=function(q){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+q+"%"}}}},s=function(q){return{dom:{tag:"div",classes:["tox-text"],innerHtml:q+"%"}}},v=za({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Pn([$r.config({})])}),m=function(q,Q){q.getSystem().isConnected()&&v.getOpt(q).each(function(le){$r.set(le,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(Q)]},s(Q)])})},h=function(q,Q){if(q.getSystem().isConnected()){var le=r.get(q);$r.set(le,[ru(Q)])}},C={updateProgress:m,updateText:h},S=be([t.icon.toArray(),t.level.toArray(),t.level.bind(function(q){return A.from(sA[q])}).toArray()]),T=za(Hs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[bf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(q){t.onAction(q)}})),_=XO(S,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),P={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Pn([$r.config({})])},V=[_,P];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(q){return["tox-notification","tox-notification--in","tox-notification--"+q]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Pn([Lr.config({}),Xr("notification-events",[rn(Cc(),function(q){T.getOpt(q).each(Lr.focus)})])]),components:V.concat(t.progress?[v.asSpec()]:[]).concat(t.closeButton?[T.asSpec()]:[]),apis:C}},v2=fc({name:"Notification",factory:BM,configFields:[_a("level"),Gt("progress"),Gt("icon"),Gt("onAction"),Gt("text"),Gt("iconProvider"),Gt("translationProvider"),no("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function cA(t,r,o){var s=r.backstage.shared,v=function(T){switch(T){case"bc-bc":return Lg;case"tc-tc":return Bl;case"tc-bc":return bs;case"bc-tc":default:return di}},m=function(T){T.length>0&&qe(T,function(_,P){P===0?_.moveRel(null,"banner"):_.moveRel(T[P-1].getEl(),"bc-tc")})},h=function(T,_){var P=!T.closeButton&&T.timeout&&(T.timeout>0||T.timeout<0),V=function(){_(),Ka.hide(Q)},q=So(v2.sketch({text:T.text,level:$t(["success","error","warning","warn","info"],T.type)?T.type:void 0,progress:T.progressBar===!0,icon:A.from(T.icon),closeButton:!P,onAction:V,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),Q=So(Ka.sketch(U({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(Q),T.timeout>0&&rv.setTimeout(function(){V()},T.timeout);var le=function(){var De=oi(ce.fromDom(t.getContentAreaContainer())),ie=Ji(),Be=Ls(ie.x,De.x,De.right),Tt=Ls(ie.y,De.y,De.bottom),kt=Math.max(De.right,ie.right),Pe=Math.max(De.bottom,ie.bottom);return A.some(Ci(Be,Tt,kt-Be,Pe-Tt))};return{close:V,moveTo:function(De,ie){Ka.showAt(Q,cc(q),{anchor:{type:"makeshift",x:De,y:ie}})},moveRel:function(De,ie){var Be=cc(q),Tt={maxHeightFunction:rg()};if(ie!=="banner"&&he(De)){var kt=v(ie),Pe={type:"node",root:qa(),node:A.some(ce.fromDom(De)),overrides:Tt,layouts:{onRtl:function(){return[kt]},onLtr:function(){return[kt]}}};Ka.showWithinBounds(Q,Be,{anchor:Pe},le)}else{var dt=U(U({},s.anchors.banner()),{overrides:Tt});Ka.showWithinBounds(Q,Be,{anchor:dt},le)}},text:function(De){v2.updateText(q,De)},settings:T,getEl:function(){return q.element.dom},progressBar:{value:function(De){v2.updateProgress(q,De)}}}},C=function(T){T.close()},S=function(T){return T.settings};return{open:h,close:C,reposition:m,getArgs:S}}var MM=function(t,r){var o=null,s=function(){mt(o)||(clearTimeout(o),o=null)},v=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];mt(o)&&(o=setTimeout(function(){o=null,t.apply(null,m)},r))};return{cancel:s,throttle:v}},Nx=function(t,r){var o=null,s=function(){mt(o)||(clearTimeout(o),o=null)},v=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];s(),o=setTimeout(function(){o=null,t.apply(null,m)},r)};return{cancel:s,throttle:v}},YO=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),FM=function(t,r){return t.isBlock(r)||$t(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},ZO=function(t,r,o,s,v){var m=YO(t,function(h){return FM(t,h)});return A.from(m.backwards(r,o,s,v))},NM="[data-mce-autocompleter]",IM=function(t,r){return Ix(ce.fromDom(t.selection.getNode())).getOrThunk(function(){var o=ce.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return wu(o,ce.fromDom(r.extractContents())),r.insertNode(o.dom),Ro(o).each(function(s){return s.dom.normalize()}),ew(o).map(function(s){t.selection.setCursorLocation(s.dom,eS(s))}),o})},Ix=function(t){return kc(t,NM)},$M=function(t){return t.collapsed&&t.startContainer.nodeType===3},JO=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},QO=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},n0=function(t,r){return t.substring(r.length)},eD=function(t,r,o){var s;for(s=r-1;s>=0;s--){var v=t.charAt(s);if(QO(v))return A.none();if(v===o)break}return A.some(s)},tD=function(t,r,o,s){if(s===void 0&&(s=0),!$M(r))return A.none();var v=function(h,C,S){return eD(S,C,o).getOr(C)},m=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return ZO(t,r.startContainer,r.startOffset,v,m).bind(function(h){var C=r.cloneRange();if(C.setStart(h.container,h.offset),C.setEnd(r.endContainer,r.endOffset),C.collapsed)return A.none();var S=JO(C),T=S.lastIndexOf(o);return T!==0||n0(S,o).length<s?A.none():A.some({text:n0(S,o),range:C,triggerChar:o})})},lA=function(t,r,o,s){return s===void 0&&(s=0),Ix(ce.fromDom(r.startContainer)).fold(function(){return tD(t,r,o,s)},function(v){var m=t.createRng();m.selectNode(v.dom);var h=JO(m);return A.some({range:m,text:n0(h,o),triggerChar:o})})},LM=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,v){Tr(s,o1(),{raw:v})};r.on("keydown",function(s){var v=function(){return t.getView().bind(Ma.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(v().each(ac),s.preventDefault()):s.which===40?(v().fold(function(){t.getView().each(Ma.highlightFirst)},function(m){o(m,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&v().each(function(m){o(m,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&Ix(ce.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},fA={setup:LM},Eh=tinymce.util.Tools.resolve("tinymce.util.Promise"),$x=function(t,r){return{container:t,offset:r}},nD=function(t){return t.nodeType===ne},rD=function(t){return t.nodeType===qn},aD=function(t){if(nD(t))return $x(t,t.data.length);var r=t.childNodes;return r.length>0?aD(r[r.length-1]):$x(t,r.length)},Lx=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?Lx(o[r],0):o.length>0&&rD(t)&&o.length===r?aD(o[o.length-1]):$x(t,r)},zM=function(t,r){return ZO(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!QO(s)}).isSome()},oD=function(t){return function(r){var o=Lx(r.startContainer,r.startOffset);return!zM(t,o)}},iD=function(t,r,o){return Ye(o.triggerChars,function(s){return lA(t,r,s)})},d2=function(t,r){var o=r(),s=t.selection.getRng();return iD(t.dom,s,o).bind(function(v){return uD(t,r,v)})},uD=function(t,r,o,s){s===void 0&&(s={});var v=r(),m=t.selection.getRng(),h=m.startContainer.nodeValue,C=Me(v.lookupByChar(o.triggerChar),function(T){return o.text.length>=T.minChars&&T.matches.getOrThunk(function(){return oD(t.dom)})(o.range,h,o.text)});if(C.length===0)return A.none();var S=Eh.all(pt(C,function(T){var _=T.fetch(o.text,T.maxResults,s);return _.then(function(P){return{matchText:o.text,items:P,columns:T.columns,onAction:T.onAction,highlightOn:T.highlightOn}})}));return A.some({lookupData:S,context:o})},zx=br([Ir("type"),lo("text")]),r0=function(t){return Bo("separatormenuitem",zx,t)},HM=br([Ie("type","autocompleteitem"),Ie("active",!1),Ie("disabled",!1),Ie("meta",{}),Ir("value"),lo("text"),lo("icon")]),sD=br([Ir("type"),Ir("ch"),gs("minChars",1),Ie("columns",1),gs("maxResults",10),xv("matches"),Bu("fetch"),Bu("onAction"),Hf("highlightOn",[],Qo)]),cD=function(t){return Bo("Autocompleter.Separator",zx,t)},lD=function(t){return Bo("Autocompleter.Item",HM,t)},vA=function(t){return Bo("Autocompleter",sD,t)},a0=[no("disabled",!1),lo("tooltip"),lo("icon"),lo("text"),fo("onSetup",function(){return ve})],VM=br([Ir("type"),Bu("onAction")].concat(a0)),fD=function(t){return Bo("toolbarbutton",VM,t)},o0=[no("active",!1)].concat(a0),UM=br(o0.concat([Ir("type"),Bu("onAction")])),dA=function(t){return Bo("ToggleButton",UM,t)},Ah=[fo("predicate",st),ec("scope","node",["node","editor"]),ec("position","selection",["node","selection","line"])],WM=a0.concat([Ie("type","contextformbutton"),Ie("primary",!1),Bu("onAction"),Gu("original",Ne)]),jM=o0.concat([Ie("type","contextformbutton"),Ie("primary",!1),Bu("onAction"),Gu("original",Ne)]),GM=a0.concat([Ie("type","contextformbutton")]),vD=o0.concat([Ie("type","contextformtogglebutton")]),dD=wc("type",{contextformbutton:WM,contextformtogglebutton:jM}),qM=br([Ie("type","contextform"),fo("initValue",j("")),lo("label"),xu("commands",dD),yl("launch",wc("type",{contextformbutton:GM,contextformtogglebutton:vD}))].concat(Ah)),KM=function(t){return Bo("ContextForm",qM,t)},XM=br([Ie("type","contexttoolbar"),Ir("items")].concat(Ah)),YM=function(t){return Bo("ContextToolbar",XM,t)},ZM=function(t){var r={};return qe(t,function(o){r[o]={}}),ct(r)},Hx=function(t){var r=t.ui.registry.getAll().popups,o=hn(r,function(h){return vA(h).fold(function(C){throw new Error(Sv(C))},Ne)}),s=ZM(Yn(o,function(h){return h.ch})),v=Ft(o),m=function(h){return Me(v,function(C){return C.ch===h})};return{dataset:o,triggerChars:s,lookupByChar:m}},mA;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(mA||(mA={}));var iv=mA,m2="tox-menu-nav__js",Vx="tox-collection__item",gA="tox-swatch",mD={normal:m2,color:gA},pA="tox-collection__item--enabled",gD="tox-collection__group-heading",hA="tox-collection__item-icon",bA="tox-collection__item-label",JM="tox-collection__item-accessory",pD="tox-collection__item-caret",QM="tox-collection__item-checkmark",Oh="tox-collection__item--active",Ux="tox-collection__item-container",hD="tox-collection__item-container--column",bD="tox-collection__item-container--row",yD="tox-collection__item-container--align-right",eF="tox-collection__item-container--align-left",tF="tox-collection__item-container--valign-top",nF="tox-collection__item-container--valign-middle",wD="tox-collection__item-container--valign-bottom",yA=function(t){return wt(mD,t).getOr(m2)},CD=function(t){return t==="color"?"tox-swatches":"tox-menu"},wA=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:CD(t),tieredMenu:"tox-tiered-menu"}},i0=function(t){var r=wA(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:yA(t)}},rF=function(t,r,o){var s=wA(o);return{tag:"div",classes:be([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},aF=[mr.parts.items({})],Wx=function(t,r,o){var s=wA(o),v={tag:"div",classes:be([[s.tieredMenu]])};return{dom:v,markers:i0(o)}},CA=function(t,r){return function(o){var s=hr(o,r);return pt(s,function(v){return{dom:t,components:v}})}},oF=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[mr.parts.items({preprocess:t!=="auto"?CA({tag:"div",classes:["tox-swatches__row"]},t):Ne})]}]}},iF=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[mr.parts.items({preprocess:CA({tag:"div",classes:["tox-collection__group"]},t)})]}},SD=function(t,r){var o=[],s=[];return qe(t,function(v,m){r(v,m)?(s.length>0&&o.push(s),s=[],sn(v.dom,"innerHtml")&&s.push(v)):s.push(v)}),s.length>0&&o.push(s),pt(o,function(v){return{dom:{tag:"div",classes:["tox-collection__group"]},components:v}})},SA=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[mr.parts.items({preprocess:function(s){return t!=="auto"&&t>1?CA({tag:"div",classes:["tox-collection__group"]},t)(s):SD(s,function(v,m){return r[m].type==="separator"})}})]}},uF=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[mr.parts.items({preprocess:function(o){return SD(o,function(s,v){return t[v].type==="separator"})}})]}},g2=function(t){return an(t,function(r){return"icon"in r&&r.icon!==void 0})},fm=function(t){return console.error(Sv(t)),console.log(t),A.none()},sF=function(t,r,o,s,v){var m=uF(o);return{value:t,dom:m.dom,components:m.components,items:o}},xA=function(t,r,o,s,v){if(v==="color"){var m=oF(s);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&s==="auto"){var m=SA(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&s===1){var m=SA(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"){var m=SA(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="listpreview"&&s!=="auto"){var m=iF(s);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:rF(r,s,v),components:aF,items:o}},cF=[Ir("type"),Ir("src"),lo("alt"),Hf("classes",[],Qo)],lF=br(cF),fF=[Ir("type"),Ir("text"),lo("name"),Hf("classes",["tox-collection__item-label"],Qo)],jx=br(fF),kA=aC(function(){return r1("type",{cardimage:lF,cardtext:jx,cardcontainer:vF})}),vF=br([Ir("type"),Bm("direction","horizontal"),Bm("align","left"),Bm("valign","middle"),xu("items",kA)]),u0=[no("disabled",!1),lo("text"),lo("shortcut"),Si("value","value",ga(function(){return nr("menuitem-value")}),jc()),Ie("meta",{})],dF=br([Ir("type"),lo("label"),xu("items",kA),fo("onSetup",function(){return ve}),fo("onAction",ve)].concat(u0)),mF=function(t){return Bo("cardmenuitem",dF,t)},gF=br([Ir("type"),no("active",!1),lo("icon")].concat(u0)),TA=function(t){return Bo("choicemenuitem",gF,t)},EA=[Ir("type"),Ir("fancytype"),fo("onAction",ve)],xD=[Ie("initData",{})].concat(EA),pF=[K0("initData",{},[no("allowCustomColors",!0),Fs("colors",jc())])].concat(EA),AA=wc("fancytype",{inserttable:xD,colorswatch:pF}),hF=function(t){return Bo("fancymenuitem",AA,t)},bF=br([Ir("type"),fo("onSetup",function(){return ve}),fo("onAction",ve),lo("icon")].concat(u0)),yF=function(t){return Bo("menuitem",bF,t)},wF=br([Ir("type"),Bu("getSubmenuItems"),fo("onSetup",function(){return ve}),lo("icon")].concat(u0)),CF=function(t){return Bo("nestedmenuitem",wF,t)},SF=br([Ir("type"),lo("icon"),no("active",!1),fo("onSetup",function(){return ve}),Bu("onAction")].concat(u0)),xF=function(t){return Bo("togglemenuitem",SF,t)},OA=function(t,r,o){var s=Nu(t.element,"."+o);if(s.length>0){var v=tr(s,function(m){var h=m.dom.getBoundingClientRect().top,C=s[0].dom.getBoundingClientRect().top;return Math.abs(h-C)>r}).getOr(s.length);return A.some({numColumns:v,numRows:Math.ceil(s.length/v)})}else return A.none()},kD=function(t,r){return Pn([Xr(t,r)])},kF=function(t){return kD(nr("unnamed-events"),t)},s0={namedEvents:kD,unnamedEvents:kF},Gx=nr("tooltip.exclusive"),Dh=nr("tooltip.show"),c0=nr("tooltip.hide"),TD=function(t,r,o){t.getSystem().broadcastOn([Gx],{})},TF=function(t,r,o,s){o.getTooltip().each(function(v){v.getSystem().isConnected()&&$r.set(v,s)})},qx=Object.freeze({__proto__:null,hideAllExclusive:TD,setComponents:TF}),DA=function(t,r){var o=function(v){r.getTooltip().each(function(m){Dl(m),t.onHide(v,m),r.clearTooltip()}),r.clearTimer()},s=function(v){if(!r.isShowing()){TD(v);var m=t.lazySink(v).getOrDie(),h=v.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ro(t.mode==="normal"?[rn(Uf(),function(C){Aa(v,Dh)}),rn(Q0(),function(C){Aa(v,c0)})]:[]),behaviours:Pn([$r.config({})])});r.setTooltip(h),Wd(m,h),t.onShow(v,h),Yo.position(m,h,{anchor:t.anchor(v)})}};return ro(be([[rn(Dh,function(v){r.resetTimer(function(){s(v)},t.delay)}),rn(c0,function(v){r.resetTimer(function(){o(v)},t.delay)}),rn(Sc(),function(v,m){var h=m;h.universal||$t(h.channels,Gx)&&o(v)}),oc(function(v){o(v)})],t.mode==="normal"?[rn(Cc(),function(v){Aa(v,Dh)}),rn(ry(),function(v){Aa(v,c0)}),rn(Uf(),function(v){Aa(v,Dh)}),rn(Q0(),function(v){Aa(v,c0)})]:[rn(uy(),function(v,m){Aa(v,Dh)}),rn(l1(),function(v){Aa(v,c0)})]]))},Kx=Object.freeze({__proto__:null,events:DA}),ED=[Gt("lazySink"),Gt("tooltipDom"),Ie("exclusive",!0),Ie("tooltipComponents",[]),Ie("delay",300),ec("mode","normal",["normal","follow-highlight"]),Ie("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:j([di,bs,Eu,Ju,Pi,Qu]),onRtl:j([di,bs,Eu,Ju,Pi,Qu])}}}),Ra("onHide"),Ra("onShow")],EF=function(){var t=Xo(),r=Xo(),o=function(){t.on(clearTimeout)},s=function(m,h){o(),t.set(setTimeout(m,h))},v=j("not-implemented");return Tu({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:v})},AF=Object.freeze({__proto__:null,init:EF}),AD=Ai({fields:ED,name:"tooltipping",active:Kx,state:AF,apis:qx}),OF=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},p2=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),DF=tinymce.util.Tools.resolve("tinymce.EditorManager"),_F=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=DF.baseURL+"/skins/ui/"+s}return o},RF=function(t){return t.getParam("readonly",!1,"boolean")},PF=function(t){return t.getParam("skin")===!1},OD=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},DD=function(t){return t.getParam("width",p2.DOM.getStyle(t.getElement(),"width"))},_D=function(t){return A.from(t.getParam("min_width")).filter(We)},RD=function(t){return A.from(t.getParam("min_height")).filter(We)},Xx=function(t){return A.from(t.getParam("max_width")).filter(We)},PD=function(t){return A.from(t.getParam("max_height")).filter(We)},BF=function(t){return A.from(t.getParam("style_formats")).filter(xt)},vm=function(t){return t.getParam("style_formats_merge",!1,"boolean")},MF=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},FF=function(t){return t.getParam("content_langs",void 0,"array")},_A=function(t){return t.getParam("removed_menuitems","")},Bi=function(t){return t.getParam("menubar",!0,"boolean")!==!1},RA=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=we(r),v=xt(r)&&r.length>0;return!Yx(t)&&(v||s||o)},BD=function(t){var r=K(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Me(r,function(s){return typeof s=="string"});return o.length>0?A.some(o):A.none()},Yx=function(t){return BD(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},rt)},ol;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(ol||(ol={}));var h2=function(t){return t.getParam("toolbar_mode","","string")},_h;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(_h||(_h={}));var NF=function(t){return t.getParam("toolbar_groups",{},"object")},MD=function(t){return t.getParam("toolbar_location",_h.auto,"string")},FD=function(t){return MD(t)===_h.bottom},IF=function(t){return t.getParam("fixed_toolbar_container","","string")},$F=function(t){return t.getParam("fixed_toolbar_container_target")},LF=function(t){return t.getParam("toolbar_persist",!1,"boolean")},ND=function(t){if(!t.inline)return A.none();var r=IF(t);if(r.length>0)return ki(qa(),r);var o=$F(t);return he(o)?A.some(ce.fromDom(o)):A.none()},Zx=function(t){return t.inline&&ND(t).isSome()},ID=function(t){var r=ND(t);return r.getOrThunk(function(){return Un(Pr(ce.fromDom(t.getElement())))})},$D=function(t){return t.inline&&!Bi(t)&&!RA(t)&&!Yx(t)},Jx=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Zx(t)&&!$D(t)},zF=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},HF=function(t){return t.getParam("draggable_modal",!1,"boolean")},VF=function(t){var r=t.getParam("menu");return r?hn(r,function(o){return U(U({},o),{items:o.items})}):{}},UF=function(t){return t.getParam("menubar")},WF=function(t){return t.getParam("toolbar",!0)},jF=function(t){return t.getParam("file_picker_callback")},GF=function(t){return t.getParam("file_picker_types")},qF=function(t){return t.getParam("file_browser_callback_types")},KF=function(t){return t.getParam("typeahead_urls")===!1},LD=function(t){return t.getParam("anchor_top","#top")},XF=function(t){return t.getParam("anchor_bottom","#bottom")},YF=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},PA="silver.readonly",zD=br([BT("readonly")]),l0=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([Gd()],{target:s}),t.uiMothership.broadcastOn([Gd()],{target:s})),t.mothership.broadcastOn([PA],{readonly:r}),t.uiMothership.broadcastOn([PA],{readonly:r})},HD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&l0(r,!0)}),t.on("SwitchMode",function(){return l0(r,t.mode.isReadOnly())}),RF(t)&&t.setMode("readonly")},Mi=function(){var t;return Mu.config({channels:(t={},t[PA]={schema:zD,onReceive:function(r,o){xr.set(r,o.readonly)}},t)})},ZF=function(t){return xr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},VD=function(t){return xr.config({disabled:t})},JF=function(t){return xr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},UD=function(t){return xr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Ml={item:ZF,button:VD,splitButton:JF,toolbarButton:UD},Qx=function(t,r){var o=t.getApi(r);return function(s){s(o)}},f0=function(t,r){return Kr(function(o){var s=Qx(t,o);s(function(v){var m=t.onSetup(v);ze(m)&&r.set(m)})})},b2=function(t,r){return oc(function(o){return Qx(t,o)(r.get())})},BA,QF=function(t,r){return $s(function(o,s){Qx(t,o)(t.onAction),!t.triggersSubmenu&&r===iv.CLOSE_ON_EXECUTE&&(Aa(o,xp()),s.stop())})},e5=(BA={},BA[nc()]=["disabling","alloy.base.behaviour","toggling","item-events"],BA),v0=Dr,d0=function(t,r,o,s){var v=kr(ve);return{type:"item",dom:r.dom,components:v0(r.optComponents),data:t.data,eventOrder:e5,hasSubmenu:t.triggersSubmenu,itemBehaviours:Pn([Xr("item-events",[QF(t,o),f0(t,v),b2(t,v)]),Ml.item(function(){return t.disabled||s.isDisabled()}),Mi(),$r.config({})].concat(t.itemBehaviours))}},Vg=function(t){return{value:t.value,meta:U({text:t.text.getOr("")},t.meta)}},ek=tinymce.util.Tools.resolve("tinymce.Env"),t5=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=ek.mac?r:o,v=t.split("+"),m=pt(v,function(h){var C=h.toLowerCase().trim();return sn(s,C)?s[C]:h});return ek.mac?m.join(""):m.join("+")},tk=function(t,r,o){return o===void 0&&(o=[hA]),bf(t,{tag:"div",classes:o},r)},WD=function(t){return{dom:{tag:"div",classes:[bA]},components:[ru(hf.translate(t))]}},jD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},MA=function(t,r){return{dom:{tag:"div",classes:[bA]},components:[{dom:{tag:t.tag,styles:t.styles},components:[ru(hf.translate(r))]}]}},n5=function(t){return{dom:{tag:"div",classes:[JM],innerHtml:t5(t)}}},GD=function(t){return tk("checkmark",t,[QM])},r5=function(t){return tk("chevron-right",t,[pD])},a5=function(t){return tk("chevron-down",t,[pD])},FA=function(t,r){var o=t.direction==="vertical"?hD:bD,s=t.align==="left"?eF:yD,v=function(){switch(t.valign){case"top":return tF;case"middle":return nF;case"bottom":return wD}};return{dom:{tag:"div",classes:[Ux,o,s,v()]},components:r}},o5=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},NA=function(t,r,o){var s="custom",v="remove",m=t.ariaLabel,h=t.value,C=t.iconContent.map(function(T){return t0(T,r.icons,o)}),S=function(){var T=gA,_=C.getOr(""),P=m.map(function(q){return{title:r.translate(q)}}).getOr({}),V={tag:"div",attributes:P,classes:[T]};return h===s?U(U({},V),{tag:"button",classes:He(He([],V.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:_}):h===v?U(U({},V),{classes:He(He([],V.classes,!0),["tox-swatch--remove"],!1),innerHtml:_}):U(U({},V),{attributes:U(U({},V.attributes),{"data-mce-color":h}),styles:{"background-color":h}})};return{dom:S(),optComponents:[]}},qD=function(t){var r=t.map(function(o){return{attributes:{title:hf.translate(o)}}}).getOr({});return U({tag:"div",classes:[m2,Vx]},r)},KD=function(t,r,o,s){var v={tag:"div",classes:[hA]},m=function(V){return bf(V,v,r.icons,s)},h=function(){return A.some({dom:v})},C=o?t.iconContent.map(m).orThunk(h):A.none(),S=t.checkMark,T=A.from(t.meta).fold(function(){return WD},function(V){return sn(V,"style")?un(MA,V.style):WD}),_=t.htmlContent.fold(function(){return t.textContent.map(T)},function(V){return A.some(jD(V,[bA]))}),P={dom:qD(t.ariaLabel),optComponents:[C,_,t.shortcutContent.map(n5),S,t.caret]};return P},y2=function(t,r,o,s){return s===void 0&&(s=A.none()),t.presets==="color"?NA(t,r,s):KD(t,r,o,s)},m0=function(t,r){return wt(t,"tooltipWorker").map(function(o){return[AD.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:rg}}},mode:"follow-highlight",onShow:function(s,v){o(function(m){AD.setComponents(s,[T1({element:ce.fromDom(m)})])})}})]}).getOr([])},i5=function(t){return p2.DOM.encode(t)},XD=function(t,r){var o=hf.translate(t),s=i5(o);if(r.length>0){var v=new RegExp(OF(r),"gi");return s.replace(v,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return s},u5=function(t,r,o,s,v,m,h,C){C===void 0&&(C=!0);var S=y2({presets:s,textContent:A.none(),htmlContent:o?t.text.map(function(T){return XD(T,r)}):A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:t.value},h.providers,C,t.icon);return d0({data:Vg(t),disabled:t.disabled,getApi:j({}),onAction:function(T){return v(t.value,t.meta)},onSetup:j(ve),triggersSubmenu:!1,itemBehaviours:m0(t.meta,h)},S,m,h.providers)},YD=function(t,r){return pt(t,function(o){switch(o.type){case"cardcontainer":return FA(o,YD(o.items,r));case"cardimage":return o5(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(m){return $t(r.cardText.highlightOn,m)}),v=s?A.from(r.cardText.matchText).getOr(""):"";return jD(XD(o.text,v),o.classes)}})},s5=function(t,r,o,s){var v=function(h){return{isDisabled:function(){return xr.isDisabled(h)},setDisabled:function(C){xr.set(h,C),qe(Nu(h.element,"*"),function(S){h.getSystem().getByDom(S).each(function(T){T.hasConfigured(xr)&&xr.set(T,C)})})}}},m={dom:qD(t.label),optComponents:[A.some({dom:{tag:"div",classes:[Ux,bD]},components:YD(t.items,s)})]};return d0({data:Vg(U({text:A.none()},t)),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(s.itemBehaviours).getOr([])},m,r,o.providers)},c5=function(t,r,o,s,v,m,h,C){C===void 0&&(C=!0);var S=function(_){return{setActive:function(P){pa.set(_,P)},isActive:function(){return pa.isOn(_)},isDisabled:function(){return xr.isDisabled(_)},setDisabled:function(P){return xr.set(_,P)}}},T=y2({presets:o,textContent:r?t.text:A.none(),htmlContent:A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:A.none(),checkMark:r?A.some(GD(h.icons)):A.none(),caret:A.none(),value:t.value},h,C);return Bt(d0({data:Vg(t),disabled:t.disabled,getApi:S,onAction:function(_){return s(t.value)},onSetup:function(_){return _.setActive(v),ve},triggersSubmenu:!1,itemBehaviours:[]},T,m,h),{toggling:{toggleClass:pA,toggleOnExecute:!1,selected:t.active}})},IA=Zd(x(),D()),ZD=function(t){return{value:t}},JD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,QD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,e_=function(t){return JD.test(t)||QD.test(t)},l5=function(t){return bo(t,"#").toUpperCase()},f5=function(t){return e_(t)?A.some({value:l5(t)}):A.none()},Ug=function(t){var r=t.value.replace(JD,function(o,s,v,m){return s+s+v+v+m+m});return{value:r}},v5=function(t){var r=Ug(t),o=QD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},$A=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},w2=function(t){var r=$A(t.red)+$A(t.green)+$A(t.blue);return ZD(r)},nk=Math.min,t_=Math.max,g0=Math.round,d5=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,LA=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,dm=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},rk=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},zA=function(t){var r,o,s,v=(t.hue||0)%360,m=t.saturation/100,h=t.value/100;if(m=t_(0,nk(m,1)),h=t_(0,nk(h,1)),m===0)return r=o=s=g0(255*h),dm(r,o,s,1);var C=v/60,S=h*m,T=S*(1-Math.abs(C%2-1)),_=h-S;switch(Math.floor(C)){case 0:r=S,o=T,s=0;break;case 1:r=T,o=S,s=0;break;case 2:r=0,o=S,s=T;break;case 3:r=0,o=T,s=S;break;case 4:r=T,o=0,s=S;break;case 5:r=S,o=0,s=T;break;default:r=o=s=0}return r=g0(255*(r+_)),o=g0(255*(o+_)),s=g0(255*(s+_)),dm(r,o,s,1)},C2=function(t){var r=v5(t),o=parseInt(r[1],16),s=parseInt(r[2],16),v=parseInt(r[3],16);return dm(o,s,v,1)},ak=function(t,r,o,s){var v=parseInt(t,10),m=parseInt(r,10),h=parseInt(o,10),C=parseFloat(s);return dm(v,m,h,C)},n_=function(t){if(t==="transparent")return A.some(dm(0,0,0,0));var r=d5.exec(t);if(r!==null)return A.some(ak(r[1],r[2],r[3],"1"));var o=LA.exec(t);return o!==null?A.some(ak(o[1],o[2],o[3],o[4])):A.none()},r_=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},a_=dm(255,0,0,1),m5=function(t){return t.fire("SkinLoaded")},g5=function(t,r){return t.fire("SkinLoadError",r)},p5=function(t){return t.fire("ResizeEditor")},HA=function(t,r){return t.fire("ResizeContent",r)},h5=function(t,r){return t.fire("ScrollContent",r)},b5=function(t,r){return t.fire("TextColorChange",r)},S2=function(t,r,o){return{hue:t,saturation:r,value:o}},VA=function(t){var r=0,o=0,s=0,v=t.red/255,m=t.green/255,h=t.blue/255,C=Math.min(v,Math.min(m,h)),S=Math.max(v,Math.max(m,h));if(C===S)return s=C,S2(0,0,s*100);var T=v===C?m-h:h===C?v-m:h-v;return r=v===C?3:h===C?1:5,r=60*(r-T/(S-C)),o=(S-C)/S,s=S,S2(Math.round(r),Math.round(o*100),Math.round(s*100))},y5=function(t){return VA(C2(t))},UA=function(t){return w2(zA(t))},w5=function(t){return f5(t).orThunk(function(){return n_(t).map(w2)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,v=s[0],m=s[1],h=s[2],C=s[3];return w2(dm(v,m,h,C))})},ok=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ik="tinymce-custom-colors";function uk(t){t===void 0&&(t=10);var r=ok.getItem(ik),o=we(r)?JSON.parse(r):[],s=function(S){var T=t-S.length;return T<0?S.slice(0,t):S},v=s(o),m=function(S){vn(v,S).each(h),v.unshift(S),v.length>t&&v.pop(),ok.setItem(ik,JSON.stringify(v))},h=function(S){v.splice(S,1)},C=function(){return v.slice(0)};return{add:m,state:C}}var Wi="choiceitem",sk=[{type:Wi,text:"Light Green",value:"#BFEDD2"},{type:Wi,text:"Light Yellow",value:"#FBEEB8"},{type:Wi,text:"Light Red",value:"#F8CAC6"},{type:Wi,text:"Light Purple",value:"#ECCAFA"},{type:Wi,text:"Light Blue",value:"#C2E0F4"},{type:Wi,text:"Green",value:"#2DC26B"},{type:Wi,text:"Yellow",value:"#F1C40F"},{type:Wi,text:"Red",value:"#E03E2D"},{type:Wi,text:"Purple",value:"#B96AD9"},{type:Wi,text:"Blue",value:"#3598DB"},{type:Wi,text:"Dark Turquoise",value:"#169179"},{type:Wi,text:"Orange",value:"#E67E23"},{type:Wi,text:"Dark Red",value:"#BA372A"},{type:Wi,text:"Dark Purple",value:"#843FA1"},{type:Wi,text:"Dark Blue",value:"#236FA1"},{type:Wi,text:"Light Gray",value:"#ECF0F1"},{type:Wi,text:"Medium Gray",value:"#CED4D9"},{type:Wi,text:"Gray",value:"#95A5A6"},{type:Wi,text:"Dark Gray",value:"#7E8C8D"},{type:Wi,text:"Navy Blue",value:"#34495E"},{type:Wi,text:"Black",value:"#000000"},{type:Wi,text:"White",value:"#ffffff"}],o_=uk(10),C5=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+w5(t[o]).value,type:"choiceitem"});return r},S5=function(t,r){return t.getParam("color_cols",r,"number")},i_=function(t){return t.getParam("custom_colors")!==!1},x5=function(t){return t.getParam("color_map")},WA=function(t){var r=x5(t);return r!==void 0?C5(r):sk},u_=function(){return pt(o_.state(),function(t){return{type:Wi,text:t,value:t}})},s_=function(t){o_.add(t)},jA="#000000",k5=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var v;(v=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||v)}),A.from(o)},T5=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},E5=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},A5=function(t){t.addCommand("mceApplyTextcolor",function(r,o){T5(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){E5(t,r)})},O5=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},ck=function(t){var r=WA(t),o=O5(r.length);return S5(t,o)},c_=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},lk=function(t,r,o,s){if(o==="custom"){var v=d_(t);v(function(m){m.each(function(h){s_(h),t.execCommand("mceApplyTextcolor",r,h),s(h)})},jA)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},l_=function(t,r){return t.concat(u_().concat(c_(r)))},f_=function(t,r){return function(o){o(l_(t,r))}},GA=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},p0=function(t,r,o,s,v){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var h=k5(t,o);return h.bind(function(C){return n_(C).map(function(S){var T=w2(S).value;return oa(m.toLowerCase(),T)})}).getOr(!1)},columns:ck(t),fetch:f_(WA(t),i_(t)),onAction:function(m){lk(t,o,v.get(),ve)},onItemAction:function(m,h){lk(t,o,h,function(C){v.set(C),b5(t,{name:r,color:C})})},onSetup:function(m){GA(m,r,v.get());var h=function(C){C.name===r&&GA(m,C.name,C.color)};return t.on("TextColorChange",h),function(){t.off("TextColorChange",h)}}})},v_=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(v){lk(t,o,v.value,ve)}}]}})},d_=function(t){return function(r,o){var s=!1,v=function(C){var S=C.getData(),T=S.colorpicker;s?(r(A.from(T)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",T]))},m=function(C,S){S.name==="hex-valid"&&(s=S.value)},h={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:m,onSubmit:v,onClose:ve,onCancel:function(){r(A.none())}})}},D5=function(t){A5(t);var r=kr(jA),o=kr(jA);p0(t,"forecolor","forecolor","Text color",r),p0(t,"backcolor","hilitecolor","Background color",o),v_(t,"forecolor","forecolor","Text color"),v_(t,"backcolor","hilitecolor","Background color")},h0=function(t,r,o,s,v,m,h,C){var S=g2(r),T=v!=="color"?"normal":"color",_=_5(r,o,s,T,m,h,C);return xA(t,S,_,s,v)},_5=function(t,r,o,s,v,m,h){return Dr(pt(t,function(C){return C.type==="choiceitem"?TA(C).fold(fm,function(S){return A.some(c5(S,o===1,s,r,m(C.value),v,h,g2(t)))}):A.none()}))},fk=function(t,r){var o=i0(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},m_=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+gA:"."+Vx}}},R5=function(t,r){var o=P5(t,r),s=r.colorinput.getColorCols(),v="color",m=h0(nr("menu-value"),o,function(C){t.onAction({value:C})},s,v,iv.CLOSE_ON_EXECUTE,st,r.shared.providers),h=U(U({},m),{markers:i0(v),movement:fk(s,v)});return{type:"widget",data:{value:nr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[IA.widget(mr.sketch(h))]}},P5=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return l_(r.colorinput.getColors(),o)},function(s){return s.concat(c_(o))})},g_=nr("cell-over"),p_=nr("cell-execute"),B5=function(t,r,o){var s,v=function(C){return Tr(C,g_,{row:t,col:r})},m=function(C){return Tr(C,p_,{row:t,col:r})},h=function(C,S){S.stop(),m(C)};return So({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:Pn([Xr("insert-table-picker-cell",[rn(Uf(),Lr.focus),rn(nc(),m),rn(Im(),h),rn(Ev(),h)]),pa.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Lr.config({onFocus:v})])})},M5=function(t,r,o){for(var s=[],v=0;v<r;v++){for(var m=[],h=0;h<o;h++)m.push(B5(v,h,t));s.push(m)}return s},F5=function(t,r,o,s,v){for(var m=0;m<s;m++)for(var h=0;h<v;h++)pa.set(t[m][h],m<=r&&h<=o)},N5=function(t){return St(t,function(r){return pt(r,cc)})},h_=function(t,r){return ru(r+"x"+t)},Rh=function(t){var r=10,o=10,s=nr("size-label"),v=M5(s,r,o),m=h_(0,0),h=za({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[m],behaviours:Pn([$r.config({})])});return{type:"widget",data:{value:nr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[IA.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:N5(v).concat(h.asSpec()),behaviours:Pn([Xr("insert-table-picker",[Kr(function(C){$r.set(h.get(C),[m])}),Ov(g_,function(C,S,T){var _=T.event,P=_.row,V=_.col;F5(v,P,V,r,o),$r.set(h.get(C),[h_(P+1,V+1)])}),Ov(p_,function(C,S,T){var _=T.event,P=_.row,V=_.col;t.onAction({numRows:P+1,numColumns:V+1}),Aa(C,xp())})]),dr.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},I5={inserttable:Rh,colorswatch:R5},$5=function(t,r){return wt(I5,t.fancytype).map(function(o){return o(t,r)})},L5=function(t,r,o,s,v){s===void 0&&(s=!0),v===void 0&&(v=!1);var m=v?a5(o.icons):r5(o.icons),h=function(S){return{isDisabled:function(){return xr.isDisabled(S)},setDisabled:function(T){return xr.set(S,T)}}},C=y2({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.some(m),checkMark:A.none(),shortcutContent:t.shortcut},o,s);return d0({data:Vg(t),getApi:h,disabled:t.disabled,onAction:ve,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,r,o)},z5=function(t,r,o,s){s===void 0&&(s=!0);var v=function(h){return{isDisabled:function(){return xr.isDisabled(h)},setDisabled:function(C){return xr.set(h,C)}}},m=y2({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.none(),checkMark:A.none(),shortcutContent:t.shortcut},o,s);return d0({data:Vg(t),getApi:v,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o)},vk=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:U({tag:"div",classes:[Vx,gD]},r),components:[]}},b_=function(t,r,o,s){s===void 0&&(s=!0);var v=function(h){return{setActive:function(C){pa.set(h,C)},isActive:function(){return pa.isOn(h)},isDisabled:function(){return xr.isDisabled(h)},setDisabled:function(C){return xr.set(h,C)}}},m=y2({iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,checkMark:A.some(GD(o.icons)),caret:A.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return Bt(d0({data:Vg(t),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o),{toggling:{toggleClass:pA,toggleOnExecute:!1,selected:t.active}})},y_=u5,w_=vk,H5=z5,V5=L5,U5=b_,W5=$5,j5=s5,x2;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(x2||(x2={}));var C_=function(t,r,o,s,v){var m=o.shared.providers,h=function(C){return v?U(U({},C),{shortcut:A.none(),icon:C.text.isSome()?A.none():C.icon}):C};switch(t.type){case"menuitem":return yF(t).fold(fm,function(C){return A.some(H5(h(C),r,m,s))});case"nestedmenuitem":return CF(t).fold(fm,function(C){return A.some(V5(h(C),r,m,s,v))});case"togglemenuitem":return xF(t).fold(fm,function(C){return A.some(U5(h(C),r,m,s))});case"separator":return r0(t).fold(fm,function(C){return A.some(w_(C))});case"fancymenuitem":return hF(t).fold(fm,function(C){return W5(h(C),o)});default:return console.error("Unknown item in general menu",t),A.none()}},G5=function(t,r,o,s,v,m,h){var C=s===1,S=!C||g2(t);return Dr(pt(t,function(T){switch(T.type){case"separator":return cD(T).fold(fm,function(_){return A.some(w_(_))});case"cardmenuitem":return mF(T).fold(fm,function(_){return A.some(j5(U(U({},_),{onAction:function(P){_.onAction(P),o(_.value,_.meta)}}),v,m,{itemBehaviours:m0(_.meta,m),cardText:{matchText:r,highlightOn:h}}))});case"autocompleteitem":default:return lD(T).fold(fm,function(_){return A.some(y_(_,r,C,"normal",o,v,m,S))})}}))},S_=function(t,r,o,s,v){var m=g2(r),h=Dr(pt(r,function(S){var T=function(P){return v?!sn(P,"text"):m},_=function(P){return C_(P,o,s,T(P),v)};return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?_(U(U({},S),{disabled:!0})):_(S)})),C=v?sF:xA;return C(t,m,h,1,"normal")},x_=function(t){return Wa.singleData(t.value,t)},k_=function(t,r,o,s){var v=o===x2.ContentFocus?NS():ih(),m=fk(r,s),h=i0(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:h.selectedItem,item:h.item},movement:m,fakeFocus:o===x2.ContentFocus,focusManager:v,menuBehaviours:s0.unnamedEvents(r!=="auto"?[]:[Kr(function(C,S){OA(C,4,h.item).each(function(T){var _=T.numColumns,P=T.numRows;dr.setGridSize(C,P,_)})})])}},uv=function(t,r){var o=Xo(),s=kr(!1),v=So(Ka.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Pn([Xr("dismissAutocompleter",[rn(Yc(),function(){return S()})])]),lazySink:r.getSink})),m=function(){return Ka.isOpen(v)},h=function(){return o.get().isSome()},C=function(){h()&&Ka.hide(v)},S=function(){if(h()){var ie=o.get().map(function(Be){return Be.element});Ix(ie.getOr(ce.fromDom(t.selection.getNode()))).each(Sm),C(),o.clear(),s.set(!1)}},T=Qe(function(){return Hx(t)}),_=function(ie,Be){var Tt=Ye(Be,function(kt){return A.from(kt.columns)}).getOr(1);return St(Be,function(kt){var Pe=kt.items;return G5(Pe,kt.matchText,function(dt,zt){var zn=t.selection.getRng();lA(t.dom,zn,ie).fold(function(){return console.error("Lost context. Cursor probably moved")},function(tn){var Hn=tn.range,on={hide:function(){S()},reload:function(Lt){C(),Q(Lt)}};s.set(!0),kt.onAction(on,Hn,dt,zt),s.set(!1)})},Tt,iv.BUBBLE_TO_SANDBOX,r,kt.highlightOn)})},P=function(ie){if(!h()){var Be=IM(t,ie.range);o.set({triggerChar:ie.triggerChar,element:Be,matchLength:ie.text.length}),s.set(!1)}},V=function(ie,Be,Tt,kt){ie.matchLength=Be.text.length;var Pe=Ye(Tt,function(dt){return A.from(dt.columns)}).getOr(1);Ka.showAt(v,mr.sketch(k_(xA("autocompleter-value",!0,kt,Pe,"normal"),Pe,x2.ContentFocus,"normal")),{anchor:{type:"node",root:ce.fromDom(t.getBody()),node:A.from(ie.element)}}),Ka.getContent(v).each(Ma.highlightFirst)},q=function(ie){return o.get().map(function(Be){return lA(t.dom,t.selection.getRng(),Be.triggerChar).bind(function(Tt){return uD(t,T,Tt,ie)})}).getOrThunk(function(){return d2(t,T)})},Q=function(ie){q(ie).fold(S,function(Be){P(Be.context),Be.lookupData.then(function(Tt){o.get().map(function(kt){var Pe=Be.context;if(kt.triggerChar===Pe.triggerChar){var dt=_(Pe.triggerChar,Tt);dt.length>0?V(kt,Pe,Tt,dt):Pe.text.length-kt.matchLength>=10?S():C()}})})})},le=Nx(function(ie){ie.which!==27&&Q()},50),De={onKeypress:le,cancelIfNecessary:S,isMenuOpen:m,isActive:h,isProcessingAction:s.get,getView:function(){return Ka.getContent(v)}};t.hasPlugin("rtc")===!1&&fA.setup(De,t)},Wg={register:uv},k2=function(t,r,o){return kc(t,r,o).isSome()},qA=function(t,r){var o=null,s=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];o=setTimeout(function(){t.apply(null,m),o=null},r)},v=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:v,schedule:s}},KA=5,dk=400,T_=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?A.none():A.some(r.touches[0])},XA=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>KA||s>KA},YA=function(t){var r=Xo(),o=kr(!1),s=qA(function(T){t.triggerEvent(u1(),T),o.set(!0)},dk),v=function(T){return T_(T).each(function(_){s.cancel();var P={x:_.clientX,y:_.clientY,target:T.target};s.schedule(T),o.set(!1),r.set(P)}),A.none()},m=function(T){return s.cancel(),T_(T).each(function(_){r.on(function(P){XA(_,P)&&r.clear()})}),A.none()},h=function(T){s.cancel();var _=function(P){return Ga(P.target,T.target)};return r.get().filter(_).map(function(P){return o.get()?(T.prevent(),!1):t.triggerEvent(Ev(),T)})},C=Vf([{key:Xl(),value:v},{key:Kc(),value:m},{key:kv(),value:h}]),S=function(T,_){return wt(C,_).bind(function(P){return P(T)})};return{fireIfReady:S}},ZA=function(t){var r=t.raw;return r.which===Db[0]&&!$t(["input","textarea"],ge(t.target))&&!k2(t.target,'[contenteditable="true"]')},E_=function(){return Sr().browser.isFirefox()},q5=function(t,r){return E_()?q1(t,"focus",r):ei(t,"focusin",r)},K5=function(t,r){return E_()?q1(t,"blur",r):ei(t,"focusout",r)},mk=function(t,r){var o=U({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=YA(o),m=pt(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(q){return ei(t,q,function(Q){v.fireIfReady(Q,q).each(function(De){De&&Q.kill()});var le=o.triggerEvent(q,Q);le&&Q.kill()})}),h=Xo(),C=ei(t,"paste",function(q){v.fireIfReady(q,"paste").each(function(le){le&&q.kill()});var Q=o.triggerEvent("paste",q);Q&&q.kill(),h.set(setTimeout(function(){o.triggerEvent(ay(),q)},0))}),S=ei(t,"keydown",function(q){var Q=o.triggerEvent("keydown",q);Q?q.kill():o.stopBackspace&&ZA(q)&&q.prevent()}),T=q5(t,function(q){var Q=o.triggerEvent("focusin",q);Q&&q.kill()}),_=Xo(),P=K5(t,function(q){var Q=o.triggerEvent("focusout",q);Q&&q.kill(),_.set(setTimeout(function(){o.triggerEvent(ry(),q)},0))}),V=function(){qe(m,function(q){q.unbind()}),S.unbind(),T.unbind(),P.unbind(),C.unbind(),h.on(clearTimeout),_.on(clearTimeout)};return{unbind:V}},A_=function(t,r){var o=wt(t,"target").getOr(r);return kr(o)},X5=function(t,r){var o=kr(!1),s=kr(!1),v=function(){o.set(!0)},m=function(){s.set(!0)};return{stop:v,cut:m,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},Y5=function(t){var r=kr(!1),o=function(){r.set(!0)};return{stop:o,cut:ve,isStopped:r.get,isCut:st,event:t,setSource:Ae("Cannot set source of a broadcasted event"),getSource:Ae("Cannot get source of a broadcasted event")}},b0=tc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),O_=function(t,r,o,s,v,m){var h=t(r,s),C=X5(o,v);return h.fold(function(){return m.logEventNoHandlers(r,s),b0.complete()},function(S){var T=S.descHandler,_=gy(T);return _(C),C.isStopped()?(m.logEventStopped(r,S.element,T.purpose),b0.stopped()):C.isCut()?(m.logEventCut(r,S.element,T.purpose),b0.complete()):Ro(S.element).fold(function(){return m.logNoParent(r,S.element,T.purpose),b0.complete()},function(P){return m.logEventResponse(r,S.element,T.purpose),b0.resume(P)})})},JA=function(t,r,o,s,v,m){return O_(t,r,o,s,v,m).fold(rt,function(h){return JA(t,r,o,h,v,m)},st)},Z5=function(t,r,o,s,v){var m=A_(o,s);return O_(t,r,o,s,m,v)},J5=function(t,r,o){var s=Y5(r);return qe(t,function(v){var m=v.descHandler,h=gy(m);h(s)}),s.isStopped()},D_=function(t,r,o,s){return __(t,r,o,o.target,s)},__=function(t,r,o,s,v){var m=A_(o,s);return JA(t,r,o,s,m,v)},Q5=function(t,r){return{element:t,descHandler:r}},R_=function(t,r){return{id:t,descHandler:r}},P_=function(){var t={},r=function(h,C,S){Fn(S,function(T,_){var P=t[_]!==void 0?t[_]:{};P[C]=my(T,h),t[_]=P})},o=function(h,C){return Rv(C).bind(function(S){return wt(h,S)}).map(function(S){return Q5(C,S)})},s=function(h){return wt(t,h).map(function(C){return Yn(C,function(S,T){return R_(T,S)})}).getOr([])},v=function(h,C,S){return wt(t,C).bind(function(T){return Mm(S,function(_){return o(T,_)},h)})},m=function(h){Fn(t,function(C,S){sn(C,h)&&delete C[h]})};return{registerId:r,unregisterId:m,filterByType:s,find:v}},eN=function(){var t=P_(),r={},o=function(T){var _=T.element;return Rv(_).getOrThunk(function(){return pC("uid-",T.element)})},s=function(T,_){var P=r[_];if(P===T)m(T);else throw new Error('The tagId "'+_+'" is already used by: '+Ku(P.element)+`
Cannot use it for: `+Ku(T.element)+`
The conflicting element is`+(Vr(P.element)?" ":" not ")+"already in the DOM")},v=function(T){var _=o(T);Zn(r,_)&&s(T,_);var P=[T];t.registerId(P,_,T.events),r[_]=T},m=function(T){Rv(T.element).each(function(_){delete r[_],t.unregisterId(_)})},h=function(T){return t.filterByType(T)},C=function(T,_,P){return t.find(T,_,P)},S=function(T){return wt(r,T)};return{find:C,filter:h,register:v,unregister:m,getById:S}},tN=function(t){var r=t.dom,o=r.attributes,s=B(r,["attributes"]);return{uid:t.uid,dom:U({tag:"div",attributes:U({role:"presentation"},o)},s),components:t.components,behaviours:kg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},rs=fc({name:"Container",factory:tN,configFields:[Ie("components",[]),Oi("containerBehaviours",[]),Ie("events",{}),Ie("domModification",{}),Ie("eventOrder",{})]}),B_=function(t){var r=function(ie){return Ro(t.element).fold(rt,function(Be){return Ga(ie,Be)})},o=eN(),s=function(ie,Be){return o.find(r,ie,Be)},v=mk(t.element,{triggerEvent:function(ie,Be){return Sy(ie,Be.target,function(Tt){return D_(s,ie,Be,Tt)})}}),m={debugInfo:j("real"),triggerEvent:function(ie,Be,Tt){Sy(ie,Be,function(kt){return __(s,ie,Tt,Be,kt)})},triggerFocus:function(ie,Be){Rv(ie).fold(function(){kl(ie)},function(Tt){Sy(Tv(),ie,function(kt){return Z5(s,Tv(),{originator:Be,kill:ve,prevent:ve,target:ie},ie,kt),!1})})},triggerEscape:function(ie,Be){m.triggerEvent("keydown",ie.element,Be.event)},getByUid:function(ie){return le(ie)},getByDom:function(ie){return De(ie)},build:So,addToGui:function(ie){S(ie)},removeFromGui:function(ie){T(ie)},addToWorld:function(ie){h(ie)},removeFromWorld:function(ie){C(ie)},broadcast:function(ie){V(ie)},broadcastOn:function(ie,Be){q(ie,Be)},broadcastEvent:function(ie,Be){Q(ie,Be)},isConnected:rt},h=function(ie){ie.connect(m),Z(ie.element)||(o.register(ie),qe(ie.components(),h),m.triggerEvent(Sd(),ie.element,{target:ie.element}))},C=function(ie){Z(ie.element)||(qe(ie.components(),C),o.unregister(ie)),ie.disconnect()},S=function(ie){Wd(t,ie)},T=function(ie){Dl(ie)},_=function(){v.unbind(),fs(t.element)},P=function(ie){var Be=o.filter(Sc());qe(Be,function(Tt){var kt=Tt.descHandler,Pe=gy(kt);Pe(ie)})},V=function(ie){P({universal:!0,data:ie})},q=function(ie,Be){P({universal:!1,channels:ie,data:Be})},Q=function(ie,Be){var Tt=o.filter(ie);return J5(Tt,Be)},le=function(ie){return o.getById(ie).fold(function(){return Qr.error(new Error('Could not find component with uid: "'+ie+'" in system.'))},Qr.value)},De=function(ie){var Be=Rv(ie).getOr("not found");return le(Be)};return h(t),{root:t,element:t.element,destroy:_,add:S,remove:T,getByUid:le,getByDom:De,addToWorld:h,removeFromWorld:C,broadcast:V,broadcastOn:q,broadcastEvent:Q}},nN=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:pt(t.items,r.interpreter)}},gk=j([Ie("prefix","form-field"),Oi("fieldBehaviours",[fa,Ln])]),Us=j([Ac({schema:[Gt("dom")],name:"label"}),Ac({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Gt("text")],name:"aria-descriptor"}),su({factory:{sketch:function(t){var r=Y0(t,["factory"]);return t.factory.sketch(r)}},schema:[Gt("factory")],name:"field"})]),M_=function(t,r,o,s){var v=Vi(t.fieldBehaviours,[fa.config({find:function(C){return Ja(C,t,"field")}}),Ln.config({store:{mode:"manual",getValue:function(C){return fa.getCurrent(C).bind(Ln.getValue)},setValue:function(C,S){fa.getCurrent(C).each(function(T){Ln.setValue(T,S)})}}})]),m=ro([Kr(function(C,S){var T=wS(C,t,["label","field","aria-descriptor"]);T.field().each(function(_){var P=nr(t.prefix);T.label().each(function(V){Zr(V.element,"for",P),Zr(_.element,"id",P)}),T["aria-descriptor"]().each(function(V){var q=nr(t.prefix);Zr(V.element,"id",q),Zr(_.element,"aria-describedby",q)})})})]),h={getField:function(C){return Ja(C,t,"field")},getLabel:function(C){return Ja(C,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:v,events:m,apis:h}},Pa=ts({name:"FormField",configFields:gk(),partFields:Us(),factory:M_,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),rN=function(t,r){return Jc({attributes:Vf([{key:r.tabAttr,value:"true"}])})},aN=Object.freeze({__proto__:null,exhibit:rN}),oN=[Ie("tabAttr","data-alloy-tabstop")],ti=Ai({fields:oN,name:"tabstopping",active:aN}),F_=tinymce.util.Tools.resolve("tinymce.html.Entities"),T2=function(t,r,o,s){var v=N_(t,r,o,s);return Pa.sketch(v)},iN=function(t,r){return T2(t,r,[],[])},N_=function(t,r,o,s){return{dom:QA(o),components:t.toArray().concat([r]),fieldBehaviours:Pn(s)}},uN=function(){return QA([])},QA=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},mm=function(t,r){return Pa.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Bc=nr("form-component-change"),E2=nr("form-close"),Ph=nr("form-cancel"),ud=nr("form-action"),A2=nr("form-submit"),e4=nr("form-block"),t4=nr("form-unblock"),jg=nr("form-tabchange"),I_=nr("form-resize"),sN=function(t,r){var o,s=t.label.map(function(P){return mm(P,r)}),v=function(P){return function(V,q){kc(q.event.target,"[data-collection-item-value]").each(function(Q){P(V,q,Q,wo(Q,"data-collection-item-value"))})}},m=function(P,V){var q=pt(V,function(De){var ie=hf.translate(De.text),Be=t.columns===1?'<div class="tox-collection__item-label">'+ie+"</div>":"",Tt='<div class="tox-collection__item-icon">'+De.icon+"</div>",kt={_:" "," - ":" ","-":" "},Pe=ie.replace(/\_| \- |\-/g,function(zt){return kt[zt]}),dt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+dt+'" tabindex="-1" data-collection-item-value="'+F_.encodeAllRaw(De.value)+'" title="'+Pe+'" aria-label="'+Pe+'">'+Tt+Be+"</div>"}),Q=t.columns!=="auto"&&t.columns>1?hr(q,t.columns):[q],le=pt(Q,function(De){return'<div class="tox-collection__group">'+De.join("")+"</div>"});jf(P.element,le.join(""))},h=v(function(P,V,q,Q){V.stop(),r.isDisabled()||Tr(P,ud,{name:t.name,value:Q})}),C=[rn(Uf(),v(function(P,V,q){kl(q)})),rn(Im(),h),rn(Ev(),h),rn(Cc(),v(function(P,V,q){ki(P.element,"."+Oh).each(function(Q){vi(Q,Oh)}),xi(q,Oh)})),rn(eu(),v(function(P){ki(P.element,"."+Oh).each(function(V){vi(V,Oh)})})),$s(v(function(P,V,q,Q){Tr(P,ud,{name:t.name,value:Q})}))],S=function(P,V){return pt(Nu(P.element,".tox-collection__item"),V)},T=Pa.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ne},behaviours:Pn([xr.config({disabled:r.isDisabled,onDisabled:function(P){S(P,function(V){xi(V,"tox-collection__item--state-disabled"),Zr(V,"aria-disabled",!0)})},onEnabled:function(P){S(P,function(V){vi(V,"tox-collection__item--state-disabled"),$i(V,"aria-disabled")})}}),Mi(),$r.config({}),Ln.config({store:{mode:"memory",initialValue:[]},onSetValue:function(P,V){m(P,V),t.columns==="auto"&&OA(P,5,"tox-collection__item").each(function(q){var Q=q.numRows,le=q.numColumns;dr.setGridSize(P,Q,le)}),Aa(P,I_)}}),ti.config({}),dr.config(m_(t.columns,"normal")),Xr("collection-events",C)]),eventOrder:(o={},o[nc()]=["disabling","alloy.base.behaviour","collection-events"],o)}),_=["tox-form__group--collection"];return T2(s,T,_,[])},gm=j([_a("data"),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("tag","input"),Ie("inputClasses",[]),Ra("onSetValue"),Ie("styles",{}),Ie("eventOrder",{}),Oi("inputBehaviours",[Ln,Lr]),Ie("selectOnFocus",!0)]),$_=function(t){return Pn([Lr.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=ef(o);o.dom.setSelectionRange(0,s.length)}:ve})])},cN=function(t){return U(U({},$_(t)),Vi(t.inputBehaviours,[Ln.config({store:U(U({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return ef(r.element)},setValue:function(r,o){var s=ef(r.element);s!==o&&jm(r.element,o)}}),onSetValue:t.onSetValue})]))},il=function(t){return{tag:t.tag,attributes:U({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},L_=function(t,r){return{uid:t.uid,dom:il(t),components:[],behaviours:cN(t),eventOrder:t.eventOrder}},y0=fc({name:"Input",configFields:gm(),factory:L_}),z_={},H_={exports:z_};(function(t,r,o,s){(function(v,m){typeof r=="object"&&typeof o<"u"?o.exports=m():typeof t=="function"&&t.amd?t(m):(v=typeof globalThis<"u"?globalThis:v||self,v.EphoxContactWrapper=m())})(this,function(){var v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof JB<"u"?JB:typeof self<"u"?self:{},m={exports:{}};(function(T){(function(_){var P=setTimeout;function V(){}function q(Pe,dt){return function(){Pe.apply(dt,arguments)}}function Q(Pe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Pe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],kt(Pe,this)}function le(Pe,dt){for(;Pe._state===3;)Pe=Pe._value;if(Pe._state===0){Pe._deferreds.push(dt);return}Pe._handled=!0,Q._immediateFn(function(){var zt=Pe._state===1?dt.onFulfilled:dt.onRejected;if(zt===null){(Pe._state===1?De:ie)(dt.promise,Pe._value);return}var zn;try{zn=zt(Pe._value)}catch(tn){ie(dt.promise,tn);return}De(dt.promise,zn)})}function De(Pe,dt){try{if(dt===Pe)throw new TypeError("A promise cannot be resolved with itself.");if(dt&&(typeof dt=="object"||typeof dt=="function")){var zt=dt.then;if(dt instanceof Q){Pe._state=3,Pe._value=dt,Be(Pe);return}else if(typeof zt=="function"){kt(q(zt,dt),Pe);return}}Pe._state=1,Pe._value=dt,Be(Pe)}catch(zn){ie(Pe,zn)}}function ie(Pe,dt){Pe._state=2,Pe._value=dt,Be(Pe)}function Be(Pe){Pe._state===2&&Pe._deferreds.length===0&&Q._immediateFn(function(){Pe._handled||Q._unhandledRejectionFn(Pe._value)});for(var dt=0,zt=Pe._deferreds.length;dt<zt;dt++)le(Pe,Pe._deferreds[dt]);Pe._deferreds=null}function Tt(Pe,dt,zt){this.onFulfilled=typeof Pe=="function"?Pe:null,this.onRejected=typeof dt=="function"?dt:null,this.promise=zt}function kt(Pe,dt){var zt=!1;try{Pe(function(zn){zt||(zt=!0,De(dt,zn))},function(zn){zt||(zt=!0,ie(dt,zn))})}catch(zn){if(zt)return;zt=!0,ie(dt,zn)}}Q.prototype.catch=function(Pe){return this.then(null,Pe)},Q.prototype.then=function(Pe,dt){var zt=new this.constructor(V);return le(this,new Tt(Pe,dt,zt)),zt},Q.all=function(Pe){var dt=Array.prototype.slice.call(Pe);return new Q(function(zt,zn){if(dt.length===0)return zt([]);var tn=dt.length;function Hn(Lt,An){try{if(An&&(typeof An=="object"||typeof An=="function")){var rr=An.then;if(typeof rr=="function"){rr.call(An,function(Zt){Hn(Lt,Zt)},zn);return}}dt[Lt]=An,--tn===0&&zt(dt)}catch(Zt){zn(Zt)}}for(var on=0;on<dt.length;on++)Hn(on,dt[on])})},Q.resolve=function(Pe){return Pe&&typeof Pe=="object"&&Pe.constructor===Q?Pe:new Q(function(dt){dt(Pe)})},Q.reject=function(Pe){return new Q(function(dt,zt){zt(Pe)})},Q.race=function(Pe){return new Q(function(dt,zt){for(var zn=0,tn=Pe.length;zn<tn;zn++)Pe[zn].then(dt,zt)})},Q._immediateFn=typeof setImmediate=="function"?function(Pe){setImmediate(Pe)}:function(Pe){P(Pe,0)},Q._unhandledRejectionFn=function(dt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",dt)},Q._setImmediateFn=function(dt){Q._immediateFn=dt},Q._setUnhandledRejectionFn=function(dt){Q._unhandledRejectionFn=dt},T.exports?T.exports=Q:_.Promise||(_.Promise=Q)})(v)})(m);var h=m.exports,C=function(){return typeof window<"u"?window:Function("return this;")()}(),S={boltExport:C.Promise||h};return S})})(void 0,z_,H_);var yf=H_.exports.boltExport,n4=function(t){var r=A.none(),o=[],s=function(T){return n4(function(_){v(function(P){_(T(P))})})},v=function(T){h()?S(T):o.push(T)},m=function(T){h()||(r=A.some(T),C(o),o=[])},h=function(){return r.isSome()},C=function(T){qe(T,S)},S=function(T){r.each(function(_){setTimeout(function(){T(_)},0)})};return t(m),{get:v,map:s,isReady:h}},V_=function(t){return n4(function(r){r(t)})},lN={nu:n4,pure:V_},fN=function(t){setTimeout(function(){throw t},0)},w0=function(t){var r=function(S){t().then(S,fN)},o=function(S){return w0(function(){return t().then(S)})},s=function(S){return w0(function(){return t().then(function(T){return S(T).toPromise()})})},v=function(S){return w0(function(){return t().then(function(){return S.toPromise()})})},m=function(){return lN.nu(r)},h=function(){var S=null;return w0(function(){return S===null&&(S=t()),S})},C=t;return{map:o,bind:s,anonBind:v,toLazy:m,toCached:h,toPromise:C,get:r}},r4=function(t){return w0(function(){return new yf(t)})},vN=function(t){return w0(function(){return yf.resolve(t)})},Lu={nu:r4,pure:vN},dN=["input","textarea"],U_=function(t){var r=ge(t);return $t(dN,r)},W_=function(t,r){var o=r.getRoot(t).getOr(t.element);vi(o,r.invalidClass),r.notify.each(function(s){U_(t.element)&&Zr(t.element,"aria-invalid",!1),s.getContainer(t).each(function(v){jf(v,s.validHtml)}),s.onValid(t)})},j_=function(t,r,o,s){var v=r.getRoot(t).getOr(t.element);xi(v,r.invalidClass),r.notify.each(function(m){U_(t.element)&&Zr(t.element,"aria-invalid",!0),m.getContainer(t).each(function(h){jf(h,s)}),m.onInvalid(t,s)})},G_=function(t,r,o){return r.validator.fold(function(){return Lu.pure(Qr.value(!0))},function(s){return s.validate(t)})},pk=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),G_(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(v){return j_(t,r,o,v),Qr.error(v)},function(v){return W_(t,r),Qr.value(v)}):Qr.error("No longer in system")})},q_=function(t,r){var o=r.getRoot(t).getOr(t.element);return Xu(o,r.invalidClass)},mN=Object.freeze({__proto__:null,markValid:W_,markInvalid:j_,query:G_,run:pk,isInvalid:q_}),gN=function(t,r){return t.validator.map(function(o){return ro([rn(o.onEvent,function(s){pk(s,t,r).get(Ne)})].concat(o.validateOnLoad?[Kr(function(s){pk(s,t,r).get(ve)})]:[]))}).getOr({})},pN=Object.freeze({__proto__:null,events:gN}),hN=[Gt("invalidClass"),Ie("getRoot",A.none),Ns("notify",[Ie("aria","alert"),Ie("getContainer",A.none),Ie("validHtml",""),Ra("onValid"),Ra("onInvalid"),Ra("onValidate")]),Ns("validator",[Gt("validate"),Ie("onEvent","input"),Ie("validateOnLoad",!0)])],sd=Ai({fields:hN,name:"invalidating",active:pN,apis:mN,extra:{validation:function(t){return function(r){var o=Ln.getValue(r);return Lu.pure(t(o))}}}}),K_=function(t,r,o,s){return o.getOrCreate(t,r,s)},X_=Object.freeze({__proto__:null,getCoupled:K_}),Y_=[ms("others",Su(Qr.value,jc()))],hk=function(){var t={},r=function(s,v,m){var h=ct(v.others);if(h)return wt(t,m).getOrThunk(function(){var C=wt(v.others,m).getOrDie("No information found for coupled component: "+m),S=C(s),T=s.getSystem().build(S);return t[m]=T,T});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(h,null,2))},o=j({});return Tu({readState:o,getOrCreate:r})},bN=Object.freeze({__proto__:null,init:hk}),ui=Ai({fields:Y_,name:"coupling",apis:X_,state:bN}),Z_=j("sink"),J_=j(Ac({name:Z_(),overrides:j({dom:{tag:"div"},behaviours:Pn([Yo.config({useFixed:rt})]),events:ro([kd(o1()),kd(Xc()),kd(Im())])})})),sv;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(sv||(sv={}));var Q_=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:v}},function(m){return{type:s,hotspot:o,overrides:v,layouts:m}})},bk=function(t,r,o){var s=t.fetch;return s(o).map(r)},yN=function(t,r,o,s,v,m,h){var C=bk(t,r,s),S=o4(s,t);return C.map(function(T){return T.bind(function(_){return A.from(Wa.sketch(U(U({},m.menu()),{uid:Pv(""),data:_,highlightImmediately:h===sv.HighlightFirst,onOpenMenu:function(P,V){var q=S().getOrDie();Yo.position(q,V,{anchor:o}),ba.decloak(v)},onOpenSubmenu:function(P,V,q){var Q=S().getOrDie();Yo.position(Q,q,{anchor:{type:"submenu",item:V}}),ba.decloak(v)},onRepositionMenu:function(P,V,q){var Q=S().getOrDie();Yo.position(Q,V,{anchor:o}),qe(q,function(le){Yo.position(Q,le.triggeredMenu,{anchor:{type:"submenu",item:le.triggeringItem}})})},onEscape:function(){return Lr.focus(s),ba.close(v),A.some(!0)}})))})})},a4=function(t,r,o,s,v,m,h){var C=Q_(t,o),S=yN(t,r,C,o,s,v,h);return S.map(function(T){return T.fold(function(){ba.isOpen(s)&&ba.close(s)},function(_){ba.cloak(s),ba.open(s,_),m(s)}),s})},pm=function(t,r,o,s,v,m,h){return ba.close(s),Lu.pure(s)},C0=function(t,r,o,s,v,m){var h=ui.getCoupled(o,"sandbox"),C=ba.isOpen(h),S=C?pm:a4;return S(t,r,o,h,s,v,m)},S0=function(t,r,o){var s=fa.getCurrent(r).getOr(r),v=yu(t.element);o?Mr(s.element,"min-width",v+"px"):ml(s.element,v)},o4=function(t,r){return t.getSystem().getByUid(r.uid+"-"+Z_()).map(function(o){return function(){return Qr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return Qr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},yk=function(t){ba.getState(t).each(function(r){Wa.repositionMenus(r)})},i4=function(t,r,o){var s=_d(),v=function(C,S){var T=Q_(t,r);s.link(r.element),t.matchWidth&&S0(T.hotspot,S,t.useMinWidth),t.onOpen(T,C,S),o!==void 0&&o.onOpen!==void 0&&o.onOpen(C,S)},m=function(C,S){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(C,S)},h=o4(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Ec.augment(t.sandboxBehaviours,[Ln.config({store:{mode:"memory",initialValue:r}}),ba.config({onOpen:v,onClose:m,isPartOf:function(C,S,T){return Rd(S,T)||Rd(r,T)},getAttachPoint:function(){return h().getOrDie()}}),fa.config({find:function(C){return ba.getState(C).bind(function(S){return fa.getCurrent(S)})}}),Mu.config({channels:U(U({},Cs({isExtraPart:st})),qd({doReposition:yk}))})])}},eR=function(t){var r=ui.getCoupled(t,"sandbox");yk(r)},u4=function(){return[Ie("sandboxClasses",[]),Ec.field("sandboxBehaviours",[fa,Mu,ba,Ln])]},tR=j([Gt("dom"),Gt("fetch"),Ra("onOpen"),Ti("onExecute"),Ie("getHotspot",A.some),Ie("getAnchorOverrides",j({})),Vv(),Oi("dropdownBehaviours",[pa,ui,dr,Lr]),Gt("toggleClass"),Ie("eventOrder",{}),_a("lazySink"),Ie("matchWidth",!1),Ie("useMinWidth",!1),_a("role")].concat(u4())),wN=j([lc({schema:[Pd()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),J_()]),wk=function(t,r,o,s){var v,m=function(_){return wt(t.dom,"attributes").bind(function(P){return wt(P,_)})},h=function(_){ba.getState(_).each(function(P){Wa.highlightPrimary(P)})},C=function(_){var P=h;C0(t,Ne,_,s,P,sv.HighlightFirst).get(ve)},S={expand:function(_){pa.isOn(_)||C0(t,Ne,_,s,ve,sv.HighlightNone).get(ve)},open:function(_){pa.isOn(_)||C0(t,Ne,_,s,ve,sv.HighlightFirst).get(ve)},isOpen:pa.isOn,close:function(_){pa.isOn(_)&&C0(t,Ne,_,s,ve,sv.HighlightFirst).get(ve)},repositionMenus:function(_){pa.isOn(_)&&eR(_)}},T=function(_,P){return ac(_),A.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Vi(t.dropdownBehaviours,[pa.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),ui.config({others:{sandbox:function(_){return i4(t,_,{onOpen:function(){return pa.on(_)},onClose:function(){return pa.off(_)}})}}}),dr.config({mode:"special",onSpace:T,onEnter:T,onDown:function(_,P){if(wf.isOpen(_)){var V=ui.getCoupled(_,"sandbox");h(V)}else wf.open(_);return A.some(!0)},onEscape:function(_,P){return wf.isOpen(_)?(wf.close(_),A.some(!0)):A.none()}}),Lr.config({})]),events:Zb(A.some(C)),eventOrder:U(U({},t.eventOrder),(v={},v[nc()]=["disabling","toggling","alloy.base.behaviour"],v)),apis:S,domModification:{attributes:U(U({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(_){return{role:_}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},wf=ts({name:"Dropdown",configFields:tR(),partFields:wN(),factory:wk,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),ul=function(){return Jc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},CN=function(){return ro([sy(zT(),rt)])},SN=Object.freeze({__proto__:null,events:CN,exhibit:ul}),x0=Ai({fields:[],name:"unselecting",active:SN}),nR=function(t,r){return wf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Pn([Ml.button(r.providers.isDisabled),Mi(),x0.config({}),ti.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Lu.nu(function(s){return t.fetch(s)}).map(function(s){return A.from(x_(Bt(h0(nr("menu-value"),s,function(v){t.onItemAction(o,v)},t.columns,t.presets,iv.CLOSE_ON_EXECUTE,st,r.providers),{movement:fk(t.columns,t.presets)})))})},parts:{menu:Wx(!1,1,t.presets)}})},rR=nr("color-input-change"),aR=nr("color-swatch-change"),oR=nr("color-picker-cancel"),xN=function(t,r,o){var s=Pa.parts.field({factory:y0,inputClasses:["tox-textfield"],onSetValue:function(S){return sd.run(S).get(ve)},inputBehaviours:Pn([xr.config({disabled:r.providers.isDisabled}),Mi(),ti.config({}),sd.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(S){return Ro(S.element)},notify:{onValid:function(S){var T=Ln.getValue(S);Tr(S,rR,{color:T})}},validator:{validateOnLoad:!1,validate:function(S){var T=Ln.getValue(S);if(T.length===0)return Lu.pure(Qr.value(!0));var _=ce.fromTag("span");Mr(_,"background-color",T);var P=ai(_,"background-color").fold(function(){return Qr.error("blah")},function(V){return Qr.value(T)});return Lu.pure(P)}}})]),selectOnFocus:!1}),v=t.label.map(function(S){return mm(S,r.providers)}),m=function(S,T){Tr(S,aR,{value:T})},h=function(S,T){C.getOpt(S).each(function(_){T==="custom"?o.colorPicker(function(P){P.fold(function(){return Aa(_,oR)},function(V){m(_,V),s_(V)})},"#ffffff"):T==="remove"?m(_,""):m(_,T)})},C=za(nR({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Pi,Eu,di]},onLtr:function(){return[Eu,Pi,di]}},components:[],fetch:f_(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:h},r));return Pa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,C.asSpec()]}]),fieldBehaviours:Pn([Xr("form-field-events",[rn(rR,function(S,T){C.getOpt(S).each(function(_){Mr(_.element,"background-color",T.event.color)}),Tr(S,Bc,{name:t.name})}),rn(aR,function(S,T){Pa.getField(S).each(function(_){Ln.setValue(_,T.event.value),fa.getCurrent(S).each(Lr.focus)})}),rn(oR,function(S,T){Pa.getField(S).each(function(_){fa.getCurrent(S).each(Lr.focus)})})])])})},kN=Ac({schema:[Gt("dom")],name:"label"}),Gg=function(t){return Ac({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:ro([cy(Xl(),function(v,m,h){return s(v,h)},[r]),cy(Xc(),function(v,m,h){return s(v,h)},[r]),cy(yd(),function(v,m,h){h.mouseIsDown.get()&&s(v,h)},[r])])}})}})},TN=Gg("top-left"),iR=Gg("top"),EN=Gg("top-right"),AN=Gg("right"),ON=Gg("bottom-right"),uR=Gg("bottom"),Ck=Gg("bottom-left"),DN=Gg("left"),Sk=su({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ro([xd(Xl(),t,"spectrum"),xd(Kc(),t,"spectrum"),xd(kv(),t,"spectrum"),xd(Xc(),t,"spectrum"),xd(yd(),t,"spectrum"),xd(ey(),t,"spectrum")])}}}),k0=su({schema:[Gu("mouseIsDown",function(){return kr(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(v,m){return o.getValueFromEvent(m).map(function(h){return o.setValueFrom(v,t,h)})};return{behaviours:Pn([dr.config({mode:"special",onLeft:function(v){return o.onLeft(v,t)},onRight:function(v){return o.onRight(v,t)},onUp:function(v){return o.onUp(v,t)},onDown:function(v){return o.onDown(v,t)}}),Lr.config({})]),events:ro([rn(Xl(),s),rn(Kc(),s),rn(Xc(),s),rn(yd(),function(v,m){t.mouseIsDown.get()&&s(v,m)})])}}}),sR=[kN,DN,AN,iR,uR,TN,EN,Ck,ON,Sk,k0],cR="slider.change.value",T0=j(cR),_N=function(t){return t.type.indexOf("touch")!==-1},s4=function(t){var r=t.event.raw;if(_N(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?A.some(o.touches[0]).map(function(v){return eo(v.clientX,v.clientY)}):A.none()}else{var s=r;return s.clientX!==void 0?A.some(s).map(function(v){return eo(v.clientX,v.clientY)}):A.none()}},xk="top",RN="right",PN="bottom",lR="left",qg=function(t){return t.model.minX},hm=function(t){return t.model.minY},O2=function(t){return t.model.minX-1},zu=function(t){return t.model.minY-1},Kg=function(t){return t.model.maxX},Bh=function(t){return t.model.maxY},kk=function(t){return t.model.maxX+1},D2=function(t){return t.model.maxY+1},fR=function(t,r,o){return r(t)-o(t)},c4=function(t){return fR(t,Kg,qg)},l4=function(t){return fR(t,Bh,hm)},f4=function(t){return c4(t)/2},cv=function(t){return l4(t)/2},Xg=function(t){return t.stepSize},v4=function(t){return t.snapToGrid},_2=function(t){return t.snapStart},Tk=function(t){return t.rounded},Ek=function(t,r){return t[r+"-edge"]!==void 0},vR=function(t){return Ek(t,lR)},dR=function(t){return Ek(t,RN)},mR=function(t){return Ek(t,xk)},gR=function(t){return Ek(t,PN)},lv=function(t){return t.model.value.get()},pR=function(t){return{x:t}},d4=function(t){return{y:t}},Yg=function(t,r){return{x:t,y:r}},Ou=function(t,r){Tr(t,T0(),{value:r})},Ak=function(t,r){Ou(t,Yg(O2(r),zu(r)))},BN=function(t,r){Ou(t,d4(zu(r)))},MN=function(t,r){Ou(t,Yg(f4(r),zu(r)))},hR=function(t,r){Ou(t,Yg(kk(r),zu(r)))},bR=function(t,r){Ou(t,pR(kk(r)))},m4=function(t,r){Ou(t,Yg(kk(r),cv(r)))},yR=function(t,r){Ou(t,Yg(kk(r),D2(r)))},R2=function(t,r){Ou(t,d4(D2(r)))},P2=function(t,r){Ou(t,Yg(f4(r),D2(r)))},FN=function(t,r){Ou(t,Yg(O2(r),D2(r)))},NN=function(t,r){Ou(t,pR(O2(r)))},IN=function(t,r){Ou(t,Yg(O2(r),cv(r)))},g4=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},p4=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},wR=function(t,r,o){return Math.max(r,Math.min(o,t))},$N=function(t,r,o,s,v){return v.fold(function(){var m=t-r,h=Math.round(m/s)*s;return wR(r+h,r-1,o+1)},function(m){var h=(t-m)%s,C=Math.round(h/s),S=Math.floor((t-m)/s),T=Math.floor((o-m)/s),_=Math.min(T,S+C),P=m+_*s;return Math.max(m,P)})},h4=function(t,r,o){return Math.min(o,Math.max(t,r))-r},Zg=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,m=t.step,h=t.snap,C=t.snapStart,S=t.rounded,T=t.hasMinEdge,_=t.hasMaxEdge,P=t.minBound,V=t.maxBound,q=t.screenRange,Q=T?r-1:r,le=_?o+1:o;if(v<P)return Q;if(v>V)return le;var De=h4(v,P,V),ie=wR(De/q*s+r,Q,le);return h&&ie>=r&&ie<=o?$N(ie,r,o,m,C):S?Math.round(ie):ie},CR=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,m=t.hasMinEdge,h=t.hasMaxEdge,C=t.maxBound,S=t.maxOffset,T=t.centerMinEdge,_=t.centerMaxEdge;return v<r?m?0:T:v>o?h?C:_:(v-r)/s*S},Ok="top",SR="right",xR="bottom",b4="left",LN="width",zN="height",fv=function(t){return t.element.dom.getBoundingClientRect()},sl=function(t,r){return t[r]},Dk=function(t){var r=fv(t);return sl(r,b4)},y4=function(t){var r=fv(t);return sl(r,SR)},E0=function(t){var r=fv(t);return sl(r,Ok)},_k=function(t){var r=fv(t);return sl(r,xR)},w4=function(t){var r=fv(t);return sl(r,LN)},kR=function(t){var r=fv(t);return sl(r,zN)},TR=function(t,r,o){return(t+r)/2-o},B2=function(t,r){var o=fv(t),s=fv(r),v=sl(o,b4),m=sl(o,SR),h=sl(s,b4);return TR(v,m,h)},C4=function(t,r){var o=fv(t),s=fv(r),v=sl(o,Ok),m=sl(o,xR),h=sl(s,Ok);return TR(v,m,h)},Rk=function(t,r){Tr(t,T0(),{value:r})},Pk=function(t){return{x:t}},S4=function(t,r,o){var s={min:qg(r),max:Kg(r),range:c4(r),value:o,step:Xg(r),snap:v4(r),snapStart:_2(r),rounded:Tk(r),hasMinEdge:vR(r),hasMaxEdge:dR(r),minBound:Dk(t),maxBound:y4(t),screenRange:w4(t)};return Zg(s)},HN=function(t,r,o){var s=S4(t,r,o),v=Pk(s);return Rk(t,v),s},bm=function(t,r){var o=qg(r);Rk(t,Pk(o))},x4=function(t,r){var o=Kg(r);Rk(t,Pk(o))},ER=function(t,r,o){var s=t>0?p4:g4,v=s(lv(o).x,qg(o),Kg(o),Xg(o));return Rk(r,Pk(v)),A.some(v)},k4=function(t){return function(r,o){return ER(t,r,o).map(rt)}},T4=function(t){var r=s4(t);return r.map(function(o){return o.left})},AR=function(t,r,o,s,v){var m=0,h=w4(t),C=s.bind(function(_){return A.some(B2(_,t))}).getOr(m),S=v.bind(function(_){return A.some(B2(_,t))}).getOr(h),T={min:qg(r),max:Kg(r),range:c4(r),value:o,hasMinEdge:vR(r),hasMaxEdge:dR(r),minBound:Dk(t),minOffset:m,maxBound:y4(t),maxOffset:h,centerMinEdge:C,centerMaxEdge:S};return CR(T)},A0=function(t,r,o,s,v,m){var h=AR(r,m,o,s,v);return Dk(r)-Dk(t)+h},OR=function(t,r,o,s){var v=lv(o),m=A0(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),h=yu(r.element)/2;Mr(r.element,"left",m-h+"px")},DR=k4(-1),VN=k4(1),UN=A.none,WN=A.none,jN={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(bR),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(NN)},_R=Object.freeze({__proto__:null,setValueFrom:HN,setToMin:bm,setToMax:x4,findValueOfOffset:S4,getValueFromEvent:T4,findPositionOfValue:A0,setPositionFromValue:OR,onLeft:DR,onRight:VN,onUp:UN,onDown:WN,edgeActions:jN}),M2=function(t,r){Tr(t,T0(),{value:r})},Bk=function(t){return{y:t}},E4=function(t,r,o){var s={min:hm(r),max:Bh(r),range:l4(r),value:o,step:Xg(r),snap:v4(r),snapStart:_2(r),rounded:Tk(r),hasMinEdge:mR(r),hasMaxEdge:gR(r),minBound:E0(t),maxBound:_k(t),screenRange:kR(t)};return Zg(s)},GN=function(t,r,o){var s=E4(t,r,o),v=Bk(s);return M2(t,v),s},Mk=function(t,r){var o=hm(r);M2(t,Bk(o))},qN=function(t,r){var o=Bh(r);M2(t,Bk(o))},KN=function(t,r,o){var s=t>0?p4:g4,v=s(lv(o).y,hm(o),Bh(o),Xg(o));return M2(r,Bk(v)),A.some(v)},A4=function(t){return function(r,o){return KN(t,r,o).map(rt)}},RR=function(t){var r=s4(t);return r.map(function(o){return o.top})},XN=function(t,r,o,s,v){var m=0,h=kR(t),C=s.bind(function(_){return A.some(C4(_,t))}).getOr(m),S=v.bind(function(_){return A.some(C4(_,t))}).getOr(h),T={min:hm(r),max:Bh(r),range:l4(r),value:o,hasMinEdge:mR(r),hasMaxEdge:gR(r),minBound:E0(t),minOffset:m,maxBound:_k(t),maxOffset:h,centerMinEdge:C,centerMaxEdge:S};return CR(T)},O4=function(t,r,o,s,v,m){var h=XN(r,m,o,s,v);return E0(r)-E0(t)+h},Fk=function(t,r,o,s){var v=lv(o),m=O4(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),h=li(r.element)/2;Mr(r.element,"top",m-h+"px")},YN=A.none,ZN=A.none,JN=A4(-1),QN=A4(1),Nk={"top-left":A.none(),top:A.some(BN),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(R2),"bottom-left":A.none(),left:A.none()},D4=Object.freeze({__proto__:null,setValueFrom:GN,setToMin:Mk,setToMax:qN,findValueOfOffset:E4,getValueFromEvent:RR,findPositionOfValue:O4,setPositionFromValue:Fk,onLeft:YN,onRight:ZN,onUp:JN,onDown:QN,edgeActions:Nk}),Ik=function(t,r){Tr(t,T0(),{value:r})},$k=function(t,r){return{x:t,y:r}},Lk=function(t,r,o){var s=S4(t,r,o.left),v=E4(t,r,o.top),m=$k(s,v);return Ik(t,m),m},e6=function(t,r,o,s){var v=t>0?p4:g4,m=r?lv(s).x:v(lv(s).x,qg(s),Kg(s),Xg(s)),h=r?v(lv(s).y,hm(s),Bh(s),Xg(s)):lv(s).y;return Ik(o,$k(m,h)),A.some(m)},O0=function(t,r){return function(o,s){return e6(t,r,o,s).map(rt)}},PR=function(t,r){var o=qg(r),s=hm(r);Ik(t,$k(o,s))},t6=function(t,r){var o=Kg(r),s=Bh(r);Ik(t,$k(o,s))},n6=function(t){return s4(t)},BR=function(t,r,o,s){var v=lv(o),m=A0(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),h=O4(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=yu(r.element)/2,S=li(r.element)/2;Mr(r.element,"left",m-C+"px"),Mr(r.element,"top",h-S+"px")},MR=O0(-1,!1),r6=O0(1,!1),FR=O0(-1,!0),NR=O0(1,!0),IR={"top-left":A.some(Ak),top:A.some(MN),"top-right":A.some(hR),right:A.some(m4),"bottom-right":A.some(yR),bottom:A.some(P2),"bottom-left":A.some(FN),left:A.some(IN)},$R=Object.freeze({__proto__:null,setValueFrom:Lk,setToMin:PR,setToMax:t6,getValueFromEvent:n6,setPositionFromValue:BR,onLeft:MR,onRight:r6,onUp:FR,onDown:NR,edgeActions:IR}),a6=[Ie("stepSize",1),Ie("onChange",ve),Ie("onChoose",ve),Ie("onInit",ve),Ie("onDragStart",ve),Ie("onDragEnd",ve),Ie("snapToGrid",!1),Ie("rounded",!0),_a("snapStart"),ms("model",wc("mode",{x:[Ie("minX",0),Ie("maxX",100),Gu("value",function(t){return kr(t.mode.minX)}),Gt("getInitialValue"),io("manager",_R)],y:[Ie("minY",0),Ie("maxY",100),Gu("value",function(t){return kr(t.mode.minY)}),Gt("getInitialValue"),io("manager",D4)],xy:[Ie("minX",0),Ie("maxX",100),Ie("minY",0),Ie("maxY",100),Gu("value",function(t){return kr({x:t.mode.minX,y:t.mode.minY})}),Gt("getInitialValue"),io("manager",$R)]})),Oi("sliderBehaviours",[dr,Ln]),Gu("mouseIsDown",function(){return kr(!1)})],o6=function(t,r,o,s){var v,m=function(Pe){return df(Pe,t,"thumb")},h=function(Pe){return df(Pe,t,"spectrum")},C=function(Pe){return Ja(Pe,t,"left-edge")},S=function(Pe){return Ja(Pe,t,"right-edge")},T=function(Pe){return Ja(Pe,t,"top-edge")},_=function(Pe){return Ja(Pe,t,"bottom-edge")},P=t.model,V=P.manager,q=function(Pe,dt){V.setPositionFromValue(Pe,dt,t,{getLeftEdge:C,getRightEdge:S,getTopEdge:T,getBottomEdge:_,getSpectrum:h})},Q=function(Pe,dt){P.value.set(dt);var zt=m(Pe);q(Pe,zt)},le=function(Pe,dt){Q(Pe,dt);var zt=m(Pe);return t.onChange(Pe,zt,dt),A.some(!0)},De=function(Pe){V.setToMin(Pe,t)},ie=function(Pe){V.setToMax(Pe,t)},Be=function(Pe){var dt=function(){Ja(Pe,t,"thumb").each(function(zn){var tn=P.value.get();t.onChoose(Pe,zn,tn)})},zt=t.mouseIsDown.get();t.mouseIsDown.set(!1),zt&&dt()},Tt=function(Pe,dt){dt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Pe,m(Pe))},kt=function(Pe,dt){dt.stop(),t.onDragEnd(Pe,m(Pe)),Be(Pe)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Vi(t.sliderBehaviours,[dr.config({mode:"special",focusIn:function(Pe){return Ja(Pe,t,"spectrum").map(dr.focusIn).map(rt)}}),Ln.config({store:{mode:"manual",getValue:function(Pe){return P.value.get()}}}),Mu.config({channels:(v={},v[lw()]={onReceive:Be},v)})]),events:ro([rn(T0(),function(Pe,dt){le(Pe,dt.event.value)}),Kr(function(Pe,dt){var zt=P.getInitialValue();P.value.set(zt);var zn=m(Pe);q(Pe,zn);var tn=h(Pe);t.onInit(Pe,zn,tn,P.value.get())}),rn(Xl(),Tt),rn(kv(),kt),rn(Xc(),Tt),rn(ey(),kt)]),apis:{resetToMin:De,resetToMax:ie,setValue:Q,refresh:q},domModification:{styles:{position:"relative"}}}},Cf=ts({name:"Slider",configFields:a6,partFields:sR,factory:o6,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),zk=nr("rgb-hex-update"),LR=nr("slider-update"),_4=nr("palette-update"),i6=function(t,r){var o=Cf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=Cf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return Cf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:j({y:0})},components:[o,s],sliderBehaviours:Pn([Lr.config({})]),onChange:function(v,m,h){Tr(v,LR,{value:h})}})},zR="form",R4=[Oi("formBehaviours",[Ln])],HR=function(t){return"<alloy.field."+t+">"},u6=function(t){var r=function(){var m=[],h=function(C,S){return m.push(C),Ew(zR,HR(C),S)};return{field:h,record:j(m)}}(),o=t(r),s=r.record(),v=pt(s,function(m){return su({name:m,pname:HR(m)})});return Rw(zR,R4,v,c6,o)},s6=function(t,r){return t.fold(function(){return Qr.error(r)},Qr.value)},c6=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:Vi(t.formBehaviours,[Ln.config({store:{mode:"manual",getValue:function(o){var s=CS(o,t);return hn(s,function(v,m){return v().bind(function(h){var C=fa.getCurrent(h);return s6(C,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+Ku(h.element)))}).map(Ln.getValue)})},setValue:function(o,s){Fn(s,function(v,m){Ja(o,t,m).each(function(h){fa.getCurrent(h).each(function(C){Ln.setValue(C,v)})})})}}})]),apis:{getField:function(o,s){return Ja(o,t,s).bind(fa.getCurrent)}}}},D0={getField:Mo(function(t,r,o){return t.getField(r,o)}),sketch:u6},VR=nr("valid-input"),UR=nr("invalid-input"),P4=nr("validating-input"),B4="colorcustom.rgb.",l6=function(t,r,o,s){var v=function(V,q){return sd.config({invalidClass:r("invalid"),notify:{onValidate:function(Q){Tr(Q,P4,{type:V})},onValid:function(Q){Tr(Q,VR,{type:V,value:Ln.getValue(Q)})},onInvalid:function(Q){Tr(Q,UR,{type:V,value:Ln.getValue(Q)})}},validator:{validate:function(Q){var le=Ln.getValue(Q),De=q(le)?Qr.value(!0):Qr.error(t("aria.input.invalid"));return Lu.pure(De)},validateOnLoad:!1}})},m=function(V,q,Q,le,De){var ie=t(B4+"range"),Be=Pa.parts.label({dom:{tag:"label",innerHtml:Q,attributes:{"aria-label":le}}}),Tt=Pa.parts.field({data:De,factory:y0,inputAttributes:U({type:"text"},q==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Pn([v(q,V),ti.config({})]),onSetValue:function(zt){if(sd.isInvalid(zt)){var zn=sd.run(zt);zn.get(ve)}}}),kt=[Be,Tt],Pe=q!=="hex"?[Pa.parts["aria-descriptor"]({text:ie})]:[],dt=kt.concat(Pe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:dt}},h=function(V,q){var Q=w2(q);return D0.getField(V,"hex").each(function(le){Lr.isFocused(le)||Ln.setValue(V,{hex:Q.value})}),Q},C=function(V,q){var Q=q.red,le=q.green,De=q.blue;Ln.setValue(V,{red:Q,green:le,blue:De})},S=za({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),T=function(V,q){S.getOpt(V).each(function(Q){Mr(Q.element,"background-color","#"+q.value)})},_=function(){var V={red:kr(A.some(255)),green:kr(A.some(255)),blue:kr(A.some(255)),hex:kr(A.some("ffffff"))},q=function(Lt,An){var rr=C2(An);C(Lt,rr),ie(rr)},Q=function(Lt){return V[Lt].get()},le=function(Lt,An){V[Lt].set(An)},De=function(){return Q("red").bind(function(Lt){return Q("green").bind(function(An){return Q("blue").map(function(rr){return dm(Lt,An,rr,1)})})})},ie=function(Lt){var An=Lt.red,rr=Lt.green,Zt=Lt.blue;le("red",A.some(An)),le("green",A.some(rr)),le("blue",A.some(Zt))},Be=function(Lt,An){var rr=An.event;rr.type!=="hex"?le(rr.type,A.none()):s(Lt)},Tt=function(Lt,An){o(Lt);var rr=ZD(An);le("hex",A.some(An));var Zt=C2(rr);C(Lt,Zt),ie(Zt),Tr(Lt,zk,{hex:rr}),T(Lt,rr)},kt=function(Lt,An,rr){var Zt=parseInt(rr,10);le(An,A.some(Zt)),De().each(function(Qn){var fr=h(Lt,Qn);Tr(Lt,zk,{hex:fr}),T(Lt,fr)})},Pe=function(Lt){return Lt.type==="hex"},dt=function(Lt,An){var rr=An.event;Pe(rr)?Tt(Lt,rr.value):kt(Lt,rr.type,rr.value)},zt=function(Lt){return{label:t(B4+Lt+".label"),description:t(B4+Lt+".description")}},zn=zt("red"),tn=zt("green"),Hn=zt("blue"),on=zt("hex");return Bt(D0.sketch(function(Lt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Lt.field("red",Pa.sketch(m(rk,"red",zn.label,zn.description,255))),Lt.field("green",Pa.sketch(m(rk,"green",tn.label,tn.description,255))),Lt.field("blue",Pa.sketch(m(rk,"blue",Hn.label,Hn.description,255))),Lt.field("hex",Pa.sketch(m(e_,"hex",on.label,on.description,"ffffff"))),S.asSpec()],formBehaviours:Pn([sd.config({invalidClass:r("form-invalid")}),Xr("rgb-form-events",[rn(VR,dt),rn(UR,Be),rn(P4,Be)])])}}),{apis:{updateHex:function(Lt,An){Ln.setValue(Lt,{hex:An.value}),q(Lt,An),T(Lt,An)}}})},P=fc({factory:_,name:"RgbForm",configFields:[],apis:{updateHex:function(V,q,Q){V.updateHex(q,Q)}},extraApis:{}});return P},WR=function(t,r){var o=Cf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=Cf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),v=function(T,_){var P=T.width,V=T.height,q=T.getContext("2d");if(q!==null){q.fillStyle=_,q.fillRect(0,0,P,V);var Q=q.createLinearGradient(0,0,P,0);Q.addColorStop(0,"rgba(255,255,255,1)"),Q.addColorStop(1,"rgba(255,255,255,0)"),q.fillStyle=Q,q.fillRect(0,0,P,V);var le=q.createLinearGradient(0,0,0,V);le.addColorStop(0,"rgba(0,0,0,0)"),le.addColorStop(1,"rgba(0,0,0,1)"),q.fillStyle=le,q.fillRect(0,0,P,V)}},m=function(T,_){var P=T.components()[0].element.dom,V=S2(_,100,100),q=zA(V);v(P,r_(q))},h=function(T,_){var P=VA(C2(_));Cf.setValue(T,{x:P.saturation,y:100-P.value})},C=function(T){var _=j({x:0,y:0}),P=function(Q,le,De){Tr(Q,_4,{value:De})},V=function(Q,le,De,ie){v(De.element.dom,r_(a_))},q=Pn([fa.config({find:A.some}),Lr.config({})]);return Cf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:_},rounded:!1,components:[o,s],onChange:P,onInit:V,sliderBehaviours:q})},S=fc({factory:C,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(T,_,P){m(_,P)},setThumb:function(T,_,P){h(_,P)}},extraApis:{}});return S},f6=function(t,r){var o=function(v){var m=l6(t,r,v.onValidHex,v.onInvalidHex),h=WR(t,r),C=function(dt){return(100-dt)/100*360},S=function(dt){return 100-dt/360*100},T={paletteRgba:kr(a_),paletteHue:kr(0)},_=za(i6(t,r)),P=za(h.sketch({})),V=za(m.sketch({})),q=function(dt,zt,zn){P.getOpt(dt).each(function(tn){h.setHue(tn,zn)})},Q=function(dt,zt){V.getOpt(dt).each(function(zn){m.updateHex(zn,zt)})},le=function(dt,zt,zn){_.getOpt(dt).each(function(tn){Cf.setValue(tn,{y:S(zn)})})},De=function(dt,zt){P.getOpt(dt).each(function(zn){h.setThumb(zn,zt)})},ie=function(dt,zt){var zn=C2(dt);T.paletteRgba.set(zn),T.paletteHue.set(zt)},Be=function(dt,zt,zn,tn){ie(zt,zn),qe(tn,function(Hn){Hn(dt,zt,zn)})},Tt=function(){var dt=[Q];return function(zt,zn){var tn=zn.event.value,Hn=T.paletteHue.get(),on=S2(Hn,tn.x,100-tn.y),Lt=UA(on);Be(zt,Lt,Hn,dt)}},kt=function(){var dt=[q,Q];return function(zt,zn){var tn=C(zn.event.value.y),Hn=T.paletteRgba.get(),on=VA(Hn),Lt=S2(tn,on.saturation,on.value),An=UA(Lt);Be(zt,An,tn,dt)}},Pe=function(){var dt=[q,le,De];return function(zt,zn){var tn=zn.event.hex,Hn=y5(tn);Be(zt,tn,Hn.hue,dt)}};return{uid:v.uid,dom:v.dom,components:[P.asSpec(),_.asSpec(),V.asSpec()],behaviours:Pn([Xr("colour-picker-events",[rn(zk,Pe()),rn(_4,Tt()),rn(LR,kt())]),fa.config({find:function(dt){return V.getOpt(dt)}}),dr.config({mode:"acyclic"})])}},s=fc({name:"ColourPicker",configFields:[Gt("dom"),Ie("onValidHex",ve),Ie("onInvalidHex",ve)],factory:o});return s},v6=function(){return fa.config({find:A.some})},d6=function(t){return fa.config({find:t.getOpt})},jR=function(t){return fa.config({find:function(r){return k(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},vv={self:v6,memento:d6,childAt:jR},m6={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},GR=function(t){return m6[t]},qR=function(t){return GR(t)},KR=function(t){var r=function(h){return"tox-"+h},o=f6(qR,r),s=function(h){Tr(h,ud,{name:"hex-valid",value:!0})},v=function(h){Tr(h,ud,{name:"hex-valid",value:!1})},m=za(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:v}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:Pn([Ln.config({store:{mode:"manual",getValue:function(h){var C=m.get(h),S=fa.getCurrent(C),T=S.bind(function(_){var P=Ln.getValue(_);return P.hex});return T.map(function(_){return"#"+_}).getOr("")},setValue:function(h,C){var S=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,T=S.exec(C),_=m.get(h),P=fa.getCurrent(_);P.fold(function(){console.log("Can not find form")},function(V){Ln.setValue(V,{hex:A.from(T[1]).getOr("")}),D0.getField(V,"hex").each(function(q){Aa(q,wd())})})}}}),vv.self()])}},g6=tinymce.util.Tools.resolve("tinymce.Resource"),XR=function(t){return sn(t,"init")},YR=function(t){var r=Xo(),o=za({dom:{tag:t.tag}}),s=Xo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Pn([Xr("custom-editor-events",[Kr(function(v){o.getOpt(v).each(function(m){(XR(t)?t.init(m.element.dom):g6.load(t.scriptId,t.scriptUrl).then(function(h){return h(m.element.dom,t.settings)})).then(function(h){s.on(function(C){h.setValue(C)}),s.clear(),r.set(h)})})})]),Ln.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(v){return v.getValue()})},setValue:function(v,m){r.get().fold(function(){s.set(m)},function(h){return h.setValue(m)})}}}),vv.self()]),components:[o.asSpec()]}},Jg=tinymce.util.Tools.resolve("tinymce.util.Tools"),p6=br([Ie("preprocess",Ne),Ie("postprocess",Ne)]),h6=function(t,r){var o=Ua("RepresentingConfigs.memento processors",p6,r);return Ln.config({store:{mode:"manual",getValue:function(s){var v=t.get(s),m=Ln.getValue(v);return o.postprocess(m)},setValue:function(s,v){var m=o.preprocess(v),h=t.get(s);Ln.setValue(h,m)}}})},ZR=function(t,r,o){return Ln.config(Bt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},M4=function(t,r,o){return ZR(t,function(s){return r(s.element)},function(s,v){return o(s.element,v)})},b6=function(t){return M4(t,ef,jm)},JR=function(t){return M4(t,Yl,jf)},y6=function(t){return Ln.config({store:{mode:"memory",initialValue:t}})},Mh={memento:h6,withElement:M4,withComp:ZR,domValue:b6,domHtml:JR,memory:y6},w6="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",Ta=function(t,r){var o=Jg.explode(r.getSetting("images_file_types",w6,"string")),s=function(v){return an(o,function(m){return ir(v.name.toLowerCase(),"."+m.toLowerCase())})};return Me(Qt(t),s)},_0=function(t,r){var o=function(P,V){V.stop()},s=function(P){return function(V,q){qe(P,function(Q){Q(V,q)})}},v=function(P,V){if(!xr.isDisabled(P)){var q=V.event.raw;h(P,q.dataTransfer.files)}},m=function(P,V){var q=V.event.raw.target;h(P,q.files)},h=function(P,V){Ln.setValue(P,Ta(V,r)),Tr(P,Bc,{name:t.name})},C=za({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Pn([Xr("input-file-events",[kd(Im()),kd(Ev())])])}),S=function(P){return{uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Pn([Mh.memory([]),vv.self(),xr.config({}),pa.config({toggleClass:"dragenter",toggleOnExecute:!1}),Xr("dropzone-events",[rn("dragenter",s([o,pa.toggle])),rn("dragleave",s([o,pa.toggle])),rn("dragover",o),rn("drop",s([o,v])),rn(Nm(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Hs.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[C.asSpec()],action:function(V){var q=C.get(V);q.element.dom.click()},buttonBehaviours:Pn([ti.config({}),Ml.button(r.isDisabled),Mi()])})]}]}},T=t.label.map(function(P){return mm(P,r)}),_=Pa.parts.field({factory:{sketch:S}});return T2(T,_,["tox-form__group--stretched"],[])},QR=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:pt(t.items,r.interpreter)}},Hk=nr("alloy-fake-before-tabstop"),Vk=nr("alloy-fake-after-tabstop"),eP=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Pn([Lr.config({ignore:!0}),ti.config({})])}},tP=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[eP([Hk]),t,eP([Vk])],behaviours:Pn([vv.childAt(1)])}},nP=function(t,r){Tr(t,o1(),{raw:{which:9,shiftKey:r}})},rP=function(t,r){var o=r.element;Xu(o,Hk)?nP(t,!0):Xu(o,Vk)&&nP(t,!1)},F2=function(t){return k2(t,["."+Hk,"."+Vk].join(","),st)},C6=!(Sr().browser.isIE()||Sr().browser.isEdge()),S6=function(t){var r=kr("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)Zr(o.element,"srcdoc",s);else{Zr(o.element,"src","javascript:''");var v=o.element.dom.contentWindow.document;v.open(),v.write(s),v.close()}r.set(s)}}},x6=function(t,r){var o=C6&&t.sandboxed,s=U(U({},t.label.map(function(S){return{title:S}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),v=S6(o),m=t.label.map(function(S){return mm(S,r)}),h=function(S){return tP({uid:S.uid,dom:{tag:"iframe",attributes:s},behaviours:Pn([ti.config({}),Lr.config({}),Mh.withComp(A.none(),v.getValue,v.setValue)])})},C=Pa.parts.field({factory:{sketch:h}});return T2(m,C,["tox-form__group--stretched"],[])},R0=function(t,r){return T6(document.createElement("canvas"),t,r)},k6=function(t){var r=R0(t.width,t.height),o=ym(r);return o.drawImage(t,0,0),r},ym=function(t){return t.getContext("2d")},T6=function(t,r,o){return t.width=r,t.height=o,t},F4=function(t){return t.naturalWidth||t.width},N4=function(t){return t.naturalHeight||t.height},E6=function(t){return new yf(function(r,o){var s=URL.createObjectURL(t),v=new Image,m=function(){v.removeEventListener("load",h),v.removeEventListener("error",C)},h=function(){m(),r(v)},C=function(){m(),o("Unable to load data of type "+t.type+": "+s)};v.addEventListener("load",h),v.addEventListener("error",C),v.src=s,v.complete&&setTimeout(h,0)})},aP=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return A.none();for(var s=o[1],v=r[1],m=1024,h=atob(v),C=h.length,S=Math.ceil(C/m),T=new Array(S),_=0;_<S;++_){for(var P=_*m,V=Math.min(P+m,C),q=new Array(V-P),Q=P,le=0;Q<V;++le,++Q)q[le]=h[Q].charCodeAt(0);T[_]=new Uint8Array(q)}return A.some(new Blob(T,{type:s}))},A6=function(t){return new yf(function(r,o){aP(t).fold(function(){o("uri is not base64: "+t)},r)})},oP=function(t,r,o){return r=r||"image/png",ze(HTMLCanvasElement.prototype.toBlob)?new yf(function(s,v){t.toBlob(function(m){m?s(m):v()},r,o)}):A6(t.toDataURL(r,o))},O6=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},D6=function(t){return E6(t).then(function(r){R6(r);var o=R0(F4(r),N4(r)),s=ym(o);return s.drawImage(r,0,0),o})},_6=function(t){return new yf(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},R6=function(t){URL.revokeObjectURL(t.src)},I4=function(t,r,o){var s=r.type,v=j(s),m=function(){return yf.resolve(r)},h=j(o),C=function(){return o.split(",")[1]},S=function(V,q){return t.then(function(Q){return oP(Q,V,q)})},T=function(V,q){return t.then(function(Q){return O6(Q,V,q)})},_=function(V,q){return T(V,q).then(function(Q){return Q.split(",")[1]})},P=function(){return t.then(k6)};return{getType:v,toBlob:m,toDataURL:h,toBase64:C,toAdjustedBlob:S,toAdjustedDataURL:T,toAdjustedBase64:_,toCanvas:P}},P6=function(t){return _6(t).then(function(r){return I4(D6(t),t,r)})},Qg=function(t,r){return oP(t,r).then(function(o){return I4(yf.resolve(t),o,t.toDataURL())})},B6=function(t){return P6(t)},P0=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},$4=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},Uk=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],L4=function(t,r){for(var o=[],s=new Array(25),v,m=0;m<5;m++){for(var h=0;h<5;h++)o[h]=r[h+m*5];for(var h=0;h<5;h++){v=0;for(var C=0;C<5;C++)v+=t[h+C*5]*o[C];s[h+m*5]=v}}return s},M6=function(t,r){var o;return r=P0(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=Uk[r]:o=Uk[Math.floor(r)]*(1-o)+Uk[Math.floor(r)+1]*o,o=o*127+127),L4(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},F6=function(t,r){return r=P0(255*r,-255,255),L4(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},N6=function(t,r,o,s){return r=P0(r,0,2),o=P0(o,0,2),s=P0(s,0,2),L4(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},z4=function(t,r){return t.toCanvas().then(function(o){return I6(o,t.getType(),r)})},I6=function(t,r,o){var s=ym(t),v=function(h,C){for(var S,T,_,P,V=h.data,q=C[0],Q=C[1],le=C[2],De=C[3],ie=C[4],Be=C[5],Tt=C[6],kt=C[7],Pe=C[8],dt=C[9],zt=C[10],zn=C[11],tn=C[12],Hn=C[13],on=C[14],Lt=C[15],An=C[16],rr=C[17],Zt=C[18],Qn=C[19],fr=0;fr<V.length;fr+=4)S=V[fr],T=V[fr+1],_=V[fr+2],P=V[fr+3],V[fr]=S*q+T*Q+_*le+P*De+ie,V[fr+1]=S*Be+T*Tt+_*kt+P*Pe+dt,V[fr+2]=S*zt+T*zn+_*tn+P*Hn+on,V[fr+3]=S*Lt+T*An+_*rr+P*Zt+Qn;return h},m=v(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(m,0,0),Qg(t,r)},N2=function(t,r){return t.toCanvas().then(function(o){return $6(o,t.getType(),r)})},$6=function(t,r,o){var s=ym(t),v=function(C,S,T){for(var _=function(An,rr,Zt){return An>Zt?An=Zt:An<rr&&(An=rr),An},P=Math.round(Math.sqrt(T.length)),V=Math.floor(P/2),q=C.data,Q=S.data,le=C.width,De=C.height,ie=0;ie<De;ie++)for(var Be=0;Be<le;Be++){for(var Tt=0,kt=0,Pe=0,dt=0;dt<P;dt++)for(var zt=0;zt<P;zt++){var zn=_(Be+zt-V,0,le-1),tn=_(ie+dt-V,0,De-1),Hn=(tn*le+zn)*4,on=T[dt*P+zt];Tt+=q[Hn]*on,kt+=q[Hn+1]*on,Pe+=q[Hn+2]*on}var Lt=(ie*le+Be)*4;Q[Lt]=_(Tt,0,255),Q[Lt+1]=_(kt,0,255),Q[Lt+2]=_(Pe,0,255)}return S},m=s.getImageData(0,0,t.width,t.height),h=s.getImageData(0,0,t.width,t.height);return h=v(m,h,o),s.putImageData(h,0,0),Qg(t,r)},H4=function(t){var r=function(o,s,v){for(var m=ym(o),h=new Array(256),C=function(_,P){for(var V=_.data,q=0;q<V.length;q+=4)V[q]=P[V[q]],V[q+1]=P[V[q+1]],V[q+2]=P[V[q+2]];return _},S=0;S<h.length;S++)h[S]=t(S,v);var T=C(m.getImageData(0,0,o.width,o.height),h);return m.putImageData(T,0,0),Qg(o,s)};return function(o,s){return o.toCanvas().then(function(v){return r(v,o.getType(),s)})}},iP=function(t){return function(r,o){return z4(r,t($4(),o))}},L6=function(t){return function(r){return z4(r,t)}},z6=function(t){return function(r){return N2(r,t)}},H6=L6([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),uP=iP(F6),sP=iP(M6),V6=function(t,r,o,s){return z4(t,N6($4(),r,o,s))},Wk=z6([0,-1,0,-1,5,-1,0,-1,0]),jk=H4(function(t,r){return Math.pow(t/255,1-r)*255}),cP=function(t,r,o){var s=F4(t),v=N4(t),m=r/s,h=o/v,C=!1;(m<.5||m>2)&&(m=m<.5?.5:2,C=!0),(h<.5||h>2)&&(h=h<.5?.5:2,C=!0);var S=U6(t,m,h);return C?S.then(function(T){return cP(T,r,o)}):S},U6=function(t,r,o){return new yf(function(s){var v=F4(t),m=N4(t),h=Math.floor(v*r),C=Math.floor(m*o),S=R0(h,C),T=ym(S);T.drawImage(t,0,0,v,m,0,0,h,C),s(S)})},lP=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},W6=function(t,r){return t.toCanvas().then(function(o){return V4(o,t.getType(),r)})},V4=function(t,r,o){var s=o<0?360+o:o,v=s*Math.PI/180,m=t.width,h=t.height,C=Math.sin(v),S=Math.cos(v),T=lP(Math.abs(m*S)+Math.abs(h*C)),_=lP(Math.abs(m*C)+Math.abs(h*S)),P=R0(T,_),V=ym(P);return V.translate(T/2,_/2),V.rotate(v),V.drawImage(t,-m/2,-h/2),Qg(P,r)},U4=function(t,r){return t.toCanvas().then(function(o){return fP(o,t.getType(),r)})},fP=function(t,r,o){var s=R0(t.width,t.height),v=ym(s);return o==="v"?(v.scale(1,-1),v.drawImage(t,0,-s.height)):(v.scale(-1,1),v.drawImage(t,-s.width,0)),Qg(s,r)},j6=function(t,r,o,s,v){return t.toCanvas().then(function(m){return W4(m,t.getType(),r,o,s,v)})},W4=function(t,r,o,s,v,m){var h=R0(v,m),C=ym(h);return C.drawImage(t,-o,-s),Qg(h,r)},G6=function(t,r,o){return t.toCanvas().then(function(s){return cP(s,r,o).then(function(v){return Qg(v,t.getType())})})},q6=function(t){return H6(t)},vP=function(t){return Wk(t)},K6=function(t,r){return jk(t,r)},I2=function(t,r,o,s){return V6(t,r,o,s)},X6=function(t,r){return uP(t,r)},Y6=function(t,r){return sP(t,r)},dP=function(t,r){return U4(t,r)},Z6=function(t,r,o,s,v){return j6(t,r,o,s,v)},mP=function(t,r,o){return G6(t,r,o)},gP=function(t,r){return W6(t,r)},pP=function(t,r,o){return bf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},Gk=function(t,r){return pP(t,r,[])},hP=function(t,r){return pP(t,r,[$r.config({})])},j4=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Pn([$r.config({})])}},qk,bP=nr("toolbar.button.execute"),J6=function(t){return $s(function(r,o){Qx(t,r)(function(s){Tr(r,bP,{buttonApi:s}),t.onAction(s)})})},yP=(qk={},qk[nc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],qk),Fh=nr("update-menu-text"),G4=nr("update-menu-icon"),q4=function(t,r,o){var s=kr(ve),v=t.text.map(function(P){return za(j4(P,r,o.providers))}),m=t.icon.map(function(P){return za(hP(P,o.providers.icons))}),h=function(P,V){var q=Ln.getValue(P);return Lr.focus(q),Tr(q,"keydown",{raw:V.event.raw}),wf.close(q),A.some(!0)},C=t.role.fold(function(){return{}},function(P){return{role:P}}),S=t.tooltip.fold(function(){return{}},function(P){var V=o.providers.translate(P);return{title:V,"aria-label":V}}),T=bf("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),_=za(wf.sketch(U(U(U({},t.uid?{uid:t.uid}:{}),C),{dom:{tag:"button",classes:[r,r+"--select"].concat(pt(t.classes,function(P){return r+"--"+P})),attributes:U({},S)},components:v0([m.map(function(P){return P.asSpec()}),v.map(function(P){return P.asSpec()}),A.some(T)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Pn(He(He([],t.dropdownBehaviours,!0),[Ml.button(function(){return t.disabled||o.providers.isDisabled()}),Mi(),x0.config({}),$r.config({}),Xr("dropdown-events",[f0(t,s),b2(t,s)]),Xr("menubutton-update-display-text",[rn(Fh,function(P,V){v.bind(function(q){return q.getOpt(P)}).each(function(q){$r.set(q,[ru(o.providers.translate(V.event.text))])})}),rn(G4,function(P,V){m.bind(function(q){return q.getOpt(P)}).each(function(q){$r.set(q,[hP(V.event.icon,o.providers.icons)])})})])],!1)),eventOrder:Bt(yP,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Pn([dr.config({mode:"special",onLeft:h,onRight:h})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:Wx(!1,t.columns,t.presets)},fetch:function(P){return Lu.nu(un(t.fetch,P))}})));return _.asSpec()},Q6=function(t){return we(t)},vc=function(t){return t.type==="separator"},eI=function(t){return sn(t,"getSubmenuItems")},K4={type:"separator"},wP=function(t,r){var o=qt(t,function(s,v){return Q6(v)?v===""?s:v==="|"?s.length>0&&!vc(s[s.length-1])?s.concat([K4]):s:sn(r,v.toLowerCase())?s.concat([r[v.toLowerCase()]]):s:s.concat([v])},[]);return o.length>0&&vc(o[o.length-1])&&o.pop(),o},CP=function(t,r){var o=t.getSubmenuItems(),s=$2(o,r),v=Bt(s.menus,ql(t.value,s.items)),m=Bt(s.expansions,ql(t.value,t.value));return{item:t,menus:v,expansions:m}},Kk=function(t,r){return eI(t)?CP(t,r):{item:t,menus:{},expansions:{}}},tI=function(t){if(vc(t))return t;var r=wt(t,"value").getOrThunk(function(){return nr("generated-menu-item")});return Bt({value:r},t)},$2=function(t,r){var o=wP(we(t)?t.split(" "):t,r);return bt(o,function(s,v){var m=tI(v),h=Kk(m,r);return{menus:Bt(s.menus,h.menus),items:[h.item].concat(s.items),expansions:Bt(s.expansions,h.expansions)}},{menus:{},expansions:{},items:[]})},B0=function(t,r,o,s){var v=nr("primary-menu"),m=$2(t,o.shared.providers.menuItems());if(m.items.length===0)return A.none();var h=S_(v,m.items,r,o,s),C=hn(m.menus,function(T,_){return S_(_,T,r,o,!1)}),S=Bt(C,ql(v,h));return A.from(Wa.tieredData(v,S,m.expansions))},L2=function(t){return{isDisabled:function(){return xr.isDisabled(t)},setDisabled:function(r){return xr.set(t,r)},setActive:function(r){var o=t.element;r?(xi(o,"tox-tbtn--enabled"),Zr(o,"aria-pressed",!0)):(vi(o,"tox-tbtn--enabled"),$i(o,"aria-pressed"))},isActive:function(){return Xu(t.element,"tox-tbtn--enabled")}}},Xk=function(t,r,o,s){return q4({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(v,m){t.fetch(function(h){m(B0(h,iv.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:L2,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ti.config({})]},r,o.shared)},Fl=function(t,r,o){var s=function(m){return function(h){var C=!h.isActive();h.setActive(C),m.storage.set(C),o.shared.getSink().each(function(S){r().getOpt(S).each(function(T){kl(T.element),Tr(T,ud,{name:m.name,value:m.storage.get()})})})}},v=function(m){return function(h){h.setActive(m.storage.get())}};return function(m){m(pt(t,function(h){var C=h.text.fold(function(){return{}},function(S){return{text:S}});return U(U({type:h.type,active:!1},C),{onAction:s(h),onSetup:v(h)})}))}},SP=function(t,r,o,s,v,m){o===void 0&&(o=[]);var h=r.fold(function(){return{}},function(T){return{action:T}}),C=U({buttonBehaviours:Pn([Ml.button(function(){return t.disabled||m.isDisabled()}),Mi(),ti.config({}),Xr("button press",[d1("click"),d1("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},h),S=Bt(C,{dom:s});return Bt(S,{components:v})},X4=function(t,r,o,s){s===void 0&&(s=[]);var v=t.tooltip.map(function(S){return{"aria-label":o.translate(S),title:o.translate(S)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:v},h=t.icon.map(function(S){return Gk(S,o.icons)}),C=v0([h]);return SP(t,r,s,m,C,o)},xP=function(t,r,o,s){s===void 0&&(s=[]);var v=X4(t,A.some(r),o,s);return Hs.sketch(v)},kP=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var m=o.translate(t.text),h=t.icon?t.icon.map(function(P){return Gk(P,o.icons)}):A.none(),C=h.isSome()?v0([h]):[],S=h.isSome()?{}:{innerHtml:m},T=He(He(He(He([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),h.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),v,!0),_=U(U({tag:"button",classes:T},S),{attributes:{title:m}});return SP(t,r,s,_,C,o)},Y4=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var m=kP(t,A.some(r),o,s,v);return Hs.sketch(m)},TP=function(t,r){return function(o){r==="custom"?Tr(o,ud,{name:t,value:{}}):r==="submit"?Aa(o,A2):r==="cancel"?Aa(o,Ph):console.error("Unknown button type: ",r)}},nI=function(t,r){return r==="menu"},rI=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},Yk=function(t,r,o){if(nI(t,r)){var s=function(){return h},v=t,m=U(U({},t),{onSetup:function(T){return T.setDisabled(t.disabled),ve},fetch:Fl(v.items,s,o)}),h=za(Xk(m,"tox-tbtn",o,A.none()));return h.asSpec()}else if(rI(t,r)){var C=TP(t.name,r),S=U(U({},t),{borderless:!1});return Y4(S,C,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},aI=function(t,r){var o=TP(t.name,"custom");return iN(A.none(),Pa.parts.field(U({factory:Hs},kP(t,A.some(o),r,[Mh.memory(""),vv.self()]))))},oI=j([Ie("field1Name","field1"),Ie("field2Name","field2"),Zu("onLockedChange"),Bd(["lockClass"]),Ie("locked",!1),Ec.field("coupledFieldBehaviours",[fa,Ln])]),EP=function(t,r,o){return Ja(t,r,o).bind(fa.getCurrent)},Z4=function(t,r){return su({factory:Pa,name:t,overrides:function(o){return{fieldBehaviours:Pn([Xr("coupled-input-behaviour",[rn(wd(),function(s){EP(s,o,r).each(function(v){Ja(s,o,"lock").each(function(m){pa.isOn(m)&&o.onLockedChange(s,v,m)})})})])])}}})},AP=j([Z4("field1","field2"),Z4("field2","field1"),su({factory:Hs,schema:[Gt("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Pn([pa.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),iI=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:Ec.augment(t.coupledFieldBehaviours,[fa.config({find:A.some}),Ln.config({store:{mode:"manual",getValue:function(v){var m,h=kb(v,t,["field1","field2"]);return m={},m[t.field1Name]=Ln.getValue(h.field1()),m[t.field2Name]=Ln.getValue(h.field2()),m},setValue:function(v,m){var h=kb(v,t,["field1","field2"]);Zn(m,t.field1Name)&&Ln.setValue(h.field1(),m[t.field1Name]),Zn(m,t.field2Name)&&Ln.setValue(h.field2(),m[t.field2Name])}}})]),apis:{getField1:function(v){return Ja(v,t,"field1")},getField2:function(v){return Ja(v,t,"field2")},getLock:function(v){return Ja(v,t,"lock")}}}},Mc=ts({name:"FormCoupledInputs",configFields:oI(),partFields:AP(),factory:iI,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),uI=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(v){return v in r?r[v]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},J4=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),v=o[2];return Qr.value({value:s,unit:v})}else return Qr.error(t)},OP=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(v){return sn(o,v)};return t.unit===r?A.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?A.some(t.value):A.some(t.value/o[t.unit]*o[r]):A.none()},Q4=function(t){return A.none()},sI=function(t,r){return function(o){return OP(o,r).map(function(s){return{value:s*t,unit:r}})}},cI=function(t,r){var o=J4(t).toOptional(),s=J4(r).toOptional();return Xa(o,s,function(v,m){return OP(v,m.unit).map(function(h){return m.value/h}).map(function(h){return sI(h,m.unit)}).getOr(Q4)}).getOr(Q4)},DP=function(t,r){var o=Q4,s=nr("ratio-event"),v=function(P){return bf(P,{tag:"span",classes:["tox-icon","tox-lock-icon__"+P]},r.icons)},m=Mc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[v("lock"),v("unlock")],buttonBehaviours:Pn([xr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Mi(),ti.config({})])}),h=function(P){return{dom:{tag:"div",classes:["tox-form__group"]},components:P}},C=function(P){return Pa.parts.field({factory:y0,inputClasses:["tox-textfield"],inputBehaviours:Pn([xr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Mi(),ti.config({}),Xr("size-input-events",[rn(Cc(),function(V,q){Tr(V,s,{isField1:P})}),rn(Nm(),function(V,q){Tr(V,Bc,{name:t.name})})])]),selectOnFocus:!1})},S=function(P){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(P)}}},T=Mc.parts.field1(h([Pa.parts.label(S("Width")),C(!0)])),_=Mc.parts.field2(h([Pa.parts.label(S("Height")),C(!1)]));return Mc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,_,h([S("&nbsp;"),m])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(P,V,q){J4(Ln.getValue(P)).each(function(Q){o(Q).each(function(le){Ln.setValue(V,uI(le))})})},coupledFieldBehaviours:Pn([xr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(P){Mc.getField1(P).bind(Pa.getField).each(xr.disable),Mc.getField2(P).bind(Pa.getField).each(xr.disable),Mc.getLock(P).each(xr.disable)},onEnabled:function(P){Mc.getField1(P).bind(Pa.getField).each(xr.enable),Mc.getField2(P).bind(Pa.getField).each(xr.enable),Mc.getLock(P).each(xr.enable)}}),Mi(),Xr("size-input-events2",[rn(s,function(P,V){var q=V.event.isField1,Q=q?Mc.getField1(P):Mc.getField2(P),le=q?Mc.getField2(P):Mc.getField1(P),De=Q.map(Ln.getValue).getOr(""),ie=le.map(Ln.getValue).getOr("");o=cI(De,ie)})])])})},lI=j(nr("undo")),fI=j(nr("redo")),vI=j(nr("zoom")),dI=j(nr("back")),mI=j(nr("apply")),gI=j(nr("swap")),pI=j(nr("transform")),_P=j(nr("temp-transform")),hI=j(nr("transform-apply")),as={undo:lI,redo:fI,zoom:vI,back:dI,apply:mI,swap:gI,transform:pI,tempTransform:_P,transformApply:hI},RP=j("save-state"),bI=j("disable"),yI=j("enable"),dc={formActionEvent:ud,saveState:RP,disable:bI,enable:yI},wI=function(t,r){var o=function(Gn,ta,ja,No){return za(Y4({name:Gn,text:Gn,disabled:ja,primary:No,icon:A.none(),borderless:!1},ta,r))},s=function(Gn,ta,ja,No){return za(xP({name:Gn,icon:A.some(Gn),tooltip:A.some(ta),disabled:No,primary:!1,borderless:!1},ja,r))},v=function(Gn,ta){Gn.map(function(ja){var No=ja.get(ta);No.hasConfigured(xr)&&xr.disable(No)})},m=function(Gn,ta){Gn.map(function(ja){var No=ja.get(ta);No.hasConfigured(xr)&&xr.enable(No)})},h={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},C=ve,S=function(Gn,ta,ja){Tr(Gn,ta,ja)},T=function(Gn){return Aa(Gn,dc.disable())},_=function(Gn){return Aa(Gn,dc.enable())},P=function(Gn,ta){T(Gn),S(Gn,as.transform(),{transform:ta}),_(Gn)},V=function(Gn,ta){T(Gn),S(Gn,as.tempTransform(),{transform:ta}),_(Gn)},q=function(Gn){return function(){bv.getOpt(Gn).each(function(ta){$r.set(ta,[sp])})}},Q=function(Gn,ta){T(Gn),S(Gn,as.transformApply(),{transform:ta,swap:q(Gn)}),_(Gn)},le=function(){return o("Back",function(Gn){return S(Gn,as.back(),{swap:q(Gn)})},!1,!1)},De=function(){return za({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Pn([xr.config({})])})},ie=function(){return o("Apply",function(Gn){return S(Gn,as.apply(),{swap:q(Gn)})},!0,!0)},Be=function(){return function(Gn){var ta=t.getRect();return Z6(Gn,ta.x,ta.y,ta.w,ta.h)}},Tt=[le(),De(),o("Apply",function(Gn){var ta=Be();Q(Gn,ta),t.hideCrop()},!1,!0)],kt=rs.sketch({dom:h,components:Tt.map(function(Gn){return Gn.asSpec()}),containerBehaviours:Pn([Xr("image-tools-crop-buttons-events",[rn(dc.disable(),function(Gn,ta){v(Tt,Gn)}),rn(dc.enable(),function(Gn,ta){m(Tt,Gn)})])])}),Pe=za(DP({name:"size",label:A.none(),constrain:!0,disabled:!1},r)),dt=function(Gn,ta){return function(ja){return mP(ja,Gn,ta)}},zt=[le(),De(),Pe,De(),o("Apply",function(Gn){Pe.getOpt(Gn).each(function(ta){var ja=Ln.getValue(ta),No=parseInt(ja.width,10),qs=parseInt(ja.height,10),Es=dt(No,qs);Q(Gn,Es)})},!1,!0)],zn=rs.sketch({dom:h,components:zt.map(function(Gn){return Gn.asSpec()}),containerBehaviours:Pn([Xr("image-tools-resize-buttons-events",[rn(dc.disable(),function(Gn,ta){v(zt,Gn)}),rn(dc.enable(),function(Gn,ta){m(zt,Gn)})])])}),tn=function(Gn,ta){return function(ja){return Gn(ja,ta)}},Hn=tn(dP,"h"),on=tn(dP,"v"),Lt=tn(gP,-90),An=tn(gP,90),rr=function(Gn,ta){V(Gn,ta)},Zt=[le(),De(),s("flip-horizontally","Flip horizontally",function(Gn){rr(Gn,Hn)},!1),s("flip-vertically","Flip vertically",function(Gn){rr(Gn,on)},!1),s("rotate-left","Rotate counterclockwise",function(Gn){rr(Gn,Lt)},!1),s("rotate-right","Rotate clockwise",function(Gn){rr(Gn,An)},!1),De(),ie()],Qn=rs.sketch({dom:h,components:Zt.map(function(Gn){return Gn.asSpec()}),containerBehaviours:Pn([Xr("image-tools-fliprotate-buttons-events",[rn(dc.disable(),function(Gn,ta){v(Zt,Gn)}),rn(dc.enable(),function(Gn,ta){m(Zt,Gn)})])])}),fr=function(Gn,ta,ja,No,qs){var Es=Cf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Gn)}}),Ic=Cf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Il=Cf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return za(Cf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:ja,maxX:qs,getInitialValue:j({x:No})},components:[Es,Ic,Il],sliderBehaviours:Pn([Lr.config({})]),onChoose:ta}))},ma=function(Gn,ta,ja,No,qs){var Es=function(Ic,Il,L0){var J2=tn(ta,L0.x/100);P(Ic,J2)};return fr(Gn,Es,ja,No,qs)},Va=function(Gn,ta,ja,No,qs){return[le(),ma(Gn,ta,ja,No,qs),ie()]},po=function(Gn,ta,ja,No,qs){var Es=Va(Gn,ta,ja,No,qs);return rs.sketch({dom:h,components:Es.map(function(Ic){return Ic.asSpec()}),containerBehaviours:Pn([Xr("image-tools-filter-panel-buttons-events",[rn(dc.disable(),function(Ic,Il){v(Es,Ic)}),rn(dc.enable(),function(Ic,Il){m(Es,Ic)})])])})},Wo=[le(),De(),ie()],Nc=rs.sketch({dom:h,components:Wo.map(function(Gn){return Gn.asSpec()})}),us=po("Brightness",X6,-100,0,100),ST=po("Contrast",Y6,-100,0,100),qi=po("Gamma",K6,-100,0,100),Wh=function(Gn,ta,ja){return function(No){return I2(No,Gn,ta,ja)}},jh=function(Gn){var ta=function(ja,No,qs){var Es=X2.getOpt(ja),Ic=Y2.getOpt(ja),Il=Gh.getOpt(ja);Es.each(function(L0){Ic.each(function(J2){Il.each(function(z0){var H$=Ln.getValue(L0).x/100,V$=Ln.getValue(z0).x/100,Kh=Ln.getValue(J2).x/100,H0=Wh(H$,V$,Kh);P(ja,H0)})})})};return fr(Gn,ta,0,100,200)},X2=jh("R"),Gh=jh("G"),Y2=jh("B"),Gs=[le(),X2,Gh,Y2,ie()],hv=rs.sketch({dom:h,components:Gs.map(function(Gn){return Gn.asSpec()})}),Ts=function(Gn,ta,ja){return function(No){var qs=function(){bv.getOpt(No).each(function(Es){$r.set(Es,[Gn]),ja(Es)})};S(No,as.swap(),{transform:ta,swap:qs})}},Z2=function(Gn){t.showCrop()},up=function(Gn){Pe.getOpt(Gn).each(function(ta){var ja=t.getMeasurements(),No=ja.width,qs=ja.height;Ln.setValue(ta,{width:No,height:qs})})},$0=A.some(vP),Ki=A.some(q6),Cm=[s("crop","Crop",Ts(kt,A.none(),Z2),!1),s("resize","Resize",Ts(zn,A.none(),up),!1),s("orientation","Orientation",Ts(Qn,A.none(),C),!1),s("brightness","Brightness",Ts(us,A.none(),C),!1),s("sharpen","Sharpen",Ts(Nc,$0,C),!1),s("contrast","Contrast",Ts(ST,A.none(),C),!1),s("color-levels","Color levels",Ts(hv,A.none(),C),!1),s("gamma","Gamma",Ts(qi,A.none(),C),!1),s("invert","Invert",Ts(Nc,Ki,C),!1)],sp=rs.sketch({dom:h,components:Cm.map(function(Gn){return Gn.asSpec()})}),qh=rs.sketch({dom:{tag:"div"},components:[sp],containerBehaviours:Pn([$r.config({})])}),bv=za(qh),cp=function(Gn){return bv.getOpt(Gn).map(function(ta){var ja=ta.components()[0];return ja.components()[ja.components().length-1]})};return{memContainer:bv,getApplyButton:cp}},PP=tinymce.util.Tools.resolve("tinymce.geom.Rect"),CI=tinymce.util.Tools.resolve("tinymce.util.Observable"),wm=tinymce.util.Tools.resolve("tinymce.util.VK"),SI=function(t){var r=Math.max,o=t.documentElement,s=t.body,v=r(o.scrollWidth,s.scrollWidth),m=r(o.clientWidth,s.clientWidth),h=r(o.offsetWidth,s.offsetWidth),C=r(o.scrollHeight,s.scrollHeight),S=r(o.clientHeight,s.clientHeight),T=r(o.offsetHeight,s.offsetHeight);return{width:v<h?m:v,height:C<T?S:C}},xI=function(t){return he(t.changedTouches)},eO=function(t){if(xI(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function kI(t,r){var o,s,v,m,h=[],C=[],S=(o=r.document)!==null&&o!==void 0?o:document,T=(s=r.root)!==null&&s!==void 0?s:S,_=ce.fromDom(S),P,V,q,Q=ce.fromDom(T.getElementById((v=r.handle)!==null&&v!==void 0?v:t)),le=function(Tt){var kt=Tt.raw,Pe=SI(S);eO(kt),Tt.prevent(),P=kt.button,V=kt.screenX,q=kt.screenY;var dt=$o(Q,"cursor");m=ce.fromTag("div",S),Rs(m,{position:"absolute",top:"0",left:"0",width:Pe.width+"px",height:Pe.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:dt}),wu(La(_),m),C.push(ei(_,"mousemove",De),ei(_,"touchmove",De),ei(_,"mouseup",ie),ei(_,"touchend",ie)),r.start(kt)},De=function(Tt){var kt=Tt.raw;if(eO(kt),kt.button!==P)return ie(Tt);kt.deltaX=kt.screenX-V,kt.deltaY=kt.screenY-q,Tt.prevent(),r.drag(kt)},ie=function(Tt){eO(Tt.raw),qe(C,function(kt){return kt.unbind()}),C=[],fs(m),r.stop&&r.stop(Tt.raw)},Be=function(){qe(C.concat(h),function(Tt){return Tt.unbind()}),C=[],h=[],he(m)&&fs(m)};return h.push(ei(Q,"mousedown",le),ei(Q,"touchstart",le)),{destroy:Be}}var TI=0,EI=function(t,r,o,s,v){var m,h=[],C="tox-",S=C+"crid-"+TI++,T=ce.fromDom(s),_=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],P=["top","right","bottom","left"],V=function(tn,Hn){return{x:Hn.x+tn.x,y:Hn.y+tn.y,w:Hn.w,h:Hn.h}},q=function(tn,Hn){return{x:Hn.x-tn.x,y:Hn.y-tn.y,w:Hn.w,h:Hn.h}},Q=function(){return q(o,t)},le=function(tn,Hn,on,Lt){var An=Hn.x+on*tn.deltaX,rr=Hn.y+Lt*tn.deltaY,Zt=Math.max(20,Hn.w+on*tn.deltaW),Qn=Math.max(20,Hn.h+Lt*tn.deltaH),fr=t=PP.clamp({x:An,y:rr,w:Zt,h:Qn},o,tn.name==="move");fr=q(o,fr),zn.fire("updateRect",{rect:fr}),Pe(fr)},De=function(){var tn=function(An){var rr;return kI(S,{document:s.ownerDocument,root:Pr(T).dom,handle:S+"-"+An.name,start:function(){rr=t},drag:function(Zt){le(An,rr,Zt.deltaX,Zt.deltaY)}})},Hn=ce.fromTag("div");_s(Hn,{id:S,class:C+"croprect-container",role:"grid","aria-dropeffect":"execute"}),wu(T,Hn),qe(P,function(An){ki(T,"#"+S).each(function(rr){var Zt=ce.fromTag("div");_s(Zt,{id:S+"-"+An,class:C+"croprect-block","data-mce-bogus":"all"}),Mr(Zt,"display","none"),wu(rr,Zt)})}),qe(_,function(An){ki(T,"#"+S).each(function(rr){var Zt=ce.fromTag("div");_s(Zt,{id:S+"-"+An.name,"aria-label":An.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:An.label}),Dd(Zt,[C+"croprect-handle",C+"croprect-handle-"+An.name]),Mr(Zt,"display","none"),wu(rr,Zt)})}),m=pt(_,tn),Be(t);var on=function(An){Zr(An.target,"aria-grabbed",An.raw.type==="focus"?"true":"false")},Lt=function(An){var rr;qe(_,function(Qn){if(wo(An.target,"id")===S+"-"+Qn.name)return rr=Qn,!1});var Zt=function(Qn,fr,ma,Va,po){Qn.stopPropagation(),Qn.preventDefault(),le(rr,ma,Va,po)};switch(An.raw.keyCode){case wm.LEFT:Zt(An,rr,t,-10,0);break;case wm.RIGHT:Zt(An,rr,t,10,0);break;case wm.UP:Zt(An,rr,t,0,-10);break;case wm.DOWN:Zt(An,rr,t,0,10);break;case wm.ENTER:case wm.SPACEBAR:An.prevent(),v();break}};h.push(ei(T,"focusin",on),ei(T,"focusout",on),ei(T,"keydown",Lt))},ie=function(tn){var Hn=He(He([],pt(_,function(Lt){return"#"+S+"-"+Lt.name}),!0),pt(P,function(Lt){return"#"+S+"-"+Lt}),!0).join(","),on=Nu(T,Hn);tn?qe(on,function(Lt){return Da(Lt,"display")}):qe(on,function(Lt){return Mr(Lt,"display","none")})},Be=function(tn){var Hn=function(on,Lt){ki(T,"#"+S+"-"+on).each(function(An){Rs(An,{left:Lt.x+"px",top:Lt.y+"px",width:Math.max(0,Lt.w)+"px",height:Math.max(0,Lt.h)+"px"})})};qe(_,function(on){ki(T,"#"+S+"-"+on.name).each(function(Lt){Rs(Lt,{left:tn.w*on.xMul+tn.x+"px",top:tn.h*on.yMul+tn.y+"px"})})}),Hn("top",{x:r.x,y:r.y,w:r.w,h:tn.y-r.y}),Hn("right",{x:tn.x+tn.w,y:tn.y,w:r.w-tn.x-tn.w+r.x,h:tn.h}),Hn("bottom",{x:r.x,y:tn.y+tn.h,w:r.w,h:r.h-tn.y-tn.h+r.y}),Hn("left",{x:r.x,y:tn.y,w:tn.x-r.x,h:tn.h}),Hn("move",tn)},Tt=function(tn){t=tn,Be(t)},kt=function(tn){r=tn,Be(t)},Pe=function(tn){Tt(V(o,tn))},dt=function(tn){o=tn,Be(t)},zt=function(){qe(m,function(tn){return tn.destroy()}),m=[],qe(h,function(tn){return tn.unbind()}),h=[]};De();var zn=U(U({},CI),{toggleVisibility:ie,setClampRect:dt,setRect:Tt,getInnerRect:Q,setInnerRect:Pe,setViewPortRect:kt,destroy:zt});return zn},AI={create:EI},BP=function(t){return new Eh(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},OI=function(t){var r=za({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=kr(1),s=Ly(),v=kr({x:0,y:0,w:1,h:1}),m=kr({x:0,y:0,w:1,h:1}),h=function(De,ie){Q.getOpt(De).each(function(Be){var Tt=o.get(),kt=yu(Be.element),Pe=li(Be.element),dt=ie.dom.naturalWidth*Tt,zt=ie.dom.naturalHeight*Tt,zn=Math.max(0,kt/2-dt/2),tn=Math.max(0,Pe/2-zt/2),Hn={left:zn.toString()+"px",top:tn.toString()+"px",width:dt.toString()+"px",height:zt.toString()+"px",position:"absolute"};Rs(ie,Hn),r.getOpt(Be).each(function(on){Rs(on.element,Hn)}),s.run(function(on){var Lt=v.get();on.setRect({x:Lt.x*Tt+zn,y:Lt.y*Tt+tn,w:Lt.w*Tt,h:Lt.h*Tt}),on.setClampRect({x:zn,y:tn,w:dt,h:zt}),on.setViewPortRect({x:0,y:0,w:kt,h:Pe})})})},C=function(De,ie){Q.getOpt(De).each(function(Be){var Tt=yu(Be.element),kt=li(Be.element),Pe=ie.dom.naturalWidth,dt=ie.dom.naturalHeight,zt=Math.min(Tt/Pe,kt/dt);zt>=1?o.set(1):o.set(zt)})},S=function(De,ie){var Be=ce.fromTag("img");return Zr(Be,"src",ie),BP(Be.dom).then(function(){De.getSystem().isConnected()&&Q.getOpt(De).map(function(Tt){var kt=T1({element:Be});$r.replaceAt(Tt,1,A.some(kt));var Pe=m.get(),dt={x:0,y:0,w:Be.dom.naturalWidth,h:Be.dom.naturalHeight};m.set(dt);var zt=PP.inflate(dt,-20,-20);v.set(zt),(Pe.w!==dt.w||Pe.h!==dt.h)&&C(Tt,Be),h(Tt,Be)})})},T=function(De,ie){var Be=o.get(),Tt=ie>0?Math.min(2,Be+.1):Math.max(.1,Be-.1);o.set(Tt),Q.getOpt(De).each(function(kt){var Pe=kt.components()[1].element;h(kt,Pe)})},_=function(){s.run(function(De){De.toggleVisibility(!0)})},P=function(){s.run(function(De){De.toggleVisibility(!1)})},V=function(){return v.get()},q=rs.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Pn([Xr("image-panel-crop-events",[Kr(function(De){Q.getOpt(De).each(function(ie){var Be=ie.element.dom,Tt=AI.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Be,ve);Tt.toggleVisibility(!1),Tt.on("updateRect",function(kt){var Pe=kt.rect,dt=o.get(),zt={x:Math.round(Pe.x/dt),y:Math.round(Pe.y/dt),w:Math.round(Pe.w/dt),h:Math.round(Pe.h/dt)};v.set(zt)}),s.set(Tt)})}),oc(function(){s.clear()})])])}],containerBehaviours:Pn([$r.config({}),Xr("image-panel-events",[Kr(function(De){S(De,t)})])])}),Q=za(q),le=function(){var De=m.get();return{width:De.w,height:De.h}};return{memContainer:Q,updateSrc:S,zoom:T,showCrop:_,hideCrop:P,getRect:V,getMeasurements:le}},Zk=function(t,r,o,s,v){return xP({name:t,icon:A.some(r),disabled:o,tooltip:A.some(t),primary:!1,borderless:!1},s,v)},MP=function(t,r){r?xr.enable(t):xr.disable(t)},DI=function(t){var r=function(m,h,C){o.getOpt(m).each(function(S){MP(S,h)}),s.getOpt(m).each(function(S){MP(S,C)})},o=za(Zk("Undo","undo",!0,function(m){Tr(m,as.undo(),{direction:1})},t)),s=za(Zk("Redo","redo",!0,function(m){Tr(m,as.redo(),{direction:1})},t)),v=rs.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Zk("Zoom in","zoom-in",!1,function(m){Tr(m,as.zoom(),{direction:1})},t),Zk("Zoom out","zoom-out",!1,function(m){Tr(m,as.zoom(),{direction:-1})},t)]});return{container:v,updateButtonUndoStates:r}};function _I(){var t=[],r=-1,o=function(C){var S=t.splice(++r);return t.push(C),{state:C,removed:S}},s=function(){if(m())return t[--r]},v=function(){if(h())return t[++r]},m=function(){return r>0},h=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:v,canUndo:m,canRedo:h}}var RI=function(t){var r=kr(t),o=Xo(),s=_I();s.add(t);var v=function(){return r.get()},m=function(Be){r.set(Be)},h=function(){return o.get().getOrThunk(r.get)},C=function(Be){var Tt=S(Be);return P(),o.set(Tt),Tt.url},S=function(Be){return{blob:Be,url:URL.createObjectURL(Be)}},T=function(Be){URL.revokeObjectURL(Be.url)},_=function(Be){Jg.each(Be,T)},P=function(){o.on(T),o.clear()},V=function(Be){var Tt=S(Be);m(Tt);var kt=s.add(Tt).removed;return _(kt),Tt.url},q=function(Be){var Tt=S(Be);return o.set(Tt),Tt.url},Q=function(Be){return o.get().fold(ve,function(Tt){V(Tt.blob),Be()})},le=function(){var Be=s.undo();return m(Be),Be.url},De=function(){var Be=s.redo();return m(Be),Be.url},ie=function(){var Be=s.canUndo(),Tt=s.canRedo();return{undoEnabled:Be,redoEnabled:Tt}};return{getBlobState:v,setBlobState:m,addBlobState:V,getTempState:h,updateTempState:C,addTempState:q,applyTempState:Q,destroyTempState:P,undo:le,redo:De,getHistoryStates:ie}},PI=function(t,r){var o=RI(t.currentState),s=function(on,Lt){var An=Lt.event.direction;zt.zoom(on,An)},v=function(on){var Lt=o.getHistoryStates();zn.updateButtonUndoStates(on,Lt.undoEnabled,Lt.redoEnabled),Tr(on,dc.formActionEvent,{name:dc.saveState(),value:Lt.undoEnabled})},m=function(on){zn.updateButtonUndoStates(on,!1,!1)},h=function(on,Lt){var An=o.undo();P(on,An).then(function(rr){_(on),v(on)})},C=function(on,Lt){var An=o.redo();P(on,An).then(function(rr){_(on),v(on)})},S=function(on){return on.toBlob()},T=function(on){Tr(on,dc.formActionEvent,{name:dc.disable(),value:{}})},_=function(on){tn.getApplyButton(on).each(function(Lt){xr.enable(Lt)}),Tr(on,dc.formActionEvent,{name:dc.enable(),value:{}})},P=function(on,Lt){return T(on),zt.updateSrc(on,Lt)},V=function(on,Lt,An,rr,Zt){T(on),B6(Lt).then(An).then(S).then(rr).then(function(Qn){return P(on,Qn)}).then(function(){v(on),Zt(),_(on)}).catch(function(Qn){console.log(Qn),on.getSystem().isConnected()&&_(on)})},q=function(on,Lt,An){var rr=o.getBlobState().blob,Zt=function(Qn){return o.updateTempState(Qn)};V(on,rr,Lt,Zt,An)},Q=function(on,Lt){var An=o.getTempState().blob,rr=function(Zt){return o.addTempState(Zt)};V(on,An,Lt,rr,ve)},le=function(on,Lt,An){var rr=o.getBlobState().blob,Zt=function(Qn){var fr=o.addBlobState(Qn);return ie(on),fr};V(on,rr,Lt,Zt,An)},De=function(on,Lt){var An=function(){ie(on);var rr=Lt.event.swap;rr()};o.applyTempState(An)},ie=function(on){var Lt=o.getBlobState().url;return o.destroyTempState(),v(on),Lt},Be=function(on){var Lt=ie(on);P(on,Lt).then(function(An){_(on)})},Tt=function(on,Lt){Be(on);var An=Lt.event.swap;An(),zt.hideCrop()},kt=function(on,Lt){return q(on,Lt.event.transform,ve)},Pe=function(on,Lt){return Q(on,Lt.event.transform)},dt=function(on,Lt){return le(on,Lt.event.transform,Lt.event.swap)},zt=OI(t.currentState.url),zn=DI(r),tn=wI(zt,r),Hn=function(on,Lt){m(on);var An=Lt.event.transform,rr=Lt.event.swap;An.fold(function(){rr()},function(Zt){q(on,Zt,rr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[tn.memContainer.asSpec(),zt.memContainer.asSpec(),zn.container],behaviours:Pn([Ln.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Xr("image-tools-events",[rn(as.undo(),h),rn(as.redo(),C),rn(as.zoom(),s),rn(as.back(),Tt),rn(as.apply(),De),rn(as.transform(),kt),rn(as.tempTransform(),Pe),rn(as.transformApply(),dt),rn(as.swap(),Hn)]),vv.self()])}},FP=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=pt(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:Pn([vv.self(),$r.config({}),Mh.domHtml(A.none()),dr.config({mode:"acyclic"})])}},tO=function(t){return!sn(t,"items")},NP="data-value",IP=function(t,r,o,s){return pt(o,function(v){return tO(v)?{type:"togglemenuitem",text:v.text,value:v.value,active:v.value===s,onAction:function(){Ln.setValue(t,v.value),Tr(t,Bc,{name:r}),Lr.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:function(){return IP(t,r,v.items,s)}}})},$P=function(t,r){return Ye(t,function(o){return tO(o)?so(o.value===r,o):$P(o.items,r)})},BI=function(t,r){var o=r.shared.providers,s=Yt(t.items).filter(tO),v=t.label.map(function(C){return mm(C,o)}),m=Pa.parts.field({dom:{},factory:{sketch:function(C){return q4({uid:C.uid,text:s.map(function(S){return S.text}),icon:A.none(),tooltip:t.label,role:A.none(),fetch:function(S,T){var _=IP(S,t.name,t.items,Ln.getValue(S));T(B0(_,iv.CLOSE_ON_EXECUTE,r,!1))},onSetup:j(ve),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ti.config({}),Ln.config({store:{mode:"manual",initialValue:s.map(function(S){return S.value}).getOr(""),getValue:function(S){return wo(S.element,NP)},setValue:function(S,T){$P(t.items,T).each(function(_){Zr(S.element,NP,_.value),Tr(S,Fh,{text:_.text})})}}})]},"tox-listbox",r.shared)}}}),h={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Pa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:be([v.toArray(),[h]]),fieldBehaviours:Pn([xr.config({disabled:j(t.disabled),onDisabled:function(C){Pa.getField(C).each(xr.disable)},onEnabled:function(C){Pa.getField(C).each(xr.enable)}})])})},MI=function(t,r){return{dom:{tag:"div",classes:t.classes},components:pt(t.items,r.shared.interpreter)}},LP=function(t,r){var o=pt(t.options,function(v){return{dom:{tag:"option",value:v.value,innerHtml:v.text}}}),s=t.data.map(function(v){return ql("initialValue",v)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Vi(t.selectBehaviours,[Lr.config({}),Ln.config({store:U({mode:"manual",getValue:function(v){return ef(v.element)},setValue:function(v,m){var h=Ot(t.options,function(C){return C.value===m});h.isSome()&&jm(v.element,m)}},s)})])}},Nh=fc({name:"HtmlSelect",configFields:[Gt("options"),Oi("selectBehaviours",[Lr,Ln]),Ie("selectClasses",[]),Ie("selectAttributes",{}),_a("data")],factory:LP}),Jk=function(t,r){var o=pt(t.items,function(C){return{text:r.translate(C.text),value:C.value}}),s=t.label.map(function(C){return mm(C,r)}),v=Pa.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:Nh,selectBehaviours:Pn([xr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti.config({}),Xr("selectbox-change",[rn(Nm(),function(C,S){Tr(C,Bc,{name:t.name})})])])}),m=t.size>1?A.none():A.some(bf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),h={dom:{tag:"div",classes:["tox-selectfield"]},components:be([[v],m.toArray()])};return Pa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:be([s.toArray(),[h]]),fieldBehaviours:Pn([xr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(C){Pa.getField(C).each(xr.disable)},onEnabled:function(C){Pa.getField(C).each(xr.enable)}}),Mi()])})},FI=function(t,r){var o=function(C){return{dom:{tag:"th",innerHtml:r.translate(C)}}},s=function(C){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:pt(C,o)}]}},v=function(C){return{dom:{tag:"td",innerHtml:r.translate(C)}}},m=function(C){return{dom:{tag:"tr"},components:pt(C,v)}},h=function(C){return{dom:{tag:"tbody"},components:pt(C,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),h(t.cells)],behaviours:Pn([ti.config({}),Lr.config({})])}},zP=function(t,r){var o=t.label.map(function(V){return mm(V,r)}),s=[xr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Mi(),dr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(V){return Aa(V,A2),A.some(!0)}}),Xr("textfield-change",[rn(wd(),function(V,q){Tr(V,Bc,{name:t.name})}),rn(ay(),function(V,q){Tr(V,Bc,{name:t.name})})]),ti.config({})],v=t.validation.map(function(V){return sd.config({getRoot:function(q){return Ro(q.element)},invalidClass:"tox-invalid",validator:{validate:function(q){var Q=Ln.getValue(q),le=V.validator(Q);return Lu.pure(le===!0?Qr.value(Q):Qr.error(le))},validateOnLoad:V.validateOnLoad}})}).toArray(),m=t.placeholder.fold(j({}),function(V){return{placeholder:r.translate(V)}}),h=t.inputMode.fold(j({}),function(V){return{inputmode:V}}),C=U(U({},m),h),S=Pa.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:C,inputClasses:[t.classname],inputBehaviours:Pn(be([s,v])),selectOnFocus:!1,factory:y0}),T=t.flex?["tox-form__group--stretched"]:[],_=T.concat(t.maximized?["tox-form-group--maximize"]:[]),P=[xr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(V){Pa.getField(V).each(xr.disable)},onEnabled:function(V){Pa.getField(V).each(xr.enable)}}),Mi()];return T2(o,S,_,P)},nO=function(t,r){return zP({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:A.none(),maximized:t.maximized},r)},NI=function(t,r){return zP({name:t.name,multiline:!0,label:t.label,inputMode:A.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:A.none(),maximized:t.maximized},r)},II=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return ro([rn(t.event,s),oc(function(){return r.cancel()})].concat(t.cancelEvent.map(function(v){return[rn(v,function(){return r.cancel()})]}).getOr([])))},rO=Object.freeze({__proto__:null,events:II}),aO=function(t){var r=kr(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(m){r.set(m)},v=function(){var m=r.get();m!==null&&m.cancel()};return Tu({readState:o,setTimer:s,cancel:v})},HP=function(t){return t.stream.streams.state(t)},$I=Object.freeze({__proto__:null,throttle:aO,init:HP}),LI=function(t,r){var o=t.stream,s=Nx(t.onStream,o.delay);return r.setTimer(s),function(v,m){s.throttle(v,m),o.stopEvent&&m.stop()}},zI=[ms("stream",wc("mode",{throttle:[Gt("delay"),Ie("stopEvent",!0),io("streams",{setup:LI,state:aO})]})),Ie("event","input"),_a("cancelEvent"),Zu("onStream")],VP=Ai({fields:zI,name:"streaming",active:rO,state:$I}),Qk=function(t,r,o){var s=Ln.getValue(o);Ln.setValue(r,s),UP(r)},oO=function(t,r){var o=t.element,s=ef(o),v=o.dom;wo(o,"type")!=="number"&&r(v,s)},UP=function(t){oO(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},WP=function(t,r){oO(t,function(o,s){return o.setSelectionRange(r,s.length)})},HI=function(t,r,o){if(t.selectsOver){var s=Ln.getValue(r),v=t.getDisplayText(s),m=Ln.getValue(o),h=t.getDisplayText(m);return h.indexOf(v)===0?A.some(function(){Qk(t,r,o),WP(r,v.length)}):A.none()}else return A.none()},iO=j("alloy.typeahead.itemexecute"),uO=function(t,r,o,s){var v=function(S,T,_){t.previewing.set(!1);var P=ui.getCoupled(S,"sandbox");if(ba.isOpen(P))fa.getCurrent(P).each(function(q){Ma.getHighlighted(q).fold(function(){_(q)},function(){mC(P,q.element,"keydown",T)})});else{var V=function(q){fa.getCurrent(q).each(_)};a4(t,h(S),S,P,s,V,sv.HighlightFirst).get(ve)}},m=$_(t),h=function(S){return function(T){return T.map(function(_){var P=Ft(_.menus),V=St(P,function(Q){return Me(Q.items,function(le){return le.type==="item"})}),q=Ln.getState(S);return q.update(pt(V,function(Q){return Q.data})),_})}},C=[Lr.config({}),Ln.config({onSetValue:t.onSetValue,store:U({mode:"dataset",getDataKey:function(S){return ef(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,T){jm(S.element,t.model.getDisplayText(T))}},t.initialData.map(function(S){return ql("initialValue",S)}).getOr({}))}),VP.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(S,T){var _=ui.getCoupled(S,"sandbox"),P=Lr.isFocused(S);if(P&&ef(S.element).length>=t.minChars){var V=fa.getCurrent(_).bind(function(Q){return Ma.getHighlighted(Q).map(Ln.getValue)});t.previewing.set(!0);var q=function(Q){fa.getCurrent(_).each(function(le){V.fold(function(){t.model.selectsOver&&Ma.highlightFirst(le)},function(De){Ma.highlightBy(le,function(ie){var Be=Ln.getValue(ie);return Be.value===De.value}),Ma.getHighlighted(le).orThunk(function(){return Ma.highlightFirst(le),A.none()})})})};a4(t,h(S),S,_,s,q,sv.HighlightFirst).get(ve)}},cancelEvent:oy()}),dr.config({mode:"special",onDown:function(S,T){return v(S,T,Ma.highlightFirst),A.some(!0)},onEscape:function(S){var T=ui.getCoupled(S,"sandbox");return ba.isOpen(T)?(ba.close(T),A.some(!0)):A.none()},onUp:function(S,T){return v(S,T,Ma.highlightLast),A.some(!0)},onEnter:function(S){var T=ui.getCoupled(S,"sandbox"),_=ba.isOpen(T);if(_&&!t.previewing.get())return fa.getCurrent(T).bind(function(V){return Ma.getHighlighted(V)}).map(function(V){return Tr(S,iO(),{item:V}),!0});var P=Ln.getValue(S);return Aa(S,oy()),t.onExecute(T,S,P),_&&ba.close(T),A.some(!0)}}),pa.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),ui.config({others:{sandbox:function(S){return i4(t,S,{onOpen:function(){return pa.on(S)},onClose:function(){return pa.off(S)}})}}}),Xr("typeaheadevents",[$s(function(S){var T=ve;C0(t,h(S),S,s,T,sv.HighlightFirst).get(ve)}),rn(iO(),function(S,T){var _=ui.getCoupled(S,"sandbox");Qk(t.model,S,T.event.item),Aa(S,oy()),t.onItemExecute(S,_,T.event.item,Ln.getValue(S)),ba.close(_),UP(S)})].concat(t.dismissOnBlur?[rn(ry(),function(S){var T=ui.getCoupled(S,"sandbox");Tl(T.element).isNone()&&ba.close(T)})]:[]))];return{uid:t.uid,dom:il(Bt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:U(U({},m),Vi(t.typeaheadBehaviours,C)),eventOrder:t.eventOrder}},sO=j([_a("lazySink"),Gt("fetch"),Ie("minChars",5),Ie("responseTime",1e3),Ra("onOpen"),Ie("getHotspot",A.some),Ie("getAnchorOverrides",j({})),Ie("layouts",A.none()),Ie("eventOrder",{}),K0("model",{},[Ie("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Ie("selectsOver",!0),Ie("populateFromBrowse",!0)]),Ra("onSetValue"),Ti("onExecute"),Ra("onItemExecute"),Ie("inputClasses",[]),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("matchWidth",!0),Ie("useMinWidth",!1),Ie("dismissOnBlur",!0),Bd(["openClass"]),_a("initialData"),Oi("typeaheadBehaviours",[Lr,Ln,VP,dr,pa,ui]),Gu("previewing",function(){return kr(!0)})].concat(gm()).concat(u4())),z2=j([lc({schema:[Pd()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){HI(t.model,s,o).fold(function(){return Ma.dehighlight(r,o)},function(v){return v()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&Qk(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return Tr(s,iO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&Qk(t.model,s,o)})}}}})]),VI=ts({name:"Typeahead",configFields:sO(),partFields:z2(),factory:uO}),Sf=function(t){var r=function(){return Sf(t.toCached())},o=function(S){return Sf(t.bind(function(T){return T.fold(function(_){return Lu.pure(Qr.error(_))},function(_){return S(_)})}))},s=function(S){return Sf(t.map(function(T){return T.bind(S)}))},v=function(S){return Sf(t.map(function(T){return T.map(S)}))},m=function(S){return Sf(t.map(function(T){return T.mapError(S)}))},h=function(S,T){return t.map(function(_){return _.fold(S,T)})},C=function(S,T){return Sf(Lu.nu(function(_){var P=!1,V=setTimeout(function(){P=!0,_(Qr.error(T()))},S);t.get(function(q){P||(clearTimeout(V),_(q))})}))};return U(U({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:v,mapError:m,foldResult:h,withTimeout:C})},jP=function(t){return Sf(Lu.nu(t))},GP=function(t){return Sf(Lu.pure(Qr.value(t)))},UI=function(t){return Sf(Lu.pure(Qr.error(t)))},qP=function(t){return Sf(Lu.pure(t))},KP=function(t){return Sf(t.map(Qr.value))},XP=function(t){return jP(function(r){t.then(function(o){r(Qr.value(o))},function(o){r(Qr.error(o))})})},WI={nu:jP,wrap:Sf,pure:GP,value:GP,error:UI,fromResult:qP,fromFuture:KP,fromPromise:XP},jI={type:"separator"},GI=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ve}},cO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:ve}},qI=function(t){return pt(t,GI)},YP=function(t,r){return Me(r,function(o){return o.type===t})},ZP=function(t,r){return qI(YP(t,r))},KI=function(t){return ZP("header",t.targets)},XI=function(t){return ZP("anchor",t.targets)},YI=function(t){return A.from(t.anchorTop).map(function(r){return cO("<top>",r)}).toArray()},JP=function(t){return A.from(t.anchorBottom).map(function(r){return cO("<bottom>",r)}).toArray()},Ih=function(t){return pt(t,function(r){return cO(r,r)})},QP=function(t){return qt(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(jI,o)},[])},lO=function(t,r){var o=t.toLowerCase();return Me(r,function(s){var v=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return oa(v.toLowerCase(),o)||oa(s.value.toLowerCase(),o)})},ZI=function(t,r,o){var s=Ln.getValue(r),v=s.meta.text!==void 0?s.meta.text:s.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(h){var C=lO(v,Ih(o.getHistory(t)));return t==="file"?QP([C,lO(v,KI(h)),lO(v,be([YI(h),XI(h),JP(h)]))]):C})},eB=nr("aria-invalid"),tB=function(t,r,o){var s,v=r.shared.providers,m=function(ie){var Be=Ln.getValue(ie);o.addToHistory(Be.value,t.filetype)},h=Pa.parts.field({factory:VI,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":eB,type:"url"},minChars:0,responseTime:0,fetch:function(ie){var Be=ZI(t.filetype,ie,o),Tt=B0(Be,iv.BUBBLE_TO_SANDBOX,r,!1);return Lu.pure(Tt)},getHotspot:function(ie){return q.getOpt(ie)},onSetValue:function(ie,Be){ie.hasConfigured(sd)&&sd.run(ie).get(ve)},typeaheadBehaviours:Pn(be([o.getValidationHandler().map(function(ie){return sd.config({getRoot:function(Be){return Ro(Be.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Be,Tt){T.getOpt(Be).each(function(kt){Zr(kt.element,"title",v.translate(Tt))})}},validator:{validate:function(Be){var Tt=Ln.getValue(Be);return WI.nu(function(kt){ie({type:t.filetype,url:Tt.value},function(Pe){if(Pe.status==="invalid"){var dt=Qr.error(Pe.message);kt(dt)}else{var zt=Qr.value(Pe.message);kt(zt)}})})},validateOnLoad:!1}})}).toArray(),[xr.config({disabled:function(){return t.disabled||v.isDisabled()}}),ti.config({}),Xr("urlinput-events",be([t.filetype==="file"?[rn(wd(),function(ie){Tr(ie,Bc,{name:t.name})})]:[],[rn(Nm(),function(ie){Tr(ie,Bc,{name:t.name}),m(ie)}),rn(ay(),function(ie){Tr(ie,Bc,{name:t.name}),m(ie)})]]))]])),eventOrder:(s={},s[wd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(ie){return ie.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:Wx(!1,1,"normal")},onExecute:function(ie,Be,Tt){Tr(Be,A2,{})},onItemExecute:function(ie,Be,Tt,kt){m(ie),Tr(ie,Bc,{name:t.name})}}),C=t.label.map(function(ie){return mm(ie,v)}),S=function(ie,Be,Tt,kt){return Tt===void 0&&(Tt=ie),kt===void 0&&(kt=ie),bf(Tt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ie],attributes:U({title:v.translate(kt),"aria-live":"polite"},Be.fold(function(){return{}},function(Pe){return{id:Pe}}))},v.icons)},T=za(S("invalid",A.some(eB),"warning")),_=za({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[T.asSpec()]}),P=o.getUrlPicker(t.filetype),V=nr("browser.url.event"),q=za({dom:{tag:"div",classes:["tox-control-wrap"]},components:[h,_.asSpec()],behaviours:Pn([xr.config({disabled:function(){return t.disabled||v.isDisabled()}})])}),Q=za(Y4({name:t.name,icon:A.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(ie){return Aa(ie,V)},v,[],["tox-browse-url"])),le=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:be([[q.asSpec()],P.map(function(){return Q.asSpec()}).toArray()])}},De=function(ie){fa.getCurrent(ie).each(function(Be){var Tt=Ln.getValue(Be),kt=U({fieldname:t.name},Tt);P.each(function(Pe){Pe(kt).get(function(dt){Ln.setValue(Be,dt),Tr(ie,Bc,{name:t.name})})})})};return Pa.sketch({dom:uN(),components:C.toArray().concat([le()]),fieldBehaviours:Pn([xr.config({disabled:function(){return t.disabled||v.isDisabled()},onDisabled:function(ie){Pa.getField(ie).each(xr.disable),Q.getOpt(ie).each(xr.disable)},onEnabled:function(ie){Pa.getField(ie).each(xr.enable),Q.getOpt(ie).each(xr.enable)}}),Mi(),Xr("url-input-events",[rn(V,De)])])})},JI=function(t,r){return rs.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Hs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:GO(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Tr(o,ud,{name:"alert-banner",value:t.url})},buttonBehaviours:Pn([uA()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},QI=function(t,r){var o=Ln.config({store:{mode:"manual",getValue:function(S){var T=S.element.dom;return T.checked},setValue:function(S,T){var _=S.element.dom;_.checked=T}}}),s=function(S){return S.element.dom.click(),A.some(!0)},v=Pa.parts.field({factory:{sketch:Ne},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Pn([vv.self(),xr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti.config({}),Lr.config({}),o,dr.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Xr("checkbox-events",[rn(Nm(),function(S,T){Tr(S,Bc,{name:t.name})})])])}),m=Pa.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Pn([x0.config({})])}),h=function(S){var T=S==="checked"?"selected":"unselected";return bf(T,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},r.icons)},C=za({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return Pa.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,C.asSpec(),m],fieldBehaviours:Pn([xr.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){Pa.getField(S).each(xr.disable)},onEnabled:function(S){Pa.getField(S).each(xr.enable)}}),Mi()])})},e8=function(t){return t.presets==="presentation"?rs.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):rs.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Pn([ti.config({}),Lr.config({})])})},lu=function(t){return function(r,o,s){return wt(o,"name").fold(function(){return t(o,s)},function(v){return r.field(v,t(o,s))})}},t8=function(t){return function(r,o,s){var v=Bt(o,{source:"dynamic"});return lu(t)(r,v,s)}},n8={bar:lu(function(t,r){return nN(t,r.shared)}),collection:lu(function(t,r){return sN(t,r.shared.providers)}),alertbanner:lu(function(t,r){return JI(t,r.shared.providers)}),input:lu(function(t,r){return nO(t,r.shared.providers)}),textarea:lu(function(t,r){return NI(t,r.shared.providers)}),label:lu(function(t,r){return FP(t,r.shared)}),iframe:t8(function(t,r){return x6(t,r.shared.providers)}),button:lu(function(t,r){return aI(t,r.shared.providers)}),checkbox:lu(function(t,r){return QI(t,r.shared.providers)}),colorinput:lu(function(t,r){return xN(t,r.shared,r.colorinput)}),colorpicker:lu(KR),dropzone:lu(function(t,r){return _0(t,r.shared.providers)}),grid:lu(function(t,r){return QR(t,r.shared)}),listbox:lu(function(t,r){return BI(t,r)}),selectbox:lu(function(t,r){return Jk(t,r.shared.providers)}),sizeinput:lu(function(t,r){return DP(t,r.shared.providers)}),urlinput:lu(function(t,r){return tB(t,r,r.urlinput)}),customeditor:lu(YR),htmlpanel:lu(e8),imagetools:lu(function(t,r){return PI(t,r.shared.providers)}),table:lu(function(t,r){return FI(t,r.shared.providers)}),panel:lu(function(t,r){return MI(t,r)})},r8={field:function(t,r){return r}},nB=function(t,r,o){var s=Bt(o,{shared:{interpreter:function(v){return fO(t,v,s)}}});return fO(t,r,s)},fO=function(t,r,o){return wt(n8,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},a8=function(t,r){var o=r8;return fO(o,t,r)},vO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},o8=function(t,r,o){var s=12,v={maxHeightFunction:rg()},m=function(){return{type:"node",root:Un(t()),node:A.from(t()),bubble:zd(s,s,vO),layouts:{onRtl:function(){return[cm]},onLtr:function(){return[Sh]}},overrides:v}},h=function(){return{type:"hotspot",hotspot:r(),bubble:zd(-s,s,vO),layouts:{onRtl:function(){return[Eu]},onLtr:function(){return[Pi]}},overrides:v}};return function(){return o()?m():h()}},i8=function(t,r,o){var s=function(){return{type:"node",root:Un(t()),node:A.from(t()),layouts:{onRtl:function(){return[Bl]},onLtr:function(){return[Bl]}}}},v=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[di]},onLtr:function(){return[di]}}}};return function(){return o()?s():v()}},u8=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return A.some(ig.range(ce.fromDom(o.startContainer),o.startOffset,ce.fromDom(o.endContainer),o.endOffset))}}}},s8=function(t){return function(r){return{type:"node",root:t(),node:r}}},c8=function(t,r,o){var s=Zx(t),v=function(){return ce.fromDom(t.getBody())},m=function(){return ce.fromDom(t.getContentAreaContainer())},h=function(){return s||!o()};return{inlineDialog:o8(m,r,h),banner:i8(m,r,h),cursor:u8(t,v),node:s8(v)}},dO=function(t){return function(r,o){var s=d_(t);s(r,o)}},rB=function(t){return function(){return i_(t)}},l8=function(t){return function(){return WA(t)}},f8=function(t){return function(){return ck(t)}},v8=function(t){return{colorPicker:dO(t),hasCustomColors:rB(t),getColors:l8(t),getColorCols:f8(t)}},d8=function(t){return function(){return HF(t)}},m8=function(t){return{isDraggableModal:d8(t)}},g8=function(t){var r=kr(FD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},aB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],p8=function(t){return sn(t,"items")},h8=function(t){return sn(t,"block")},eT=function(t){return sn(t,"inline")},b8=function(t){return sn(t,"selector")},oB=function(t){return qt(t,function(r,o){if(p8(o)){var s=oB(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(eT(o)||h8(o)||b8(o)){var v=we(o.name)?o.name:o.title.toLowerCase(),m="custom-"+v;return{customFormats:r.customFormats.concat([{name:m,format:o}]),formats:r.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return U(U({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},iB=function(t,r){var o=oB(r),s=function(v){qe(v,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},ep=function(t){return BF(t).map(function(r){var o=iB(t,r);return vm(t)?aB.concat(o):o}).getOr(aB)},uB=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Bt(t,s)},tT=function(t,r,o,s){var v=function(S){return uB(S,o,s)},m=function(S){var T={type:"submenu"};return Bt(S,T)},h=function(S){var T=we(S.name)?S.name:nr(S.title),_="custom-"+T,P={type:"formatter",format:_,isSelected:o(_),getStylePreview:s(_)},V=Bt(S,P);return t.formatter.register(T,V),V},C=function(S){return pt(S,function(T){var _=ct(T);if(Zn(T,"items")){var P=C(T.items);return Bt(m(T),{getStyleItems:j(P)})}else return Zn(T,"format")?v(T):_.length===1&&$t(_,"title")?Bt(T,{type:"separator"}):h(T)})};return C(r)},nT=function(t){var r=function(P){return function(){return t.formatter.match(P)}},o=function(P){return function(){var V=t.formatter.get(P);return V!==void 0?A.some({tag:V.length>0&&(V[0].inline||V[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(P))}):A.none()}},s=function(P){var V=P.items;return V!==void 0&&V.length>0?St(V,s):[P.format]},v=kr([]),m=kr([]),h=kr([]),C=kr([]),S=kr(!1);t.on("PreInit",function(P){var V=ep(t),q=tT(t,V,r,o);v.set(q),m.set(St(q,s))}),t.on("addStyleModifications",function(P){var V=tT(t,P.items,r,o);h.set(V),S.set(P.replace),C.set(St(V,s))});var T=function(){var P=S.get()?[]:v.get(),V=h.get();return P.concat(V)},_=function(){var P=S.get()?[]:m.get(),V=C.get();return P.concat(V)};return{getData:T,getFlattenedKeys:_}},y8=function(t){return he(t)&&t.nodeType===1},w8=Jg.trim,sB=function(t){return function(r){return!!(y8(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},C8=sB("true"),S8=sB("false"),tp=function(t,r,o,s,v){return{type:t,title:r,url:o,level:s,attach:v}},cB=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return C8(t)}return!1},x8=function(t,r){return pt(Nu(ce.fromDom(r),t),function(o){return o.dom})},lB=function(t){return t.innerText||t.textContent},k8=function(t){return t.id?t.id:nr("h")},T8=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},E8=function(t){return T8(t)&&rT(t)},fB=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},rT=function(t){return cB(t)&&!S8(t)},H2=function(t){return fB(t)&&rT(t)},aT=function(t){return fB(t)?parseInt(t.nodeName.substr(1),10):0},oT=function(t){var r=k8(t),o=function(){t.id=r};return tp("header",lB(t),"#"+r,aT(t),o)},$h=function(t){var r=t.id||t.name,o=lB(t);return tp("anchor",o||"#"+r,"#"+r,0,ve)},iT=function(t){return pt(Me(t,H2),oT)},A8=function(t){return pt(Me(t,E8),$h)},vB=function(t){var r=x8("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},dB=function(t){return w8(t.title).length>0},mB=function(t){var r=vB(t);return Me(iT(r).concat(A8(r)),dB)},O8={find:mB},V2="tinymce-url-history",gB=5,pB=function(t){return we(t)&&/^https?/.test(t)},D8=function(t){return xt(t)&&t.length<=gB&&Cn(t,pB)},uT=function(t){return nt(t)&&Ce(t,function(r){return!D8(r)}).isNone()},sT=function(){var t=ok.getItem(V2);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+V2+" was not valid JSON",o),{};throw o}return uT(r)?r:(console.log("Local storage "+V2+" was not valid format",r),{})},_8=function(t){if(!uT(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));ok.setItem(V2,JSON.stringify(t))},hB=function(t){var r=sT();return wt(r,t).getOr([])},R8=function(t,r){if(pB(t)){var o=sT(),s=wt(o,r).getOr([]),v=Me(s,function(m){return m!==t});o[r]=[t].concat(v).slice(0,gB),_8(o)}},cT=function(t){return!!t},P8=function(t){return hn(Jg.makeMap(t,/[, ]/),cT)},mO=function(t){return A.from(jF(t)).filter(ze)},Lh=function(t){var r=A.some(GF(t)).filter(cT),o=A.some(qF(t)).filter(cT),s=r.or(o).map(P8);return mO(t).fold(st,function(v){return s.fold(rt,function(m){return ct(m).length>0?m:!1})})},bB=function(t,r){var o=Lh(t);return gt(o)?o?mO(t):A.none():o[r]?mO(t):A.none()},B8=function(t,r){return bB(t,r).map(function(o){return function(s){return Lu.nu(function(v){var m=function(C,S){if(!we(C))throw new Error("Expected value to be string");if(S!==void 0&&!nt(S))throw new Error("Expected meta to be a object");var T={value:C,meta:S};v(T)},h=U({filetype:r,fieldname:s.fieldname},A.from(s.meta).getOr({}));o.call(t,m,s.value,h)})}})},gO=function(t){return A.from(t).filter(we).getOrUndefined()},M8=function(t){return KF(t)?A.none():A.some({targets:O8.find(t.getBody()),anchorTop:gO(LD(t)),anchorBottom:gO(XF(t))})},lT=function(t){return A.from(YF(t))},xf=function(t){return{getHistory:hB,addToHistory:R8,getLinkInformation:function(){return M8(t)},getValidationHandler:function(){return lT(t)},getUrlPicker:function(r){return B8(t,r)}}},F8=function(t,r,o){var s=kr(!1),v=g8(r),m={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:hf.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(h){return a8(h,m)},anchors:c8(r,o,v.isPositionedAtTop),header:v,getSink:function(){return Qr.value(t)}},urlinput:xf(r),styleselect:nT(r),colorinput:v8(r),dialog:m8(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(h){return s.set(h)}};return m},cd=function(t,r,o){var s=function(kt,Pe){qe([r,o],function(dt){dt.broadcastEvent(kt,Pe)})},v=function(kt,Pe){qe([r,o],function(dt){dt.broadcastOn([kt],Pe)})},m=function(kt){return v(Gd(),{target:kt.target})},h=Fp(),C=ei(h,"touchstart",m),S=ei(h,"touchmove",function(kt){return s(s1(),kt)}),T=ei(h,"touchend",function(kt){return s(HT(),kt)}),_=ei(h,"mousedown",m),P=ei(h,"mouseup",function(kt){kt.raw.button===0&&v(lw(),{target:kt.target})}),V=function(kt){return v(Gd(),{target:ce.fromDom(kt.target)})},q=function(kt){kt.button===0&&v(lw(),{target:ce.fromDom(kt.target)})},Q=function(){qe(t.editorManager.get(),function(kt){t!==kt&&kt.fire("DismissPopups",{relatedTarget:t})})},le=function(kt){return s(iy(),Ld(kt))},De=function(kt){v(wg(),{}),s(rc(),Ld(kt))},ie=function(){return v(wg(),{})},Be=function(kt){kt.state&&v(Gd(),{target:ce.fromDom(t.getContainer())})},Tt=function(kt){v(Gd(),{target:ce.fromDom(kt.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",V),t.on("tap",V),t.on("mouseup",q),t.on("mousedown",Q),t.on("ScrollWindow",le),t.on("ResizeWindow",De),t.on("ResizeEditor",ie),t.on("AfterProgressState",Be),t.on("DismissPopups",Tt)}),t.on("remove",function(){t.off("click",V),t.off("tap",V),t.off("mouseup",q),t.off("mousedown",Q),t.off("ScrollWindow",le),t.off("ResizeWindow",De),t.off("ResizeEditor",ie),t.off("AfterProgressState",Be),t.off("DismissPopups",Tt),_.unbind(),C.unbind(),S.unbind(),T.unbind(),P.unbind()}),t.on("detach",function(){Iu(r),Iu(o),r.destroy(),o.destroy()})},mc=Or,zh=xb,yB=j([Ie("shell",!1),Gt("makeItem"),Ie("setupItem",ve),Ec.field("listBehaviours",[$r])]),fT=function(){return{behaviours:Pn([$r.config({})])}},np=Ac({name:"items",overrides:fT}),gc=j([np]),N8=j("CustomList"),wB=function(t,r,o,s){var v=function(C,S){h(C).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(T){var _=$r.contents(T),P=S.length,V=P-_.length,q=V>0?K(V,function(){return t.makeItem()}):[],Q=_.slice(P);qe(Q,function(De){return $r.remove(T,De)}),qe(q,function(De){return $r.append(T,De)});var le=$r.contents(T);qe(le,function(De,ie){t.setupItem(C,De,S[ie],ie)})})},m=t.shell?{behaviours:[$r.config({})],components:[]}:{behaviours:[],components:r},h=function(C){return t.shell?A.some(C):Ja(C,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:Vi(t.listBehaviours,m.behaviours),apis:{setItems:v}}},pO=ts({name:N8(),configFields:yB(),partFields:gc(),factory:wB,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Hh=j([Gt("dom"),Ie("shell",!0),Oi("toolbarBehaviours",[$r])]),I8=function(){return{behaviours:Pn([$r.config({})])}},$8=j([Ac({name:"groups",overrides:I8})]),rp=function(t,r,o,s){var v=function(C,S){m(C).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(T){$r.set(T,S)})},m=function(C){return t.shell?A.some(C):Ja(C,t,"groups")},h=t.shell?{behaviours:[$r.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:Vi(t.toolbarBehaviours,h.behaviours),apis:{setGroups:v},domModification:{attributes:{role:"group"}}}},kf=ts({name:"Toolbar",configFields:Hh(),partFields:$8(),factory:rp,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),M0=ve,vT=st,hO=j([]),L8=Object.freeze({__proto__:null,setup:M0,isDocked:vT,getBehaviours:hO}),CB=function(t){var r=Rr(ai(t,"position"),"fixed"),o=r?A.none():Xs(t);return o.orThunk(function(){var s=ce.fromTag("span");return Ro(t).bind(function(v){wu(v,s);var m=Xs(s);return fs(s),m})})},SB=function(t){return CB(t).map(Uu).getOrThunk(function(){return eo(0,0)})},bO=tc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),F0=function(t,r){var o=t.element;xi(o,r.transitionClass),vi(o,r.fadeOutClass),xi(o,r.fadeInClass),r.onShow(t)},z8=function(t,r){var o=t.element;xi(o,r.transitionClass),vi(o,r.fadeInClass),xi(o,r.fadeOutClass),r.onHide(t)},H8=function(t,r){return t.y<r.bottom&&t.bottom>r.y},V8=function(t,r){return t.y>=r.y},U8=function(t,r){return t.bottom<=r.bottom},xB=function(t,r,o){return Cn(t,function(s){switch(s){case"bottom":return U8(r,o);case"top":return V8(r,o)}})},U2=function(t,r){return r.getInitialPos().map(function(o){return Ci(o.bounds.x,o.bounds.y,yu(t),li(t))})},W8=function(t,r,o){o.setInitialPos({style:Df(t),position:$o(t,"position")||"static",bounds:r})},yO=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return A.some(bO.static());case"absolute":var v=CB(t).map(oi).getOrThunk(function(){return oi(qa())});return A.some(bO.absolute(Fu("absolute",wt(s.style,"left").map(function(m){return r.x-v.x}),wt(s.style,"top").map(function(m){return r.y-v.y}),wt(s.style,"right").map(function(m){return v.right-r.right}),wt(s.style,"bottom").map(function(m){return v.bottom-r.bottom}))));default:return A.none()}})},wO=function(t,r,o){return U2(t,o).filter(function(s){return xB(o.getModes(),s,r)}).bind(function(s){return yO(t,s,o)})},kB=function(t,r,o){var s=oi(t);if(xB(o.getModes(),s,r))return A.none();W8(t,s,o);var v=Ji(),m=s.x-v.x,h=r.y-v.y,C=v.bottom-r.bottom,S=s.y<=r.y;return A.some(bO.fixed(Fu("fixed",A.some(m),S?A.some(h):A.none(),A.none(),S?A.none():A.some(C))))},dT=function(t,r,o){var s=t.element,v=Rr(ai(s,"position"),"fixed");return v?wO(s,r,o):kB(s,r,o)},mT=function(t,r){var o=t.element;return U2(o,r).bind(function(s){return yO(o,s,r)})},ap=function(t,r,o){o.setDocked(!1),qe(["left","right","top","bottom","position"],function(s){return Da(t.element,s)}),r.onUndocked(t)},CO=function(t,r,o,s){var v=s.position==="fixed";o.setDocked(v),Hv(t.element,s);var m=v?r.onDocked:r.onUndocked;m(t)},TB=function(t,r,o,s,v){v===void 0&&(v=!1),r.contextual.each(function(m){m.lazyContext(t).each(function(h){var C=H8(h,s);if(C!==o.isVisible())if(o.setVisible(C),v&&!C)Dd(t.element,[m.fadeOutClass]),m.onHide(t);else{var S=C?F0:z8;S(t,m)}})})},SO=function(t,r,o){var s=r.lazyViewport(t),v=o.isDocked();v&&TB(t,r,o,s),dT(t,s,o).each(function(m){m.fold(function(){return ap(t,r,o)},function(h){return CO(t,r,o,h)},function(h){TB(t,r,o,s,!0),CO(t,r,o,h)})})},j8=function(t,r,o){var s=t.element;o.setDocked(!1),mT(t,o).each(function(v){v.fold(function(){return ap(t,r,o)},function(m){return CO(t,r,o,m)},ve)}),o.setVisible(!0),r.contextual.each(function(v){sc(s,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),N0(t,r,o)},N0=function(t,r,o){t.getSystem().isConnected()&&SO(t,r,o)},xO=function(t,r,o){o.isDocked()&&j8(t,r,o)},G8=function(t,r,o){return o.isDocked()},q8=function(t,r,o,s){return o.setModes(s)},W2=function(t,r,o){return o.getModes()},kO=Object.freeze({__proto__:null,refresh:N0,reset:xO,isDocked:G8,getModes:W2,setModes:q8}),K8=function(t,r){return ro([ii($m(),function(o,s){t.contextual.each(function(v){if(Xu(o.element,v.transitionClass)){sc(o.element,[v.transitionClass,v.fadeInClass]);var m=r.isVisible()?v.onShown:v.onHidden;m(o)}s.stop()})}),rn(iy(),function(o,s){N0(o,t,r)}),rn(rc(),function(o,s){xO(o,t,r)})])},X8=Object.freeze({__proto__:null,events:K8}),EB=[Ns("contextual",[Ir("fadeInClass"),Ir("fadeOutClass"),Ir("transitionClass"),Bu("lazyContext"),Ra("onShow"),Ra("onShown"),Ra("onHide"),Ra("onHidden")]),fo("lazyViewport",Ji),Hf("modes",["top","bottom"],Qo),Ra("onDocked"),Ra("onUndocked")],Y8=function(t){var r=kr(!1),o=kr(!0),s=Xo(),v=kr(t.modes),m=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+v.get().join(",")};return Tu({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:v.get,setModes:v.set,readState:m})},Z8=Object.freeze({__proto__:null,init:Y8}),e=Ai({fields:EB,name:"docking",active:X8,apis:kO,state:Z8}),n=j(nr("toolbar-height-change")),a={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},i="tox-tinymce--toolbar-sticky-on",c="tox-tinymce--toolbar-sticky-off",f=function(t,r){var o=qo(r),s=o.dom.defaultView.innerHeight,v=Bs(o),m=ce.fromDom(t.elm),h=Wl(m),C=li(m),S=h.y,T=S+C,_=Uu(r),P=li(r),V=_.top,q=V+P,Q=Math.abs(V-v.top)<2,le=Math.abs(q-(v.top+s))<2;if(Q&&S<q)xm(v.left,S-P,o);else if(le&&T>V){var De=S-s+C+P;xm(v.left,De,o)}},g=function(t,r){return $t(e.getModes(t),r)},b=function(t){var r=function(s){return Ps(s)+(parseInt($o(s,"margin-top"),10)||0)+(parseInt($o(s,"margin-bottom"),10)||0)},o=t.element;Ro(o).each(function(s){var v="padding-"+e.getModes(t)[0];if(e.isDocked(t)){var m=yu(s);Mr(o,"width",m+"px"),Mr(s,v,r(o)+"px")}else Da(o,"width"),Da(s,v)})},w=function(t,r){r?(vi(t,a.fadeOutClass),Dd(t,[a.transitionClass,a.fadeInClass])):(vi(t,a.fadeInClass),Dd(t,[a.fadeOutClass,a.transitionClass]))},O=function(t,r){var o=ce.fromDom(t.getContainer());r?(xi(o,i),vi(o,c)):(xi(o,c),vi(o,i))},N=function(t,r){var o=qo(r);es(o).filter(function(s){return!Ga(r,s)}).filter(function(s){return Ga(s,ce.fromDom(o.dom.body))||Vu(t,s)}).each(function(){return kl(r)})},L=function(t,r){return Tl(t).orThunk(function(){return r().toOptional().bind(function(o){return Tl(o.element)})})},H=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(e.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(b)}),t.on("SkinLoaded",function(){o().each(function(s){e.isDocked(s)?e.reset(s):e.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(e.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(v){e.refresh(v);var m=v.element;US(m)&&f(s,m)})}),t.on("PostRender",function(){O(t,!1)})},J=function(t){return t().map(e.isDocked).getOr(!1)},ee=function(){var t;return[Mu.config({channels:(t={},t[n()]={onReceive:b},t)})]},te=function(t,r){var o=Xo(),s=r.getSink,v=function(C){s().each(function(S){return C(S.element)})},m=function(C){t.inline||b(C),O(t,e.isDocked(C)),C.getSystem().broadcastOn([wg()],{}),s().each(function(S){return S.getSystem().broadcastOn([wg()],{})})},h=t.inline?[]:ee();return He([Lr.config({}),e.config({contextual:U({lazyContext:function(C){var S=Ps(C.element),T=t.inline?t.getContentAreaContainer():t.getContainer(),_=oi(ce.fromDom(T)),P=_.height-S,V=_.y+(g(C,"top")?0:S);return A.some(Ci(_.x,V,_.width,P))},onShow:function(){v(function(C){return w(C,!0)})},onShown:function(C){v(function(S){return sc(S,[a.transitionClass,a.fadeInClass])}),o.get().each(function(S){N(C.element,S),o.clear()})},onHide:function(C){L(C.element,s).fold(o.clear,o.set),v(function(S){return w(S,!1)})},onHidden:function(){v(function(C){return sc(C,[a.transitionClass])})}},a),lazyViewport:function(C){var S=Ji(),T=zF(t),_=S.y+(g(C,"top")?T:0),P=S.height-(g(C,"bottom")?T:0);return Ci(S.x,_,S.width,P)},modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m})],h,!0)},re=Object.freeze({__proto__:null,setup:H,isDocked:J,getBehaviours:te}),pe=function(t){var r=t.editor,o=t.sticky?te:hO;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Pn(o(r,t.sharedBackstage))}},de=br([Ir("type"),ms("items",hp([q0([Ir("name"),xu("items",Qo)]),Qo]))].concat(a0)),Je=function(t){return Bo("GroupToolbarButton",de,t)},je=[lo("text"),lo("tooltip"),lo("icon"),Bu("fetch"),fo("onSetup",function(){return ve})],ke=br(He([Ir("type")],je,!0)),tt=function(t){return Bo("menubutton",ke,t)},Ut=br([Ir("type"),lo("tooltip"),lo("icon"),lo("text"),xv("select"),Bu("fetch"),fo("onSetup",function(){return ve}),ec("presets","normal",["normal","color","listpreview"]),Ie("columns",1),Bu("onAction"),Bu("onItemAction")]),bn=function(t){return Bo("SplitButton",Ut,t)},Ar=function(t,r){var o=function(v,m){var h=pt(m,function(C){var S={type:"menubutton",text:C.text,fetch:function(_){_(C.getItems())}},T=tt(S).mapError(function(_){return Sv(_)}).getOrDie();return Xk(T,"tox-mbtn",r.backstage,A.some("menuitem"))});$r.set(v,h)},s={focus:dr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Pn([$r.config({}),Xr("menubar-events",[Kr(function(v){t.onSetup(v)}),rn(Uf(),function(v,m){ki(v.element,".tox-mbtn--active").each(function(h){kc(m.event.target,".tox-mbtn").each(function(C){Ga(h,C)||v.getSystem().getByDom(h).each(function(S){v.getSystem().getByDom(C).each(function(T){wf.expand(T),wf.close(S),Lr.focus(T)})})})})}),rn(c1(),function(v,m){m.event.prevFocus.bind(function(h){return v.getSystem().getByDom(h).toOptional()}).each(function(h){m.event.newFocus.bind(function(C){return v.getSystem().getByDom(C).toOptional()}).each(function(C){wf.isOpen(h)&&(wf.expand(C),wf.close(h))})})})]),dr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(v){return t.onEscape(v),A.some(!0)}}),ti.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},jn=fc({factory:Ar,name:"silver.Menubar",configFields:[Gt("dom"),Gt("uid"),Gt("onEscape"),Gt("backstage"),Ie("onSetup",ve)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),Kt=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},gr=function(t){return t.dimension.property},Sn=function(t,r){return t.dimension.getDimension(r)},Wn=function(t,r){var o=Kt(t,r);sc(o,[r.shrinkingClass,r.growingClass])},kn=function(t,r){vi(t.element,r.openClass),xi(t.element,r.closedClass),Mr(t.element,gr(r),"0px"),mo(t.element)},In=function(t,r){vi(t.element,r.closedClass),xi(t.element,r.openClass),Da(t.element,gr(r))},er=function(t,r,o,s){o.setCollapsed(),Mr(t.element,gr(r),Sn(r,t.element)),mo(t.element),Wn(t,r),kn(t,r),r.onStartShrink(t),r.onShrunk(t)},ln=function(t,r,o,s){var v=s.getOrThunk(function(){return Sn(r,t.element)});o.setCollapsed(),Mr(t.element,gr(r),v),mo(t.element);var m=Kt(t,r);vi(m,r.growingClass),xi(m,r.shrinkingClass),kn(t,r),r.onStartShrink(t)},Xn=function(t,r,o){var s=Sn(r,t.element),v=s==="0px"?er:ln;v(t,r,o,A.some(s))},ca=function(t,r,o){var s=Kt(t,r),v=Xu(s,r.shrinkingClass),m=Sn(r,t.element);In(t,r);var h=Sn(r,t.element),C=function(){Mr(t.element,gr(r),m),mo(t.element)},S=function(){kn(t,r)},T=v?C:S;T(),vi(s,r.shrinkingClass),xi(s,r.growingClass),In(t,r),Mr(t.element,gr(r),h),o.setExpanded(),r.onStartGrow(t)},Fa=function(t,r,o){if(o.isExpanded()){Da(t.element,gr(r));var s=Sn(r,t.element);Mr(t.element,gr(r),s)}},Ba=function(t,r,o){o.isExpanded()||ca(t,r,o)},fu=function(t,r,o){o.isExpanded()&&Xn(t,r,o)},Uo=function(t,r,o){o.isExpanded()&&er(t,r,o)},ks=function(t,r,o){return o.isExpanded()},Fc=function(t,r,o){return o.isCollapsed()},fn=function(t,r,o){var s=Kt(t,r);return Xu(s,r.growingClass)===!0},_n=function(t,r,o){var s=Kt(t,r);return Xu(s,r.shrinkingClass)===!0},pr=function(t,r,o){return fn(t,r)||_n(t,r)},ft=function(t,r,o){var s=o.isExpanded()?Xn:ca;s(t,r,o)},wn=Object.freeze({__proto__:null,refresh:Fa,grow:Ba,shrink:fu,immediateShrink:Uo,hasGrown:ks,hasShrunk:Fc,isGrowing:fn,isShrinking:_n,isTransitioning:pr,toggleGrow:ft,disableTransitions:Wn}),gn=function(t,r,o){var s=r.expanded;return Jc(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:ql(r.dimension.property,"0px")})},wr=function(t,r){return ro([ii($m(),function(o,s){var v=s.event.raw;if(v.propertyName===t.dimension.property){Wn(o,t),r.isExpanded()&&Da(o.element,t.dimension.property);var m=r.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},Er=Object.freeze({__proto__:null,exhibit:gn,events:wr}),uo=[Gt("closedClass"),Gt("openClass"),Gt("shrinkingClass"),Gt("growingClass"),_a("getAnimationRoot"),Ra("onShrunk"),Ra("onStartShrink"),Ra("onGrown"),Ra("onStartGrow"),Ie("expanded",!1),ms("dimension",wc("property",{width:[io("property","width"),io("getDimension",function(t){return yu(t)+"px"})],height:[io("property","height"),io("getDimension",function(t){return li(t)+"px"})]}))],ji=function(t){var r=kr(t.expanded),o=function(){return"expanded: "+r.get()};return Tu({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:un(r.set,!1),setExpanded:un(r.set,!0),readState:o})},Fi=Object.freeze({__proto__:null,init:ji}),os=Ai({fields:uo,name:"sliding",active:Er,apis:wn,state:Fi}),is="container",Ws=[Oi("slotBehaviours",[])],Ni=function(t){return"<alloy.field."+t+">"},cl=function(t){var r=function(){var m=[],h=function(C,S){return m.push(C),Ew(is,Ni(C),S)};return{slot:h,record:j(m)}}(),o=t(r),s=r.record(),v=pt(s,function(m){return su({name:m,pname:Ni(m)})});return Rw(is,Ws,v,js,o)},js=function(t,r){var o=function(le){return SS(t)},s=function(le,De){return Ja(le,t,De)},v=function(le,De){return function(ie,Be){return Ja(ie,t,Be).map(function(Tt){return le(Tt,Be)}).getOr(De)}},m=function(le){return function(De,ie){qe(ie,function(Be){return le(De,Be)})}},h=function(le,De){return wo(le.element,"aria-hidden")!=="true"},C=function(le,De){if(!h(le)){var ie=le.element;Da(ie,"display"),$i(ie,"aria-hidden"),Tr(le,Wf(),{name:De,visible:!0})}},S=function(le,De){if(h(le)){var ie=le.element;Mr(ie,"display","none"),Zr(ie,"aria-hidden","true"),Tr(le,Wf(),{name:De,visible:!1})}},T=v(h,!1),_=v(S),P=m(_),V=function(le){return P(le,o())},q=v(C),Q={getSlotNames:o,getSlot:s,isShowing:T,hideSlot:_,hideAllSlots:V,showSlot:q};return{uid:t.uid,dom:t.dom,components:r,behaviours:kg(t.slotBehaviours),apis:Q}},ld=hn({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Mo(t)}),Na=U(U({},ld),{sketch:cl}),xo=br([lo("icon"),lo("tooltip"),fo("onShow",ve),fo("onHide",ve),fo("onSetup",function(){return ve})]),Gi=function(t){return Bo("sidebar",xo,t)},dv=function(t){var r=t.ui.registry.getAll().sidebars;qe(ct(r),function(o){var s=r[o],v=function(){return Rr(A.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(v())},onSetup:function(m){var h=function(){return m.setActive(v())};return t.on("ToggleSidebar",h),function(){t.off("ToggleSidebar",h)}}})})},mv=function(t){return{element:function(){return t.element.dom}}},gv=function(t,r){var o=pt(ct(r),function(s){var v=r[s],m=Gc(Gi(v));return{name:s,getApi:mv,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return pt(o,function(s){var v=kr(ve);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:s0.unnamedEvents([f0(s,v),b2(s,v),rn(Wf(),function(m,h){var C=h.event,S=Ot(o,function(T){return T.name===C.name});S.each(function(T){var _=C.visible?T.onShow:T.onHide;_(T.getApi(m))})})])})})},op=function(t){return Na.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gv(r,t),slotBehaviours:s0.unnamedEvents([Kr(function(o){return Na.hideAllSlots(o)})])}})},TO=function(t,r){var o=fa.getCurrent(t);o.each(function(s){return $r.set(s,[op(r)])})},EO=function(t,r){var o=fa.getCurrent(t);o.each(function(s){var v=fa.getCurrent(s);v.each(function(m){os.hasGrown(s)?Na.isShowing(m,r)?os.shrink(s):(Na.hideAllSlots(m),Na.showSlot(m,r)):(Na.hideAllSlots(m),Na.showSlot(m,r),os.grow(s))})})},J8=function(t){var r=fa.getCurrent(t);return r.bind(function(o){var s=os.isGrowing(o)||os.hasGrown(o);if(s){var v=fa.getCurrent(o);return v.bind(function(m){return Ot(Na.getSlotNames(m),function(h){return Na.isShowing(m,h)})})}else return A.none()})},gT=nr("FixSizeEvent"),pT=nr("AutoSizeEvent"),Q8=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Pn([ti.config({}),Lr.config({}),os.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=fa.getCurrent(r);o.each(Na.hideAllSlots),Aa(r,pT)},onGrown:function(r){Aa(r,pT)},onStartGrow:function(r){Tr(r,gT,{width:ai(r.element,"width").getOr("")})},onStartShrink:function(r){Tr(r,gT,{width:yu(r.element)+"px"})}}),$r.config({}),fa.config({find:function(r){var o=$r.contents(r);return Yt(o)}})])}],behaviours:Pn([vv.childAt(0),Xr("sidebar-sliding-events",[rn(gT,function(r,o){Mr(r.element,"width",o.event.width)}),rn(pT,function(r,o){Da(r.element,"width")})])])}},AB=function(t,r,o,s){Zr(t.element,"aria-busy",!0);var v=r.getRoot(t).getOr(t),m=Pn([dr.config({mode:"special",onTab:function(){return A.some(!0)},onShiftTab:function(){return A.some(!0)}}),Lr.config({})]),h=s(v,m),C=v.getSystem().build(h);$r.append(v,cc(C)),C.hasConfigured(dr)&&r.focus&&dr.focusIn(C),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return $r.remove(v,C)})},e$=function(t,r,o){$i(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},t$=Object.freeze({__proto__:null,block:AB,unblock:e$}),n$=[fo("getRoot",A.none),no("focus",!0),Ra("onBlock"),Ra("onUnblock")],r$=function(){var t=$y(),r=function(o){t.set({destroy:o})};return Tu({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Vh=Object.freeze({__proto__:null,init:r$}),fd=Ai({fields:n$,name:"blocking",apis:t$,state:Vh}),Re=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:lm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Ct=function(t){return fa.getCurrent(t).each(function(r){return kl(r.element)})},Tn=function(t,r){var o="tabindex",s="data-mce-"+o;A.from(t.iframeElement).map(ce.fromDom).each(function(v){r?(Po(v,o).each(function(m){return Zr(v,s,m)}),Zr(v,o,-1)):($i(v,o),Po(v,s).each(function(m){Zr(v,o,m),$i(v,s)}))})},$n=function(t,r,o,s){var v=r.element;if(Tn(t,o),o)fd.block(r,Re(s)),Da(v,"display"),$i(v,"aria-hidden"),t.hasFocus()&&Ct(r);else{var m=fa.getCurrent(r).exists(function(h){return Ip(h.element)});fd.unblock(r),Mr(v,"display","none"),Zr(v,"aria-hidden","true"),m&&t.focus()}},aa=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Pn([$r.config({}),fd.config({focus:!1}),fa.config({find:function(r){return Yt(r.components())}})]),components:[]}},Ha=function(t){return t.type==="focusin"},Fo=function(t){if(Ha(t)){var r=t.composed?Yt(t.composedPath()):A.from(t.target);return r.map(ce.fromDom).filter(F).exists(function(o){return Xu(o,"mce-pastebin")})}else return!1},ip=function(t,r,o){var s=kr(!1),v=Xo(),m=function(C){s.get()&&!Fo(C)&&(C.preventDefault(),Ct(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",m),t.on("BeforeExecCommand",function(C){C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&m(C)})});var h=function(C){C!==s.get()&&(s.set(C),$n(t,r(),C,o.providers),t.fire("AfterProgressState",{state:C}))};t.on("ProgressState",function(C){if(v.on(rv.clearTimeout),We(C.time)){var S=rv.setEditorTimeout(t,function(){return h(C.state)},C.time);v.set(S)}else h(C.state),v.clear()})},Qz=function(t,r){var o={len:0,list:[]},s=qt(t,function(v,m){var h=r(m,v.len);return h.fold(j(v),function(C){return{len:C.finish,list:v.list.concat([C])}})},o);return s.list},a$=function(t,r,o){return{within:t,extra:r,withinWidth:o}},l7=function(t,r,o){var s=Qz(t,function(C,S){var T=o(C);return A.some({element:C,start:S,finish:S+T,width:T})}),v=Me(s,function(C){return C.finish<=r}),m=bt(v,function(C,S){return C+S.width},0),h=s.slice(v.length);return{within:v,extra:h,withinWidth:m}},OB=function(t){return pt(t,function(r){return r.element})},eH=function(t,r,o){var s=OB(t.concat(r));return a$(s,[],o)},tH=function(t,r,o,s){var v=OB(t).concat([o]);return a$(v,OB(r),s)},nH=function(t,r,o){return a$(OB(t),[],o)},rH=function(t,r,o){var s=l7(r,t,o);return s.extra.length===0?A.some(s):A.none()},aH=function(t,r,o,s){var v=rH(t,r,o).getOrThunk(function(){return l7(r,t-o(s),o)}),m=v.within,h=v.extra,C=v.withinWidth;return h.length===1&&h[0].width<=o(s)?eH(m,h,C):h.length>=1?tH(m,h,s,C):nH(m,h,C)},f7=function(t,r){var o=pt(r,function(s){return cc(s)});kf.setGroups(t,o)},oH=function(t){return Ye(t,function(r){return Tl(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},v7=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var v=df(t,r,"primary"),m=ui.getCoupled(t,"overflowGroup");Mr(v.element,"visibility","hidden");var h=s.concat([m]),C=oH(h);o([]),f7(v,h);var S=yu(v.element),T=aH(S,r.builtGroups.get(),function(_){return yu(_.element)},m);T.extra.length===0?($r.remove(v,m),o([])):(f7(v,T.within),o(T.extra)),Da(v.element,"visibility"),mo(v.element),C.each(Lr.focus)}},d7=j([Oi("splitToolbarBehaviours",[ui]),Gu("builtGroups",function(){return kr([])})]),iH=j([Bd(["overflowToggledClass"]),xv("getOverflowBounds"),Gt("lazySink"),Gu("overflowGroups",function(){return kr([])})].concat(d7())),uH=j([su({factory:kf,schema:Hh(),name:"primary"}),lc({schema:Hh(),name:"overflow"}),lc({name:"overflow-button"}),lc({name:"overflow-group"})]),o$=j(function(t,r){Zi(t,Math.floor(r))}),sH=j([Bd(["toggledClass"]),Gt("lazySink"),Bu("fetch"),xv("getBounds"),Ns("fireDismissalEventInstead",[Ie("event",Yc())]),Vv()]),cH=j([lc({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Pn([pa.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),lc({factory:kf,schema:Hh(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Pn([dr.config({mode:"cyclic",onEscape:function(r){return Ja(r,t,"button").each(Lr.focus),A.none()}})])}}})]),m7=function(t,r){var o=ui.getCoupled(t,"toolbarSandbox");ba.isOpen(o)?ba.close(o):ba.open(o,r.toolbar())},i$=function(t,r,o,s){var v=o.getBounds.map(function(h){return h()}),m=o.lazySink(t).getOrDie();Yo.positionWithinBounds(m,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:o$()}}},v)},g7=function(t,r,o,s,v){kf.setGroups(r,v),i$(t,r,o,s),pa.on(t)},lH=function(t,r,o){var s=_d(),v=function(h,C){o.fetch().get(function(S){g7(t,C,o,r.layouts,S),s.link(t.element),dr.focusIn(C)})},m=function(){pa.off(t),Lr.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Pn([dr.config({mode:"special",onEscape:function(h){return ba.close(h),A.some(!0)}}),ba.config({onOpen:v,onClose:m,isPartOf:function(h,C,S){return Rd(C,S)||Rd(t,S)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Mu.config({channels:U(U({},Cs(U({isExtraPart:st},o.fireDismissalEventInstead.map(function(h){return{fireEventInstead:{event:h.event}}}).getOr({})))),qd({doReposition:function(){ba.getState(ui.getCoupled(t,"toolbarSandbox")).each(function(h){i$(t,h,o,r.layouts)})}}))})])}},fH=function(t,r,o,s){return U(U({},Hs.sketch(U(U({},s.button()),{action:function(v){m7(v,s)},buttonBehaviours:Ec.augment({dump:s.button().buttonBehaviours},[ui.config({others:{toolbarSandbox:function(v){return lH(v,o,t)}}})])}))),{apis:{setGroups:function(v,m){ba.getState(ui.getCoupled(v,"toolbarSandbox")).each(function(h){g7(v,h,t,o.layouts,m)})},reposition:function(v){ba.getState(ui.getCoupled(v,"toolbarSandbox")).each(function(m){i$(v,m,t,o.layouts)})},toggle:function(v){m7(v,s)},getToolbar:function(v){return ba.getState(ui.getCoupled(v,"toolbarSandbox"))},isOpen:function(v){return ba.isOpen(ui.getCoupled(v,"toolbarSandbox"))}}})},j2=ts({name:"FloatingToolbarButton",factory:fH,configFields:sH(),partFields:cH(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),vH=j([Gt("items"),Bd(["itemSelector"]),Oi("tgroupBehaviours",[dr])]),dH=j([vf({name:"items",unit:"item"})]),mH=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:Vi(t.tgroupBehaviours,[dr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},DB=ts({name:"ToolbarGroup",configFields:vH(),partFields:dH(),factory:mH}),p7=function(t){return pt(t,function(r){return cc(r)})},h7=function(t,r,o){v7(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(v){j2.setGroups(v,p7(s))})})},gH=function(t,r,o,s){var v=za(j2.sketch({fetch:function(){return Lu.nu(function(m){m(p7(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Pi,Eu]},onRtl:function(){return[Eu,Pi]},onBottomLtr:function(){return[Qu,Ju]},onBottomRtl:function(){return[Ju,Qu]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Vi(t.splitToolbarBehaviours,[ui.config({others:{overflowGroup:function(){return DB.sketch(U(U({},s["overflow-group"]()),{items:[v.asSpec()]}))}}})]),apis:{setGroups:function(m,h){t.builtGroups.set(pt(h,m.getSystem().build)),h7(m,v,t)},refresh:function(m){return h7(m,v,t)},toggle:function(m){v.getOpt(m).each(function(h){j2.toggle(h)})},isOpen:function(m){return v.getOpt(m).map(j2.isOpen).getOr(!1)},reposition:function(m){v.getOpt(m).each(function(h){j2.reposition(h)})},getOverflow:function(m){return v.getOpt(m).bind(j2.getToolbar)}},domModification:{attributes:{role:"group"}}}},b7=ts({name:"SplitFloatingToolbar",configFields:iH(),partFields:uH(),factory:gH,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),pH=j([Bd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ra("onOpened"),Ra("onClosed")].concat(d7())),hH=j([su({factory:kf,schema:Hh(),name:"primary"}),su({factory:kf,schema:Hh(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Pn([os.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){Ja(r,t,"overflow-button").each(function(o){pa.off(o),Lr.focus(o)}),t.onClosed(r)},onGrown:function(r){dr.focusIn(r),t.onOpened(r)},onStartGrow:function(r){Ja(r,t,"overflow-button").each(pa.on)}}),dr.config({mode:"acyclic",onEscape:function(r){return Ja(r,t,"overflow-button").each(Lr.focus),A.some(!0)}})])}}}),lc({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Pn([pa.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),lc({name:"overflow-group"})]),bH=function(t,r){return Ja(t,r,"overflow").map(os.hasGrown).getOr(!1)},y7=function(t,r){Ja(t,r,"overflow-button").bind(function(){return Ja(t,r,"overflow")}).each(function(o){u$(t,r),os.toggleGrow(o)})},u$=function(t,r){Ja(t,r,"overflow").each(function(o){v7(t,r,function(s){var v=pt(s,function(m){return cc(m)});kf.setGroups(o,v)}),Ja(t,r,"overflow-button").each(function(s){os.hasGrown(o)&&pa.on(s)}),os.refresh(o)})},yH=function(t,r,o,s){var v="alloy.toolbar.toggle",m=function(h,C){var S=pt(C,h.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Vi(t.splitToolbarBehaviours,[ui.config({others:{overflowGroup:function(h){return DB.sketch(U(U({},s["overflow-group"]()),{items:[Hs.sketch(U(U({},s["overflow-button"]()),{action:function(C){Aa(h,v)}}))]}))}}}),Xr("toolbar-toggle-events",[rn(v,function(h){y7(h,t)})])]),apis:{setGroups:function(h,C){m(h,C),u$(h,t)},refresh:function(h){return u$(h,t)},toggle:function(h){return y7(h,t)},isOpen:function(h){return bH(h,t)}},domModification:{attributes:{role:"group"}}}},s$=ts({name:"SplitSlidingToolbar",configFields:pH(),partFields:hH(),factory:yH,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),w7=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:U({tag:"div",classes:["tox-toolbar__group"]},r),components:[DB.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Pn([ti.config({}),Lr.config({})])}},_B=function(t){return DB.sketch(w7(t))},C7=function(t,r){var o=Kr(function(s){var v=pt(t.initGroups,_B);kf.setGroups(s,v)});return Pn([Ml.toolbarButton(t.providers.isDisabled),Mi(),dr.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Xr("toolbar-events",[o])])},S7=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":w7({title:A.none(),items:[]}),"overflow-button":X4({name:"more",icon:A.some("more-drawer"),disabled:!1,tooltip:A.some("More..."),primary:!1,borderless:!1},A.none(),t.providers)},splitToolbarBehaviours:C7(t,r)}},wH=function(t){var r=S7(t),o=4,s=b7.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return b7.sketch(U(U({},r),{lazySink:t.getSink,getOverflowBounds:function(){var v=t.moreDrawerData.lazyHeader().element,m=Wl(v),h=Rt(v),C=Wl(h),S=Math.max(h.dom.scrollHeight,C.height);return Ci(m.x+o,C.y,m.width-o*2,S)},parts:U(U({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},CH=function(t){var r=s$.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=s$.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=S7(t);return s$.sketch(U(U({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(v){v.getSystem().broadcastOn([n()],{type:"opened"})},onClosed:function(v){v.getSystem().broadcastOn([n()],{type:"closed"})}}))},RB=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return kf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ol.scrolling?["tox-toolbar--scrolling"]:[])},components:[kf.parts.groups({})],toolbarBehaviours:C7(t,r)})},SH=function(t,r,o){var s={getSocket:function(v){return mc.getPart(v,t,"socket")},setSidebar:function(v,m){mc.getPart(v,t,"sidebar").each(function(h){return TO(h,m)})},toggleSidebar:function(v,m){mc.getPart(v,t,"sidebar").each(function(h){return EO(h,m)})},whichSidebar:function(v){return mc.getPart(v,t,"sidebar").bind(J8).getOrNull()},getHeader:function(v){return mc.getPart(v,t,"header")},getToolbar:function(v){return mc.getPart(v,t,"toolbar")},setToolbar:function(v,m){mc.getPart(v,t,"toolbar").each(function(h){h.getApis().setGroups(h,m)})},setToolbars:function(v,m){mc.getPart(v,t,"multiple-toolbar").each(function(h){pO.setItems(h,m)})},refreshToolbar:function(v){var m=mc.getPart(v,t,"toolbar");m.each(function(h){return h.getApis().refresh(h)})},toggleToolbarDrawer:function(v){mc.getPart(v,t,"toolbar").each(function(m){ho(m.getApis().toggle,function(h){return h(m)})})},isToolbarDrawerToggled:function(v){return mc.getPart(v,t,"toolbar").bind(function(m){return A.from(m.getApis().isOpen).map(function(h){return h(m)})}).getOr(!1)},getThrobber:function(v){return mc.getPart(v,t,"throbber")},focusToolbar:function(v){var m=mc.getPart(v,t,"toolbar").orThunk(function(){return mc.getPart(v,t,"multiple-toolbar")});m.each(function(h){dr.focusIn(h)})},setMenubar:function(v,m){mc.getPart(v,t,"menubar").each(function(h){jn.setMenus(h,m)})},focusMenubar:function(v){mc.getPart(v,t,"menubar").each(function(m){jn.focus(m)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},xH=zh.optional({factory:jn,name:"menubar",schema:[Gt("backstage")]}),kH=function(t){return t.type===ol.sliding?CH:t.type===ol.floating?wH:RB},TH=zh.optional({factory:{sketch:function(t){return pO.sketch({uid:t.uid,dom:t.dom,listBehaviours:Pn([dr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return RB({type:t.type,uid:nr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),A.some(!0)}})},setupItem:function(r,o,s,v){kf.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[Gt("dom"),Gt("onEscape")]}),EH=zh.optional({factory:{sketch:function(t){var r=kH(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),A.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[Gt("dom"),Gt("onEscape"),Gt("getSink")]}),AH=zh.optional({factory:{sketch:pe},name:"header",schema:[Gt("dom")]}),OH=zh.optional({name:"socket",schema:[Gt("dom")]}),DH=zh.optional({factory:{sketch:Q8},name:"sidebar",schema:[Gt("dom")]}),_H=zh.optional({factory:{sketch:aa},name:"throbber",schema:[Gt("dom")]}),gi=ts({name:"OuterContainer",factory:SH,configFields:[Gt("dom"),Gt("behaviours")],partFields:[AH,xH,EH,TH,OH,DH,_H],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=pt(o,function(v){return _B(v)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=pt(o,function(v){return pt(v,_B)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),RH="file edit view insert format tools table help",x7={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},PH=function(t,r,o){var s=_A(o).split(/[ ,]/);return{text:t.title,getItems:function(){return St(t.items,function(v){var m=v.toLowerCase();return m.trim().length===0?[]:an(s,function(h){return h===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:r.menuItems[m]?[r.menuItems[m]]:[]})}}},c$=function(t){return typeof t=="string"?t.split(" "):t},k7=function(t,r){var o=U(U({},x7),r.menus),s=ct(r.menus).length>0,v=r.menubar===void 0||r.menubar===!0?c$(RH):c$(r.menubar===!1?"":r.menubar),m=Me(v,function(C){var S=sn(x7,C);return s?S||wt(r.menus,C).exists(function(T){return sn(T,"items")}):S}),h=pt(m,function(C){var S=o[C];return PH({title:S.title,items:c$(S.items)},r,t)});return Me(h,function(C){var S=function(T){return T.type!=="separator"};return C.getItems().length>0&&an(C.getItems(),S)})},T7=function(t){var r=function(){t._skinLoaded=!0,m5(t)};return function(){t.initialized?r():t.on("init",r)}},BH=function(t,r){return function(){return g5(t,{message:r})}},E7=function(t,r,o){return new Eh(function(s,v){o.load(r,s,v),t.on("remove",function(){return o.unload(r)})})},MH=function(t,r){var o=r+"/skin.min.css";return E7(t,o,t.ui.styleSheetLoader)},FH=function(t,r){var o=ur(ce.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return E7(t,s,p2.DOM.styleSheetLoader)}else return Eh.resolve()},A7=function(t,r){var o=_F(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),PF(r)===!1&&we(o)?Eh.all([MH(r,o),FH(r,o)]).then(T7(r),BH(r,"Skin could not be loaded")):T7(r)()},NH=un(A7,!1),IH=un(A7,!0),PB=function(t,r){return function(o){var s=tg(),v=function(){o.setActive(t.formatter.match(r));var m=t.formatter.formatChanged(r,o.setActive);s.set(m)};return t.initialized?v():t.once("init",v),function(){t.off("init",v),s.clear()}}},BB=function(t,r,o){return function(s){var v=function(){return o(s)},m=function(){o(s),t.on(r,v)};return t.initialized?m():t.once("init",m),function(){t.off("init",m),t.off(r,v)}}},O7=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},pv=function(t,r){return function(){return t.execCommand(r)}},$H=function(t,r,o){var s=function(C,S,T,_){var P=r.shared.providers.translate(C.title);if(C.type==="separator")return A.some({type:"separator",text:P});if(C.type==="submenu"){var V=St(C.getStyleItems(),function(q){return v(q,S,_)});return S===0&&V.length<=0?A.none():A.some({type:"nestedmenuitem",text:P,disabled:V.length<=0,getSubmenuItems:function(){return St(C.getStyleItems(),function(q){return v(q,S,_)})}})}else return A.some(U({type:"togglemenuitem",text:P,icon:C.icon,active:C.isSelected(_),disabled:T,onAction:o.onAction(C)},C.getStylePreview().fold(function(){return{}},function(q){return{meta:{style:q}}})))},v=function(C,S,T){var _=C.type==="formatter"&&o.isInvalid(C);return S===0?_?[]:s(C,S,!1,T).toArray():s(C,S,_,T).toArray()},m=function(C){var S=o.getCurrentValue(),T=o.shouldHide?0:1;return St(C,function(_){return v(_,T,S)})},h=function(C,S){return function(T,_){var P=S(),V=m(P),q=B0(V,iv.CLOSE_ON_EXECUTE,C,!1);_(q)}};return{validateItems:m,getFetch:h}},hT=function(t,r,o){var s=o.dataset,v=s.type==="basic"?function(){return pt(s.data,function(m){return uB(m,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:$H(t,r,o),getStyleItems:v}},AO=function(t,r,o){var s=hT(t,r,o),v=s.items,m=s.getStyleItems,h=function(S){return{getComponent:j(S)}},C=BB(t,"NodeChange",function(S){var T=S.getComponent();o.updateText(T)});return q4({text:o.icon.isSome()?A.none():o.text,icon:o.icon,tooltip:A.from(o.tooltip),role:A.none(),fetch:v.getFetch(r,m),onSetup:C,getApi:h,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},LH=function(t){return pt(t,function(r){var o=r,s=r,v=r.split("=");return v.length>1&&(o=v[0],s=v[1]),{title:o,format:s}})},zH=function(t){return{type:"basic",data:t}},bT;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(bT||(bT={}));var HH=function(t,r){return r===bT.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},l$=function(t,r,o,s){var v=t.getParam(r,o,"string"),m=LH(HH(v,s));return{type:"basic",data:m}},f$=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],D7=function(t){var r=function(){return Ot(f$,function(C){return t.formatter.match(C.format)})},o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return A.none},v=function(C){var S=r(),T=S.fold(j("left"),function(_){return _.title.toLowerCase()});Tr(C,G4,{icon:"align-"+T})},m=zH(f$),h=function(C){return function(){return Ot(f$,function(S){return S.format===C.format}).each(function(S){return t.execCommand(S.command)})}};return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:o,getCurrentValue:A.none,getPreviewFor:s,onAction:h,updateText:v,dataset:m,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},VH=function(t,r){return AO(t,r,D7(t))},UH=function(t,r){var o=hT(t,r,D7(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},WH="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",jH=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],_7=function(t){var r=t.split(/\s*,\s*/);return pt(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},GH=function(t){var r=function(){var o=_7(t.toLowerCase());return Cn(jH,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},R7=function(t){var r="System Font",o=function(){var T=function(Q){return Q?_7(Q)[0]:""},_=t.queryCommandValue("FontName"),P=S.data,V=_?_.toLowerCase():"",q=Ot(P,function(Q){var le=Q.format;return le.toLowerCase()===V||T(le).toLowerCase()===T(V).toLowerCase()}).orThunk(function(){return so(GH(V),{title:r,format:V})});return{matchOpt:q,font:_}},s=function(T){return function(_){return _.exists(function(P){return P.format===T})}},v=function(){var T=o().matchOpt;return T},m=function(T){return function(){return A.some({tag:"div",styles:T.indexOf("dings")===-1?{"font-family":T}:{}})}},h=function(T){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,T.format)})}},C=function(T){var _=o(),P=_.matchOpt,V=_.font,q=P.fold(j(V),function(Q){return Q.title});Tr(T,Fh,{text:q})},S=l$(t,"font_formats",WH,bT.SemiColon);return{tooltip:"Fonts",text:A.some(r),icon:A.none(),isSelectedFor:s,getCurrentValue:v,getPreviewFor:m,onAction:h,updateText:C,dataset:S,shouldHide:!1,isInvalid:st}},qH=function(t,r){return AO(t,r,R7(t))},KH=function(t,r){var o=hT(t,r,R7(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},XH="8pt 10pt 12pt 14pt 18pt 24pt 36pt",YH={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},ZH={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},JH=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},QH=function(t,r){return/[0-9.]+px$/.test(t)?JH(parseInt(t,10)*72/96,r||0)+"pt":wt(ZH,t).getOr(t)},e9=function(t){return wt(YH,t).getOr("")},P7=function(t){var r=function(){var S=A.none(),T=C.data,_=t.queryCommandValue("FontSize");if(_)for(var P=function(q){var Q=QH(_,q),le=e9(Q);S=Ot(T,function(De){return De.format===_||De.format===Q||De.format===le})},V=3;S.isNone()&&V>=0;V--)P(V);return{matchOpt:S,size:_}},o=function(S){return function(T){return T.exists(function(_){return _.format===S})}},s=function(){var S=r().matchOpt;return S},v=j(A.none),m=function(S){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,S.format)})}},h=function(S){var T=r(),_=T.matchOpt,P=T.size,V=_.fold(j(P),function(q){return q.title});Tr(S,Fh,{text:V})},C=l$(t,"fontsize_formats",XH,bT.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:o,getPreviewFor:v,getCurrentValue:s,onAction:m,updateText:h,dataset:C,shouldHide:!1,isInvalid:st}},t9=function(t,r){return AO(t,r,P7(t))},n9=function(t,r){var o=hT(t,r,P7(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},B7=function(t,r){var o=r(),s=pt(o,function(v){return v.format});return A.from(t.formatter.closest(s)).bind(function(v){return Ot(o,function(m){return m.format===v})}).orThunk(function(){return so(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},r9="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",M7=function(t){var r="Paragraph",o=function(h){return function(){return t.formatter.match(h)}},s=function(h){return function(){var C=t.formatter.get(h);return A.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))})}},v=function(h){var C=B7(t,function(){return m.data}),S=C.fold(j(r),function(T){return T.title});Tr(h,Fh,{text:S})},m=l$(t,"block_formats",r9,bT.SemiColon);return{tooltip:"Blocks",text:A.some(r),icon:A.none(),isSelectedFor:o,getCurrentValue:A.none,getPreviewFor:s,onAction:O7(t),updateText:v,dataset:m,shouldHide:!1,isInvalid:function(h){return!t.formatter.canApply(h.format)}}},a9=function(t,r){return AO(t,r,M7(t))},o9=function(t,r){var o=hT(t,r,M7(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},F7=function(t,r){var o="Paragraph",s=function(h){return function(){return t.formatter.match(h)}},v=function(h){return function(){var C=t.formatter.get(h);return C!==void 0?A.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):A.none()}},m=function(h){var C=function(P){var V=P.items;return V!==void 0&&V.length>0?St(V,C):[{title:P.title,format:P.format}]},S=St(ep(t),C),T=B7(t,j(S)),_=T.fold(j(o),function(P){return P.title});Tr(h,Fh,{text:_})};return{tooltip:"Formats",text:A.some(o),icon:A.none(),isSelectedFor:s,getCurrentValue:A.none,getPreviewFor:v,onAction:O7(t),updateText:m,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(h){return!t.formatter.canApply(h.format)},dataset:r}},i9=function(t,r){var o=U({type:"advanced"},r.styleselect);return AO(t,r,F7(t,o))},u9=function(t,r){var o=U({type:"advanced"},r.styleselect),s=hT(t,r,F7(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},s9=function(t,r){var o=function(s,v){t.updateState.each(function(m){var h=m(s,v);r.set(h)}),t.renderComponents.each(function(m){var h=m(v,r.get()),C=pt(h,s.getSystem().build);sw(s,C)})};return ro([rn(Sc(),function(s,v){var m=v;if(!m.universal){var h=t.channel;$t(m.channels,h)&&o(s,m.data)}}),Kr(function(s,v){t.initialData.each(function(m){o(s,m)})})])},c9=Object.freeze({__proto__:null,events:s9}),l9=function(t,r,o){return o},f9=Object.freeze({__proto__:null,getState:l9}),v9=[Gt("channel"),_a("renderComponents"),_a("updateState"),_a("initialData")],d9=function(){var t=kr(A.none()),r=function(){return t.set(A.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},m9=Object.freeze({__proto__:null,init:d9}),Nl=Ai({fields:v9,name:"reflecting",active:c9,apis:f9,state:m9}),g9=j([Gt("toggleClass"),Gt("fetch"),Zu("onExecute"),Ie("getHotspot",A.some),Ie("getAnchorOverrides",j({})),Vv(),Zu("onItemExecute"),_a("lazySink"),Gt("dom"),Ra("onOpen"),Oi("splitDropdownBehaviours",[ui,dr,Lr]),Ie("matchWidth",!1),Ie("useMinWidth",!1),Ie("eventOrder",{}),_a("role")].concat(u4())),p9=su({factory:Hs,schema:[Gt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Pn([Lr.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(ac)},buttonBehaviours:Pn([pa.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),h9=su({factory:Hs,schema:[Gt("dom")],name:"button",defaults:function(){return{buttonBehaviours:Pn([Lr.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),b9=j([p9,h9,Ac({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Gt("text")],name:"aria-descriptor"}),lc({schema:[Pd()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),J_()]),y9=function(t,r,o,s){var v,m=function(P){fa.getCurrent(P).each(function(V){Ma.highlightFirst(V),dr.focusIn(V)})},h=function(P){var V=m;C0(t,Ne,P,s,V,sv.HighlightFirst).get(ve)},C=function(P){return h(P),A.some(!0)},S=function(P){var V=df(P,t,"button");return ac(V),A.some(!0)},T=U(U({},ro([Kr(function(P,V){var q=Ja(P,t,"aria-descriptor");q.each(function(Q){var le=nr("aria");Zr(Q.element,"id",le),Zr(P.element,"aria-describedby",le)})})])),Zb(A.some(h))),_={repositionMenus:function(P){pa.isOn(P)&&eR(P)}};return{uid:t.uid,dom:t.dom,components:r,apis:_,eventOrder:U(U({},t.eventOrder),(v={},v[nc()]=["disabling","toggling","alloy.base.behaviour"],v)),events:T,behaviours:Vi(t.splitDropdownBehaviours,[ui.config({others:{sandbox:function(P){var V=df(P,t,"arrow"),q={onOpen:function(){pa.on(V),pa.on(P)},onClose:function(){pa.off(V),pa.off(P)}};return i4(t,P,q)}}}),dr.config({mode:"special",onSpace:S,onEnter:S,onDown:C}),Lr.config({}),pa.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},MB=ts({name:"SplitDropdown",configFields:g9(),partFields:b9(),factory:y9,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),w9=function(t){return{isDisabled:function(){return xr.isDisabled(t)},setDisabled:function(r){return xr.set(t,r)}}},C9=function(t){return{setActive:function(r){pa.set(t,r)},isActive:function(){return pa.isOn(t)},isDisabled:function(){return xr.isDisabled(t)},setDisabled:function(r){return xr.set(t,r)}}},N7=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},I7=nr("focus-button"),v$=function(t,r,o,s,v,m){var h;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:N7(o,m)},components:v0([t.map(function(C){return Gk(C,m.icons)}),r.map(function(C){return j4(C,"tox-tbtn",m)})]),eventOrder:(h={},h[Xc()]=["focusing","alloy.base.behaviour","common-button-display-events"],h),buttonBehaviours:Pn([Ml.toolbarButton(m.isDisabled),Mi(),Xr("common-button-display-events",[rn(Xc(),function(C,S){S.event.prevent(),Aa(C,I7)})])].concat(s.map(function(C){return Nl.config({channel:C,initialData:{icon:t,text:r},renderComponents:function(S,T){return v0([S.icon.map(function(_){return Gk(_,m.icons)}),S.text.map(function(_){return j4(_,"tox-tbtn",m)})])}})}).toArray()).concat(v.getOr([])))}},S9=function(t,r,o,s){var v=r.shared;return j2.sketch({lazySink:v.getSink,fetch:function(){return Lu.nu(function(m){m(pt(o(t.items),_B))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:v$(t.icon,t.text,t.tooltip,A.none(),A.none(),v.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},$7=function(t,r,o){var s=kr(ve),v=v$(t.icon,t.text,t.tooltip,A.none(),A.none(),o);return Hs.sketch({dom:v.dom,components:v.components,eventOrder:yP,buttonBehaviours:Pn([Xr("toolbar-button-events",[J6({onAction:t.onAction,getApi:r.getApi}),f0(r,s),b2(r,s)]),Ml.toolbarButton(function(){return t.disabled||o.isDisabled()}),Mi()].concat(r.toolbarButtonBehaviours))})},x9=function(t,r){return L7(t,r,[])},L7=function(t,r,o){return $7(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Xr("toolbarButtonWith",o)]:[]),getApi:w9,onSetup:t.onSetup},r)},k9=function(t,r){return z7(t,r,[])},z7=function(t,r,o){return Bt($7(t,{toolbarButtonBehaviours:[$r.config({}),pa.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Xr("toolbarToggleButtonWith",o)]:[]),getApi:C9,onSetup:t.onSetup},r))},T9=function(t,r,o){return function(s){return Lu.nu(function(v){return r.fetch(v)}).map(function(v){return A.from(x_(Bt(h0(nr("menu-value"),v,function(m){r.onItemAction(t(s),m)},r.columns,r.presets,iv.CLOSE_ON_EXECUTE,r.select.getOr(st),o),{movement:fk(r.columns,r.presets),menuBehaviours:s0.unnamedEvents(r.columns!=="auto"?[]:[Kr(function(m,h){OA(m,4,yA(r.presets)).each(function(C){var S=C.numRows,T=C.numColumns;dr.setGridSize(m,S,T)})})])})))})}},E9=function(t,r){var o,s=nr("channel-update-split-dropdown-display"),v=function(C){return{isDisabled:function(){return xr.isDisabled(C)},setDisabled:function(S){return xr.set(C,S)},setIconFill:function(S,T){ki(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(_){Zr(_,"fill",T)})},setIconStroke:function(S,T){ki(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(_){Zr(_,"stroke",T)})},setActive:function(S){Zr(C.element,"aria-pressed",S),ki(C.element,"span").each(function(T){C.getSystem().getByDom(T).each(function(_){return pa.set(_,S)})})},isActive:function(){return ki(C.element,"span").exists(function(S){return C.getSystem().getByDom(S).exists(pa.isOn)})}}},m=kr(ve),h={getApi:v,onSetup:t.onSetup};return MB.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:U({"aria-pressed":!1},N7(t.tooltip,r.providers))},onExecute:function(C){t.onAction(v(C))},onItemExecute:function(C,S,T){},splitDropdownBehaviours:Pn([Ml.splitButton(r.providers.isDisabled),Mi(),Xr("split-dropdown-events",[rn(I7,Lr.focus),f0(h,m),b2(h,m)]),x0.config({})]),eventOrder:(o={},o[Is()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:T9(v,t,r.providers),parts:{menu:Wx(!1,t.columns,t.presets)},components:[MB.parts.button(v$(t.icon,t.text,A.none(),A.some(s),A.some([pa.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),MB.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:GO("chevron-down",r.providers.icons)},buttonBehaviours:Pn([Ml.splitButton(r.providers.isDisabled),Mi(),uA()])}),MB.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},A9=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],OO=function(t,r){return function(o,s,v){var m=t(o).mapError(function(h){return Sv(h)}).getOrDie();return r(m,s,v)}},yT={button:OO(fD,function(t,r){return x9(t,r.backstage.shared.providers)}),togglebutton:OO(dA,function(t,r){return k9(t,r.backstage.shared.providers)}),menubutton:OO(tt,function(t,r){return Xk(t,"tox-tbtn",r.backstage,A.none())}),splitbutton:OO(bn,function(t,r){return E9(t,r.backstage.shared)}),grouptoolbarbutton:OO(Je,function(t,r,o){var s,v=o.ui.registry.getAll().buttons,m=function(C){return FB(o,{buttons:v,toolbar:C,allowToolbarGroups:!1},r,A.none())},h=(s={},s[Z1]=r.backstage.shared.header.isPositionedAtTop()?af.TopToBottom:af.BottomToTop,s);switch(h2(o)){case ol.floating:return S9(t,r.backstage,m,h);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return i9(t,r.backstage)},fontsizeSelectButton:function(t,r){return t9(t,r.backstage)},fontSelectButton:function(t,r){return qH(t,r.backstage)},formatButton:function(t,r){return a9(t,r.backstage)},alignMenuButton:function(t,r){return VH(t,r.backstage)}},O9=function(t,r,o){return wt(yT,t.type).fold(function(){return console.error("skipping button defined by",t),A.none()},function(s){return A.some(s(t,r,o))})},H7={styleselect:yT.styleSelectButton,fontsizeselect:yT.fontsizeSelectButton,fontselect:yT.fontSelectButton,formatselect:yT.formatButton,align:yT.alignMenuButton},D9=function(t){var r=pt(A9,function(o){var s=Me(o.items,function(v){return sn(t,v)||sn(H7,v)});return{name:o.name,items:s}});return Me(r,function(o){return o.items.length>0})},_9=function(t){var r=t.split("|");return pt(r,function(o){return{items:o.trim().split(" ")}})},R9=function(t){return Oe(t,function(r){return sn(r,"name")&&sn(r,"items")})},P9=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?D9(o):we(r)?_9(r):R9(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},B9=function(t,r,o,s,v,m){return wt(r,o.toLowerCase()).orThunk(function(){return m.bind(function(h){return Ye(h,function(C){return wt(r,C+o.toLowerCase())})})}).fold(function(){return wt(H7,o.toLowerCase()).map(function(h){return h(t,v)}).orThunk(function(){return A.none()})},function(h){return h.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),A.none()):O9(h,v,t)})},FB=function(t,r,o,s){var v=P9(r),m=pt(v,function(h){var C=St(h.items,function(S){return S.trim().length===0?[]:B9(t,r.buttons,S,r.allowToolbarGroups,o,s).toArray()});return{title:A.from(t.translate(h.name)),items:C}});return Me(m,function(h){return h.items.length>0})},V7=function(t,r,o,s){var v=r.outerContainer,m=o.toolbar,h=o.buttons;if(Oe(m,we)){var C=m.map(function(S){var T={toolbar:S,buttons:h,allowToolbarGroups:o.allowToolbarGroups};return FB(t,T,{backstage:s},A.none())});gi.setToolbars(v,C)}else gi.setToolbar(v,FB(t,o,{backstage:s},A.none()))},U7=Sr(),M9=U7.os.isiOS()&&U7.os.version.major<=12,F9=function(t,r){var o=t.dom,s=t.getWin(),v=t.getDoc().documentElement,m=kr(eo(s.innerWidth,s.innerHeight)),h=kr(eo(v.offsetWidth,v.offsetHeight)),C=function(){var V=m.get();(V.left!==s.innerWidth||V.top!==s.innerHeight)&&(m.set(eo(s.innerWidth,s.innerHeight)),HA(t))},S=function(){var V=t.getDoc().documentElement,q=h.get();(q.left!==V.offsetWidth||q.top!==V.offsetHeight)&&(h.set(eo(V.offsetWidth,V.offsetHeight)),HA(t))},T=function(V){return h5(t,V)};o.bind(s,"resize",C),o.bind(s,"scroll",T);var _=q1(ce.fromDom(t.getBody()),"load",S),P=r.uiMothership.element;t.on("hide",function(){Mr(P,"display","none")}),t.on("show",function(){Da(P,"display")}),t.on("NodeChange",S),t.on("remove",function(){_.unbind(),o.unbind(s,"resize",C),o.unbind(s,"scroll",T),s=null})},N9=function(t,r,o,s,v){var m=kr(0),h=r.outerContainer;NH(t);var C=ce.fromDom(v.targetNode),S=Un(Pr(C));el(C,r.mothership),Jf(S,r.uiMothership),t.on("PostRender",function(){V7(t,r,o,s),m.set(t.getWin().innerWidth),gi.setMenubar(h,k7(t,o)),gi.setSidebar(h,o.sidebar),F9(t,r)});var T=gi.getSocket(h).getOrDie("Could not find expected socket element");if(M9){Rs(T.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var _=MM(function(){t.fire("ScrollContent")},20),P=ei(T.element,"scroll",_.throttle);t.on("remove",P.unbind)}HD(t,r),t.addCommand("ToggleSidebar",function(le,De){gi.toggleSidebar(h,De),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return gi.whichSidebar(h)});var V=h2(t),q=function(){gi.refreshToolbar(r.outerContainer)};(V===ol.sliding||V===ol.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var le=t.getWin().innerWidth;le!==m.get()&&(q(),m.set(le))});var Q={enable:function(){l0(r,!1)},disable:function(){l0(r,!0)},isDisabled:function(){return xr.isDisabled(h)}};return{iframeContainer:T.element.dom,editorContainer:h.element.dom,api:Q}},I9=Object.freeze({__proto__:null,render:N9}),d$=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?A.some(parseInt(""+t,10)):A.none()},m$=function(t){return We(t)?t+"px":t},NB=function(t,r,o){var s=r.filter(function(m){return t<m}),v=o.filter(function(m){return t>m});return s.or(v).getOr(t)},$9=function(t){var r=OD(t),o=RD(t),s=PD(t);return d$(r).map(function(v){return NB(v,o,s)})},L9=function(t){var r=$9(t);return r.getOr(OD(t))},W7=function(t){var r=DD(t),o=_D(t),s=Xx(t);return d$(r).map(function(v){return NB(v,o,s)})},z9=function(t){var r=W7(t);return r.getOr(DD(t))},H9=function(t,r,o,s,v){var m=o.uiMothership,h=o.outerContainer,C=p2.DOM,S=Zx(t),T=Jx(t),_=Xx(t).or(W7(t)),P=s.shared.header,V=P.isPositionedAtTop,q=h2(t),Q=q===ol.sliding||q===ol.floating,le=kr(!1),De=function(){return le.get()&&!t.removed},ie=function(on){return Q?on.fold(j(0),function(Lt){return Lt.components().length>1?li(Lt.components()[1].element):0}):0},Be=function(on){switch(MD(t)){case _h.auto:var Lt=gi.getToolbar(h),An=ie(Lt),rr=li(on.element)-An,Zt=oi(r),Qn=Zt.y>rr;if(Qn)return"top";var fr=Rt(r),ma=Math.max(fr.dom.scrollHeight,li(fr)),Va=Zt.bottom<ma-rr;if(Va)return"bottom";var po=Ji(),Wo=po.bottom<Zt.bottom-rr;return Wo?"bottom":"top";case _h.bottom:return"bottom";case _h.top:default:return"top"}},Tt=function(on){var Lt=v.get();e.setModes(Lt,[on]),P.setDockingMode(on);var An=V()?af.TopToBottom:af.BottomToTop;Zr(Lt.element,Z1,An)},kt=function(){var on=_.getOrThunk(function(){var Lt=d$($o(qa(),"margin-left")).getOr(0);return yu(qa())-Uu(r).left+Lt});Mr(v.get().element,"max-width",on+"px")},Pe=function(){var on=gi.getToolbar(h),Lt=ie(on),An=oi(r),rr=V()?Math.max(An.y-li(v.get().element)+Lt,0):An.bottom;Rs(h.element,{position:"absolute",top:Math.round(rr)+"px",left:Math.round(An.x)+"px"})},dt=function(){m.broadcastOn([wg()],{})},zt=function(on){if(on===void 0&&(on=!1),!!De()){if(S||kt(),Q&&gi.refreshToolbar(h),S||Pe(),T){var Lt=v.get();on?e.reset(Lt):e.refresh(Lt)}dt()}},zn=function(on){if(on===void 0&&(on=!0),!(S||!T||!De())){var Lt=P.getDockingMode(),An=Be(v.get());An!==Lt&&(Tt(An),on&&zt(!0))}},tn=function(){le.set(!0),Mr(h.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),Da(m.element,"display"),zn(!1),zt()},Hn=function(){le.set(!1),o.outerContainer&&(Mr(h.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus")),Mr(m.element,"display","none")};return{isVisible:De,isPositionedAtTop:V,show:tn,hide:Hn,update:zt,updateMode:zn,repositionPopups:dt}},j7=function(t,r){var o=oi(t);return{pos:r?o.y:o.bottom,bounds:o}},V9=function(t,r,o,s){var v=kr(j7(r,o.isPositionedAtTop())),m=function(C){var S=j7(r,o.isPositionedAtTop()),T=S.pos,_=S.bounds,P=v.get(),V=P.pos,q=P.bounds,Q=_.height!==q.height||_.width!==q.width;v.set({pos:T,bounds:_}),Q&&HA(t,C),o.isVisible()&&(V!==T?o.update(!0):Q&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(C){rv.requestAnimationFrame(function(){return m(C)})}),t.on("ScrollWindow",function(){return o.updateMode()});var h=tg();h.set(q1(ce.fromDom(t.getBody()),"load",m)),t.on("remove",function(){h.clear()})},U9=function(t,r,o,s,v){var m=r.mothership,h=r.uiMothership,C=r.outerContainer,S=kr(null),T=ce.fromDom(v.targetNode),_=H9(t,T,r,s,S),P=LF(t);IH(t);var V=function(){if(S.get()){_.show();return}S.set(gi.getHeader(C).getOrDie());var Q=ID(t);Jf(Q,m),Jf(Q,h),V7(t,r,o,s),gi.setMenubar(C,k7(t,o)),_.show(),V9(t,T,_,P),t.nodeChanged()};t.on("show",V),t.on("hide",_.hide),P||(t.on("focus",V),t.on("blur",_.hide)),t.on("init",function(){(t.hasFocus()||P)&&V()}),HD(t,r);var q={show:function(){_.show()},hide:function(){_.hide()},enable:function(){l0(r,!1)},disable:function(){l0(r,!0)},isDisabled:function(){return xr.isDisabled(C)}};return{editorContainer:C.element.dom,api:q}},W9=Object.freeze({__proto__:null,render:U9}),j9="contexttoolbar-show",G7="contexttoolbar-hide",G9=function(t){return{hide:function(){return Aa(t,xp())},getValue:function(){return Ln.getValue(t)}}},q7=function(t,r){return rn(bP,function(o,s){var v=t.get(o),m=G9(v);r.onAction(m,s.event.buttonApi)})},q9=function(t,r,o){var s=r.original;s.primary;var v=B(s,["primary"]),m=Gc(fD(U(U({},v),{type:"button",onAction:ve})));return L7(m,o.backstage.shared.providers,[q7(t,r)])},K9=function(t,r,o){var s=r.original;s.primary;var v=B(s,["primary"]),m=Gc(dA(U(U({},v),{type:"togglebutton",onAction:ve})));return z7(m,o.backstage.shared.providers,[q7(t,r)])},X9=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?K9(t,r,s):q9(t,r,s)},Y9=function(t,r,o){var s=pt(r,function(h){return za(X9(t,h,o))}),v=function(){return pt(s,function(h){return h.asSpec()})},m=function(h){return Ye(r,function(C,S){return C.primary?A.from(s[S]).bind(function(T){return T.getOpt(h)}).filter(Vt(xr.isDisabled)):A.none()})};return{asSpecs:v,findPrimary:m}},K7=function(t,r){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),s=za(y0.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Pn([dr.config({mode:"special",onEnter:function(m){return v.findPrimary(m).map(function(h){return ac(h),!0})},onLeft:function(m,h){return h.cut(),A.none()},onRight:function(m,h){return h.cut(),A.none()}})])})),v=Y9(s,t.commands,r);return[{title:A.none(),items:[s.asSpec()]},{title:A.none(),items:v.asSpecs()}]},Z9=function(t,r,o){return RB({type:t,uid:nr("context-toolbar"),initGroups:K7(r,o),onEscape:A.none,cyclicKeying:!0,providers:o})},J9={renderContextForm:Z9,buildInitGroups:K7},X7=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},Q9=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=ye(ce.fromDom(t.startContainer),t.startOffset).element,s=Z(o)?Ro(o):A.some(o);return s.filter(F).map(function(v){return v.dom.getBoundingClientRect()}).getOr(r)}else return r},g$=function(t){var r=t.selection.getRng(),o=Q9(r);if(t.inline){var s=Bs();return Ci(s.left+o.left,s.top+o.top,o.width,o.height)}else{var v=Wl(ce.fromDom(t.getBody()));return Ci(v.x+o.left,v.y+o.top,o.width,o.height)}},eV=function(t,r){return r.filter(Vr).map(Wl).getOrThunk(function(){return g$(t)})},tV=function(t,r,o){var s=Math.max(t.x+o,r.x),v=Math.min(t.right-o,r.right);return{x:s,width:v-s}},nV=function(t,r,o,s,v,m){var h=ce.fromDom(t.getContainer()),C=ki(h,".tox-editor-header").getOr(h),S=oi(C),T=S.y>=r.bottom,_=s&&!T;if(t.inline&&_)return{y:Math.max(S.bottom+m,o.y),bottom:o.bottom};if(t.inline&&!_)return{y:o.y,bottom:Math.min(S.y-m,o.bottom)};var P=v==="line"?oi(h):r;return _?{y:Math.max(S.bottom+m,o.y),bottom:Math.min(P.bottom-m,o.bottom)}:{y:Math.max(P.y+m,o.y),bottom:Math.min(S.y-m,o.bottom)}},Y7=function(t,r,o,s){s===void 0&&(s=0);var v=Nf(window),m=oi(ce.fromDom(t.getContentAreaContainer())),h=Bi(t)||RA(t)||Yx(t),C=tV(m,v,s),S=C.x,T=C.width;if(t.inline&&!h)return Ci(S,v.y,T,v.height);var _=r.header.isPositionedAtTop(),P=nV(t,m,v,_,o,s),V=P.y,q=P.bottom;return Ci(S,V,T,q-V)},IB=12,Z7={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},J7={maxHeightFunction:rg(),maxWidthFunction:o$()},rV=function(t,r){var o=t.selection.getRng(),s=ye(ce.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Ga(s.element,r)},aV=function(t,r,o){var s=ai(t,"position");Mr(t,"position",r);var v=o(t);return s.each(function(m){return Mr(t,"position",m)}),v},Q7=function(t){return t==="node"},oV=function(t,r,o,s,v){var m=g$(t),h=s.lastElement().exists(function(T){return Ga(o,T)});if(rV(t,o))return h?V3:Bl;if(h)return aV(r,s.getMode(),function(){var T=X7(m,oi(r));return T&&!s.isReposition()?sM:V3});var C=s.getMode()==="fixed"?v.y+Bs().top:v.y,S=li(r)+IB;return C+S<=m.y?Bl:Lg},iV=function(t,r,o,s){var v=function(S){return function(T,_,P,V,q){var Q=oV(t,V,S,o,q),le=U(U({},T),{y:q.y,height:q.height});return U(U({},Q(le,_,P,V,q)),{alwaysFit:!0})}},m=function(S){return Q7(s)?[v(S)]:[]},h={onLtr:function(S){return[bs,di,Ju,Eu,Qu,Pi].concat(m(S))},onRtl:function(S){return[bs,di,Qu,Pi,Ju,Eu].concat(m(S))}},C={onLtr:function(S){return[di,Eu,Pi,Ju,Qu,bs].concat(m(S))},onRtl:function(S){return[di,Pi,Eu,Qu,Ju,bs].concat(m(S))}};return r?C:h},uV=function(t,r,o,s){return r==="line"?{bubble:zd(IB,0,Z7),layouts:{onLtr:function(){return[N1]},onRtl:function(){return[I1]}},overrides:J7}:{bubble:zd(0,IB,Z7,1/IB),layouts:iV(t,o,s,r),overrides:J7}},p$=function(t,r){var o=Me(r,function(h){return h.predicate(t.dom)}),s=Le(o,function(h){return h.type==="contexttoolbar"}),v=s.pass,m=s.fail;return{contextToolbars:v,contextForms:m}},sV=function(t){if(t.length<=1)return t;var r=function(C){return an(t,function(S){return S.position===C})},o=function(C){return Me(t,function(S){return S.position===C})},s=r("selection"),v=r("node");if(s||v)if(v&&s){var m=o("node"),h=pt(o("selection"),function(C){return U(U({},C),{position:"node"})});return m.concat(h)}else return o(s?"selection":"node");else return o("line")},cV=function(t){if(t.length<=1)return t;var r=function(s){return Ot(t,function(v){return v.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Me(t,function(v){return v.position===s})})},lV=function(t,r,o){var s=p$(t,r);if(s.contextForms.length>0)return A.some({elem:t,toolbars:[s.contextForms[0]]});var v=p$(t,o);if(v.contextForms.length>0)return A.some({elem:t,toolbars:[v.contextForms[0]]});if(s.contextToolbars.length>0||v.contextToolbars.length>0){var m=sV(s.contextToolbars.concat(v.contextToolbars));return A.some({elem:t,toolbars:m})}else return A.none()},fV=function(t,r,o){return t(r)?A.none():Sp(r,function(s){if(F(s)){var v=p$(s,o.inNodeScope),m=v.contextToolbars,h=v.contextForms,C=h.length>0?h:cV(m);return C.length>0?A.some({elem:s,toolbars:C}):A.none()}else return A.none()},t)},vV=function(t,r){var o=ce.fromDom(r.getBody()),s=function(h){return Ga(h,o)},v=function(h){return!s(h)&&!Vu(o,h)},m=ce.fromDom(r.selection.getNode());return v(m)?A.none():lV(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return fV(s,m,t)})},dV=function(t,r){var o={},s=[],v=[],m={},h={},C=function(_,P){var V=Gc(KM(P));o[_]=V,V.launch.map(function(q){m["form:"+_]=U(U({},P.launch),{type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(V)}})}),V.scope==="editor"?v.push(V):s.push(V),h[_]=V},S=function(_,P){YM(P).each(function(V){P.scope==="editor"?v.push(V):s.push(V),h[_]=V})},T=ct(t);return qe(T,function(_){var P=t[_];P.type==="contextform"?C(_,P):P.type==="contexttoolbar"&&S(_,P)}),{forms:o,inNodeScope:s,inEditorScope:v,lookupTable:h,formNavigators:m}},eL=nr("forward-slide"),tL=nr("backward-slide"),h$=nr("change-slide-event"),b$="tox-pop--resizing",mV=function(t){var r=kr([]);return Ka.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),Ka.getContent(o).each(function(s){Da(s.element,"visibility")}),vi(o.element,b$),Da(o.element,"width")},inlineBehaviours:Pn([Xr("context-toolbar-events",[ii($m(),function(o,s){s.event.raw.propertyName==="width"&&(vi(o.element,b$),Da(o.element,"width"))}),rn(h$,function(o,s){var v=o.element;Da(v,"width");var m=yu(v);Ka.setContent(o,s.event.contents),xi(v,b$);var h=yu(v);Mr(v,"width",m+"px"),Ka.getContent(o).each(function(C){s.event.focus.bind(function(S){return kl(S),Tl(v)}).orThunk(function(){return dr.focusIn(C),es(Pr(v))})}),rv.setTimeout(function(){Mr(o.element,"width",h+"px")},0)}),rn(eL,function(o,s){Ka.getContent(o).each(function(v){r.set(r.get().concat([{bar:v,focus:es(Pr(o.element))}]))}),Tr(o,h$,{contents:s.event.forwardContents,focus:A.none()})}),rn(tL,function(o,s){jt(r.get()).each(function(v){r.set(r.get().slice(0,r.get().length-1)),Tr(o,h$,{contents:cc(v.bar),focus:v.focus})})})]),dr.config({mode:"special",onEscape:function(o){return jt(r.get()).fold(function(){return t.onEscape()},function(s){return Aa(o,tL),A.some(!0)})}})]),lazySink:function(){return Qr.value(t.sink)}})},y$="tox-pop--transition",gV=function(t,r,o,s){var v=s.backstage,m=v.shared,h=Sr().deviceType.isTouch,C=Xo(),S=Xo(),T=Xo(),_=So(mV({sink:o,onEscape:function(){return t.focus(),A.some(!0)}})),P=function(){var tn=T.get().getOr("node"),Hn=Q7(tn)?1:0;return Y7(t,m,tn,Hn)},V=function(){return!t.removed&&!(h()&&v.isContextMenuOpen())},q=function(tn){return Rr(Xa(tn,C.get(),Ga),!0)},Q=function(){if(V()){var tn=P(),Hn=Rr(T.get(),"node")?eV(t,C.get()):g$(t);return tn.height<=0||!X7(Hn,tn)}else return!0},le=function(){C.clear(),S.clear(),T.clear(),Ka.hide(_)},De=function(){if(Ka.isOpen(_)){var tn=_.element;Da(tn,"display"),Q()?Mr(tn,"display","none"):(S.set(0),Ka.reposition(_))}},ie=function(tn){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[tn],behaviours:Pn([dr.config({mode:"acyclic"}),Xr("pop-dialog-wrap-events",[Kr(function(Hn){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return dr.focusIn(Hn)})}),oc(function(Hn){t.shortcuts.remove("ctrl+F9")})])])}},Be=Qe(function(){return dV(r,function(tn){var Hn=Pe([tn]);Tr(_,eL,{forwardContents:ie(Hn)})})}),Tt=function(tn,Hn){return FB(t,{buttons:tn,toolbar:Hn.items,allowToolbarGroups:!1},s,A.some(["form:"]))},kt=function(tn,Hn){return J9.buildInitGroups(tn,Hn)},Pe=function(tn){var Hn=t.ui.registry.getAll().buttons,on=Be(),Lt=U(U({},Hn),on.formNavigators),An=h2(t)===ol.scrolling?ol.scrolling:ol.default,rr=be(pt(tn,function(Zt){return Zt.type==="contexttoolbar"?Tt(Lt,Zt):kt(Zt,m.providers)}));return RB({type:An,uid:nr("context-toolbar"),initGroups:rr,onEscape:A.none,cyclicKeying:!0,providers:m.providers})},dt=function(tn,Hn){var on=tn==="node"?m.anchors.node(Hn):m.anchors.cursor(),Lt=uV(t,tn,h(),{lastElement:C.get,isReposition:function(){return Rr(S.get(),0)},getMode:function(){return Yo.getMode(o)}});return Bt(on,Lt)},zt=function(tn,Hn){if(zn.cancel(),!!V()){var on=Pe(tn),Lt=tn[0].position,An=dt(Lt,Hn);T.set(Lt),S.set(1);var rr=_.element;Da(rr,"display"),q(Hn)||(vi(rr,y$),Yo.reset(o,_)),Ka.showWithinBounds(_,ie(on),{anchor:An,transition:{classes:[y$],mode:"placement"}},function(){return A.some(P())}),Hn.fold(C.clear,C.set),Q()&&Mr(rr,"display","none")}},zn=Nx(function(){if(!(!t.hasFocus()||t.removed))if(Xu(_.element,y$))zn.throttle();else{var tn=Be();vV(tn,t).fold(le,function(Hn){zt(Hn.toolbars,A.some(Hn.elem))})}},17);t.on("init",function(){t.on("remove",le),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",De),t.on("click keyup focus SetContent",zn.throttle),t.on(G7,le),t.on(j9,function(tn){var Hn=Be();wt(Hn.lookupTable,tn.toolbarKey).each(function(on){zt([on],so(tn.target!==t,tn.target)),Ka.getContent(_).each(dr.focusIn)})}),t.on("focusout",function(tn){rv.setEditorTimeout(t,function(){Tl(o.element).isNone()&&Tl(_.element).isNone()&&le()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&le()}),t.on("AfterProgressState",function(tn){tn.state?le():t.hasFocus()&&zn.throttle()}),t.on("NodeChange",function(tn){Tl(_.element).fold(zn.throttle,ve)})})},pV=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];qe(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:pv(t,o.cmd),onSetup:PB(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:pv(t,"JustifyNone")})},hV={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},bV=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",v=function(C){return"(?:"+C+")?"},m=["Infinity",t+s+v(t)+v(o),s+t+v(o),t+v(o)].join("|"),h="[+-]?(?:"+m+")";return new RegExp("^("+h+")(.*)$")}(),yV=function(t,r){return an(r,function(o){return an(hV[o],function(s){return t===s})})},wV=function(t,r){var o=A.from(bV.exec(t));return o.bind(function(s){var v=Number(s[1]),m=s[2];return yV(m,r)?A.some({value:v,unit:m}):A.none()})},CV=function(t,r){return wV(t,r).map(function(o){var s=o.value,v=o.unit;return s+v})},nL=function(t,r){var o=function(){var s=r.getOptions(t),v=r.getCurrent(t).map(r.hash),m=Xo();return pt(s,function(h){return{type:"togglemenuitem",text:r.display(h),onSetup:function(C){var S=function(_){_&&(m.on(function(P){return P.setActive(!1)}),m.set(C)),C.setActive(_)};S(Rr(v,r.hash(h)));var T=r.watcher(t,h,S);return function(){m.clear(),T()}},onAction:function(){return r.setCurrent(t,h)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},SV={name:"lineheight",text:"Line height",icon:"line-height",getOptions:MF,hash:function(t){return CV(t,["fixed","relative","empty"]).getOr(t)},display:Ne,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return A.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},xV=function(t){var r=A.from(FF(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:j(o),hash:function(s){return Xt(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,v,m){return s.formatter.formatChanged("lang",m,!1,{value:v.code,customValue:v.customCode}).unbind},getCurrent:function(s){var v=ce.fromDom(s.selection.getNode());return Mm(v,function(m){return A.some(m).filter(F).bind(function(h){var C=Po(h,"lang");return C.map(function(S){var T=Po(h,"data-mce-lang").getOrUndefined();return{code:S,customCode:T,title:""}})})})},setCurrent:function(s,v){return s.execCommand("Lang",!1,v)},onToolbarSetup:function(s){var v=tg();return s.setActive(t.formatter.match("lang",{},void 0,!0)),v.set(t.formatter.formatChanged("lang",s.setActive,!0)),v.clear}}})},kV=function(t){nL(t,SV),xV(t).each(function(r){return nL(t,r)})},TV=function(t,r){UH(t,r),KH(t,r),u9(t,r),o9(t,r),n9(t,r)},EV=function(t){return BB(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},AV=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:EV(t),onAction:pv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:pv(t,"indent")})},OV=function(t){AV(t)},w$=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},DV=function(t){Jg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,v){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:PB(t,s.name),onAction:w$(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:PB(t,o),onAction:w$(t,o)})}},_V=function(t){Jg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:pv(t,r.action)})})},RV=function(t){Jg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:pv(t,r.action),onSetup:PB(t,r.name)})})},PV=function(t){DV(t),_V(t),RV(t)},BV=function(t){Jg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:pv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:w$(t,"code")})},MV=function(t){PV(t),BV(t)},$B=function(t,r){return BB(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},FV=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:$B(t,"hasUndo"),onAction:pv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:$B(t,"hasRedo"),onAction:pv(t,"redo")})},NV=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:$B(t,"hasUndo"),onAction:pv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:$B(t,"hasRedo"),onAction:pv(t,"redo")})},IV=function(t){FV(t),NV(t)},$V=function(t){return BB(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},LV=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:$V(t),onAction:pv(t,"mceToggleVisualAid")})},zV=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pv(t,"mceToggleVisualAid")})},HV=function(t){zV(t),LV(t)},VV=function(t,r){pV(t),MV(t),TV(t,r),IV(t),D5(t),HV(t),OV(t),kV(t)},DO=function(t,r){return{type:"makeshift",x:t,y:r}},UV=function(t,r,o){return DO(t.x+r,t.y+o)},rL=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},WV=function(t){if(rL(t)){var r=t.touches[0];return DO(r.pageX,r.pageY)}else return DO(t.pageX,t.pageY)},jV=function(t){if(rL(t)){var r=t.touches[0];return DO(r.clientX,r.clientY)}else return DO(t.clientX,t.clientY)},GV=function(t,r){var o=p2.DOM.getPos(t);return UV(r,o.x,o.y)},qV=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?WV(r):GV(t.getContentAreaContainer(),jV(r)):aL(t)},aL=function(t){return{type:"selection",root:ce.fromDom(t.selection.getNode())}},KV=function(t){return{type:"node",node:A.some(ce.fromDom(t.selection.getNode())),root:ce.fromDom(t.getBody())}},oL=function(t,r,o){switch(o){case"node":return KV(t);case"point":return qV(t,r);case"selection":return aL(t)}},XV=function(t,r,o,s,v,m){var h=o(),C=oL(t,r,m);B0(h,iv.CLOSE_ON_EXECUTE,s,!1).map(function(S){r.preventDefault(),Ka.showMenuAt(v,{anchor:C},{menu:{markers:i0("normal")},data:S})})},YV={onLtr:function(){return[di,Eu,Pi,Ju,Qu,bs,Bl,Lg,cm,sm,Sh,Ch]},onRtl:function(){return[di,Pi,Eu,Qu,Ju,bs,Bl,Lg,Sh,Ch,cm,sm]}},ZV=12,JV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},QV=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],v=o.getRng(),m=nw(t.getWin(),ig.domRange(v));return m.exists(function(h){return h.left<=s.clientX&&h.right>=s.clientX&&h.top<=s.clientY&&h.bottom>=s.clientY})},eU=function(t){var r=t.selection.getRng(),o=function(){rv.setEditorTimeout(t,function(){t.selection.setRng(r)},10),m()};t.once("touchend",o);var s=function(h){h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",s,!0);var v=function(){return m()};t.once("longpresscancel",v);var m=function(){t.off("touchend",o),t.off("longpresscancel",v),t.off("mousedown",s)}},tU=function(t,r,o){var s=oL(t,r,o),v=o==="point"?ZV:0;return U({bubble:zd(0,v,JV),layouts:YV,overrides:{maxWidthFunction:o$(),maxHeightFunction:rg()}},s)},nU=function(t,r,o,s,v,m,h){var C=tU(t,r,m);B0(o,iv.CLOSE_ON_EXECUTE,s,!0).map(function(S){r.preventDefault(),Ka.showMenuWithinBounds(v,{anchor:C},{menu:{markers:i0("normal"),highlightImmediately:h},data:S,type:"horizontal"},function(){return A.some(Y7(t,s.shared,m==="node"?"node":"selection"))}),t.fire(G7)})},rU=function(t,r,o,s,v,m){var h=Sr(),C=h.os.isiOS(),S=h.os.isOSX(),T=h.os.isAndroid(),_=h.deviceType.isTouch(),P=function(){return!(T||C||S&&_)},V=function(){var Q=o();nU(t,r,Q,s,v,m,P())};if((S||C)&&m!=="node"){var q=function(){eU(t),V()};QV(t,r)?q():(t.once("selectionchange",q),t.once("touchend",function(){return t.off("selectionchange",q)}))}else V()},iL=function(t){return typeof t=="string"?t.split(/[ ,]/):t},uL=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},aU=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return A.from(t.getParam(r)).map(iL).getOrThunk(function(){return Me(iL(o),function(v){return sn(s,v)})})},oU=function(t){return t.getParam("contextmenu")===!1},iU=function(t){return aU(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},uU=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},sL=function(t){return we(t)?t==="|":t.type==="separator"},C$={type:"separator"},cL=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(we(t))return t;switch(t.type){case"separator":return C$;case"submenu":return U(U({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return we(o)?o:pt(o,cL)}});default:return U(U({type:"menuitem"},r(t)),{onAction:Mt(t.onAction)})}},lL=function(t,r){if(r.length===0)return t;var o=jt(t).filter(function(v){return!sL(v)}),s=o.fold(function(){return[]},function(v){return[C$]});return t.concat(s).concat(r).concat([C$])},sU=function(t,r,o){var s=qt(r,function(v,m){return wt(t,m.toLowerCase()).map(function(h){var C=h.update(o);if(we(C))return lL(v,C.split(" "));if(C.length>0){var S=pt(C,cL);return lL(v,S)}else return v}).getOrThunk(function(){return v.concat([m])})},[]);return s.length>0&&sL(s[s.length-1])&&s.pop(),s},cU=function(t,r){return r.ctrlKey&&!uL(t)},fL=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},vL=function(t,r){return fL(t,r)?t.selection.getStart(!0):r.target},lU=function(t,r){var o=uU(t),s=fL(t,r)?"selection":"point";if(hi(o)){var v=vL(t,r),m=k2(ce.fromDom(v),o);return m?"node":s}else return s},fU=function(t,r,o){var s=Sr(),v=s.deviceType.isTouch,m=So(Ka.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Pn([Xr("dismissContextMenu",[rn(Yc(),function(S,T){ba.close(S),t.focus()})])])})),h=function(S){return Ka.hide(m)},C=function(S){if(uL(t)&&S.preventDefault(),!(cU(t,S)||oU(t))){var T=lU(t,S),_=function(){var V=vL(t,S),q=t.ui.registry.getAll(),Q=iU(t);return sU(q.contextMenus,Q,V)},P=v()?rU:XV;P(t,S,_,o,m,T)}};t.on("init",function(){var S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(S,h),t.on("longpress contextmenu",C)})},S$=tc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),LB=function(t){return function(r){return r.translate(-t.left,-t.top)}},zB=function(t){return function(r){return r.translate(t.left,t.top)}},Uh=function(t){return function(r,o){return qt(t,function(s,v){return v(s)},eo(r,o))}},HB=function(t,r,o){return t.fold(Uh([zB(o),LB(r)]),Uh([LB(r)]),Uh([]))},wT=function(t,r,o){return t.fold(Uh([zB(o)]),Uh([]),Uh([zB(r)]))},dL=function(t,r,o){return t.fold(Uh([]),Uh([LB(o)]),Uh([zB(r),LB(o)]))},vU=function(t,r,o,s,v,m){var h=wT(t,v,m),C=wT(r,v,m);return Math.abs(h.left-C.left)<=o&&Math.abs(h.top-C.top)<=s},dU=function(t,r,o,s,v,m){var h=wT(t,v,m),C=wT(r,v,m),S=Math.abs(h.left-C.left),T=Math.abs(h.top-C.top);return eo(S,T)},mL=function(t,r,o){var s=t.fold(function(v,m){return{position:A.some("absolute"),left:A.some(v+"px"),top:A.some(m+"px")}},function(v,m){return{position:A.some("absolute"),left:A.some(v-o.left+"px"),top:A.some(m-o.top+"px")}},function(v,m){return{position:A.some("fixed"),left:A.some(v+"px"),top:A.some(m+"px")}});return U({right:A.none(),bottom:A.none()},s)},mU=function(t,r,o){return t.fold(function(s,v){return VB(s+r,v+o)},function(s,v){return I0(s+r,v+o)},function(s,v){return G2(s+r,v+o)})},x$=function(t,r,o,s){var v=function(m,h){return function(C,S){var T=m(r,o,s);return h(C.getOr(T.left),S.getOr(T.top))}};return t.fold(v(dL,VB),v(wT,I0),v(HB,G2))},VB=S$.offset,I0=S$.absolute,G2=S$.fixed,gL=function(t,r){var o=wo(t,r);return Xt(o)?NaN:parseInt(o,10)},gU=function(t,r){var o=t.element,s=gL(o,r.leftAttr),v=gL(o,r.topAttr);return isNaN(s)||isNaN(v)?A.none():A.some(eo(s,v))},pU=function(t,r,o){var s=t.element;Zr(s,r.leftAttr,o.left+"px"),Zr(s,r.topAttr,o.top+"px")},hU=function(t,r){var o=t.element;$i(o,r.leftAttr),$i(o,r.topAttr)},bU=function(t,r,o,s){return gU(t,r).fold(function(){return o},function(v){return G2(v.left+s.left,v.top+s.top)})},yU=function(t,r,o,s,v,m){var h=bU(t,r,o,s),C=r.mustSnap?CU(t,r,h,v,m):SU(t,r,h,v,m),S=HB(h,v,m);return pU(t,r,S),C.fold(function(){return{coord:G2(S.left,S.top),extra:A.none()}},function(T){return{coord:T.output,extra:T.extra}})},wU=function(t,r){hU(t,r)},pL=function(t,r,o,s){return Ye(t,function(v){var m=v.sensor,h=vU(r,m,v.range.left,v.range.top,o,s);return h?A.some({output:x$(v.output,r,o,s),extra:v.extra}):A.none()})},CU=function(t,r,o,s,v){var m=r.getSnapPoints(t),h=pL(m,o,s,v);return h.orThunk(function(){var C=qt(m,function(S,T){var _=T.sensor,P=dU(o,_,T.range.left,T.range.top,s,v);return S.deltas.fold(function(){return{deltas:A.some(P),snap:A.some(T)}},function(V){var q=(P.left+P.top)/2,Q=(V.left+V.top)/2;return q<=Q?{deltas:A.some(P),snap:A.some(T)}:S})},{deltas:A.none(),snap:A.none()});return C.snap.map(function(S){return{output:x$(S.output,o,s,v),extra:S.extra}})})},SU=function(t,r,o,s,v){var m=r.getSnapPoints(t);return pL(m,o,s,v)},xU=function(t,r,o){return{coord:x$(t.output,t.output,r,o),extra:t.extra}},kU=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var m=qo(t.element),h=Bs(m),C=SB(v),S=xU(s,h,C),T=mL(S.coord,h,C);Io(v,T)}},TU=Object.freeze({__proto__:null,snapTo:kU}),k$="data-initial-z-index",EU=function(t){Ro(t.element).filter(F).each(function(r){Po(r,k$).fold(function(){return Da(r,"z-index")},function(o){return Mr(r,"z-index",o)}),$i(r,k$)})},AU=function(t){Ro(t.element).filter(F).each(function(r){ai(r,"z-index").each(function(o){Zr(r,k$,o)}),Mr(r,"z-index",$o(t.element,"z-index"))})},hL=function(t,r){t.getSystem().addToGui(r),AU(r)},OU=function(t){EU(t),t.getSystem().removeFromGui(t)},bL=function(t,r,o){return t.getSystem().build(rs.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},DU=Ns("snaps",[Gt("getSnapPoints"),Ra("onSensor"),Gt("leftAttr"),Gt("topAttr"),Ie("lazyViewport",Ji),Ie("mustSnap",!1)]),T$=[Ie("useFixed",st),Gt("blockerClass"),Ie("getTarget",Ne),Ie("onDrag",ve),Ie("repositionTarget",!0),Ie("onDrop",ve),fo("getBounds",Ji),DU],_U=function(t){return ni(ai(t,"left"),ai(t,"top"),ai(t,"position"),function(r,o,s){var v=s==="fixed"?G2:VB;return v(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=Uu(t);return I0(r.left,r.top)})},RU=function(t,r,o,s,v){var m=v.bounds,h=wT(r,o,s),C=Ls(h.left,m.x,m.x+m.width-v.width),S=Ls(h.top,m.y,m.y+m.height-v.height),T=I0(C,S);return r.fold(function(){var _=dL(T,o,s);return VB(_.left,_.top)},j(T),function(){var _=HB(T,o,s);return G2(_.left,_.top)})},PU=function(t,r,o,s,v,m,h){var C=r.fold(function(){var S=mU(o,m.left,m.top),T=HB(S,s,v);return G2(T.left,T.top)},function(S){var T=yU(t,S,o,m,s,v);return T.extra.each(function(_){S.onSensor(t,_)}),T.coord});return RU(t,C,s,v,h)},BU=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var m=qo(t.element),h=Bs(m),C=SB(v),S=_U(v),T=PU(t,r.snaps,S,h,C,s,o),_=mL(T,h,C);Io(v,_)}r.onDrag(t,v,s)},yL=function(t,r){return{bounds:t.getBounds(),height:Ps(r.element),width:Wu(r.element)}},E$=function(t,r,o,s,v){var m=o.update(s,v),h=o.getStartData().getOrThunk(function(){return yL(r,t)});m.each(function(C){BU(t,r,h,C)})},wL=function(t,r,o,s){r.each(OU),o.snaps.each(function(m){wU(t,m)});var v=o.getTarget(t.element);s.reset(),o.onDrop(t,v)},A$=function(t){return function(r,o){var s=function(v){o.setStartData(yL(r,v))};return ro(He([rn(iy(),function(v){o.getStartData().each(function(){return s(v)})})],t(r,o,s),!0))}},MU=function(t){return ro([rn(Xc(),t.forceDrop),rn(ey(),t.drop),rn(yd(),function(r,o){t.move(o.event)}),rn(Q0(),t.delayDrop)])},FU=function(t){return A.from(eo(t.x,t.y))},NU=function(t,r){return eo(r.left-t.left,r.top-t.top)},IU=Object.freeze({__proto__:null,getData:FU,getDelta:NU}),CL=function(t,r,o){return[rn(Xc(),function(s,v){var m=v.event.raw;if(m.button===0){v.stop();var h=function(){return wL(s,A.some(T),t,r)},C=qA(h,200),S={drop:h,delayDrop:C.schedule,forceDrop:h,move:function(P){C.cancel(),E$(s,t,r,IU,P)}},T=bL(s,t.blockerClass,MU(S)),_=function(){o(s),hL(s,T)};_()}})]},$U=He(He([],T$,!0),[io("dragger",{handlers:A$(CL)})],!1),LU=function(t){return ro([rn(Xl(),t.forceDrop),rn(kv(),t.drop),rn(vC(),t.drop),rn(Kc(),function(r,o){t.move(o.event)})])},zU=function(t){var r=t[0];return A.some(eo(r.clientX,r.clientY))},HU=function(t){var r=t.raw,o=r.touches;return o.length===1?zU(o):A.none()},VU=function(t,r){return eo(r.left-t.left,r.top-t.top)},SL=Object.freeze({__proto__:null,getData:HU,getDelta:VU}),xL=function(t,r,o){var s=Xo(),v=function(m){wL(m,s.get(),t,r),s.clear()};return[rn(Xl(),function(m,h){h.stop();var C=function(){return v(m)},S={drop:C,delayDrop:ve,forceDrop:C,move:function(P){E$(m,t,r,SL,P)}},T=bL(m,t.blockerClass,LU(S));s.set(T);var _=function(){o(m),hL(m,T)};_()}),rn(Kc(),function(m,h){h.stop(),E$(m,t,r,SL,h.event)}),rn(kv(),function(m,h){h.stop(),v(m)}),rn(vC(),v)]},UU=He(He([],T$,!0),[io("dragger",{handlers:A$(xL)})],!1),WU=function(t,r,o){return He(He([],CL(t,r,o),!0),xL(t,r,o),!0)},jU=He(He([],T$,!0),[io("dragger",{handlers:A$(WU)})],!1),GU=$U,qU=UU,KU=jU,XU=Object.freeze({__proto__:null,mouse:GU,touch:qU,mouseOrTouch:KU}),YU=function(){var t=A.none(),r=A.none(),o=function(){t=A.none(),r=A.none()},s=function(S,T){var _=t.map(function(P){return S.getDelta(P,T)});return t=A.some(T),_},v=function(S,T){return S.getData(T).bind(function(_){return s(S,_)})},m=function(S){r=A.some(S)},h=function(){return r},C=j({});return Tu({readState:C,reset:o,update:v,getStartData:h,setStartData:m})},ZU=Object.freeze({__proto__:null,init:YU}),q2=Id({branchKey:"mode",branches:XU,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:A.from(t.extra)}}},state:ZU,apis:TU}),O$=40,UB=O$/2,kL=function(t,r,o,s,v,m){return t.fold(function(){return q2.snap({sensor:I0(o-UB,s-UB),range:eo(v,m),output:I0(A.some(o),A.some(s)),extra:{td:r}})},function(h){var C=o-UB,S=s-UB,T=O$,_=O$,P=h.element.dom.getBoundingClientRect();return q2.snap({sensor:I0(C,S),range:eo(T,_),output:I0(A.some(o-P.width/2),A.some(s-P.height/2)),extra:{td:r}})})},TL=function(t,r,o){var s=function(v,m){return v.exists(function(h){return Ga(h,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(v,m){var h=m.td;s(r.get(),h)||(r.set(h),o(h))},mustSnap:!0}},EL=function(t){return za(Hs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Pn([q2.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),x0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},JU=function(t,r){var o=kr([]),s=kr([]),v=kr(!1),m=Xo(),h=Xo(),C=function(zt){var zn=Wl(zt);return kL(q.getOpt(r),zt,zn.x,zn.y,zn.width,zn.height)},S=function(){return pt(o.get(),function(zt){return C(zt)})},T=function(zt){var zn=Wl(zt);return kL(Q.getOpt(r),zt,zn.right,zn.bottom,zn.width,zn.height)},_=function(){return pt(s.get(),function(zt){return T(zt)})},P=TL(S,m,function(zt){h.get().each(function(zn){t.fire("TableSelectorChange",{start:zt,finish:zn})})}),V=TL(_,h,function(zt){m.get().each(function(zn){t.fire("TableSelectorChange",{start:zn,finish:zt})})}),q=EL(P),Q=EL(V),le=So(q.asSpec()),De=So(Q.asSpec()),ie=function(zt,zn,tn,Hn){var on=zn.dom.getBoundingClientRect();Da(zt.element,"display");var Lt=vl(ce.fromDom(t.getBody())).dom.innerHeight,An=tn(on),rr=Hn(on,Lt);(An||rr)&&Mr(zt.element,"display","none")},Be=function(zt,zn,tn,Hn){var on=tn(zn);q2.snapTo(zt,on);var Lt=function(rr){return rr[Hn]<0},An=function(rr,Zt){return rr[Hn]>Zt};ie(zt,zn,Lt,An)},Tt=function(zt){return Be(le,zt,C,"top")},kt=function(){return m.get().each(Tt)},Pe=function(zt){return Be(De,zt,T,"bottom")},dt=function(){return h.get().each(Pe)};Sr().deviceType.isTouch()&&(t.on("TableSelectionChange",function(zt){v.get()||(Wd(r,le),Wd(r,De),v.set(!0)),m.set(zt.start),h.set(zt.finish),zt.otherCells.each(function(zn){o.set(zn.upOrLeftCells),s.set(zn.downOrRightCells),Tt(zt.start),Pe(zt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){kt(),dt()}),t.on("TableSelectionClear",function(){v.get()&&(Dl(le),Dl(De),v.set(!1)),m.clear(),h.clear()}))},QU=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},eW=function(t,r,o){r.delimiter||(r.delimiter="»");var s=function(m){var h=m||[],C=pt(h,function(T,_){return Hs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":_,"tab-index":-1,"aria-level":_+1},innerHtml:T.name},action:function(P){t.focus(),t.selection.select(T.element),t.nodeChanged()},buttonBehaviours:Pn([Ml.button(o.isDisabled),Mi()])})}),S={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return qt(C.slice(1),function(T,_){var P=T;return P.push(S),P.push(_),P},[C[0]])},v=function(m){for(var h=[],C=m.length;C-- >0;){var S=m[C];if(S.nodeType===1&&!QU(S)){var T=t.fire("ResolveName",{name:S.nodeName.toLowerCase(),target:S});if(T.isDefaultPrevented()||h.push({name:T.name,element:S}),T.isPropagationStopped())break}}return h};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Pn([dr.config({mode:"flow",selector:"div[role=button]"}),xr.config({disabled:o.isDisabled}),Mi(),ti.config({}),$r.config({}),Xr("elementPathEvents",[Kr(function(m,h){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return dr.focusIn(m)}),t.on("NodeChange",function(C){var S=v(C.parents);S.length>0?$r.set(m,s(S)):$r.set(m,[])})})])]),components:[]}},K2;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(K2||(K2={}));var tW=function(t,r,o,s,v){var m={};return m.height=NB(s+r.top,RD(t),PD(t)),o===K2.Both&&(m.width=NB(v+r.left,_D(t),Xx(t))),m},AL=function(t,r,o){var s=ce.fromDom(t.getContainer()),v=tW(t,r,o,li(s),yu(s));Fn(v,function(m,h){return Mr(s,h,m$(m))}),p5(t)},nW=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?K2.None:o==="both"?K2.Both:K2.Vertical},WB=function(t,r,o,s){var v=20,m=eo(o*v,s*v);return AL(t,m,r),A.some(!0)},rW=function(t,r){var o=nW(t);return o===K2.None?A.none():A.some(bf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[q2.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,v,m){return AL(t,m,o)},blockerClass:"tox-blocker"}),dr.config({mode:"special",onLeft:function(){return WB(t,o,-1,0)},onRight:function(){return WB(t,o,1,0)},onUp:function(){return WB(t,o,0,-1)},onDown:function(){return WB(t,o,0,1)}}),ti.config({}),Lr.config({})]},r.icons))},aW=function(t,r){var o,s=function(v,m,h){return $r.set(v,[ru(r.translate(["{0} "+h,m[h]]))])};return Hs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Pn([Ml.button(r.isDisabled),Mi(),ti.config({}),$r.config({}),Ln.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Xr("wordcount-events",[$s(function(v){var m=Ln.getValue(v),h=m.mode==="words"?"characters":"words";Ln.setValue(v,{mode:h,count:m.count}),s(v,m.count,h)}),Kr(function(v){t.on("wordCountUpdate",function(m){var h=Ln.getValue(v).mode;Ln.setValue(v,{mode:h,count:m.wordCount}),s(v,m.wordCount,h)})})])]),eventOrder:(o={},o[nc()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},oW=function(t,r){var o=function(){var m=hf.translate(["Powered by {0}","Tiny"]),h='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:h}}},s=function(){var m=[];return t.getParam("elementpath",!0,"boolean")&&m.push(eW(t,{},r)),t.hasPlugin("wordcount")&&m.push(aW(t,r)),t.getParam("branding",!0,"boolean")&&m.push(o()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},v=function(){var m=s(),h=rW(t,r);return m.concat(h.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:v()}},iW=function(t){var r,o=t.inline,s=o?W9:I9,v=Jx(t)?re:L8,m=A.none(),h=Sr(),C=h.browser.isIE(),S=C?["tox-platform-ie"]:[],T=h.deviceType.isTouch(),_="tox-platform-touch",P=T?[_]:[],V=FD(t),q=ID(t),Q=hf.isRtl()?{attributes:{dir:"rtl"}}:{},le={attributes:(r={},r[Z1]=V?af.BottomToTop:af.TopToBottom,r)},De=function(){return m.bind(gi.getHeader)},ie=function(){return v.isDocked(De)},Be=function(){Mr(Ts.element,"width",document.body.clientWidth+"px")},Tt=function(){var Ki=Ga(qa(),q)&&$o(q,"display")==="grid",Cm={dom:U({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S).concat(P)},Q),behaviours:Pn([Yo.config({useFixed:function(){return ie()}})])},sp={dom:{styles:{width:document.body.clientWidth+"px"}},events:ro([rn(rc(),Be)])};return Bt(Cm,Ki?sp:{})},kt=So(Tt()),Pe=function(){return Qr.value(kt)},dt=za({dom:{tag:"div",classes:["tox-anchorbar"]}}),zt=function(){return m.bind(function(Ki){return dt.getOpt(Ki)}).getOrDie("Could not find a anchor bar element")},zn=function(){return m.bind(function(Ki){return gi.getToolbar(Ki)}).getOrDie("Could not find more toolbar element")},tn=function(){return m.bind(function(Ki){return gi.getThrobber(Ki)}).getOrDie("Could not find throbber element")},Hn=F8(kt,t,zt),on=gi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Hn,onEscape:function(){t.focus()}}),Lt=h2(t),An=gi.parts.toolbar(U({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Pe,providers:Hn.shared.providers,onEscape:function(){t.focus()},type:Lt,lazyToolbar:zn,lazyHeader:function(){return De().getOrDie("Could not find header element")}},le)),rr=gi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Hn.shared.providers,onEscape:function(){t.focus()},type:Lt}),Zt=gi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Qn=gi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),fr=gi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Hn}),ma=t.getParam("statusbar",!0,"boolean"),Va=ma&&!o?A.some(oW(t,Hn.shared.providers)):A.none(),po={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Zt,Qn]},Wo=Yx(t),Nc=RA(t),us=Bi(t),ST=function(){return Wo?[rr]:Nc?[An]:[]},qi=gi.parts.header({dom:U({tag:"div",classes:["tox-editor-header"]},le),components:be([us?[on]:[],ST(),Zx(t)?[]:[dt.asSpec()]]),sticky:Jx(t),editor:t,sharedBackstage:Hn.shared}),Wh=be([V?[]:[qi],o?[]:[po],V?[qi]:[]]),jh={dom:{tag:"div",classes:["tox-editor-container"]},components:Wh},X2=be([[jh],o?[]:Va.toArray(),[fr]]),Gh=$D(t),Y2=U(U({role:"application"},hf.isRtl()?{dir:"rtl"}:{}),Gh?{"aria-hidden":"true"}:{}),Gs=So(gi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(V?["tox-tinymce--toolbar-bottom"]:[]).concat(P).concat(S),styles:U({visibility:"hidden"},Gh?{opacity:"0",border:"0"}:{}),attributes:Y2},components:X2,behaviours:Pn([Mi(),xr.config({disableClass:"tox-tinymce--disabled"}),dr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=A.some(Gs),t.shortcuts.add("alt+F9","focus menubar",function(){gi.focusMenubar(Gs)}),t.shortcuts.add("alt+F10","focus toolbar",function(){gi.focusToolbar(Gs)}),t.addCommand("ToggleToolbarDrawer",function(){gi.toggleToolbarDrawer(Gs)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return gi.isToolbarDrawerToggled(Gs)});var hv=B_(Gs),Ts=B_(kt);cd(t,hv,Ts);var Z2=function(){var Ki={broadcastAll:Ts.broadcast,broadcastOn:Ts.broadcastOn,register:ve};return{channels:Ki}},up=function(){var Ki=m$(L9(t)),Cm=m$(z9(t));return t.inline||(Ys("div","width",Cm)&&Mr(Gs.element,"width",Cm),Ys("div","height",Ki)?Mr(Gs.element,"height",Ki):Mr(Gs.element,"height","200px")),Ki},$0=function(){v.setup(t,Hn.shared,De),VV(t,Hn),fU(t,Pe,Hn),dv(t),ip(t,tn,Hn.shared),hn(NF(t),function(Es,Ic){t.ui.registry.addGroupToolbarButton(Ic,Es)});var Ki=t.ui.registry.getAll(),Cm=Ki.buttons,sp=Ki.menuItems,qh=Ki.contextToolbars,bv=Ki.sidebars,cp=BD(t),Gn={menuItems:sp,menus:VF(t),menubar:UF(t),toolbar:cp.getOrThunk(function(){return WF(t)}),allowToolbarGroups:Lt===ol.floating,buttons:Cm,sidebar:bv};gV(t,qh,kt,{backstage:Hn}),JU(t,kt);var ta=t.getElement(),ja=up(),No={mothership:hv,uiMothership:Ts,outerContainer:Gs},qs={targetNode:ta,height:ja};return s.render(t,No,Gn,Hn,qs)};return{mothership:hv,uiMothership:Ts,backstage:Hn,renderUI:$0,getUi:Z2}},uW=function(t,r){var o=A.from(wo(t,"id")).fold(function(){var s=nr("dialog-describe");return Zr(r,"id",s),s},Ne);Zr(t,"aria-describedby",o)},sW=function(t,r){var o=Po(t,"id").fold(function(){var s=nr("dialog-label");return Zr(r,"id",s),s},Ne);Zr(t,"aria-labelledby",o)},cW=j([Gt("lazySink"),_a("dragBlockClass"),fo("getBounds",Ji),Ie("useTabstopAt",rt),Ie("eventOrder",{}),Oi("modalBehaviours",[dr]),Ti("onExecute"),hs("onEscape")]),D$={sketch:Ne},lW=j([Ac({name:"draghandle",overrides:function(t,r){return{behaviours:Pn([q2.config({mode:"mouse",getTarget:function(o){return A1(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),su({schema:[Gt("dom")],name:"title"}),su({factory:D$,schema:[Gt("dom")],name:"close"}),su({factory:D$,schema:[Gt("dom")],name:"body"}),Ac({factory:D$,schema:[Gt("dom")],name:"footer"}),lc({factory:{sketch:function(t,r){return U(U({},t),{dom:r.dom,components:r.components})}},schema:[Ie("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ie("components",[])],name:"blocker"})]),fW=function(t,r,o,s){var v,m=Xo(),h=function(Q){m.set(Q);var le=t.lazySink(Q).getOrDie(),De=s.blocker(),ie=le.getSystem().build(U(U({},De),{components:De.components.concat([cc(Q)]),behaviours:Pn([Lr.config({}),Xr("dialog-blocker-events",[ii(Cc(),function(){dr.focusIn(Q)})])])}));Wd(le,ie),dr.focusIn(Q)},C=function(Q){m.clear(),Ro(Q.element).each(function(le){Q.getSystem().getByDom(le).each(function(De){Dl(De)})})},S=function(Q){return df(Q,t,"body")},T=function(Q){return df(Q,t,"footer")},_=function(Q,le){fd.block(Q,le)},P=function(Q){fd.unblock(Q)},V=nr("modal-events"),q=U(U({},t.eventOrder),(v={},v[Is()]=[V].concat(t.eventOrder["alloy.system.attached"]||[]),v));return{uid:t.uid,dom:t.dom,components:r,apis:{show:h,hide:C,getBody:S,getFooter:T,setIdle:P,setBusy:_},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Vi(t.modalBehaviours,[$r.config({}),dr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),fd.config({getRoot:m.get}),Xr(V,[Kr(function(Q){sW(Q.element,df(Q,t,"title").element),uW(Q.element,df(Q,t,"body").element)})])])}},vu=ts({name:"ModalDialog",configFields:cW(),partFields:lW(),factory:fW,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),vW=br([Ir("type"),Ir("name")].concat(u0)),dW=Li,OL=[Si("name","name",ga(function(){return nr("button-name")}),Qo),lo("icon"),ec("align","end",["start","end"]),no("primary",!1),no("disabled",!1)],DL=He(He([],OL,!0),[Ir("text")],!1),_$=He([Qs("type",["submit","cancel","custom"])],DL,!0),mW=He([Qs("type",["menu"]),lo("text"),lo("tooltip"),lo("icon"),xu("items",vW)],OL,!0),gW=wc("type",{submit:_$,cancel:_$,custom:_$,menu:mW}),pW=[Ir("type"),Ir("text"),Qs("level",["info","warn","error","success"]),Ir("icon"),Ie("url","")],hW=br(pW),bW=function(t){return[Ir("type"),t]},yW=[Ir("type"),Ir("text"),no("disabled",!1),no("primary",!1),Si("name","name",ga(function(){return nr("button-name")}),Qo),lo("icon"),no("borderless",!1)],wW=br(yW),CW=[Ir("type"),Ir("name"),Ir("label"),no("disabled",!1)],SW=br(CW),xW=Li,R$=[Ir("type"),Ir("name")],vd=R$.concat([lo("label")]),kW=vd.concat([Ie("columns","auto")]),TW=br(kW),EW=q0([Ir("value"),Ir("text"),Ir("icon")]),AW=vd,OW=br(AW),DW=Qo,_W=vd,RW=br(_W),PW=Qo,BW=R$.concat([Bm("tag","textarea"),Ir("scriptId"),Ir("scriptUrl"),ps("settings",void 0)]),MW=R$.concat([Bm("tag","textarea"),Bu("init")]),FW=Rm(function(t){return Bo("customeditor.old",Ms(MW),t).orThunk(function(){return Bo("customeditor.new",Ms(BW),t)})}),NW=Qo,IW=vd,$W=br(IW),LW=RT(),zW=function(t){return[Ir("type"),zf("columns"),t]},HW=[Ir("type"),Ir("html"),ec("presets","presentation",["presentation","document"])],VW=br(HW),UW=vd.concat([no("sandboxed",!0)]),WW=br(UW),jW=Qo,GW=vd.concat([ms("currentState",br([Gt("blob"),Ir("url")]))]),qW=br(GW),KW=vd.concat([lo("inputMode"),lo("placeholder"),no("maximized",!1),no("disabled",!1)]),XW=br(KW),YW=Qo,ZW=function(t){return[Ir("type"),Ir("label"),t]},JW=[Ir("text"),Ir("value")],QW=[Ir("text"),xu("items",PT("items",function(){return _L}))],_L=hp([br(JW),br(QW)]),ej=vd.concat([xu("items",_L),no("disabled",!1)]),tj=br(ej),nj=Qo,rj=vd.concat([qc("items",[Ir("text"),Ir("value")]),gs("size",1),no("disabled",!1)]),aj=br(rj),oj=Qo,ij=vd.concat([no("constrain",!0),no("disabled",!1)]),uj=br(ij),RL=br([Ir("width"),Ir("height")]),sj=[Ir("type"),xu("header",Qo),xu("cells",Lf(Qo))],cj=br(sj),lj=vd.concat([lo("placeholder"),no("maximized",!1),no("disabled",!1)]),fj=br(lj),vj=Qo,dj=vd.concat([ec("filetype","file",["image","media","file"]),Ie("disabled",!1)]),mj=br(dj),gj=br([Ir("value"),Ie("meta",{})]),P$=function(t){return Si("items","items",Ur(),Lf(Rm(function(r){return Bo("Checking item of "+t,B$,r).fold(function(o){return Qr.error(Sv(o))},function(o){return Qr.value(o)})})))},B$=aC(function(){return r1("type",{alertbanner:hW,bar:br(bW(P$("bar"))),button:wW,checkbox:SW,colorinput:OW,colorpicker:RW,dropzone:$W,grid:br(zW(P$("grid"))),iframe:WW,input:XW,listbox:tj,selectbox:aj,sizeinput:uj,textarea:fj,urlinput:mj,customeditor:FW,htmlpanel:VW,imagetools:qW,collection:TW,label:br(ZW(P$("label"))),table:cj,panel:PL})}),pj=[Ir("type"),Ie("classes",[]),xu("items",B$)],PL=br(pj),hj=[Si("name","name",ga(function(){return nr("tab-name")}),Qo),Ir("title"),xu("items",B$)],bj=[Ir("type"),qc("tabs",hj)],yj=br(bj),wj=DL,Cj=gW,Sj=br([Ir("title"),ms("body",r1("type",{panel:PL,tabpanel:yj})),Bm("size","normal"),xu("buttons",Cj),Ie("initialData",{}),fo("onAction",ve),fo("onChange",ve),fo("onSubmit",ve),fo("onClose",ve),fo("onCancel",ve),Ie("onTabChange",ve)]),xj=function(t){return Bo("dialog",Sj,t)},kj=br(He([Qs("type",["cancel","custom"])],wj,!0)),Tj=br([Ir("title"),Ir("url"),bd("height"),bd("width"),Fs("buttons",kj),fo("onAction",ve),fo("onCancel",ve),fo("onClose",ve),fo("onMessage",ve)]),Ej=function(t){return Bo("dialog",Tj,t)},M$=function(t){return nt(t)?[t].concat(St(Ft(t),M$)):xt(t)?St(t,M$):[]},Aj=function(t){return we(t.type)&&we(t.name)},Oj={checkbox:xW,colorinput:DW,colorpicker:PW,dropzone:LW,input:YW,iframe:jW,sizeinput:RL,selectbox:oj,listbox:nj,size:RL,textarea:vj,urlinput:gj,customeditor:NW,collection:EW,togglemenuitem:dW},Dj=function(t){return A.from(Oj[t.type])},_j=function(t){return Me(M$(t),Aj)},Rj=function(t){var r=_j(t),o=St(r,function(s){return Dj(s).fold(function(){return[]},function(v){return[ms(s.name,v)]})});return br(o)},BL=function(t){var r=Gc(xj(t)),o=Rj(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},_O={open:function(t,r){var o=BL(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Gc(Ej(r));return t(o)},redial:function(t){return BL(t)}},ML=function(t){var r=[],o={};return Fn(t,function(s,v){s.fold(function(){r.push(v)},function(m){o[v]=m})}),r.length>0?Qr.error(r):Qr.value(o)},Pj=function(t,r){var o=za(D0.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:pt(t.items,function(v){return nB(s,v,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Pn([dr.config({mode:"acyclic",useTabstopAt:Vt(F2)}),vv.memento(o),Mh.memento(o,{postprocess:function(s){return ML(s).fold(function(v){return console.error(v),{}},Ne)}})])}},Bj=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:Zb(t.action),behaviours:Vi(t.tabButtonBehaviours,[Lr.config({}),dr.config({mode:"execution",useSpace:!0,useEnter:!0}),Ln.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},Mj=fc({name:"TabButton",configFields:[Ie("uid",void 0),Gt("value"),Si("dom","dom",Qi(function(){return{attributes:{role:"tab",id:nr("aria"),"aria-selected":"false"}}}),jc()),_a("action"),Ie("domModification",{}),Oi("tabButtonBehaviours",[Lr,dr,Ln]),Gt("view")],factory:Bj}),Fj=j([Gt("tabs"),Gt("dom"),Ie("clickToDismiss",!1),Oi("tabbarBehaviours",[Ma,dr]),Bd(["tabClass","selectedClass"])]),Nj=vf({factory:Mj,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,v){Ma.dehighlight(s,v),Tr(s,tu(),{tabbar:s,button:v})},o=function(s,v){Ma.highlight(s,v),Tr(s,dC(),{tabbar:s,button:v})};return{action:function(s){var v=s.getSystem().getByUid(t.uid).getOrDie(),m=Ma.isHighlighted(v,s),h=function(){return m&&t.clickToDismiss?r:m?ve:o}();h(v,s)},domModification:{classes:[t.markers.tabClass]}}}}),Ij=j([Nj]),$j=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Vi(t.tabbarBehaviours,[Ma.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(v,m){Zr(m.element,"aria-selected","true")},onDehighlight:function(v,m){Zr(m.element,"aria-selected","false")}}),dr.config({mode:"flow",getInitial:function(v){return Ma.getHighlighted(v).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},FL=ts({name:"Tabbar",configFields:Fj(),partFields:Ij(),factory:$j}),Lj=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:Vi(t.tabviewBehaviours,[$r.config({})]),domModification:{attributes:{role:"tabpanel"}}}},zj=fc({name:"Tabview",configFields:[Oi("tabviewBehaviours",[$r])],factory:Lj}),Hj=j([Ie("selectFirst",!0),Ra("onChangeTab"),Ra("onDismissTab"),Ie("tabs",[]),Oi("tabSectionBehaviours",[])]),Vj=su({factory:FL,schema:[Gt("dom"),Gl("markers",[Gt("tabClass"),Gt("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),Uj=su({factory:zj,name:"tabview"}),Wj=j([Vj,Uj]),jj=function(t,r,o,s){var v=function(h){var C=Ln.getValue(h);Ja(h,t,"tabview").each(function(S){var T=Ot(t.tabs,function(_){return _.value===C});T.each(function(_){var P=_.view();Po(h.element,"id").each(function(V){Zr(S.element,"aria-labelledby",V)}),$r.set(S,P),t.onChangeTab(S,h,P)})})},m=function(h,C){Ja(h,t,"tabbar").each(function(S){C(S).each(ac)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:kg(t.tabSectionBehaviours),events:ro(be([t.selectFirst?[Kr(function(h,C){m(h,Ma.getFirst)})]:[],[rn(dC(),function(h,C){var S=C.event.button;v(S)}),rn(tu(),function(h,C){var S=C.event.button;t.onDismissTab(h,S)})]])),apis:{getViewItems:function(h){return Ja(h,t,"tabview").map(function(C){return $r.contents(C)}).getOr([])},showTab:function(h,C){var S=function(T){var _=Ma.getCandidates(T),P=Ot(_,function(V){return Ln.getValue(V)===C});return P.filter(function(V){return!Ma.isHighlighted(T,V)})};m(h,S)}}}},CT=ts({name:"TabSection",configFields:Hj(),partFields:Wj(),factory:jj,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),Gj=function(t,r,o){return pt(t,function(s,v){$r.set(o,t[v].view());var m=r.dom.getBoundingClientRect();return $r.set(o,[]),m.height})},qj=function(t){return Yt(va(t,function(r,o){return r>o?-1:r<o?1:0}))},Kj=function(t,r,o){var s=Rt(t).dom,v=A1(t,".tox-dialog-wrap").getOr(t),m=$o(v,"position")==="fixed",h;m?h=Math.max(s.clientHeight,window.innerHeight):h=Math.max(s.offsetHeight,s.scrollHeight);var C=li(r),S=r.dom.offsetLeft>=o.dom.offsetLeft+yu(o),T=S?Math.max(li(o),C):C,_=parseInt($o(t,"margin-top"),10)||0,P=parseInt($o(t,"margin-bottom"),10)||0,V=li(t)+_+P,q=V-T;return h-q},Xj=function(t,r){Yt(t).each(function(o){return CT.showTab(r,o.value)})},NL=function(t,r){Mr(t,"height",r+"px"),Sr().browser.isIE()?Da(t,"flex-basis"):Mr(t,"flex-basis",r+"px")},jB=function(t,r,o){A1(t,'[role="dialog"]').each(function(s){ki(s,'[role="tablist"]').each(function(v){o.get().map(function(m){return Mr(r,"height","0"),Mr(r,"flex-basis","0"),Math.min(m,Kj(s,r,v))}).each(function(m){NL(r,m)})})})},F$=function(t){return ki(t,'[role="tabpanel"]')},Yj=function(t){var r=function(){var s=Xo(),v=[Kr(function(h){var C=h.element;F$(C).each(function(S){Mr(S,"visibility","hidden"),h.getSystem().getByDom(S).toOptional().each(function(T){var _=Gj(t,S,T),P=qj(_);P.fold(s.clear,s.set)}),jB(C,S,s),Da(S,"visibility"),Xj(t,h),rv.requestAnimationFrame(function(){jB(C,S,s)})})}),rn(rc(),function(h){var C=h.element;F$(C).each(function(S){jB(C,S,s)})}),rn(I_,function(h,C){var S=h.element;F$(S).each(function(T){var _=es(Pr(T));Mr(T,"visibility","hidden");var P=ai(T,"height").map(function(Q){return parseInt(Q,10)});Da(T,"height"),Da(T,"flex-basis");var V=T.dom.getBoundingClientRect().height,q=P.forall(function(Q){return V>Q});q?(s.set(V),jB(S,T,s)):P.each(function(Q){NL(T,Q)}),Da(T,"visibility"),_.each(kl)})})],m=!1;return{extraEvents:v,selectFirst:m}}(),o=function(){var s=[],v=!0;return{extraEvents:s,selectFirst:v}}();return{smartTabHeight:r,naiveTabHeight:o}},IL="send-data-to-section",$L="send-data-to-view",Zj=function(t,r){var o=kr({}),s=function(S){var T=Ln.getValue(S),_=ML(T).getOr({}),P=o.get(),V=Bt(P,_);o.set(V)},v=function(S){var T=o.get();Ln.setValue(S,T)},m=kr(null),h=pt(t.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(S.title)},view:function(){return[D0.sketch(function(T){return{dom:{tag:"div",classes:["tox-form"]},components:pt(S.items,function(_){return nB(T,_,r)}),formBehaviours:Pn([dr.config({mode:"acyclic",useTabstopAt:Vt(F2)}),Xr("TabView.form.events",[Kr(v),oc(s)]),Mu.config({channels:Vf([{key:IL,value:{onReceive:s}},{key:$L,value:{onReceive:v}}])})])}})]}}}),C=Yj(h).smartTabHeight;return CT.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,T,_){var P=Ln.getValue(T);Tr(S,jg,{name:P,oldName:m.get()}),m.set(P)},tabs:h,components:[CT.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[FL.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Pn([ti.config({})])}),CT.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:Pn([Xr("tabpanel",C.extraEvents),dr.config({mode:"acyclic"}),fa.config({find:function(S){return Yt(CT.getViewItems(S))}}),Ln.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([IL],{}),o.get()},setValue:function(S,T){o.set(T),S.getSystem().broadcastOn([$L],{})}}})])})},N$=nr("update-dialog"),LL=nr("update-title"),zL=nr("update-body"),HL=nr("update-footer"),VL=nr("body-send-message"),UL=function(t,r,o,s){var v=function(C){switch(C.body.type){case"tabpanel":return[Zj(C.body,o)];default:return[Pj(C.body,o)]}},m=function(C,S){return A.some({isTabPanel:function(){return S.body.type==="tabpanel"}})},h={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:U(U({},r.map(function(C){return{id:C}}).getOr({})),s?h:{})},components:[],behaviours:Pn([vv.childAt(0),Nl.config({channel:zL,updateState:m,renderComponents:v,initialData:t})])}},Jj=function(t,r,o,s){return UL(t,A.some(r),o,s)},Qj=function(t,r){var o=UL(t,A.none(),r,!1);return vu.parts.body(o)},eG=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[tP({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Pn([ti.config({}),Lr.config({})])})]}],behaviours:Pn([dr.config({mode:"acyclic",useTabstopAt:Vt(F2)})])};return vu.parts.body(r)},tG=ek.deviceType.isTouch(),WL=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},jL=function(t,r){return vu.parts.close(Hs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Pn([ti.config({})])}))},GL=function(){return vu.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},qL=function(t,r){return vu.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:lm("<p>"+Mx(r.translate(t))+"</p>")}]}]})},KL=function(t){return vu.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},XL=function(t,r){return[rs.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),rs.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},I$=function(t){var r,o="tox-dialog",s=o+"-wrap",v=s+"__backdrop",m=o+"__disable-scroll";return vu.sketch({lazySink:t.lazySink,onEscape:function(h){return t.onEscape(h),A.some(!0)},useTabstopAt:function(h){return!F2(h)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:U({position:"relative"},t.extraStyles)},components:He([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:lm('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:tG?[v,v+"--opaque"]:[v]}}]}},dragBlockClass:s,modalBehaviours:Pn(He([Lr.config({}),Xr("dialog-events",t.dialogEvents.concat([ii(Cc(),function(h,C){dr.focusIn(h)})])),Xr("scroll-lock",[Kr(function(){xi(qa(),m)}),oc(function(){vi(qa(),m)})])],t.extraBehaviours,!0)),eventOrder:U((r={},r[nc()]=["dialog-events"],r[Is()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Lm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},YL=function(t){return Hs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[bf("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Aa(r,Ph)}})},ZL=function(t,r,o){var s=function(v){return[ru(o.translate(v.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:U({},r.map(function(v){return{id:v}}).getOr({}))},components:s(t),behaviours:Pn([Nl.config({channel:LL,renderComponents:s})])}},JL=function(){return{dom:lm('<div class="tox-dialog__draghandle"></div>')}},nG=function(t,r,o){return rs.sketch({dom:lm('<div class="tox-dialog__header"></div>'),components:[ZL(t,A.some(r),o),JL(),YL(o)],containerBehaviours:Pn([q2.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return kc(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},rG=function(t,r){var o=vu.parts.title(ZL(t,A.none(),r)),s=vu.parts.draghandle(JL()),v=vu.parts.close(YL(r)),m=[o].concat(t.draggable?[s]:[]).concat([v]);return rs.sketch({dom:lm('<div class="tox-dialog__header"></div>'),components:m})},QL=function(t,r){return rG({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},ez=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:lm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},tz=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){vu.setBusy(t(),function(v,m){return ez(s.message,m,r)})},onUnblock:function(){vu.setIdle(t())}}},nz=function(t,r,o,s){var v,m=function(h,C){return A.some(C)};return So(I$(U(U({},t),{lazySink:s.shared.getSink,extraBehaviours:He([Nl.config({channel:N$,updateState:m,initialData:r}),Mh.memory({})],t.extraBehaviours,!0),onEscape:function(h){Aa(h,Ph)},dialogEvents:o,eventOrder:(v={},v[Sc()]=[Nl.name(),Mu.name()],v[Is()]=["scroll-lock",Nl.name(),"messages","dialog-events","alloy.base.behaviour"],v[Lm()]=["alloy.base.behaviour","dialog-events","messages",Nl.name(),"scroll-lock"],v)})))},rz=function(t){var r=function(o){var s=pt(o.items,function(v){var m=kr(!1);return U(U({},v),{storage:m})});return U(U({},o),{items:s})};return pt(t,function(o){return o.type==="menu"?r(o):o})},az=function(t){return qt(t,function(r,o){if(o.type==="menu"){var s=o;return qt(s.items,function(v,m){return v[m.name]=m.storage,v},r)}return r},{})},oz=function(t,r){return[Ov(Cc(),rP),t(E2,function(o,s){r.onClose(),s.onClose()}),t(Ph,function(o,s,v,m){s.onCancel(o),Aa(m,E2)}),rn(t4,function(o,s){return r.onUnblock()}),rn(e4,function(o,s){return r.onBlock(s.event)})]},aG=function(t,r){var o=function(v,m){return rn(v,function(h,C){s(h,function(S,T){m(t(),S,C.event,h)})})},s=function(v,m){Nl.getState(v).get().each(function(h){m(h,v)})};return He(He([],oz(o,r),!0),[o(ud,function(v,m,h){m.onAction(v,{name:h.name})})],!1)},oG=function(t,r,o){var s=function(m,h){return rn(m,function(C,S){v(C,function(T,_){h(t(),T,S.event,C)})})},v=function(m,h){Nl.getState(m).get().each(function(C){h(C.internalDialog,m)})};return He(He([],oz(s,r),!0),[s(A2,function(m,h){return h.onSubmit(m)}),s(Bc,function(m,h,C){h.onChange(m,{name:C.name})}),s(ud,function(m,h,C,S){var T=function(){return dr.focusIn(S)},_=function(q){return Zh(q,"disabled")||Po(q,"aria-disabled").exists(function(Q){return Q==="true"})},P=Pr(S.element),V=es(P);h.onAction(m,{name:C.name,value:C.value}),es(P).fold(T,function(q){_(q)||V.exists(function(Q){return Vu(q,Q)&&_(Q)})?T():o().toOptional().filter(function(Q){return!Vu(Q.element,q)}).each(T)})}),s(jg,function(m,h,C){h.onTabChange(m,{newTabName:C.name,oldTabName:C.oldName})}),oc(function(m){var h=t();Ln.setValue(m,h.getData())})],!1)},$$={initUrlDialog:aG,initDialog:oG},iG=function(t,r){return Yk(t,t.type,r)},uG=function(t,r,o){return Ot(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},sG=function(t,r){var o=r.map(function(C){return C.footerButtons}).getOr([]),s=Le(o,function(C){return C.align==="start"}),v=function(C,S){return rs.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+C]},components:pt(S,function(T){return T.memento.asSpec()})})},m=v("start",s.pass),h=v("end",s.fail);return[m,h]},iz=function(t,r){var o=function(s,v){var m=pt(v.buttons,function(C){var S=za(iG(C,r));return{name:C.name,align:C.align,memento:S}}),h=function(C,S){return uG(C,m,S)};return A.some({lookupByName:h,footerButtons:m})};return{dom:lm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Pn([Nl.config({channel:HL,initialData:t,updateState:o,renderComponents:sG})])}},cG=function(t,r){return iz(t,r)},uz=function(t,r){return vu.parts.footer(iz(t,r))},L$=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=fa.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return D0.getField(s,r).fold(function(){var v=t.getFooter(),m=Nl.getState(v);return m.get().bind(function(h){return h.lookupByName(s,r)})},function(v){return A.some(v)})}else return A.none()},lG=function(t,r){var o=t.getRoot();return Nl.getState(o).get().map(function(s){return Gc(Bo("data",s.dataValidator,r))}).getOr(r)},sz=function(t,r,o){var s=function(le){var De=t.getRoot();De.getSystem().isConnected()&&le(De)},v=function(){var le=t.getRoot(),De=le.getSystem().isConnected()?t.getFormWrapper():le,ie=Ln.getValue(De),Be=hn(o,function(Tt){return Tt.get()});return U(U({},ie),Be)},m=function(le){s(function(De){var ie=Q.getData(),Be=U(U({},ie),le),Tt=lG(t,Be),kt=t.getFormWrapper();Ln.setValue(kt,Tt),Fn(o,function(Pe,dt){sn(Be,dt)&&Pe.set(Be[dt])})})},h=function(le){L$(t,le).each(xr.disable)},C=function(le){L$(t,le).each(xr.enable)},S=function(le){L$(t,le).each(Lr.focus)},T=function(le){if(!we(le))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(De){Tr(De,e4,{message:le})})},_=function(){s(function(le){Aa(le,t4)})},P=function(le){s(function(De){var ie=t.getBody(),Be=Nl.getState(ie);Be.get().exists(function(Tt){return Tt.isTabPanel()})&&fa.getCurrent(ie).each(function(Tt){CT.showTab(Tt,le)})})},V=function(le){s(function(De){var ie=r(le);De.getSystem().broadcastOn([N$],ie),De.getSystem().broadcastOn([LL],ie.internalDialog),De.getSystem().broadcastOn([zL],ie.internalDialog),De.getSystem().broadcastOn([HL],ie.internalDialog),Q.setData(ie.initialData)})},q=function(){s(function(le){Aa(le,E2)})},Q={getData:v,setData:m,disable:h,enable:C,focus:S,block:T,unblock:_,showTab:P,redial:V,close:q};return Q},fG=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},vG=function(t,r,o){var s=QL(t.internalDialog.title,o),v=Qj({body:t.internalDialog.body},o),m=rz(t.internalDialog.buttons),h=az(m),C=uz({buttons:m},o),S=$$.initDialog(function(){return q},tz(function(){return P},o.shared.providers,r),o.shared.getSink),T=fG(t.internalDialog.size),_={header:s,body:v,footer:A.some(C),extraClasses:T,extraBehaviours:[],extraStyles:{}},P=nz(_,t,S,o),V=function(){var Q=function(){var le=vu.getBody(P);return fa.getCurrent(le).getOr(le)};return{getRoot:j(P),getBody:function(){return vu.getBody(P)},getFooter:function(){return vu.getFooter(P)},getFormWrapper:Q}}(),q=sz(V,r.redial,h);return{dialog:P,instanceApi:q}},dG=function(t,r,o,s){var v,m,h=nr("dialog-label"),C=nr("dialog-content"),S=function(ie,Be){return A.some(Be)},T=za(nG({title:t.internalDialog.title,draggable:!0},h,o.shared.providers)),_=za(Jj({body:t.internalDialog.body},C,o,s)),P=rz(t.internalDialog.buttons),V=az(P),q=za(cG({buttons:P},o)),Q=$$.initDialog(function(){return De},{onBlock:function(ie){fd.block(le,function(Be,Tt){return ez(ie.message,Tt,o.shared.providers)})},onUnblock:function(){fd.unblock(le)},onClose:function(){return r.closeWindow()}},o.shared.getSink),le=So({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(v={role:"dialog"},v["aria-labelledby"]=h,v["aria-describedby"]=C,v)},eventOrder:(m={},m[Sc()]=[Nl.name(),Mu.name()],m[nc()]=["execute-on-form"],m[Is()]=["reflecting","execute-on-form"],m),behaviours:Pn([dr.config({mode:"cyclic",onEscape:function(ie){return Aa(ie,E2),A.some(!0)},useTabstopAt:function(ie){return!F2(ie)&&(ge(ie)!=="button"||wo(ie,"disabled")!=="disabled")}}),Nl.config({channel:N$,updateState:S,initialData:t}),Lr.config({}),Xr("execute-on-form",Q.concat([ii(Cc(),function(ie,Be){dr.focusIn(ie)})])),fd.config({getRoot:function(){return A.some(le)}}),$r.config({}),Mh.memory({})]),components:[T.asSpec(),_.asSpec(),q.asSpec()]}),De=sz({getRoot:j(le),getFooter:function(){return q.get(le)},getBody:function(){return _.get(le)},getFormWrapper:function(){var ie=_.get(le);return fa.getCurrent(ie).getOr(ie)}},r.redial,V);return{dialog:le,instanceApi:De}},z$=tinymce.util.Tools.resolve("tinymce.util.URI"),mG=function(t){var r=function(h){t.getSystem().isConnected()&&h(t)},o=function(h){if(!we(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(C){Tr(C,e4,{message:h})})},s=function(){r(function(h){Aa(h,t4)})},v=function(){r(function(h){Aa(h,E2)})},m=function(h){r(function(C){C.getSystem().broadcastOn([VL],h)})};return{block:o,unblock:s,close:v,sendMessage:m}},gG=["insertContent","setContent","execCommand","close","block","unblock"],cz=function(t){return nt(t)&&gG.indexOf(t.mceAction)!==-1},pG=function(t){return!cz(t)&&nt(t)&&sn(t,"mceAction")},hG=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=gt(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},bG=function(t,r,o,s){var v,m=QL(t.title,s),h=eG(t),C=t.buttons.bind(function(Be){return Be.length===0?A.none():A.some(uz({buttons:Be},s))}),S=$$.initUrlDialog(function(){return ie},tz(function(){return De},s.shared.providers,r)),T=U(U({},t.height.fold(function(){return{}},function(Be){return{height:Be+"px","max-height":Be+"px"}})),t.width.fold(function(){return{}},function(Be){return{width:Be+"px","max-width":Be+"px"}})),_=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],P=new z$(t.url,{base_uri:new z$(window.location.href)}),V=P.protocol+"://"+P.host+(P.port?":"+P.port:""),q=tg(),Q=[Xr("messages",[Kr(function(){var Be=ei(ce.fromDom(window),"message",function(Tt){if(P.isSameOrigin(new z$(Tt.raw.origin))){var kt=Tt.raw.data;cz(kt)?hG(o,ie,kt):pG(kt)&&t.onMessage(ie,kt)}});q.set(Be)}),oc(q.clear)]),Mu.config({channels:(v={},v[VL]={onReceive:function(Be,Tt){ki(Be.element,"iframe").each(function(kt){var Pe=kt.dom.contentWindow;Pe.postMessage(Tt,V)})}},v)})],le={header:m,body:h,footer:C,extraClasses:_,extraBehaviours:Q,extraStyles:T},De=nz(le,t,S,s),ie=mG(De);return{dialog:De,instanceApi:ie}},yG=function(t){var r=t.backstage.shared,o=function(s,v){var m=function(){vu.hide(T),v()},h=za(Yk({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:A.none()},"cancel",t.backstage)),C=GL(),S=jL(m,r.providers),T=So(I$({lazySink:function(){return r.getSink()},header:WL(C,S),body:qL(s,r.providers),footer:A.some(KL(XL([],[h.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[rn(Ph,m)],eventOrder:{}}));vu.show(T);var _=h.get(T);Lr.focus(_)};return{open:o}},wG=function(t){var r=t.backstage.shared,o=function(s,v){var m=function(V){vu.hide(_),v(V)},h=za(Yk({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:A.none()},"submit",t.backstage)),C=Yk({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:A.none()},"cancel",t.backstage),S=GL(),T=jL(function(){return m(!1)},r.providers),_=So(I$({lazySink:function(){return r.getSink()},header:WL(S,T),body:qL(s,r.providers),footer:A.some(KL(XL([],[C,h.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[rn(Ph,function(){return m(!1)}),rn(A2,function(){return m(!0)})],eventOrder:{}}));vu.show(_);var P=h.get(_);Lr.focus(P)};return{open:o}},CG=function(t,r){return Gc(Bo("data",r,t))},SG=function(t){return k2(t,".tox-alert-dialog")||k2(t,".tox-confirm-dialog")},xG=function(t,r,o){return r&&o?[]:[e.config({contextual:{lazyContext:function(){return A.some(oi(ce.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},kG=function(t){var r=t.backstage,o=t.editor,s=Jx(o),v=yG(t),m=wG(t),h=function(Q,le,De){return le!==void 0&&le.inline==="toolbar"?_(Q,r.shared.anchors.inlineDialog(),De,le.ariaAttrs):le!==void 0&&le.inline==="cursor"?_(Q,r.shared.anchors.cursor(),De,le.ariaAttrs):T(Q,De)},C=function(Q,le){return S(Q,le)},S=function(Q,le){var De=function(ie){var Be=bG(ie,{closeWindow:function(){vu.hide(Be.dialog),le(Be.instanceApi)}},o,r);return vu.show(Be.dialog),Be.instanceApi};return _O.openUrl(De,Q)},T=function(Q,le){var De=function(ie,Be,Tt){var kt=Be,Pe={dataValidator:Tt,initialData:kt,internalDialog:ie},dt=vG(Pe,{redial:_O.redial,closeWindow:function(){vu.hide(dt.dialog),le(dt.instanceApi)}},r);return vu.show(dt.dialog),dt.instanceApi.setData(kt),dt.instanceApi};return _O.open(De,Q)},_=function(Q,le,De,ie){var Be=function(Tt,kt,Pe){var dt=CG(kt,Pe),zt=Xo(),zn=r.shared.header.isPositionedAtTop(),tn={dataValidator:Pe,initialData:dt,internalDialog:Tt},Hn=function(){return zt.on(function(An){Ka.reposition(An),e.refresh(An)})},on=dG(tn,{redial:_O.redial,closeWindow:function(){zt.on(Ka.hide),o.off("ResizeEditor",Hn),zt.clear(),De(on.instanceApi)}},r,ie),Lt=So(Ka.sketch(U(U({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},zn?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Pn(He([Xr("window-manager-inline-events",[rn(Yc(),function(An,rr){Aa(on.dialog,Ph)})])],xG(o,s,zn),!0)),isExtraPart:function(An,rr){return SG(rr)}})));return zt.set(Lt),Ka.showWithin(Lt,cc(on.dialog),{anchor:le},A.some(qa())),(!s||!zn)&&(e.refresh(Lt),o.on("ResizeEditor",Hn)),on.instanceApi.setData(dt),dr.focusIn(on.dialog),on.instanceApi};return _O.open(Be,Q)},P=function(Q,le){m.open(Q,function(De){le(De)})},V=function(Q,le){v.open(Q,function(){le()})},q=function(Q){Q.close()};return{open:h,openUrl:C,alert:V,close:q,confirm:P}};function TG(){Ue.add("silver",function(t){var r=iW(t),o=r.uiMothership,s=r.backstage,v=r.renderUI,m=r.getUi;Wg.register(t,s.shared);var h=kG({editor:t,backstage:s});return{renderUI:v,getWindowManagerImpl:j(h),getNotificationManagerImpl:function(){return cA(t,{backstage:s},o)},ui:m()}})}TG()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(B,He,Jt){var Xe=He==="UL"?"InsertUnorderedList":"InsertOrderedList";B.execCommand(Xe,!1,Jt===!1?null:{"list-style-type":Jt})},fe=function(B){B.addCommand("ApplyUnorderedListStyle",function(He,Jt){z(B,"UL",Jt["list-style-type"])}),B.addCommand("ApplyOrderedListStyle",function(He,Jt){z(B,"OL",Jt["list-style-type"])})},xe=tinymce.util.Tools.resolve("tinymce.util.Tools"),we=function(B){var He=B.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return He?He.split(/[ ,]/):[]},nt=function(B){var He=B.getParam("advlist_bullet_styles","default,circle,square");return He?He.split(/[ ,]/):[]},xt=function(){},mt=function(B){return function(){return B}},gt=function(B){return B},Xt=mt(!1),at=mt(!0),he=function(){return ze},ze=function(){var B=function(Xe){return Xe()},He=gt,Jt={fold:function(Xe,pn){return Xe()},isSome:Xt,isNone:at,getOr:He,getOrThunk:B,getOrDie:function(Xe){throw new Error(Xe||"error: getOrDie called on none.")},getOrNull:mt(null),getOrUndefined:mt(void 0),or:He,orThunk:B,map:he,each:xt,bind:he,exists:Xt,forall:at,filter:function(){return he()},toArray:function(){return[]},toString:mt("none()")};return Jt}(),We=function(B){var He=mt(B),Jt=function(){return pn},Xe=function(Mn){return Mn(B)},pn={fold:function(Mn,A){return A(B)},isSome:at,isNone:Xt,getOr:He,getOrThunk:He,getOrDie:He,getOrNull:He,getOrUndefined:He,or:Jt,orThunk:Jt,map:function(Mn){return We(Mn(B))},each:function(Mn){Mn(B)},bind:Xe,exists:Xe,forall:Xe,filter:function(Mn){return Mn(B)?pn:ze},toArray:function(){return[B]},toString:function(){return"some("+B+")"}};return pn},Oe=function(B){return B==null?ze:We(B)},ve={some:We,none:he,from:Oe},Mt=function(B,He){return B.$.contains(B.getBody(),He)},Ke=function(B){return B&&/^(TH|TD)$/.test(B.nodeName)},_t=function(B){return function(He){return He&&/^(OL|UL|DL)$/.test(He.nodeName)&&Mt(B,He)}},j=function(B){var He=B.dom.getParent(B.selection.getNode(),"ol,ul"),Jt=B.dom.getStyle(He,"listStyleType");return ve.from(Jt)},Ne=function(B,He){for(var Jt=0;Jt<B.length;Jt++){var Xe=B[Jt];if(He(Xe))return Jt}return-1},$e=function(B){return B.replace(/\-/g," ").replace(/\b\w/g,function(He){return He.toUpperCase()})},un=function(B,He,Jt){var Xe=Ne(He.parents,Ke),pn=Xe!==-1?He.parents.slice(0,Xe):He.parents,Mn=xe.grep(pn,_t(B));return Mn.length>0&&Mn[0].nodeName===Jt},Vt=function(B,He){return function(Jt){var Xe=function(pn){Jt.setActive(un(B,pn,He))};return B.on("NodeChange",Xe),function(){return B.off("NodeChange",Xe)}}},Ae=function(B,He,Jt,Xe,pn,Mn){B.ui.registry.addSplitButton(He,{tooltip:Jt,icon:pn==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(A){var vt=xe.map(Mn,function(Se){var Nt=pn==="OL"?"num":"bull",et=Se==="disc"||Se==="decimal"?"default":Se,vn=Se==="default"?"":Se,$t=$e(Se);return{type:"choiceitem",value:vn,icon:"list-"+Nt+"-"+et,text:$t}});A(vt)},onAction:function(){return B.execCommand(Xe)},onItemAction:function(A,vt){z(B,pn,vt)},select:function(A){var vt=j(B);return vt.map(function(Se){return A===Se}).getOr(!1)},onSetup:Vt(B,pn)})},st=function(B,He,Jt,Xe,pn,Mn){B.ui.registry.addToggleButton(He,{active:!1,tooltip:Jt,icon:pn==="OL"?"ordered-list":"unordered-list",onSetup:Vt(B,pn),onAction:function(){return B.execCommand(Xe)}})},rt=function(B,He,Jt,Xe,pn,Mn){Mn.length>1?Ae(B,He,Jt,Xe,pn,Mn):st(B,He,Jt,Xe,pn)},Ue=function(B){rt(B,"numlist","Numbered list","InsertOrderedList","OL",we(B)),rt(B,"bullist","Bullet list","InsertUnorderedList","UL",nt(B))};function U(){ae.add("advlist",function(B){B.hasPlugin("lists")?(Ue(B),fe(B)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}U()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),xe=function(Ue){return Ue.getParam("allow_html_in_named_anchor",!1,"boolean")},we="a:not([href])",nt=function(Ue){return!Ue},xt=function(Ue){var U=Ue.getAttribute("id")||Ue.getAttribute("name");return U||""},mt=function(Ue){return Ue&&Ue.nodeName.toLowerCase()==="a"},gt=function(Ue){return mt(Ue)&&!Ue.getAttribute("href")&&xt(Ue)!==""},Xt=function(Ue){return gt(Ue)&&!Ue.firstChild},at=function(Ue){var U=Ue.dom;z(U).walk(Ue.selection.getRng(),function(B){fe.each(B,function(He){Xt(He)&&U.remove(He,!1)})})},he=function(Ue){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ue)},ze=function(Ue){return Ue.dom.getParent(Ue.selection.getStart(),we)},We=function(Ue){var U=ze(Ue);return U?xt(U):""},Oe=function(Ue,U){Ue.undoManager.transact(function(){xe(Ue)||Ue.selection.collapse(!0),Ue.selection.isCollapsed()?Ue.insertContent(Ue.dom.createHTML("a",{id:U})):(at(Ue),Ue.formatter.remove("namedAnchor",null,null,!0),Ue.formatter.apply("namedAnchor",{value:U}),Ue.addVisual())})},ve=function(Ue,U,B){B.removeAttribute("name"),B.id=U,Ue.addVisual(),Ue.undoManager.add()},Mt=function(Ue,U){var B=ze(Ue);B?ve(Ue,U,B):Oe(Ue,U),Ue.focus()},Ke=function(Ue,U){return he(U)?(Mt(Ue,U),!0):(Ue.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},_t=function(Ue){var U=We(Ue);Ue.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:U},onSubmit:function(B){Ke(Ue,B.getData().id)&&B.close()}})},j=function(Ue){Ue.addCommand("mceAnchor",function(){_t(Ue)})},Ne=function(Ue){return Ue&&nt(Ue.attr("href"))&&!nt(Ue.attr("id")||Ue.attr("name"))},$e=function(Ue){return Ne(Ue)&&!Ue.firstChild},un=function(Ue){return function(U){for(var B=0;B<U.length;B++){var He=U[B];$e(He)&&He.attr("contenteditable",Ue)}}},Vt=function(Ue){Ue.on("PreInit",function(){Ue.parser.addNodeFilter("a",un("false")),Ue.serializer.addNodeFilter("a",un(null))})},Ae=function(Ue){Ue.formatter.register("namedAnchor",{inline:"a",selector:we,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(U,B,He){return gt(U)}})},st=function(Ue){Ue.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return Ue.execCommand("mceAnchor")},onSetup:function(U){return Ue.selection.selectorChangedWithUnbind("a:not([href])",U.setActive).unbind}}),Ue.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return Ue.execCommand("mceAnchor")}})};function rt(){ae.add("anchor",function(Ue){Vt(Ue),j(Ue),st(Ue),Ue.on("PreInit",function(){Ae(Ue)})})}rt()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(Ae,st,rt){return st===""||Ae.length>=st.length&&Ae.substr(rt,rt+st.length)===st},fe=function(Ae,st){return Ae.indexOf(st)!==-1},xe=function(Ae,st){return z(Ae,st,0)},we=tinymce.util.Tools.resolve("tinymce.Env"),nt=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},xt=new RegExp("^"+nt().source+"$","i"),mt=function(Ae){return Ae.getParam("autolink_pattern",xt)},gt=function(Ae){return Ae.getParam("default_link_target",!1)},Xt=function(Ae){return Ae.getParam("link_default_protocol","http","string")},at=function(Ae){return/^[(\[{ \u00a0]$/.test(Ae)},he=function(Ae){return Ae.nodeType===3},ze=function(Ae){return Ae.nodeType===1},We=function(Ae){return $e(Ae,-1)},Oe=function(Ae){return $e(Ae,0)},ve=function(Ae){return $e(Ae,-1)},Mt=function(Ae,st){if(st<0&&(st=0),he(Ae)){var rt=Ae.data.length;st>rt&&(st=rt)}return st},Ke=function(Ae,st,rt){!ze(st)||st.hasChildNodes()?Ae.setStart(st,Mt(st,rt)):Ae.setStartBefore(st)},_t=function(Ae,st,rt){!ze(st)||st.hasChildNodes()?Ae.setEnd(st,Mt(st,rt)):Ae.setEndAfter(st)},j=function(Ae){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ae)},Ne=function(Ae){return/[?!,.;:]/.test(Ae)},$e=function(Ae,st){var rt,Ue,U,B,He,Jt,Xe,pn=mt(Ae),Mn=gt(Ae);if(Ae.dom.getParent(Ae.selection.getNode(),"a[href]")===null){var A=Ae.selection.getRng().cloneRange();if(A.startOffset<5){if(He=A.endContainer.previousSibling,!He){if(!A.endContainer.firstChild||!A.endContainer.firstChild.nextSibling)return;He=A.endContainer.firstChild.nextSibling}if(Jt=He.length,Ke(A,He,Jt),_t(A,He,Jt),A.endOffset<5)return;rt=A.endOffset,Ue=He}else{if(Ue=A.endContainer,!he(Ue)&&Ue.firstChild){for(;!he(Ue)&&Ue.firstChild;)Ue=Ue.firstChild;he(Ue)&&(Ke(A,Ue,0),_t(A,Ue,Ue.nodeValue.length))}A.endOffset===1?rt=2:rt=A.endOffset-1-st}var vt=rt;do Ke(A,Ue,rt>=2?rt-2:0),_t(A,Ue,rt>=1?rt-1:0),rt-=1,Xe=A.toString();while(!at(Xe)&&rt-2>=0);at(A.toString())?(Ke(A,Ue,rt),_t(A,Ue,vt),rt+=1):A.startOffset===0?(Ke(A,Ue,0),_t(A,Ue,vt)):(Ke(A,Ue,rt),_t(A,Ue,vt)),B=A.toString(),Ne(B.charAt(B.length-1))&&_t(A,Ue,vt-1),B=A.toString().trim();var Se=B.match(pn),Nt=Xt(Ae);if(Se){var et=Se[0];xe(et,"www.")?et=Nt+"://"+et:fe(et,"@")&&!j(et)&&(et="mailto:"+et),U=Ae.selection.getBookmark(),Ae.selection.setRng(A),Ae.execCommand("createlink",!1,et),Mn!==!1&&Ae.dom.setAttrib(Ae.selection.getNode(),"target",Mn),Ae.selection.moveToBookmark(U),Ae.nodeChanged()}}},un=function(Ae){var st;if(Ae.on("keydown",function(rt){if(rt.keyCode===13)return ve(Ae)}),we.browser.isIE()){Ae.on("focus",function(){if(!st){st=!0;try{Ae.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}Ae.on("keypress",function(rt){if(rt.keyCode===41||rt.keyCode===93||rt.keyCode===125)return We(Ae)}),Ae.on("keyup",function(rt){if(rt.keyCode===32)return Oe(Ae)})};function Vt(){ae.add("autolink",function(Ae){un(Ae)})}Vt()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(U){return function(B){return U===B}},fe=z(void 0),xe=tinymce.util.Tools.resolve("tinymce.util.Delay"),we=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),xt=function(U){return U.fire("RestoreDraft")},mt=function(U){return U.fire("StoreDraft")},gt=function(U){return U.fire("RemoveDraft")},Xt=function(U,B){var He={s:1e3,m:6e4},Jt=U||B,Xe=/^(\d+)([ms]?)$/.exec(""+Jt);return(Xe[2]?He[Xe[2]]:1)*parseInt(Jt,10)},at=function(U){return U.getParam("autosave_ask_before_unload",!0)},he=function(U){var B=document.location;return U.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,B.pathname).replace(/{query}/g,B.search).replace(/{hash}/g,B.hash).replace(/{id}/g,U.id)},ze=function(U){return U.getParam("autosave_restore_when_empty",!1)},We=function(U){return Xt(U.getParam("autosave_interval"),"30s")},Oe=function(U){return Xt(U.getParam("autosave_retention"),"20m")},ve=function(U,B){if(fe(B))return U.dom.isEmpty(U.getBody());var He=nt.trim(B);if(He==="")return!0;var Jt=new DOMParser().parseFromString(He,"text/html");return U.dom.isEmpty(Jt)},Mt=function(U){var B=parseInt(we.getItem(he(U)+"time"),10)||0;return new Date().getTime()-B>Oe(U)?(Ke(U,!1),!1):!0},Ke=function(U,B){var He=he(U);we.removeItem(He+"draft"),we.removeItem(He+"time"),B!==!1&&gt(U)},_t=function(U){var B=he(U);!ve(U)&&U.isDirty()&&(we.setItem(B+"draft",U.getContent({format:"raw",no_events:!0})),we.setItem(B+"time",new Date().getTime().toString()),mt(U))},j=function(U){var B=he(U);Mt(U)&&(U.setContent(we.getItem(B+"draft"),{format:"raw"}),xt(U))},Ne=function(U){var B=We(U);xe.setEditorInterval(U,function(){_t(U)},B)},$e=function(U){U.undoManager.transact(function(){j(U),Ke(U)}),U.focus()},un=function(U){return{hasDraft:function(){return Mt(U)},storeDraft:function(){return _t(U)},restoreDraft:function(){return j(U)},removeDraft:function(B){return Ke(U,B)},isEmpty:function(B){return ve(U,B)}}},Vt=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ae=function(U){U.editorManager.on("BeforeUnload",function(B){var He;nt.each(Vt.get(),function(Jt){Jt.plugins.autosave&&Jt.plugins.autosave.storeDraft(),!He&&Jt.isDirty()&&at(Jt)&&(He=Jt.translate("You have unsaved changes are you sure you want to navigate away?"))}),He&&(B.preventDefault(),B.returnValue=He)})},st=function(U){return function(B){B.setDisabled(!Mt(U));var He=function(){return B.setDisabled(!Mt(U))};return U.on("StoreDraft RestoreDraft RemoveDraft",He),function(){return U.off("StoreDraft RestoreDraft RemoveDraft",He)}}},rt=function(U){Ne(U),U.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){$e(U)},onSetup:st(U)}),U.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){$e(U)},onSetup:st(U)})};function Ue(){ae.add("autosave",function(U){return Ae(U),rt(U),U.on("init",function(){ze(U)&&U.dom.isEmpty(U.getBody())&&j(U)}),un(U)})}Ue()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(mt,gt){mt.focus(),mt.undoManager.transact(function(){mt.setContent(gt)}),mt.selection.setCursorLocation(),mt.nodeChanged()},fe=function(mt){return mt.getContent({source_view:!0})},xe=function(mt){var gt=fe(mt);mt.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:gt},onSubmit:function(Xt){z(mt,Xt.getData().code),Xt.close()}})},we=function(mt){mt.addCommand("mceCodeEditor",function(){xe(mt)})},nt=function(mt){var gt=function(){return mt.execCommand("mceCodeEditor")};mt.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:gt}),mt.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:gt})};function xt(){ae.add("code",function(mt){return we(mt),nt(mt),{}})}xt()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(){},fe=function(vt){return function(){return vt}},xe=function(vt){return vt},we=fe(!1),nt=fe(!0),xt=function(){return mt},mt=function(){var vt=function(et){return et()},Se=xe,Nt={fold:function(et,vn){return et()},isSome:we,isNone:nt,getOr:Se,getOrThunk:vt,getOrDie:function(et){throw new Error(et||"error: getOrDie called on none.")},getOrNull:fe(null),getOrUndefined:fe(void 0),or:Se,orThunk:vt,map:xt,each:z,bind:xt,exists:we,forall:nt,filter:function(){return xt()},toArray:function(){return[]},toString:fe("none()")};return Nt}(),gt=function(vt){var Se=fe(vt),Nt=function(){return vn},et=function($t){return $t(vt)},vn={fold:function($t,an){return an(vt)},isSome:nt,isNone:we,getOr:Se,getOrThunk:Se,getOrDie:Se,getOrNull:Se,getOrUndefined:Se,or:Nt,orThunk:Nt,map:function($t){return gt($t(vt))},each:function($t){$t(vt)},bind:et,exists:et,forall:et,filter:function($t){return $t(vt)?vn:mt},toArray:function(){return[vt]},toString:function(){return"some("+vt+")"}};return vn},Xt=function(vt){return vt==null?mt:gt(vt)},at={some:gt,none:xt,from:Xt},he=function(vt,Se){return Se>=0&&Se<vt.length?at.some(vt[Se]):at.none()},ze=function(vt){return he(vt,0)},We=function(vt,Se){return vt?at.some(Se):at.none()},Oe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ve=function(vt){return vt&&vt.nodeName==="PRE"&&vt.className.indexOf("language-")!==-1},Mt=function(vt){return function(Se,Nt){return vt(Nt)}},Ke=typeof window<"u"?window:Function("return this;")(),_t={},j={exports:_t},Ne={};(function(vt,Se,Nt,et){var vn=window.Prism;window.Prism={manual:!0},function(an,K){typeof Se=="object"&&typeof Nt<"u"?Nt.exports=K():typeof vt=="function"&&vt.amd?vt(K):(an=typeof globalThis<"u"?globalThis:an||self,an.EphoxContactWrapper=K())}(this,function(){var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ne<"u"?Ne:typeof self<"u"?self:{},K={exports:{}};(function(qe){var Rn=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Le=function(Me){var bt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,qt=0,yt={},Ot={manual:Me.Prism&&Me.Prism.manual,disableWorkerMessageHandler:Me.Prism&&Me.Prism.disableWorkerMessageHandler,util:{encode:function Yt(jt){return jt instanceof tr?new tr(jt.type,Yt(jt.content),jt.alias):Array.isArray(jt)?jt.map(Yt):jt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Yt){return Object.prototype.toString.call(Yt).slice(8,-1)},objId:function(Yt){return Yt.__id||Object.defineProperty(Yt,"__id",{value:++qt}),Yt.__id},clone:function Yt(jt,Qt){Qt=Qt||{};var Ye,ct;switch(Ot.util.type(jt)){case"Object":if(ct=Ot.util.objId(jt),Qt[ct])return Qt[ct];Ye={},Qt[ct]=Ye;for(var dn in jt)jt.hasOwnProperty(dn)&&(Ye[dn]=Yt(jt[dn],Qt));return Ye;case"Array":return ct=Ot.util.objId(jt),Qt[ct]?Qt[ct]:(Ye=[],Qt[ct]=Ye,jt.forEach(function(Fn,hn){Ye[hn]=Yt(Fn,Qt)}),Ye);default:return jt}},getLanguage:function(Yt){for(;Yt;){var jt=bt.exec(Yt.className);if(jt)return jt[1].toLowerCase();Yt=Yt.parentElement}return"none"},setLanguage:function(Yt,jt){Yt.className=Yt.className.replace(RegExp(bt.source,"gi"),""),Yt.classList.add("language-"+jt)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Ye){var Yt=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Ye.stack)||[])[1];if(Yt){var jt=document.getElementsByTagName("script");for(var Qt in jt)if(jt[Qt].src==Yt)return jt[Qt]}return null}},isActive:function(Yt,jt,Qt){for(var Ye="no-"+jt;Yt;){var ct=Yt.classList;if(ct.contains(jt))return!0;if(ct.contains(Ye))return!1;Yt=Yt.parentElement}return!!Qt}},languages:{plain:yt,plaintext:yt,text:yt,txt:yt,extend:function(Yt,jt){var Qt=Ot.util.clone(Ot.languages[Yt]);for(var Ye in jt)Qt[Ye]=jt[Ye];return Qt},insertBefore:function(Yt,jt,Qt,Ye){Ye=Ye||Ot.languages;var ct=Ye[Yt],dn={};for(var Fn in ct)if(ct.hasOwnProperty(Fn)){if(Fn==jt)for(var hn in Qt)Qt.hasOwnProperty(hn)&&(dn[hn]=Qt[hn]);Qt.hasOwnProperty(Fn)||(dn[Fn]=ct[Fn])}var Ve=Ye[Yt];return Ye[Yt]=dn,Ot.languages.DFS(Ot.languages,function(nn,Nn){Nn===Ve&&nn!=Yt&&(this[nn]=dn)}),dn},DFS:function Yt(jt,Qt,Ye,ct){ct=ct||{};var dn=Ot.util.objId;for(var Fn in jt)if(jt.hasOwnProperty(Fn)){Qt.call(jt,Fn,jt[Fn],Ye||Fn);var hn=jt[Fn],Ve=Ot.util.type(hn);Ve==="Object"&&!ct[dn(hn)]?(ct[dn(hn)]=!0,Yt(hn,Qt,null,ct)):Ve==="Array"&&!ct[dn(hn)]&&(ct[dn(hn)]=!0,Yt(hn,Qt,Fn,ct))}}},plugins:{},highlightAll:function(Yt,jt){Ot.highlightAllUnder(document,Yt,jt)},highlightAllUnder:function(Yt,jt,Qt){var Ye={callback:Qt,container:Yt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Ot.hooks.run("before-highlightall",Ye),Ye.elements=Array.prototype.slice.apply(Ye.container.querySelectorAll(Ye.selector)),Ot.hooks.run("before-all-elements-highlight",Ye);for(var ct=0,dn;dn=Ye.elements[ct++];)Ot.highlightElement(dn,jt===!0,Ye.callback)},highlightElement:function(Yt,jt,Qt){var Ye=Ot.util.getLanguage(Yt),ct=Ot.languages[Ye];Ot.util.setLanguage(Yt,Ye);var dn=Yt.parentElement;dn&&dn.nodeName.toLowerCase()==="pre"&&Ot.util.setLanguage(dn,Ye);var Fn=Yt.textContent,hn={element:Yt,language:Ye,grammar:ct,code:Fn};function Ve(Nn){hn.highlightedCode=Nn,Ot.hooks.run("before-insert",hn),hn.element.innerHTML=hn.highlightedCode,Ot.hooks.run("after-highlight",hn),Ot.hooks.run("complete",hn),Qt&&Qt.call(hn.element)}if(Ot.hooks.run("before-sanity-check",hn),dn=hn.element.parentElement,dn&&dn.nodeName.toLowerCase()==="pre"&&!dn.hasAttribute("tabindex")&&dn.setAttribute("tabindex","0"),!hn.code){Ot.hooks.run("complete",hn),Qt&&Qt.call(hn.element);return}if(Ot.hooks.run("before-highlight",hn),!hn.grammar){Ve(Ot.util.encode(hn.code));return}if(jt&&Me.Worker){var nn=new Worker(Ot.filename);nn.onmessage=function(Nn){Ve(Nn.data)},nn.postMessage(JSON.stringify({language:hn.language,code:hn.code,immediateClose:!0}))}else Ve(Ot.highlight(hn.code,hn.grammar,hn.language))},highlight:function(Yt,jt,Qt){var Ye={code:Yt,grammar:jt,language:Qt};if(Ot.hooks.run("before-tokenize",Ye),!Ye.grammar)throw new Error('The language "'+Ye.language+'" has no grammar.');return Ye.tokens=Ot.tokenize(Ye.code,Ye.grammar),Ot.hooks.run("after-tokenize",Ye),tr.stringify(Ot.util.encode(Ye.tokens),Ye.language)},tokenize:function(Yt,jt){var Qt=jt.rest;if(Qt){for(var Ye in Qt)jt[Ye]=Qt[Ye];delete jt.rest}var ct=new Cn;return Wt(ct,ct.head,Yt),St(Yt,ct,jt,ct.head,0),ar(ct)},hooks:{all:{},add:function(Yt,jt){var Qt=Ot.hooks.all;Qt[Yt]=Qt[Yt]||[],Qt[Yt].push(jt)},run:function(Yt,jt){var Qt=Ot.hooks.all[Yt];if(!(!Qt||!Qt.length))for(var Ye=0,ct;ct=Qt[Ye++];)ct(jt)}},Token:tr};Me.Prism=Ot;function tr(Yt,jt,Qt,Ye){this.type=Yt,this.content=jt,this.alias=Qt,this.length=(Ye||"").length|0}tr.stringify=function Yt(jt,Qt){if(typeof jt=="string")return jt;if(Array.isArray(jt)){var Ye="";return jt.forEach(function(Ve){Ye+=Yt(Ve,Qt)}),Ye}var ct={type:jt.type,content:Yt(jt.content,Qt),tag:"span",classes:["token",jt.type],attributes:{},language:Qt},dn=jt.alias;dn&&(Array.isArray(dn)?Array.prototype.push.apply(ct.classes,dn):ct.classes.push(dn)),Ot.hooks.run("wrap",ct);var Fn="";for(var hn in ct.attributes)Fn+=" "+hn+'="'+(ct.attributes[hn]||"").replace(/"/g,"&quot;")+'"';return"<"+ct.tag+' class="'+ct.classes.join(" ")+'"'+Fn+">"+ct.content+"</"+ct.tag+">"};function be(Yt,jt,Qt,Ye){Yt.lastIndex=jt;var ct=Yt.exec(Qt);if(ct&&Ye&&ct[1]){var dn=ct[1].length;ct.index+=dn,ct[0]=ct[0].slice(dn)}return ct}function St(Yt,jt,Qt,Ye,ct,dn){for(var Fn in Qt)if(!(!Qt.hasOwnProperty(Fn)||!Qt[Fn])){var hn=Qt[Fn];hn=Array.isArray(hn)?hn:[hn];for(var Ve=0;Ve<hn.length;++Ve){if(dn&&dn.cause==Fn+","+Ve)return;var nn=hn[Ve],Nn=nn.inside,yn=!!nn.lookbehind,Yn=!!nn.greedy,Ce=nn.alias;if(Yn&&!nn.pattern.global){var Ft=nn.pattern.toString().match(/[imsuy]*$/)[0];nn.pattern=RegExp(nn.pattern.source,Ft+"g")}for(var wt=nn.pattern||nn,sn=Ye.next,Zn=ct;sn!==jt.tail&&!(dn&&Zn>=dn.reach);Zn+=sn.value.length,sn=sn.next){var Rr=sn.value;if(jt.length>Yt.length)return;if(!(Rr instanceof tr)){var Ia=1,Dr;if(Yn){if(Dr=be(wt,Zn,Yt,yn),!Dr||Dr.index>=Yt.length)break;var ho=Dr.index,Fr=Dr.index+Dr[0].length,Xa=Zn;for(Xa+=sn.value.length;ho>=Xa;)sn=sn.next,Xa+=sn.value.length;if(Xa-=sn.value.length,Zn=Xa,sn.value instanceof tr)continue;for(var ni=sn;ni!==jt.tail&&(Xa<Fr||typeof ni.value=="string");ni=ni.next)Ia++,Xa+=ni.value.length;Ia--,Rr=Yt.slice(Zn,Xa),Dr.index-=Zn}else if(Dr=be(wt,0,Rr,yn),!Dr)continue;var ho=Dr.index,so=Dr[0],ko=Rr.slice(0,ho),si=Rr.slice(ho+so.length),To=Zn+Rr.length;dn&&To>dn.reach&&(dn.reach=To);var bo=sn.prev;ko&&(bo=Wt(jt,bo,ko),Zn+=ko.length),Kn(jt,bo,Ia);var ri=new tr(Fn,Nn?Ot.tokenize(so,Nn):so,Ce,so);if(sn=Wt(jt,bo,ri),si&&Wt(jt,sn,si),Ia>1){var oa={cause:Fn+","+Ve,reach:To};St(Yt,jt,Qt,sn.prev,Zn,oa),dn&&oa.reach>dn.reach&&(dn.reach=oa.reach)}}}}}}function Cn(){var Yt={value:null,prev:null,next:null},jt={value:null,prev:Yt,next:null};Yt.next=jt,this.head=Yt,this.tail=jt,this.length=0}function Wt(Yt,jt,Qt){var Ye=jt.next,ct={value:Qt,prev:jt,next:Ye};return jt.next=ct,Ye.prev=ct,Yt.length++,ct}function Kn(Yt,jt,Qt){for(var Ye=jt.next,ct=0;ct<Qt&&Ye!==Yt.tail;ct++)Ye=Ye.next;jt.next=Ye,Ye.prev=jt,Yt.length-=ct}function ar(Yt){for(var jt=[],Qt=Yt.head.next;Qt!==Yt.tail;)jt.push(Qt.value),Qt=Qt.next;return jt}if(!Me.document)return Me.addEventListener&&(Ot.disableWorkerMessageHandler||Me.addEventListener("message",function(Yt){var jt=JSON.parse(Yt.data),Qt=jt.language,Ye=jt.code,ct=jt.immediateClose;Me.postMessage(Ot.highlight(Ye,Ot.languages[Qt],Qt)),ct&&Me.close()},!1)),Ot;var qr=Ot.util.currentScript();qr&&(Ot.filename=qr.src,qr.hasAttribute("data-manual")&&(Ot.manual=!0));function va(){Ot.manual||Ot.highlightAll()}if(!Ot.manual){var xa=document.readyState;xa==="loading"||xa==="interactive"&&qr&&qr.defer?document.addEventListener("DOMContentLoaded",va):window.requestAnimationFrame?window.requestAnimationFrame(va):window.setTimeout(va,16)}return Ot}(Rn);qe.exports&&(qe.exports=Le),typeof an<"u"&&(an.Prism=Le)})(K),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(qe){function Rn(Le,Me){return"___"+Le.toUpperCase()+Me+"___"}Object.defineProperties(qe.languages["markup-templating"]={},{buildPlaceholders:{value:function(Le,Me,bt,qt){if(Le.language===Me){var yt=Le.tokenStack=[];Le.code=Le.code.replace(bt,function(Ot){if(typeof qt=="function"&&!qt(Ot))return Ot;for(var tr=yt.length,be;Le.code.indexOf(be=Rn(Me,tr))!==-1;)++tr;return yt[tr]=Ot,be}),Le.grammar=qe.languages.markup}}},tokenizePlaceholders:{value:function(Le,Me){if(Le.language!==Me||!Le.tokenStack)return;Le.grammar=qe.languages[Me];var bt=0,qt=Object.keys(Le.tokenStack);function yt(Ot){for(var tr=0;tr<Ot.length&&!(bt>=qt.length);tr++){var be=Ot[tr];if(typeof be=="string"||be.content&&typeof be.content=="string"){var St=qt[bt],Cn=Le.tokenStack[St],Wt=typeof be=="string"?be:be.content,Kn=Rn(Me,St),ar=Wt.indexOf(Kn);if(ar>-1){++bt;var qr=Wt.substring(0,ar),va=new qe.Token(Me,qe.tokenize(Cn,Le.grammar),"language-"+Me,Cn),xa=Wt.substring(ar+Kn.length),Yt=[];qr&&Yt.push.apply(Yt,yt([qr])),Yt.push(va),xa&&Yt.push.apply(Yt,yt([xa])),typeof be=="string"?Ot.splice.apply(Ot,[tr,1].concat(Yt)):be.content=Yt}}else be.content&&yt(be.content)}return Ot}yt(Le.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(qe){var Rn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Le=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Rn.source});qe.languages.cpp=qe.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Rn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Rn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),qe.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Le})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),qe.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:qe.languages.cpp}}}}),qe.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),qe.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:qe.languages.extend("cpp",{})}}),qe.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},qe.languages.cpp["base-clause"])}(Prism),function(qe){function Rn(Zn,Rr){return Zn.replace(/<<(\d+)>>/g,function(Ia,Dr){return"(?:"+Rr[+Dr]+")"})}function Le(Zn,Rr,Ia){return RegExp(Rn(Zn,Rr),Ia||"")}function Me(Zn,Rr){for(var Ia=0;Ia<Rr;Ia++)Zn=Zn.replace(/<<self>>/g,function(){return"(?:"+Zn+")"});return Zn.replace(/<<self>>/g,"[^\\s\\S]")}var bt={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function qt(Zn){return"\\b(?:"+Zn.trim().replace(/ /g,"|")+")\\b"}var yt=qt(bt.typeDeclaration),Ot=RegExp(qt(bt.type+" "+bt.typeDeclaration+" "+bt.contextual+" "+bt.other)),tr=qt(bt.typeDeclaration+" "+bt.contextual+" "+bt.other),be=qt(bt.type+" "+bt.typeDeclaration+" "+bt.other),St=Me(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Cn=Me(/\((?:[^()]|<<self>>)*\)/.source,2),Wt=/@?\b[A-Za-z_]\w*\b/.source,Kn=Rn(/<<0>>(?:\s*<<1>>)?/.source,[Wt,St]),ar=Rn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[tr,Kn]),qr=/\[\s*(?:,\s*)*\]/.source,va=Rn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[ar,qr]),xa=Rn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[St,Cn,qr]),Yt=Rn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[xa]),jt=Rn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Yt,ar,qr]),Qt={keyword:Ot,punctuation:/[<>()?,.:[\]]/},Ye=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,ct=/"(?:\\.|[^\\"\r\n])*"/.source,dn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;qe.languages.csharp=qe.languages.extend("clike",{string:[{pattern:Le(/(^|[^$\\])<<0>>/.source,[dn]),lookbehind:!0,greedy:!0},{pattern:Le(/(^|[^@$\\])<<0>>/.source,[ct]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:Le(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[ar]),lookbehind:!0,inside:Qt},{pattern:Le(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Wt,jt]),lookbehind:!0,inside:Qt},{pattern:Le(/(\busing\s+)<<0>>(?=\s*=)/.source,[Wt]),lookbehind:!0},{pattern:Le(/(\b<<0>>\s+)<<1>>/.source,[yt,Kn]),lookbehind:!0,inside:Qt},{pattern:Le(/(\bcatch\s*\(\s*)<<0>>/.source,[ar]),lookbehind:!0,inside:Qt},{pattern:Le(/(\bwhere\s+)<<0>>/.source,[Wt]),lookbehind:!0},{pattern:Le(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[va]),lookbehind:!0,inside:Qt},{pattern:Le(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[jt,be,Wt]),inside:Qt}],keyword:Ot,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),qe.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),qe.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Le(/([(,]\s*)<<0>>(?=\s*:)/.source,[Wt]),lookbehind:!0,alias:"punctuation"}}),qe.languages.insertBefore("csharp","class-name",{namespace:{pattern:Le(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Wt]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Le(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Cn]),lookbehind:!0,alias:"class-name",inside:Qt},"return-type":{pattern:Le(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[jt,ar]),inside:Qt,alias:"class-name"},"constructor-invocation":{pattern:Le(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[jt]),lookbehind:!0,inside:Qt,alias:"class-name"},"generic-method":{pattern:Le(/<<0>>\s*<<1>>(?=\s*\()/.source,[Wt,St]),inside:{function:Le(/^<<0>>/.source,[Wt]),generic:{pattern:RegExp(St),alias:"class-name",inside:Qt}}},"type-list":{pattern:Le(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[yt,Kn,Wt,jt,Ot.source,Cn,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Le(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Kn,Cn]),lookbehind:!0,greedy:!0,inside:qe.languages.csharp},keyword:Ot,"class-name":{pattern:RegExp(jt),greedy:!0,inside:Qt},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Fn=ct+"|"+Ye,hn=Rn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Fn]),Ve=Me(Rn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[hn]),2),nn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Nn=Rn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[ar,Ve]);qe.languages.insertBefore("csharp","class-name",{attribute:{pattern:Le(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[nn,Nn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Le(/^<<0>>(?=\s*:)/.source,[nn]),alias:"keyword"},"attribute-arguments":{pattern:Le(/\(<<0>>*\)/.source,[Ve]),inside:qe.languages.csharp},"class-name":{pattern:RegExp(ar),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var yn=/:[^}\r\n]+/.source,Yn=Me(Rn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[hn]),2),Ce=Rn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Yn,yn]),Ft=Me(Rn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Fn]),2),wt=Rn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ft,yn]);function sn(Zn,Rr){return{interpolation:{pattern:Le(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Zn]),lookbehind:!0,inside:{"format-string":{pattern:Le(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Rr,yn]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:qe.languages.csharp}}},string:/[\s\S]+/}}qe.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Le(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Ce]),lookbehind:!0,greedy:!0,inside:sn(Ce,Yn)},{pattern:Le(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[wt]),lookbehind:!0,greedy:!0,inside:sn(wt,Ft)}],char:{pattern:RegExp(Ye),greedy:!0}}),qe.languages.dotnet=qe.languages.cs=qe.languages.csharp}(Prism),function(qe){var Rn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;qe.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Rn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Rn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Rn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Rn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Rn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},qe.languages.css.atrule.inside.rest=qe.languages.css;var Le=qe.languages.markup;Le&&(Le.tag.addInlined("style","css"),Le.tag.addAttribute("style","css"))}(Prism),function(qe){var Rn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Le=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Me={pattern:RegExp(/(^|[^\w.])/.source+Le+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};qe.languages.java=qe.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Me,{pattern:RegExp(/(^|[^\w.])/.source+Le+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Me.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+Le+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Me.inside}],keyword:Rn,function:[qe.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),qe.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),qe.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Me,keyword:Rn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+Le+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Me.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+Le+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Me.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Rn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(qe){qe.type==="entity"&&(qe.attributes.title=qe.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Rn,Le){var Me={};Me["language-"+Le]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Le]},Me.cdata=/^<!\[CDATA\[|\]\]>$/i;var bt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Me}};bt["language-"+Le]={pattern:/[\s\S]+/,inside:Prism.languages[Le]};var qt={};qt[Rn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Rn}),"i"),lookbehind:!0,greedy:!0,inside:bt},Prism.languages.insertBefore("markup","cdata",qt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(qe,Rn){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+qe+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Rn,"language-"+Rn],inside:Prism.languages[Rn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(qe){var Rn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Le=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Me=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,bt=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,qt=/[{}\[\](),:;]/;qe.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Rn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Le,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Me,operator:bt,punctuation:qt};var yt={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:qe.languages.php},Ot=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:yt}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:yt}}];qe.languages.insertBefore("php","variable",{string:Ot,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Rn,string:Ot,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Le,number:Me,operator:bt,punctuation:qt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),qe.hooks.add("before-tokenize",function(tr){if(/<\?/.test(tr.code)){var be=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;qe.languages["markup-templating"].buildPlaceholders(tr,"php",be)}}),qe.hooks.add("after-tokenize",function(tr){qe.languages["markup-templating"].tokenizePlaceholders(tr,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(qe){qe.languages.ruby=qe.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),qe.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Rn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:qe.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete qe.languages.ruby.function;var Le="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Me=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;qe.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+Le+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Rn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Rn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Me),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Me+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),qe.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+Le),greedy:!0,inside:{interpolation:Rn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Rn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Rn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+Le),greedy:!0,inside:{interpolation:Rn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Rn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete qe.languages.ruby.string,qe.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),qe.languages.rb=qe.languages.ruby}(Prism);var hr=K.exports,pt={boltExport:hr};return pt});var $t=window.Prism;return window.Prism=vn,$t})(void 0,_t,j);var $e=j.exports.boltExport,un=function(vt){return vt.getParam("codesample_languages")},Vt=function(vt){return vt.getParam("codesample_global_prismjs",!1,"boolean")},Ae=function(vt){return Ke.Prism&&Vt(vt)?Ke.Prism:$e},st=function(vt){var Se=vt.selection?vt.selection.getNode():null;return We(ve(Se),Se)},rt=function(vt,Se,Nt){vt.undoManager.transact(function(){var et=st(vt);return Nt=Oe.DOM.encode(Nt),et.fold(function(){vt.insertContent('<pre id="__new" class="language-'+Se+'">'+Nt+"</pre>"),vt.selection.select(vt.$("#__new").removeAttr("id")[0])},function(vn){vt.dom.setAttrib(vn,"class","language-"+Se),vn.innerHTML=Nt,Ae(vt).highlightElement(vn),vt.selection.select(vn)})})},Ue=function(vt){var Se=st(vt);return Se.fold(fe(""),function(Nt){return Nt.textContent})},U=function(vt){var Se=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],Nt=un(vt);return Nt||Se},B=function(vt,Se){var Nt=st(vt);return Nt.fold(function(){return Se},function(et){var vn=et.className.match(/language-(\w+)/);return vn?vn[1]:Se})},He=function(vt){var Se=U(vt),Nt=ze(Se).fold(fe(""),function($t){return $t.value}),et=B(vt,Nt),vn=Ue(vt);vt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:Se},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:et,code:vn},onSubmit:function($t){var an=$t.getData();rt(vt,an.language,an.code),$t.close()}})},Jt=function(vt){vt.addCommand("codesample",function(){var Se=vt.selection.getNode();vt.selection.isCollapsed()||ve(Se)?He(vt):vt.formatter.toggle("code")})},Xe=function(vt){var Se=vt.$;vt.on("PreProcess",function(Nt){Se("pre[contenteditable=false]",Nt.node).filter(Mt(ve)).each(function(et,vn){var $t=Se(vn),an=vn.textContent;$t.attr("class",Se.trim($t.attr("class"))),$t.removeAttr("contentEditable"),$t.empty().append(Se("<code></code>").each(function(){this.textContent=an}))})}),vt.on("SetContent",function(){var Nt=Se("pre").filter(Mt(ve)).filter(function(et,vn){return vn.contentEditable!=="false"});Nt.length&&vt.undoManager.transact(function(){Nt.each(function(et,vn){Se(vn).find("br").each(function($t,an){an.parentNode.replaceChild(vt.getDoc().createTextNode(`
`),an)}),vn.contentEditable="false",vn.innerHTML=vt.dom.encode(vn.textContent),Ae(vt).highlightElement(vn),vn.className=Se.trim(vn.className)})})})},pn=function(vt){var Se=vt.selection.getStart();return vt.dom.is(Se,'pre[class*="language-"]')},Mn=function(vt){var Se=function(){return vt.execCommand("codesample")};vt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Se,onSetup:function(Nt){var et=function(){Nt.setActive(pn(vt))};return vt.on("NodeChange",et),function(){return vt.off("NodeChange",et)}}}),vt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Se})};function A(){ae.add("codesample",function(vt){Xe(vt),Mn(vt),Jt(vt),vt.on("dblclick",function(Se){ve(Se.target)&&He(vt)})})}A()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(Ve){var nn=typeof Ve;return Ve===null?"null":nn==="object"&&(Array.prototype.isPrototypeOf(Ve)||Ve.constructor&&Ve.constructor.name==="Array")?"array":nn==="object"&&(String.prototype.isPrototypeOf(Ve)||Ve.constructor&&Ve.constructor.name==="String")?"string":nn},fe=function(Ve){return function(nn){return z(nn)===Ve}},xe=function(Ve){return function(nn){return typeof nn===Ve}},we=fe("string"),nt=xe("boolean"),xt=function(Ve){return Ve==null},mt=function(Ve){return!xt(Ve)},gt=xe("function"),Xt=xe("number"),at=function(){},he=function(Ve,nn){return function(Nn){return Ve(nn(Nn))}},ze=function(Ve){return function(){return Ve}},We=function(Ve){return Ve},Oe=ze(!1),ve=ze(!0),Mt=function(){return Ke},Ke=function(){var Ve=function(yn){return yn()},nn=We,Nn={fold:function(yn,Yn){return yn()},isSome:Oe,isNone:ve,getOr:nn,getOrThunk:Ve,getOrDie:function(yn){throw new Error(yn||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:nn,orThunk:Ve,map:Mt,each:at,bind:Mt,exists:Oe,forall:ve,filter:function(){return Mt()},toArray:function(){return[]},toString:ze("none()")};return Nn}(),_t=function(Ve){var nn=ze(Ve),Nn=function(){return Yn},yn=function(Ce){return Ce(Ve)},Yn={fold:function(Ce,Ft){return Ft(Ve)},isSome:ve,isNone:Oe,getOr:nn,getOrThunk:nn,getOrDie:nn,getOrNull:nn,getOrUndefined:nn,or:Nn,orThunk:Nn,map:function(Ce){return _t(Ce(Ve))},each:function(Ce){Ce(Ve)},bind:yn,exists:yn,forall:yn,filter:function(Ce){return Ce(Ve)?Yn:Ke},toArray:function(){return[Ve]},toString:function(){return"some("+Ve+")"}};return Yn},j=function(Ve){return Ve==null?Ke:_t(Ve)},Ne={some:_t,none:Mt,from:j},$e=function(Ve,nn){for(var Nn=Ve.length,yn=new Array(Nn),Yn=0;Yn<Nn;Yn++){var Ce=Ve[Yn];yn[Yn]=nn(Ce,Yn)}return yn},un=function(Ve,nn){for(var Nn=0,yn=Ve.length;Nn<yn;Nn++){var Yn=Ve[Nn];nn(Yn,Nn)}},Vt=function(Ve,nn){for(var Nn=[],yn=0,Yn=Ve.length;yn<Yn;yn++){var Ce=Ve[yn];nn(Ce,yn)&&Nn.push(Ce)}return Nn},Ae=9,st=11,rt=1,Ue=3,U=function(Ve,nn){var Nn=nn||document,yn=Nn.createElement("div");if(yn.innerHTML=Ve,!yn.hasChildNodes()||yn.childNodes.length>1)throw console.error("HTML does not have a single root node",Ve),new Error("HTML must have a single root node");return Jt(yn.childNodes[0])},B=function(Ve,nn){var Nn=nn||document,yn=Nn.createElement(Ve);return Jt(yn)},He=function(Ve,nn){var Nn=nn||document,yn=Nn.createTextNode(Ve);return Jt(yn)},Jt=function(Ve){if(Ve==null)throw new Error("Node cannot be null or undefined");return{dom:Ve}},Xe=function(Ve,nn,Nn){return Ne.from(Ve.dom.elementFromPoint(nn,Nn)).map(Jt)},pn={fromHtml:U,fromTag:B,fromText:He,fromDom:Jt,fromPoint:Xe},Mn=function(Ve,nn){var Nn=Ve.dom;if(Nn.nodeType!==rt)return!1;var yn=Nn;if(yn.matches!==void 0)return yn.matches(nn);if(yn.msMatchesSelector!==void 0)return yn.msMatchesSelector(nn);if(yn.webkitMatchesSelector!==void 0)return yn.webkitMatchesSelector(nn);if(yn.mozMatchesSelector!==void 0)return yn.mozMatchesSelector(nn);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var A=function(Ve){var nn=Ve.dom.nodeName;return nn.toLowerCase()},vt=function(Ve){return Ve.dom.nodeType},Se=function(Ve){return function(nn){return vt(nn)===Ve}},Nt=Se(rt),et=Se(Ue),vn=Se(Ae),$t=Se(st),an=function(Ve){return function(nn){return Nt(nn)&&A(nn)===Ve}},K=function(Ve){return pn.fromDom(Ve.dom.ownerDocument)},hr=function(Ve){return vn(Ve)?Ve:K(Ve)},pt=function(Ve){return Ne.from(Ve.dom.parentNode).map(pn.fromDom)},qe=function(Ve){return $e(Ve.dom.childNodes,pn.fromDom)},Rn=function(Ve,nn,Nn){if(we(Nn)||nt(Nn)||Xt(Nn))Ve.setAttribute(nn,Nn+"");else throw console.error("Invalid call to Attribute.set. Key ",nn,":: Value ",Nn,":: Element ",Ve),new Error("Attribute value was not simple")},Le=function(Ve,nn,Nn){Rn(Ve.dom,nn,Nn)},Me=function(Ve,nn){Ve.dom.removeAttribute(nn)},bt=function(Ve){return $t(Ve)&&mt(Ve.dom.host)},qt=gt(Element.prototype.attachShadow)&&gt(Node.prototype.getRootNode),yt=qt?function(Ve){return pn.fromDom(Ve.dom.getRootNode())}:hr,Ot=function(Ve){var nn=yt(Ve);return bt(nn)?Ne.some(nn):Ne.none()},tr=function(Ve){return pn.fromDom(Ve.dom.host)},be=function(Ve){var nn=et(Ve)?Ve.dom.parentNode:Ve.dom;if(nn==null||nn.ownerDocument===null)return!1;var Nn=nn.ownerDocument;return Ot(pn.fromDom(nn)).fold(function(){return Nn.body.contains(nn)},he(be,tr))},St=function(Ve,nn,Nn){for(var yn=Ve.dom,Yn=gt(Nn)?Nn:Oe;yn.parentNode;){yn=yn.parentNode;var Ce=pn.fromDom(yn);if(nn(Ce))return Ne.some(Ce);if(Yn(Ce))break}return Ne.none()},Cn=function(Ve,nn,Nn){return St(Ve,function(yn){return Mn(yn,nn)},Nn)},Wt=function(Ve){return Ve.style!==void 0&&gt(Ve.style.getPropertyValue)},Kn=function(Ve,nn){var Nn=Ve.dom,yn=window.getComputedStyle(Nn),Yn=yn.getPropertyValue(nn);return Yn===""&&!be(Ve)?ar(Nn,nn):Yn},ar=function(Ve,nn){return Wt(Ve)?Ve.style.getPropertyValue(nn):""},qr=function(Ve){return Kn(Ve,"direction")==="rtl"?"rtl":"ltr"},va=function(Ve,nn){return Vt(qe(Ve),nn)},xa=function(Ve,nn){return va(Ve,function(Nn){return Mn(Nn,nn)})},Yt=function(Ve){return pt(Ve).filter(Nt)},jt=function(Ve,nn){var Nn=nn?Cn(Ve,"ol,ul"):Ne.some(Ve);return Nn.getOr(Ve)},Qt=an("li"),Ye=function(Ve,nn){var Nn=Ve.selection.getSelectedBlocks();Nn.length>0&&(un(Nn,function(yn){var Yn=pn.fromDom(yn),Ce=Qt(Yn),Ft=jt(Yn,Ce),wt=Yt(Ft);wt.each(function(sn){var Zn=qr(sn);if(Zn!==nn?Le(Ft,"dir",nn):qr(Ft)!==nn&&Me(Ft,"dir"),Ce){var Rr=xa(Ft,"li[dir]");un(Rr,function(Ia){return Me(Ia,"dir")})}})}),Ve.nodeChanged())},ct=function(Ve){Ve.addCommand("mceDirectionLTR",function(){Ye(Ve,"ltr")}),Ve.addCommand("mceDirectionRTL",function(){Ye(Ve,"rtl")})},dn=function(Ve,nn){return function(Nn){var yn=function(Yn){var Ce=pn.fromDom(Yn.element);Nn.setActive(qr(Ce)===nn)};return Ve.on("NodeChange",yn),function(){return Ve.off("NodeChange",yn)}}},Fn=function(Ve){Ve.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return Ve.execCommand("mceDirectionLTR")},onSetup:dn(Ve,"ltr")}),Ve.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return Ve.execCommand("mceDirectionRTL")},onSetup:dn(Ve,"rtl")})};function hn(){ae.add("directionality",function(Ve){ct(Ve),Fn(Ve)})}hn()})();(function(){var ae=function(R){var k=R,I=function(){return k},Y=function(ye){k=ye};return{get:I,set:Y}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(R){return{isFullscreen:function(){return R.get()!==null}}},xe=function(R){var k=typeof R;return R===null?"null":k==="object"&&(Array.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="Array")?"array":k==="object"&&(String.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="String")?"string":k},we=function(R){return function(k){return xe(k)===R}},nt=function(R){return function(k){return typeof k===R}},xt=we("string"),mt=we("array"),gt=nt("boolean"),Xt=function(R){return R==null},at=function(R){return!Xt(R)},he=nt("function"),ze=nt("number"),We=function(){},Oe=function(R,k){return function(){for(var I=[],Y=0;Y<arguments.length;Y++)I[Y]=arguments[Y];return R(k.apply(null,I))}},ve=function(R,k){return function(I){return R(k(I))}},Mt=function(R){return function(){return R}},Ke=function(R){return R};function _t(R){for(var k=[],I=1;I<arguments.length;I++)k[I-1]=arguments[I];return function(){for(var Y=[],ye=0;ye<arguments.length;ye++)Y[ye]=arguments[ye];var ut=k.concat(Y);return R.apply(null,ut)}}var j=Mt(!1),Ne=Mt(!0),$e=function(){return un},un=function(){var R=function(Y){return Y()},k=Ke,I={fold:function(Y,ye){return Y()},isSome:j,isNone:Ne,getOr:k,getOrThunk:R,getOrDie:function(Y){throw new Error(Y||"error: getOrDie called on none.")},getOrNull:Mt(null),getOrUndefined:Mt(void 0),or:k,orThunk:R,map:$e,each:We,bind:$e,exists:j,forall:Ne,filter:function(){return $e()},toArray:function(){return[]},toString:Mt("none()")};return I}(),Vt=function(R){var k=Mt(R),I=function(){return ye},Y=function(ut){return ut(R)},ye={fold:function(ut,mn){return mn(R)},isSome:Ne,isNone:j,getOr:k,getOrThunk:k,getOrDie:k,getOrNull:k,getOrUndefined:k,or:I,orThunk:I,map:function(ut){return Vt(ut(R))},each:function(ut){ut(R)},bind:Y,exists:Y,forall:Y,filter:function(ut){return ut(R)?ye:un},toArray:function(){return[R]},toString:function(){return"some("+R+")"}};return ye},Ae=function(R){return R==null?un:Vt(R)},st={some:Vt,none:$e,from:Ae},rt=function(){return rt=Object.assign||function(k){for(var I,Y=1,ye=arguments.length;Y<ye;Y++){I=arguments[Y];for(var ut in I)Object.prototype.hasOwnProperty.call(I,ut)&&(k[ut]=I[ut])}return k},rt.apply(this,arguments)},Ue=function(R){var k=ae(st.none()),I=function(){return k.get().each(R)},Y=function(){I(),k.set(st.none())},ye=function(){return k.get().isSome()},ut=function(){return k.get()},mn=function(vr){I(),k.set(st.some(vr))};return{clear:Y,isSet:ye,get:ut,set:mn}},U=function(){return Ue(function(R){return R.unbind()})},B=function(){var R=Ue(We),k=function(I){return R.get().each(I)};return rt(rt({},R),{on:k})},He=Array.prototype.push,Jt=function(R,k){for(var I=R.length,Y=new Array(I),ye=0;ye<I;ye++){var ut=R[ye];Y[ye]=k(ut,ye)}return Y},Xe=function(R,k){for(var I=0,Y=R.length;I<Y;I++){var ye=R[I];k(ye,I)}},pn=function(R,k){for(var I=[],Y=0,ye=R.length;Y<ye;Y++){var ut=R[Y];k(ut,Y)&&I.push(ut)}return I},Mn=function(R,k,I){for(var Y=0,ye=R.length;Y<ye;Y++){var ut=R[Y];if(k(ut,Y))return st.some(ut);if(I(ut,Y))break}return st.none()},A=function(R,k){return Mn(R,k,j)},vt=function(R){for(var k=[],I=0,Y=R.length;I<Y;++I){if(!mt(R[I]))throw new Error("Arr.flatten item "+I+" was not an array, input: "+R);He.apply(k,R[I])}return k},Se=function(R,k){return vt(Jt(R,k))},Nt=function(R,k){return k>=0&&k<R.length?st.some(R[k]):st.none()},et=function(R){return Nt(R,0)},vn=function(R,k){for(var I=0;I<R.length;I++){var Y=k(R[I],I);if(Y.isSome())return Y}return st.none()},$t=Object.keys,an=function(R,k){for(var I=$t(R),Y=0,ye=I.length;Y<ye;Y++){var ut=I[Y],mn=R[ut];k(mn,ut)}},K=function(R,k){return R.indexOf(k)!==-1},hr=function(R){return R.style!==void 0&&he(R.style.getPropertyValue)},pt=function(R,k){var I=k||document,Y=I.createElement("div");if(Y.innerHTML=R,!Y.hasChildNodes()||Y.childNodes.length>1)throw console.error("HTML does not have a single root node",R),new Error("HTML must have a single root node");return Le(Y.childNodes[0])},qe=function(R,k){var I=k||document,Y=I.createElement(R);return Le(Y)},Rn=function(R,k){var I=k||document,Y=I.createTextNode(R);return Le(Y)},Le=function(R){if(R==null)throw new Error("Node cannot be null or undefined");return{dom:R}},Me=function(R,k,I){return st.from(R.dom.elementFromPoint(k,I)).map(Le)},bt={fromHtml:pt,fromTag:qe,fromText:Rn,fromDom:Le,fromPoint:Me};typeof window<"u"||Function("return this;")();var qt=9,yt=11,Ot=1,tr=3,be=function(R){return R.dom.nodeType},St=function(R){return function(k){return be(k)===R}},Cn=St(Ot),Wt=St(tr),Kn=St(qt),ar=St(yt),qr=function(R){var k=!1,I;return function(){for(var Y=[],ye=0;ye<arguments.length;ye++)Y[ye]=arguments[ye];return k||(k=!0,I=R.apply(null,Y)),I}},va=function(R,k,I,Y){var ye=R.isiOS()&&/ipad/i.test(I)===!0,ut=R.isiOS()&&!ye,mn=R.isiOS()||R.isAndroid(),vr=mn||Y("(pointer:coarse)"),Pr=ye||!ut&&mn&&Y("(min-device-width:768px)"),Un=ut||mn&&!Pr,ur=k.isSafari()&&R.isiOS()&&/safari/i.test(I)===!1,Gr=!Un&&!Pr&&!ur;return{isiPad:Mt(ye),isiPhone:Mt(ut),isTablet:Mt(Pr),isPhone:Mt(Un),isTouch:Mt(vr),isAndroid:R.isAndroid,isiOS:R.isiOS,isWebView:Mt(ur),isDesktop:Mt(Gr)}},xa=function(R,k){for(var I=0;I<R.length;I++){var Y=R[I];if(Y.test(k))return Y}},Yt=function(R,k){var I=xa(R,k);if(!I)return{major:0,minor:0};var Y=function(ye){return Number(k.replace(I,"$"+ye))};return Ye(Y(1),Y(2))},jt=function(R,k){var I=String(k).toLowerCase();return R.length===0?Qt():Yt(R,I)},Qt=function(){return Ye(0,0)},Ye=function(R,k){return{major:R,minor:k}},ct={nu:Ye,detect:jt,unknown:Qt},dn=function(R,k){return vn(k.brands,function(I){var Y=I.brand.toLowerCase();return A(R,function(ye){var ut;return Y===((ut=ye.brand)===null||ut===void 0?void 0:ut.toLowerCase())}).map(function(ye){return{current:ye.name,version:ct.nu(parseInt(I.version,10),0)}})})},Fn=function(R,k){var I=String(k).toLowerCase();return A(R,function(Y){return Y.search(I)})},hn=function(R,k){return Fn(R,k).map(function(I){var Y=ct.detect(I.versionRegexes,k);return{current:I.name,version:Y}})},Ve=function(R,k){return Fn(R,k).map(function(I){var Y=ct.detect(I.versionRegexes,k);return{current:I.name,version:Y}})},nn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nn=function(R){return function(k){return K(k,R)}},yn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(R){return K(R,"edge/")&&K(R,"chrome")&&K(R,"safari")&&K(R,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,nn],search:function(R){return K(R,"chrome")&&!K(R,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(R){return K(R,"msie")||K(R,"trident")}},{name:"Opera",versionRegexes:[nn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nn("firefox")},{name:"Safari",versionRegexes:[nn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(R){return(K(R,"safari")||K(R,"mobile/"))&&K(R,"applewebkit")}}],Yn=[{name:"Windows",search:Nn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(R){return K(R,"iphone")||K(R,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Nn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nn("linux"),versionRegexes:[]},{name:"Solaris",search:Nn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Nn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ce={browsers:Mt(yn),oses:Mt(Yn)},Ft="Edge",wt="Chrome",sn="IE",Zn="Opera",Rr="Firefox",Ia="Safari",Dr=function(){return Fr({current:void 0,version:ct.unknown()})},Fr=function(R){var k=R.current,I=R.version,Y=function(ye){return function(){return k===ye}};return{current:k,version:I,isEdge:Y(Ft),isChrome:Y(wt),isIE:Y(sn),isOpera:Y(Zn),isFirefox:Y(Rr),isSafari:Y(Ia)}},Xa={unknown:Dr,nu:Fr,edge:Mt(Ft),chrome:Mt(wt),ie:Mt(sn),opera:Mt(Zn),firefox:Mt(Rr),safari:Mt(Ia)},ni="Windows",ho="iOS",so="Android",ko="Linux",si="OSX",To="Solaris",bo="FreeBSD",ri="ChromeOS",oa=function(){return Zo({current:void 0,version:ct.unknown()})},Zo=function(R){var k=R.current,I=R.version,Y=function(ye){return function(){return k===ye}};return{current:k,version:I,isWindows:Y(ni),isiOS:Y(ho),isAndroid:Y(so),isOSX:Y(si),isLinux:Y(ko),isSolaris:Y(To),isFreeBSD:Y(bo),isChromeOS:Y(ri)}},ir={unknown:oa,nu:Zo,windows:Mt(ni),ios:Mt(ho),android:Mt(so),linux:Mt(ko),osx:Mt(si),solaris:Mt(To),freebsd:Mt(bo),chromeos:Mt(ri)},du=function(R,k,I){var Y=Ce.browsers(),ye=Ce.oses(),ut=k.bind(function(Pr){return dn(Y,Pr)}).orThunk(function(){return hn(Y,R)}).fold(Xa.unknown,Xa.nu),mn=Ve(ye,R).fold(ir.unknown,ir.nu),vr=va(mn,ut,R,I);return{browser:ut,os:mn,deviceType:vr}},Go={detect:du},hi=function(R){return window.matchMedia(R).matches},mu=qr(function(){return Go.detect(navigator.userAgent,st.from(navigator.userAgentData),hi)}),Di=function(){return mu()},gu=function(R,k){var I=R.dom;if(I.nodeType!==Ot)return!1;var Y=I;if(Y.matches!==void 0)return Y.matches(k);if(Y.msMatchesSelector!==void 0)return Y.msMatchesSelector(k);if(Y.webkitMatchesSelector!==void 0)return Y.webkitMatchesSelector(k);if(Y.mozMatchesSelector!==void 0)return Y.mozMatchesSelector(k);throw new Error("Browser lacks native selectors")},pu=function(R){return R.nodeType!==Ot&&R.nodeType!==qt&&R.nodeType!==yt||R.childElementCount===0},ss=function(R,k){var I=k===void 0?document:k.dom;return pu(I)?[]:Jt(I.querySelectorAll(R),bt.fromDom)},ue=function(R,k){return R.dom===k.dom},Fe=function(R){return bt.fromDom(R.dom.ownerDocument)},ce=function(R){return Kn(R)?R:Fe(R)},it=function(R){return st.from(R.dom.parentNode).map(bt.fromDom)},Dn=function(R,k){for(var I=he(k)?k:j,Y=R.dom,ye=[];Y.parentNode!==null&&Y.parentNode!==void 0;){var ut=Y.parentNode,mn=bt.fromDom(ut);if(ye.push(mn),I(mn)===!0)break;Y=ut}return ye},qn=function(R){var k=function(I){return pn(I,function(Y){return!ue(R,Y)})};return it(R).map(ne).map(k).getOr([])},ne=function(R){return Jt(R.dom.childNodes,bt.fromDom)},ge=function(R){return ar(R)&&at(R.dom.host)},lt=he(Element.prototype.attachShadow)&&he(Node.prototype.getRootNode),It=Mt(lt),F=lt?function(R){return bt.fromDom(R.dom.getRootNode())}:ce,Z=function(R){var k=F(R);return ge(k)?st.some(k):st.none()},me=function(R){return bt.fromDom(R.dom.host)},_e=function(R){if(It()&&at(R.target)){var k=bt.fromDom(R.target);if(Cn(k)&&Qe(k)&&R.composed&&R.composedPath){var I=R.composedPath();if(I)return et(I)}}return st.from(R.target)},Qe=function(R){return at(R.dom.shadowRoot)},ot=function(R){var k=Wt(R)?R.dom.parentNode:R.dom;if(k==null||k.ownerDocument===null)return!1;var I=k.ownerDocument;return Z(bt.fromDom(k)).fold(function(){return I.body.contains(k)},ve(ot,me))},En=function(R){var k=R.dom.body;if(k==null)throw new Error("Body is not available yet");return bt.fromDom(k)},Vn=function(R,k,I){if(xt(I)||gt(I)||ze(I))R.setAttribute(k,I+"");else throw console.error("Invalid call to Attribute.set. Key ",k,":: Value ",I,":: Element ",R),new Error("Attribute value was not simple")},Cr=function(R,k,I){Vn(R.dom,k,I)},ht=function(R,k){var I=R.dom.getAttribute(k);return I===null?void 0:I},lr=function(R,k){R.dom.removeAttribute(k)},Hr=function(R,k,I){if(!xt(I))throw console.error("Invalid call to CSS.set. Property ",k,":: Value ",I,":: Element ",R),new Error("CSS value must be a string: "+I);hr(R)&&R.style.setProperty(k,I)},Oa=function(R,k){var I=R.dom;an(k,function(Y,ye){Hr(I,ye,Y)})},Eo=function(R,k){var I=R.dom,Y=window.getComputedStyle(I),ye=Y.getPropertyValue(k);return ye===""&&!ot(R)?ia(I,k):ye},ia=function(R,k){return hr(R)?R.style.getPropertyValue(k):""},cs=function(R,k,I,Y,ye,ut,mn){return{target:R,x:k,y:I,stop:Y,prevent:ye,kill:ut,raw:mn}},Hu=function(R){var k=bt.fromDom(_e(R).getOr(R.target)),I=function(){return R.stopPropagation()},Y=function(){return R.preventDefault()},ye=Oe(Y,I);return cs(k,R.clientX,R.clientY,I,Y,ye,R)},yo=function(R,k){return function(I){R(I)&&k(Hu(I))}},Lc=function(R,k,I,Y,ye){var ut=yo(I,Y);return R.dom.addEventListener(k,ut,ye),{unbind:_t(hu,R,k,ut,ye)}},Ii=function(R,k,I,Y){return Lc(R,k,I,Y,!1)},hu=function(R,k,I,Y){R.dom.removeEventListener(k,I,Y)},Ya=Ne,pc=function(R,k,I){return Ii(R,k,Ya,I)},Os=function(R,k){var I=function(Y,ye){return Os(R+Y,k+ye)};return{left:R,top:k,translate:I}},zc=Os,fl=function(R){var k=R!==void 0?R.dom:document,I=k.body.scrollLeft||k.documentElement.scrollLeft,Y=k.body.scrollTop||k.documentElement.scrollTop;return zc(I,Y)},Xi=function(R){var k=R===void 0?window:R;return Di().browser.isFirefox()?st.none():st.from(k.visualViewport)},Du=function(R,k,I,Y){return{x:R,y:k,width:I,height:Y,right:R+I,bottom:k+Y}},Hc=function(R){var k=R===void 0?window:R,I=k.document,Y=fl(bt.fromDom(I));return Xi(k).fold(function(){var ye=k.document.documentElement,ut=ye.clientWidth,mn=ye.clientHeight;return Du(Y.left,Y.top,ut,mn)},function(ye){return Du(Math.max(ye.pageLeft,Y.left),Math.max(ye.pageTop,Y.top),ye.width,ye.height)})},bu=function(R,k,I){return Xi(I).map(function(Y){var ye=function(ut){return k(Hu(ut))};return Y.addEventListener(R,ye),{unbind:function(){return Y.removeEventListener(R,ye)}}}).getOrThunk(function(){return{unbind:We}})},Yi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G=tinymce.util.Tools.resolve("tinymce.Env"),Ee=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ze=function(R,k){R.fire("FullscreenStateChanged",{state:k}),R.fire("ResizeEditor")},Ht=function(R){return R.getParam("fullscreen_native",!1,"boolean")},xn=function(R){var k=bt.fromDom(R.getElement());return Z(k).map(me).getOrThunk(function(){return En(Fe(k))})},sr=function(R){return R.fullscreenElement!==void 0?R.fullscreenElement:R.msFullscreenElement!==void 0?R.msFullscreenElement:R.webkitFullscreenElement!==void 0?R.webkitFullscreenElement:null},Ea=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},$a=function(R){var k=R.dom;k.requestFullscreen?k.requestFullscreen():k.msRequestFullscreen?k.msRequestFullscreen():k.webkitRequestFullScreen&&k.webkitRequestFullScreen()},Jr=function(R){var k=R.dom;k.exitFullscreen?k.exitFullscreen():k.msExitFullscreen?k.msExitFullscreen():k.webkitCancelFullScreen&&k.webkitCancelFullScreen()},Qa=function(R){return R.dom===sr(Fe(R).dom)},vo=function(R,k,I){return pn(Dn(R,I),k)},Ds=function(R,k){return pn(qn(R),k)},ci=function(R){return ss(R)},ls=function(R,k,I){return vo(R,function(Y){return gu(Y,k)},I)},Sr=function(R,k){return Ds(R,function(I){return gu(I,k)})},Ks="data-ephox-mobile-fullscreen-style",Af="display:none!important;",Sa="position:absolute!important;",Ll="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",zl="background-color:rgb(255,255,255)!important;",yv=G.os.isAndroid(),Ga=function(R){var k=Eo(R,"background-color");return k!==void 0&&k!==""?"background-color:"+k+"!important":zl},_u=function(R,k,I){var Y=function(Un){return Sr(Un,"*:not(.tox-silver-sink)")},ye=function(Un){return function(ur){var Gr=ht(ur,"style"),jr=Gr===void 0?"no-styles":Gr.trim();jr!==Un&&(Cr(ur,Ks,jr),Oa(ur,R.parseStyle(Un)))}},ut=ls(k,"*"),mn=Se(ut,Y),vr=Ga(I);Xe(mn,ye(Af)),Xe(ut,ye(Sa+Ll+vr));var Pr=yv===!0?"":Sa;ye(Pr+Ll+vr)(k)},md=function(R){var k=ci("["+Ks+"]");Xe(k,function(I){var Y=ht(I,Ks);Y!=="no-styles"?Oa(I,R.parseStyle(Y)):lr(I,"style"),lr(I,Ks)})},Vu=Yi.DOM,qo=function(){return Hc(window)},hc=function(R){return window.scrollTo(R.x,R.y)},Rt=Xi().fold(function(){return{bind:We,unbind:We}},function(R){var k=B(),I=U(),Y=U(),ye=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},ut=function(){window.requestAnimationFrame(function(){k.on(function(Un){return Oa(Un,{top:R.offsetTop+"px",left:R.offsetLeft+"px",height:R.height+"px",width:R.width+"px"})})})},mn=Ee.throttle(function(){ye(),ut()},50),vr=function(Un){k.set(Un),mn(),I.set(bu("resize",mn)),Y.set(bu("scroll",mn))},Pr=function(){k.on(function(){I.clear(),Y.clear()}),k.clear()};return{bind:vr,unbind:Pr}}),vl=function(R,k){var I=document.body,Y=document.documentElement,ye=R.getContainer(),ut=bt.fromDom(ye),mn=xn(R),vr=k.get(),Pr=bt.fromDom(R.getBody()),Un=G.deviceType.isTouch(),ur=ye.style,Gr=R.iframeElement,jr=Gr.style,Br=function(La){La(I,"tox-fullscreen"),La(Y,"tox-fullscreen"),La(ye,"tox-fullscreen"),Z(ut).map(function(bi){return me(bi).dom}).each(function(bi){La(bi,"tox-fullscreen"),La(bi,"tox-shadowhost")})},co=function(){Un&&md(R.dom),Br(Vu.removeClass),Rt.unbind(),st.from(k.get()).each(function(La){return La.fullscreenChangeHandler.unbind()})};if(vr)vr.fullscreenChangeHandler.unbind(),Ht(R)&&Qa(mn)&&Jr(Fe(mn)),jr.width=vr.iframeWidth,jr.height=vr.iframeHeight,ur.width=vr.containerWidth,ur.height=vr.containerHeight,ur.top=vr.containerTop,ur.left=vr.containerLeft,co(),hc(vr.scrollPos),k.set(null),Ze(R,!1),R.off("remove",co);else{var Vr=pc(Fe(mn),Ea(),function(La){Ht(R)&&!Qa(mn)&&k.get()!==null&&vl(R,k)}),qa={scrollPos:qo(),containerWidth:ur.width,containerHeight:ur.height,containerTop:ur.top,containerLeft:ur.left,iframeWidth:jr.width,iframeHeight:jr.height,fullscreenChangeHandler:Vr};Un&&_u(R.dom,ut,Pr),jr.width=jr.height="100%",ur.width=ur.height="",Br(Vu.addClass),Rt.bind(ut),R.on("remove",co),k.set(qa),Ht(R)&&$a(mn),Ze(R,!0)}},Ro=function(R,k){R.addCommand("mceFullScreen",function(){vl(R,k)})},Of=function(R,k){return function(I){I.setActive(k.get()!==null);var Y=function(ye){return I.setActive(ye.state)};return R.on("FullscreenStateChanged",Y),function(){return R.off("FullscreenStateChanged",Y)}}},Xs=function(R,k){var I=function(){return R.execCommand("mceFullScreen")};R.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:I,onSetup:Of(R,k)}),R.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:I,onSetup:Of(R,k)})};function Vc(){z.add("fullscreen",function(R){var k=ae(null);return R.inline||(Ro(R,k),Xs(R,k),R.addShortcut("Meta+Shift+F","","mceFullScreen")),fe(k)})}Vc()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(we){we.addCommand("InsertHorizontalRule",function(){we.execCommand("mceInsertContent",!1,"<hr />")})},fe=function(we){var nt=function(){return we.execCommand("InsertHorizontalRule")};we.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:nt}),we.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:nt})};function xe(){ae.add("hr",function(we){z(we),fe(we)})}xe()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(j){return j.getParam("insertdatetime_dateformat",j.translate("%Y-%m-%d"))},fe=function(j){return j.getParam("insertdatetime_timeformat",j.translate("%H:%M:%S"))},xe=function(j){return j.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},we=function(j){var Ne=xe(j);return Ne.length>0?Ne[0]:fe(j)},nt=function(j){return j.getParam("insertdatetime_element",!1)},xt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),mt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),gt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xt="January February March April May June July August September October November December".split(" "),at=function(j,Ne){if(j=""+j,j.length<Ne)for(var $e=0;$e<Ne-j.length;$e++)j="0"+j;return j},he=function(j,Ne,$e){return $e===void 0&&($e=new Date),Ne=Ne.replace("%D","%m/%d/%Y"),Ne=Ne.replace("%r","%I:%M:%S %p"),Ne=Ne.replace("%Y",""+$e.getFullYear()),Ne=Ne.replace("%y",""+$e.getYear()),Ne=Ne.replace("%m",at($e.getMonth()+1,2)),Ne=Ne.replace("%d",at($e.getDate(),2)),Ne=Ne.replace("%H",""+at($e.getHours(),2)),Ne=Ne.replace("%M",""+at($e.getMinutes(),2)),Ne=Ne.replace("%S",""+at($e.getSeconds(),2)),Ne=Ne.replace("%I",""+(($e.getHours()+11)%12+1)),Ne=Ne.replace("%p",$e.getHours()<12?"AM":"PM"),Ne=Ne.replace("%B",""+j.translate(Xt[$e.getMonth()])),Ne=Ne.replace("%b",""+j.translate(gt[$e.getMonth()])),Ne=Ne.replace("%A",""+j.translate(mt[$e.getDay()])),Ne=Ne.replace("%a",""+j.translate(xt[$e.getDay()])),Ne=Ne.replace("%%","%"),Ne},ze=function(j,Ne,$e,un){var Vt=j.dom.create("time",{datetime:$e},un);Ne.parentNode.insertBefore(Vt,Ne),j.dom.remove(Ne),j.selection.select(Vt,!0),j.selection.collapse(!1)},We=function(j,Ne){if(nt(j)){var $e=he(j,Ne),un=void 0;/%[HMSIp]/.test(Ne)?un=he(j,"%Y-%m-%dT%H:%M"):un=he(j,"%Y-%m-%d");var Vt=j.dom.getParent(j.selection.getStart(),"time");Vt?ze(j,Vt,un,$e):j.insertContent('<time datetime="'+un+'">'+$e+"</time>")}else j.insertContent(he(j,Ne))},Oe=function(j){j.addCommand("mceInsertDate",function(Ne,$e){We(j,$e??z(j))}),j.addCommand("mceInsertTime",function(Ne,$e){We(j,$e??fe(j))})},ve=function(j){var Ne=j,$e=function(){return Ne},un=function(Vt){Ne=Vt};return{get:$e,set:un}},Mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ke=function(j){var Ne=xe(j),$e=ve(we(j)),un=function(Ae){return j.execCommand("mceInsertDate",!1,Ae)};j.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(Ae){return Ae===$e.get()},fetch:function(Ae){Ae(Mt.map(Ne,function(st){return{type:"choiceitem",text:he(j,st),value:st}}))},onAction:function(Ae){un($e.get())},onItemAction:function(Ae,st){$e.set(st),un(st)}});var Vt=function(Ae){return function(){$e.set(Ae),un(Ae)}};j.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return Mt.map(Ne,function(Ae){return{type:"menuitem",text:he(j,Ae),onAction:Vt(Ae)}})}})};function _t(){ae.add("insertdatetime",function(j){Oe(j),Ke(j)})}_t()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.util.VK"),fe=function(G){var Ee=typeof G;return G===null?"null":Ee==="object"&&(Array.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="Array")?"array":Ee==="object"&&(String.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="String")?"string":Ee},xe=function(G){return function(Ee){return fe(Ee)===G}},we=function(G){return function(Ee){return typeof Ee===G}},nt=function(G){return function(Ee){return G===Ee}},xt=xe("string"),mt=xe("array"),gt=nt(null),Xt=we("boolean"),at=we("function"),he=function(){},ze=function(G){return function(){return G}},We=function(G){return G},Oe=function(G,Ee){return G===Ee},ve=ze(!1),Mt=ze(!0),Ke=function(){return _t},_t=function(){var G=function(Ht){return Ht()},Ee=We,Ze={fold:function(Ht,xn){return Ht()},isSome:ve,isNone:Mt,getOr:Ee,getOrThunk:G,getOrDie:function(Ht){throw new Error(Ht||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:Ee,orThunk:G,map:Ke,each:he,bind:Ke,exists:ve,forall:Mt,filter:function(){return Ke()},toArray:function(){return[]},toString:ze("none()")};return Ze}(),j=function(G){var Ee=ze(G),Ze=function(){return xn},Ht=function(sr){return sr(G)},xn={fold:function(sr,Ea){return Ea(G)},isSome:Mt,isNone:ve,getOr:Ee,getOrThunk:Ee,getOrDie:Ee,getOrNull:Ee,getOrUndefined:Ee,or:Ze,orThunk:Ze,map:function(sr){return j(sr(G))},each:function(sr){sr(G)},bind:Ht,exists:Ht,forall:Ht,filter:function(sr){return sr(G)?xn:_t},toArray:function(){return[G]},toString:function(){return"some("+G+")"}};return xn},Ne=function(G){return G==null?_t:j(G)},$e={some:j,none:Ke,from:Ne},un=Array.prototype.indexOf,Vt=Array.prototype.push,Ae=function(G,Ee){return un.call(G,Ee)},st=function(G,Ee){return Ae(G,Ee)>-1},rt=function(G,Ee){for(var Ze=G.length,Ht=new Array(Ze),xn=0;xn<Ze;xn++){var sr=G[xn];Ht[xn]=Ee(sr,xn)}return Ht},Ue=function(G,Ee){for(var Ze=0,Ht=G.length;Ze<Ht;Ze++){var xn=G[Ze];Ee(xn,Ze)}},U=function(G,Ee,Ze){return Ue(G,function(Ht,xn){Ze=Ee(Ze,Ht,xn)}),Ze},B=function(G){for(var Ee=[],Ze=0,Ht=G.length;Ze<Ht;++Ze){if(!mt(G[Ze]))throw new Error("Arr.flatten item "+Ze+" was not an array, input: "+G);Vt.apply(Ee,G[Ze])}return Ee},He=function(G,Ee){return B(rt(G,Ee))},Jt=function(G,Ee){for(var Ze=0;Ze<G.length;Ze++){var Ht=Ee(G[Ze],Ze);if(Ht.isSome())return Ht}return $e.none()},Xe=function(G,Ee,Ze){return Ze===void 0&&(Ze=Oe),G.exists(function(Ht){return Ze(Ht,Ee)})},pn=function(G){for(var Ee=[],Ze=function(xn){Ee.push(xn)},Ht=0;Ht<G.length;Ht++)G[Ht].each(Ze);return Ee},Mn=function(G,Ee){return G?$e.some(Ee):$e.none()},A=function(G){var Ee=G.getParam("link_assume_external_targets",!1);return Xt(Ee)&&Ee?1:xt(Ee)&&(Ee==="http"||Ee==="https")?Ee:0},vt=function(G){return G.getParam("link_context_toolbar",!1,"boolean")},Se=function(G){return G.getParam("link_list")},Nt=function(G){return G.getParam("default_link_target")},et=function(G){return G.getParam("target_list",!0)},vn=function(G){return G.getParam("rel_list",[],"array")},$t=function(G){return G.getParam("link_class_list",[],"array")},an=function(G){return G.getParam("link_title",!0,"boolean")},K=function(G){return G.getParam("allow_unsafe_link_target",!1,"boolean")},hr=function(G){return G.getParam("link_quicklink",!1,"boolean")},pt=function(G){return G.getParam("link_default_protocol","http","string")},qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Rn=function(G){return xt(G.value)?G.value:""},Le=function(G){return xt(G.text)?G.text:xt(G.title)?G.title:""},Me=function(G,Ee){var Ze=[];return qe.each(G,function(Ht){var xn=Le(Ht);if(Ht.menu!==void 0){var sr=Me(Ht.menu,Ee);Ze.push({text:xn,items:sr})}else{var Ea=Ee(Ht);Ze.push({text:xn,value:Ea})}}),Ze},bt=function(G){return G===void 0&&(G=Rn),function(Ee){return $e.from(Ee).map(function(Ze){return Me(Ze,G)})}},qt=function(G){return bt(Rn)(G)},yt=function(G,Ee){return function(Ze){return{name:G,type:"listbox",label:Ee,items:Ze}}},Ot={sanitize:qt,sanitizeWith:bt,createUi:yt,getValue:Rn},tr=function(){return tr=Object.assign||function(Ee){for(var Ze,Ht=1,xn=arguments.length;Ht<xn;Ht++){Ze=arguments[Ht];for(var sr in Ze)Object.prototype.hasOwnProperty.call(Ze,sr)&&(Ee[sr]=Ze[sr])}return Ee},tr.apply(this,arguments)},be=Object.keys,St=Object.hasOwnProperty,Cn=function(G,Ee){for(var Ze=be(G),Ht=0,xn=Ze.length;Ht<xn;Ht++){var sr=Ze[Ht],Ea=G[sr];Ee(Ea,sr)}},Wt=function(G){return function(Ee,Ze){G[Ze]=Ee}},Kn=function(G,Ee,Ze,Ht){var xn={};return Cn(G,function(sr,Ea){(Ee(sr,Ea)?Ze:Ht)(sr,Ea)}),xn},ar=function(G,Ee){var Ze={};return Kn(G,Ee,Wt(Ze),he),Ze},qr=function(G,Ee){return St.call(G,Ee)},va=function(G,Ee){return qr(G,Ee)&&G[Ee]!==void 0&&G[Ee]!==null},xa=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Yt=tinymce.util.Tools.resolve("tinymce.util.URI"),jt=function(G){return G&&G.nodeName.toLowerCase()==="a"},Qt=function(G){return jt(G)&&!!dn(G)},Ye=function(G,Ee){if(G.collapsed)return[];var Ze=G.cloneContents(),Ht=new xa(Ze.firstChild,Ze),xn=[],sr=Ze.firstChild;do Ee(sr)&&xn.push(sr);while(sr=Ht.next());return xn},ct=function(G){return/^\w+:/i.test(G)},dn=function(G){var Ee=G.getAttribute("data-mce-href");return Ee||G.getAttribute("href")},Fn=function(G,Ee){var Ze=["noopener"],Ht=G?G.split(/\s+/):[],xn=function(Jr){return qe.trim(Jr.sort().join(" "))},sr=function(Jr){return Jr=Ea(Jr),Jr.length>0?Jr.concat(Ze):Ze},Ea=function(Jr){return Jr.filter(function(Qa){return qe.inArray(Ze,Qa)===-1})},$a=Ee?sr(Ht):Ea(Ht);return $a.length>0?xn($a):""},hn=function(G){return G.replace(/\uFEFF/g,"")},Ve=function(G,Ee){return Ee=Ee||G.selection.getNode(),Ce(Ee)?G.dom.select("a[href]",Ee)[0]:G.dom.getParent(Ee,"a[href]")},nn=function(G,Ee){var Ze=Ee?Ee.innerText||Ee.textContent:G.getContent({format:"text"});return hn(Ze)},Nn=function(G){return qe.grep(G,Qt).length>0},yn=function(G){return Ye(G,Qt).length>0},Yn=function(G){var Ee=G.schema.getTextInlineElements(),Ze=function(xn){return xn.nodeType===1&&!jt(xn)&&!qr(Ee,xn.nodeName.toLowerCase())},Ht=Ye(G.selection.getRng(),Ze);return Ht.length===0},Ce=function(G){return G&&G.nodeName==="FIGURE"&&/\bimage\b/i.test(G.className)},Ft=function(G){var Ee=["title","rel","class","target"];return U(Ee,function(Ze,Ht){return G[Ht].each(function(xn){Ze[Ht]=xn.length>0?xn:null}),Ze},{href:G.href})},wt=function(G,Ee){return(Ee==="http"||Ee==="https")&&!ct(G)?Ee+"://"+G:G},sn=function(G,Ee){var Ze=tr({},Ee);if(!(vn(G).length>0)&&K(G)===!1){var Ht=Fn(Ze.rel,Ze.target==="_blank");Ze.rel=Ht||null}return $e.from(Ze.target).isNone()&&et(G)===!1&&(Ze.target=Nt(G)),Ze.href=wt(Ze.href,A(G)),Ze},Zn=function(G,Ee,Ze,Ht){Ze.each(function(xn){qr(Ee,"innerText")?Ee.innerText=xn:Ee.textContent=xn}),G.dom.setAttribs(Ee,Ht),G.selection.select(Ee)},Rr=function(G,Ee,Ze,Ht){Ce(Ee)?si(G,Ee,Ht):Ze.fold(function(){G.execCommand("mceInsertLink",!1,Ht)},function(xn){G.insertContent(G.dom.createHTML("a",Ht,G.dom.encode(xn)))})},Ia=function(G,Ee,Ze){var Ht=G.selection.getNode(),xn=Ve(G,Ht),sr=sn(G,Ft(Ze));G.undoManager.transact(function(){Ze.href===Ee.href&&Ee.attach(),xn?(G.focus(),Zn(G,xn,Ze.text,sr)):Rr(G,Ht,Ze.text,sr)})},Dr=function(G){var Ee=G.dom,Ze=G.selection,Ht=Ze.getBookmark(),xn=Ze.getRng().cloneRange(),sr=Ee.getParent(xn.startContainer,"a[href]",G.getBody()),Ea=Ee.getParent(xn.endContainer,"a[href]",G.getBody());sr&&xn.setStartBefore(sr),Ea&&xn.setEndAfter(Ea),Ze.setRng(xn),G.execCommand("unlink"),Ze.moveToBookmark(Ht)},Fr=function(G){G.undoManager.transact(function(){var Ee=G.selection.getNode();Ce(Ee)?ko(G,Ee):Dr(G),G.focus()})},Xa=function(G){var Ee=G.class,Ze=G.href,Ht=G.rel,xn=G.target,sr=G.text,Ea=G.title;return ar({class:Ee.getOrNull(),href:Ze,rel:Ht.getOrNull(),target:xn.getOrNull(),text:sr.getOrNull(),title:Ea.getOrNull()},function($a,Jr){return gt($a)===!1})},ni=function(G,Ee){var Ze=Ee.href;return tr(tr({},Ee),{href:Yt.isDomSafe(Ze,"a",G.settings)?Ze:""})},ho=function(G,Ee,Ze){var Ht=ni(G,Ze);G.hasPlugin("rtc",!0)?G.execCommand("createlink",!1,Xa(Ht)):Ia(G,Ee,Ht)},so=function(G){G.hasPlugin("rtc",!0)?G.execCommand("unlink"):Fr(G)},ko=function(G,Ee){var Ze=G.dom.select("img",Ee)[0];if(Ze){var Ht=G.dom.getParents(Ze,"a[href]",Ee)[0];Ht&&(Ht.parentNode.insertBefore(Ze,Ht),G.dom.remove(Ht))}},si=function(G,Ee,Ze){var Ht=G.dom.select("img",Ee)[0];if(Ht){var xn=G.dom.create("a",Ze);Ht.parentNode.insertBefore(xn,Ht),xn.appendChild(Ht)}},To=function(G){return va(G,"items")},bo=function(G,Ee){return Jt(Ee,function(Ze){return To(Ze)?bo(G,Ze.items):Mn(Ze.value===G,Ze)})},ri=function(G,Ee,Ze,Ht){var xn=Ht[Ee],sr=G.length>0;return xn!==void 0?bo(xn,Ze).map(function(Ea){return{url:{value:Ea.value,meta:{text:sr?G:Ea.text,attach:he}},text:sr?G:Ea.text}}):$e.none()},oa=function(G,Ee){return Ee==="link"?G.link:Ee==="anchor"?G.anchor:$e.none()},Zo=function(G,Ee){var Ze={text:G.text,title:G.title},Ht=function(Jr){return Mn(Ze.title.length<=0,$e.from(Jr.meta.title).getOr(""))},xn=function(Jr){return Mn(Ze.text.length<=0,$e.from(Jr.meta.text).getOr(Jr.value))},sr=function(Jr){var Qa=xn(Jr.url),vo=Ht(Jr.url);return Qa.isSome()||vo.isSome()?$e.some(tr(tr({},Qa.map(function(Ds){return{text:Ds}}).getOr({})),vo.map(function(Ds){return{title:Ds}}).getOr({}))):$e.none()},Ea=function(Jr,Qa){var vo=oa(Ee,Qa.name).getOr([]);return ri(Ze.text,Qa.name,vo,Jr)},$a=function(Jr,Qa){var vo=Qa.name;return vo==="url"?sr(Jr()):st(["anchor","link"],vo)?Ea(Jr(),Qa):((vo==="text"||vo==="title")&&(Ze[vo]=Jr()[vo]),$e.none())};return{onChange:$a}},ir={init:Zo,getDelta:ri},du=tinymce.util.Tools.resolve("tinymce.util.Delay"),Go=tinymce.util.Tools.resolve("tinymce.util.Promise"),hi=function(G,Ee,Ze){var Ht=G.selection.getRng();du.setEditorTimeout(G,function(){G.windowManager.confirm(Ee,function(xn){G.selection.setRng(Ht),Ze(xn)})})},mu=function(G){var Ee=G.href,Ze=Ee.indexOf("@")>0&&Ee.indexOf("/")===-1&&Ee.indexOf("mailto:")===-1;return Ze?$e.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Ht){return tr(tr({},Ht),{href:"mailto:"+Ee})}}):$e.none()},Di=function(G,Ee){return function(Ze){var Ht=Ze.href,xn=G===1&&!ct(Ht)||G===0&&/^\s*www(\.|\d\.)/i.test(Ht);return xn?$e.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ee+":// prefix?",preprocess:function(sr){return tr(tr({},sr),{href:Ee+"://"+Ht})}}):$e.none()}},gu=function(G,Ee){return Jt([mu,Di(A(G),pt(G))],function(Ze){return Ze(Ee)}).fold(function(){return Go.resolve(Ee)},function(Ze){return new Go(function(Ht){hi(G,Ze.message,function(xn){Ht(xn?Ze.preprocess(Ee):Ee)})})})},pu={preprocess:gu},ss=function(G){var Ee=G.dom.select("a:not([href])"),Ze=He(Ee,function(Ht){var xn=Ht.name||Ht.id;return xn?[{text:xn,value:"#"+xn}]:[]});return Ze.length>0?$e.some([{text:"None",value:""}].concat(Ze)):$e.none()},ue={getAnchors:ss},Fe=function(G){var Ee=$t(G);return Ee.length>0?Ot.sanitize(Ee):$e.none()},ce={getClasses:Fe},it=tinymce.util.Tools.resolve("tinymce.util.XHR"),Dn=function(G){try{return $e.some(JSON.parse(G))}catch{return $e.none()}},qn=function(G){var Ee=function(Ht){return G.convertURL(Ht.value||Ht.url,"href")},Ze=Se(G);return new Go(function(Ht){xt(Ze)?it.send({url:Ze,success:function(xn){return Ht(Dn(xn))},error:function(xn){return Ht($e.none())}}):at(Ze)?Ze(function(xn){return Ht($e.some(xn))}):Ht($e.from(Ze))}).then(function(Ht){return Ht.bind(Ot.sanitizeWith(Ee)).map(function(xn){if(xn.length>0){var sr=[{text:"None",value:""}];return sr.concat(xn)}else return xn})})},ne={getLinks:qn},ge=function(G,Ee){var Ze=vn(G);if(Ze.length>0){var Ht=Xe(Ee,"_blank"),xn=K(G)===!1,sr=function($a){return Fn(Ot.getValue($a),Ht)},Ea=xn?Ot.sanitizeWith(sr):Ot.sanitize;return Ea(Ze)}return $e.none()},lt={getRels:ge},It=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],F=function(G){var Ee=et(G);return mt(Ee)?Ot.sanitize(Ee).orThunk(function(){return $e.some(It)}):Ee===!1?$e.none():$e.some(It)},Z={getTargets:F},me=function(G,Ee,Ze){var Ht=G.getAttrib(Ee,Ze);return Ht!==null&&Ht.length>0?$e.some(Ht):$e.none()},_e=function(G,Ee){var Ze=G.dom,Ht=Yn(G),xn=Ht?$e.some(nn(G.selection,Ee)):$e.none(),sr=Ee?$e.some(Ze.getAttrib(Ee,"href")):$e.none(),Ea=Ee?$e.from(Ze.getAttrib(Ee,"target")):$e.none(),$a=me(Ze,Ee,"rel"),Jr=me(Ze,Ee,"class"),Qa=me(Ze,Ee,"title");return{url:sr,text:xn,title:Qa,target:Ea,rel:$a,linkClass:Jr}},Qe=function(G,Ee){return ne.getLinks(G).then(function(Ze){var Ht=_e(G,Ee);return{anchor:Ht,catalogs:{targets:Z.getTargets(G),rels:lt.getRels(G,Ht.target),classes:ce.getClasses(G),anchor:ue.getAnchors(G),link:Ze},optNode:$e.from(Ee),flags:{titleEnabled:an(G)}}})},ot={collect:Qe},En=function(G,Ee){return function(Ze){var Ht=Ze.getData();if(!Ht.url.value){so(G),Ze.close();return}var xn=function($a){return $e.from(Ht[$a]).filter(function(Jr){return!Xe(Ee.anchor[$a],Jr)})},sr={href:Ht.url.value,text:xn("text"),target:xn("target"),rel:xn("rel"),class:xn("linkClass"),title:xn("title")},Ea={href:Ht.url.value,attach:Ht.url.meta!==void 0&&Ht.url.meta.attach?Ht.url.meta.attach:he};pu.preprocess(G,sr).then(function($a){ho(G,Ea,$a)}),Ze.close()}},Vn=function(G){var Ee=Ve(G);return ot.collect(G,Ee)},Cr=function(G,Ee){var Ze=G.anchor,Ht=Ze.url.getOr("");return{url:{value:Ht,meta:{original:{value:Ht}}},text:Ze.text.getOr(""),title:Ze.title.getOr(""),anchor:Ht,link:Ht,rel:Ze.rel.getOr(""),target:Ze.target.or(Ee).getOr(""),linkClass:Ze.linkClass.getOr("")}},ht=function(G,Ee,Ze){var Ht=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],xn=G.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),sr=G.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Ea=$e.from(Nt(Ze)),$a=Cr(G,Ea),Jr=G.catalogs,Qa=ir.init($a,Jr),vo={type:"panel",items:B([Ht,xn,sr,pn([Jr.anchor.map(Ot.createUi("anchor","Anchors")),Jr.rels.map(Ot.createUi("rel","Rel")),Jr.targets.map(Ot.createUi("target","Open link in...")),Jr.link.map(Ot.createUi("link","Link list")),Jr.classes.map(Ot.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:vo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$a,onChange:function(Ds,ci){var ls=ci.name;Qa.onChange(Ds.getData,{name:ls}).each(function(Sr){Ds.setData(Sr)})},onSubmit:Ee}},lr=function(G){var Ee=Vn(G);Ee.then(function(Ze){var Ht=En(G,Ze);return ht(Ze,Ht,G)}).then(function(Ze){G.windowManager.open(Ze)})},Hr=function(G,Ee){document.body.appendChild(G),G.dispatchEvent(Ee),document.body.removeChild(G)},Oa=function(G){var Ee=document.createElement("a");Ee.target="_blank",Ee.href=G,Ee.rel="noreferrer noopener";var Ze=document.createEvent("MouseEvents");Ze.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Hr(Ee,Ze)},Eo=function(G,Ee){return G.dom.getParent(Ee,"a[href]")},ia=function(G){return Eo(G,G.selection.getStart())},cs=function(G){return G.altKey===!0&&G.shiftKey===!1&&G.ctrlKey===!1&&G.metaKey===!1},Hu=function(G,Ee){if(Ee){var Ze=dn(Ee);if(/^#/.test(Ze)){var Ht=G.$(Ze);Ht.length&&G.selection.scrollIntoView(Ht[0],!0)}else Oa(Ee.href)}},yo=function(G){return function(){lr(G)}},Lc=function(G){return function(){Hu(G,ia(G))}},Ii=function(G){G.on("click",function(Ee){var Ze=Eo(G,Ee.target);Ze&&z.metaKeyPressed(Ee)&&(Ee.preventDefault(),Hu(G,Ze))}),G.on("keydown",function(Ee){var Ze=ia(G);Ze&&Ee.keyCode===13&&cs(Ee)&&(Ee.preventDefault(),Hu(G,Ze))})},hu=function(G,Ee){return G.on("NodeChange",Ee),function(){return G.off("NodeChange",Ee)}},Ya=function(G){return function(Ee){var Ze=function(){return Ee.setActive(!G.mode.isReadOnly()&&Ve(G,G.selection.getNode())!==null)};return Ze(),hu(G,Ze)}},pc=function(G){return function(Ee){var Ze=function(){return Ee.setDisabled(Ve(G,G.selection.getNode())===null)};return Ze(),hu(G,Ze)}},Os=function(G){return function(Ee){var Ze=function(xn){return Nn(xn)||yn(G.selection.getRng())},Ht=G.dom.getParents(G.selection.getStart());return Ee.setDisabled(!Ze(Ht)),hu(G,function(xn){return Ee.setDisabled(!Ze(xn.parents))})}},zc=function(G){G.addCommand("mceLink",function(){hr(G)?G.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):yo(G)()})},fl=function(G){G.addShortcut("Meta+K","",function(){G.execCommand("mceLink")})},Xi=function(G){G.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:yo(G),onSetup:Ya(G)}),G.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Lc(G),onSetup:pc(G)}),G.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return so(G)},onSetup:Os(G)})},Du=function(G){G.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Lc(G),onSetup:pc(G)}),G.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:yo(G)}),G.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return so(G)},onSetup:Os(G)})},Hc=function(G){var Ee="link unlink openlink",Ze="link";G.ui.registry.addContextMenu("link",{update:function(Ht){return Nn(G.dom.getParents(Ht,"a"))?Ee:Ze}})},bu=function(G){var Ee=function(xn){xn.selection.collapse(!1)},Ze=function(xn){var sr=G.selection.getNode();return xn.setDisabled(!Ve(G,sr)),he},Ht=function(xn){var sr=Ve(G),Ea=Yn(G);if(!sr&&Ea){var $a=nn(G.selection,sr);return $e.some($a.length>0?$a:xn)}else return $e.none()};G.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ya(G)},label:"Link",predicate:function(xn){return!!Ve(G,xn)&&vt(G)},initValue:function(){var xn=Ve(G);return xn?dn(xn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(xn){var sr=G.selection.getNode();return xn.setActive(!!Ve(G,sr)),Ya(G)(xn)},onAction:function(xn){var sr=xn.getValue(),Ea=Ht(sr),$a={href:sr,attach:he};ho(G,$a,{href:sr,text:Ea,title:$e.none(),rel:$e.none(),target:$e.none(),class:$e.none()}),Ee(G),xn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ze,onAction:function(xn){so(G),xn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ze,onAction:function(xn){Lc(G)(),xn.hide()}}]})};function Yi(){ae.add("link",function(G){Xi(G),Du(G),Hc(G),bu(G),Ii(G),zc(G),fl(G)})}Yi()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(E){var $=typeof E;return E===null?"null":$==="object"&&(Array.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="Array")?"array":$==="object"&&(String.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="String")?"string":$},fe=function(E){return function($){return z($)===E}},xe=function(E){return function($){return typeof $===E}},we=fe("string"),nt=fe("object"),xt=fe("array"),mt=xe("boolean"),gt=xe("function"),Xt=xe("number"),at=function(){},he=function(E){return function(){return E}},ze=function(E){return E},We=function(E,$){return E===$},Oe=function(E){return function($){return!E($)}},ve=he(!1),Mt=he(!0),Ke=function(){return _t},_t=function(){var E=function(se){return se()},$=ze,W={fold:function(se,Ge){return se()},isSome:ve,isNone:Mt,getOr:$,getOrThunk:E,getOrDie:function(se){throw new Error(se||"error: getOrDie called on none.")},getOrNull:he(null),getOrUndefined:he(void 0),or:$,orThunk:E,map:Ke,each:at,bind:Ke,exists:ve,forall:Mt,filter:function(){return Ke()},toArray:function(){return[]},toString:he("none()")};return W}(),j=function(E){var $=he(E),W=function(){return Ge},se=function(Bt){return Bt(E)},Ge={fold:function(Bt,cr){return cr(E)},isSome:Mt,isNone:ve,getOr:$,getOrThunk:$,getOrDie:$,getOrNull:$,getOrUndefined:$,or:W,orThunk:W,map:function(Bt){return j(Bt(E))},each:function(Bt){Bt(E)},bind:se,exists:se,forall:se,filter:function(Bt){return Bt(E)?Ge:_t},toArray:function(){return[E]},toString:function(){return"some("+E+")"}};return Ge},Ne=function(E){return E==null?_t:j(E)},$e={some:j,none:Ke,from:Ne},un=Array.prototype.slice,Vt=Array.prototype.push,Ae=function(E,$){for(var W=E.length,se=new Array(W),Ge=0;Ge<W;Ge++){var Bt=E[Ge];se[Ge]=$(Bt,Ge)}return se},st=function(E,$){for(var W=0,se=E.length;W<se;W++){var Ge=E[W];$(Ge,W)}},rt=function(E,$){for(var W=[],se=0,Ge=E.length;se<Ge;se++){var Bt=E[se];$(Bt,se)&&W.push(Bt)}return W},Ue=function(E,$){if(E.length===0)return[];for(var W=$(E[0]),se=[],Ge=[],Bt=0,cr=E.length;Bt<cr;Bt++){var Ur=E[Bt],ga=$(Ur);ga!==W&&(se.push(Ge),Ge=[]),W=ga,Ge.push(Ur)}return Ge.length!==0&&se.push(Ge),se},U=function(E,$,W){return st(E,function(se,Ge){W=$(W,se,Ge)}),W},B=function(E,$,W){for(var se=0,Ge=E.length;se<Ge;se++){var Bt=E[se];if($(Bt,se))return $e.some(Bt);if(W(Bt,se))break}return $e.none()},He=function(E,$){return B(E,$,ve)},Jt=function(E){for(var $=[],W=0,se=E.length;W<se;++W){if(!xt(E[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+E);Vt.apply($,E[W])}return $},Xe=function(E,$){return Jt(Ae(E,$))},pn=function(E){var $=un.call(E,0);return $.reverse(),$},Mn=function(E,$){return $>=0&&$<E.length?$e.some(E[$]):$e.none()},A=function(E){return Mn(E,0)},vt=function(E){return Mn(E,E.length-1)},Se=function(E,$){for(var W=0;W<E.length;W++){var se=$(E[W],W);if(se.isSome())return se}return $e.none()},Nt=function(){return Nt=Object.assign||function($){for(var W,se=1,Ge=arguments.length;se<Ge;se++){W=arguments[se];for(var Bt in W)Object.prototype.hasOwnProperty.call(W,Bt)&&($[Bt]=W[Bt])}return $},Nt.apply(this,arguments)};function et(E,$,W){if(W||arguments.length===2)for(var se=0,Ge=$.length,Bt;se<Ge;se++)(Bt||!(se in $))&&(Bt||(Bt=Array.prototype.slice.call($,0,se)),Bt[se]=$[se]);return E.concat(Bt||Array.prototype.slice.call($))}var vn=function(E){var $=!1,W;return function(){for(var se=[],Ge=0;Ge<arguments.length;Ge++)se[Ge]=arguments[Ge];return $||($=!0,W=E.apply(null,se)),W}},$t=function(E,$,W,se){var Ge=E.isiOS()&&/ipad/i.test(W)===!0,Bt=E.isiOS()&&!Ge,cr=E.isiOS()||E.isAndroid(),Ur=cr||se("(pointer:coarse)"),ga=Ge||!Bt&&cr&&se("(min-device-width:768px)"),ra=Bt||cr&&!ga,oo=$.isSafari()&&E.isiOS()&&/safari/i.test(W)===!1,Qi=!ra&&!ga&&!oo;return{isiPad:he(Ge),isiPhone:he(Bt),isTablet:he(ga),isPhone:he(ra),isTouch:he(Ur),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:he(oo),isDesktop:he(Qi)}},an=function(E,$){for(var W=0;W<E.length;W++){var se=E[W];if(se.test($))return se}},K=function(E,$){var W=an(E,$);if(!W)return{major:0,minor:0};var se=function(Ge){return Number($.replace(W,"$"+Ge))};return qe(se(1),se(2))},hr=function(E,$){var W=String($).toLowerCase();return E.length===0?pt():K(E,W)},pt=function(){return qe(0,0)},qe=function(E,$){return{major:E,minor:$}},Rn={nu:qe,detect:hr,unknown:pt},Le=function(E,$){return Se($.brands,function(W){var se=W.brand.toLowerCase();return He(E,function(Ge){var Bt;return se===((Bt=Ge.brand)===null||Bt===void 0?void 0:Bt.toLowerCase())}).map(function(Ge){return{current:Ge.name,version:Rn.nu(parseInt(W.version,10),0)}})})},Me=function(E,$){var W=String($).toLowerCase();return He(E,function(se){return se.search(W)})},bt=function(E,$){return Me(E,$).map(function(W){var se=Rn.detect(W.versionRegexes,$);return{current:W.name,version:se}})},qt=function(E,$){return Me(E,$).map(function(W){var se=Rn.detect(W.versionRegexes,$);return{current:W.name,version:se}})},yt=function(E,$){return E.indexOf($)!==-1},Ot=function(E){return function($){return $.replace(E,"")}},tr=Ot(/^\s+|\s+$/g),be=function(E){return E.length>0},St=function(E){return!be(E)},Cn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Wt=function(E){return function($){return yt($,E)}},Kn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(E){return yt(E,"edge/")&&yt(E,"chrome")&&yt(E,"safari")&&yt(E,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cn],search:function(E){return yt(E,"chrome")&&!yt(E,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(E){return yt(E,"msie")||yt(E,"trident")}},{name:"Opera",versionRegexes:[Cn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Wt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Wt("firefox")},{name:"Safari",versionRegexes:[Cn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(E){return(yt(E,"safari")||yt(E,"mobile/"))&&yt(E,"applewebkit")}}],ar=[{name:"Windows",search:Wt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(E){return yt(E,"iphone")||yt(E,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Wt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Wt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Wt("linux"),versionRegexes:[]},{name:"Solaris",search:Wt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Wt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Wt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qr={browsers:he(Kn),oses:he(ar)},va="Edge",xa="Chrome",Yt="IE",jt="Opera",Qt="Firefox",Ye="Safari",ct=function(){return dn({current:void 0,version:Rn.unknown()})},dn=function(E){var $=E.current,W=E.version,se=function(Ge){return function(){return $===Ge}};return{current:$,version:W,isEdge:se(va),isChrome:se(xa),isIE:se(Yt),isOpera:se(jt),isFirefox:se(Qt),isSafari:se(Ye)}},Fn={unknown:ct,nu:dn,edge:he(va),chrome:he(xa),ie:he(Yt),opera:he(jt),firefox:he(Qt),safari:he(Ye)},hn="Windows",Ve="iOS",nn="Android",Nn="Linux",yn="OSX",Yn="Solaris",Ce="FreeBSD",Ft="ChromeOS",wt=function(){return sn({current:void 0,version:Rn.unknown()})},sn=function(E){var $=E.current,W=E.version,se=function(Ge){return function(){return $===Ge}};return{current:$,version:W,isWindows:se(hn),isiOS:se(Ve),isAndroid:se(nn),isOSX:se(yn),isLinux:se(Nn),isSolaris:se(Yn),isFreeBSD:se(Ce),isChromeOS:se(Ft)}},Zn={unknown:wt,nu:sn,windows:he(hn),ios:he(Ve),android:he(nn),linux:he(Nn),osx:he(yn),solaris:he(Yn),freebsd:he(Ce),chromeos:he(Ft)},Rr=function(E,$,W){var se=qr.browsers(),Ge=qr.oses(),Bt=$.bind(function(ga){return Le(se,ga)}).orThunk(function(){return bt(se,E)}).fold(Fn.unknown,Fn.nu),cr=qt(Ge,E).fold(Zn.unknown,Zn.nu),Ur=$t(cr,Bt,E,W);return{browser:Bt,os:cr,deviceType:Ur}},Ia={detect:Rr},Dr=function(E){return window.matchMedia(E).matches},Fr=vn(function(){return Ia.detect(navigator.userAgent,$e.from(navigator.userAgentData),Dr)}),Xa=function(){return Fr()},ni=function(E,$,W){return(E.compareDocumentPosition($)&W)!==0},ho=function(E,$){return ni(E,$,Node.DOCUMENT_POSITION_CONTAINED_BY)},so=1,ko=function(E,$){var W=$||document,se=W.createElement("div");if(se.innerHTML=E,!se.hasChildNodes()||se.childNodes.length>1)throw console.error("HTML does not have a single root node",E),new Error("HTML must have a single root node");return bo(se.childNodes[0])},si=function(E,$){var W=$||document,se=W.createElement(E);return bo(se)},To=function(E,$){var W=$||document,se=W.createTextNode(E);return bo(se)},bo=function(E){if(E==null)throw new Error("Node cannot be null or undefined");return{dom:E}},ri=function(E,$,W){return $e.from(E.dom.elementFromPoint($,W)).map(bo)},oa={fromHtml:ko,fromTag:si,fromText:To,fromDom:bo,fromPoint:ri},Zo=function(E,$){var W=E.dom;if(W.nodeType!==so)return!1;var se=W;if(se.matches!==void 0)return se.matches($);if(se.msMatchesSelector!==void 0)return se.msMatchesSelector($);if(se.webkitMatchesSelector!==void 0)return se.webkitMatchesSelector($);if(se.mozMatchesSelector!==void 0)return se.mozMatchesSelector($);throw new Error("Browser lacks native selectors")},ir=function(E,$){return E.dom===$.dom},du=function(E,$){var W=E.dom,se=$.dom;return W===se?!1:W.contains(se)},Go=function(E,$){return ho(E.dom,$.dom)},hi=function(E,$){return Xa().browser.isIE()?Go(E,$):du(E,$)},mu=Zo,Di=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),gu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),pu=tinymce.util.Tools.resolve("tinymce.util.VK"),ss=Object.keys,ue=function(E,$){for(var W=ss(E),se=0,Ge=W.length;se<Ge;se++){var Bt=W[se],cr=E[Bt];$(cr,Bt)}},Fe=function(E){return function($,W){E[W]=$}},ce=function(E,$,W,se){var Ge={};return ue(E,function(Bt,cr){($(Bt,cr)?W:se)(Bt,cr)}),Ge},it=function(E,$){var W={};return ce(E,$,Fe(W),at),W};typeof window<"u"||Function("return this;")();var Dn=function(E){var $=E.dom.nodeName;return $.toLowerCase()},qn=function(E){return E.dom.nodeType},ne=function(E){return function($){return qn($)===E}},ge=ne(so),lt=function(E){return function($){return ge($)&&Dn($)===E}},It=function(E,$,W){if(we(W)||mt(W)||Xt(W))E.setAttribute($,W+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",W,":: Element ",E),new Error("Attribute value was not simple")},F=function(E,$){var W=E.dom;ue($,function(se,Ge){It(W,Ge,se)})},Z=function(E){return U(E.dom.attributes,function($,W){return $[W.name]=W.value,$},{})},me=function(E){return $e.from(E.dom.parentNode).map(oa.fromDom)},_e=function(E){return Ae(E.dom.childNodes,oa.fromDom)},Qe=function(E,$){var W=E.dom.childNodes;return $e.from(W[$]).map(oa.fromDom)},ot=function(E){return Qe(E,0)},En=function(E){return Qe(E,E.dom.childNodes.length-1)},Vn=function(E,$){var W=me(E);W.each(function(se){se.dom.insertBefore($.dom,E.dom)})},Cr=function(E,$){E.dom.appendChild($.dom)},ht=function(E,$){st($,function(W){Vn(E,W)})},lr=function(E,$){st($,function(W){Cr(E,W)})},Hr=function(E){var $=E.dom;$.parentNode!==null&&$.parentNode.removeChild($)},Oa=function(E,$){return oa.fromDom(E.dom.cloneNode($))},Eo=function(E){return Oa(E,!0)},ia=function(E,$){var W=oa.fromTag($),se=Z(E);return F(W,se),W},cs=function(E,$){var W=ia(E,$);Vn(E,W);var se=_e(E);return lr(W,se),Hr(E),W},Hu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yo=tinymce.util.Tools.resolve("tinymce.util.Tools"),Lc=function(E){return function($){return $&&$.nodeName.toLowerCase()===E}},Ii=function(E){return function($){return $&&E.test($.nodeName)}},hu=function(E){return E&&E.nodeType===3},Ya=Ii(/^(OL|UL|DL)$/),pc=Ii(/^(OL|UL)$/),Os=Lc("ol"),zc=Ii(/^(LI|DT|DD)$/),fl=Ii(/^(DT|DD)$/),Xi=Ii(/^(TH|TD)$/),Du=Lc("br"),Hc=function(E){return E.parentNode.firstChild===E},bu=function(E,$){return $&&!!E.schema.getTextBlockElements()[$.nodeName]},Yi=function(E,$){return E&&E.nodeName in $},G=function(E,$){return Du($)?E.isBlock($.nextSibling)&&!Du($.previousSibling):!1},Ee=function(E,$,W){var se=E.isEmpty($);return W&&E.select("span[data-mce-type=bookmark]",$).length>0?!1:se},Ze=function(E,$){return E.isChildOf($,E.getRoot())},Ht=function(E){return E.getParam("lists_indent_on_tab",!0)},xn=function(E){var $=E.getParam("forced_root_block","p");return $===!1?"":$===!0?"p":$},sr=function(E){return E.getParam("forced_root_block_attrs",{})},Ea=function(E,$){var W=E.dom,se=E.schema.getBlockElements(),Ge=W.createFragment(),Bt=xn(E),cr,Ur,ga;if(Bt&&(Ur=W.create(Bt),Ur.tagName===Bt.toUpperCase()&&W.setAttribs(Ur,sr(E)),Yi($.firstChild,se)||Ge.appendChild(Ur)),$)for(;cr=$.firstChild;){var ra=cr.nodeName;!ga&&(ra!=="SPAN"||cr.getAttribute("data-mce-type")!=="bookmark")&&(ga=!0),Yi(cr,se)?(Ge.appendChild(cr),Ur=null):Bt?(Ur||(Ur=W.create(Bt),Ge.appendChild(Ur)),Ur.appendChild(cr)):Ge.appendChild(cr)}return Bt?ga||Ur.appendChild(W.create("br",{"data-mce-bogus":"1"})):Ge.appendChild(W.create("br")),Ge},$a=Hu.DOM,Jr=function(E,$,W){var se=function(ra){yo.each(Ge,function(oo){ra.parentNode.insertBefore(oo,W.parentNode)}),$a.remove(ra)},Ge=$a.select('span[data-mce-type="bookmark"]',$),Bt=Ea(E,W),cr=$a.createRng();cr.setStartAfter(W),cr.setEndAfter($);for(var Ur=cr.extractContents(),ga=Ur.firstChild;ga;ga=ga.firstChild)if(ga.nodeName==="LI"&&E.dom.isEmpty(ga)){$a.remove(ga);break}E.dom.isEmpty(Ur)||$a.insertAfter(Ur,$),$a.insertAfter(Bt,$),Ee(E.dom,W.parentNode)&&se(W.parentNode),$a.remove(W),Ee(E.dom,$)&&$a.remove($)},Qa=lt("dd"),vo=lt("dt"),Ds=function(E,$){Qa($)?cs($,"dt"):vo($)&&me($).each(function(W){return Jr(E,W.dom,$.dom)})},ci=function(E){vo(E)&&cs(E,"dd")},ls=function(E,$,W){$==="Indent"?st(W,ci):st(W,function(se){return Ds(E,se)})},Sr=function(E,$){if(hu(E))return{container:E,offset:$};var W=Di.getNode(E,$);return hu(W)?{container:W,offset:$>=E.childNodes.length?W.data.length:0}:W.previousSibling&&hu(W.previousSibling)?{container:W.previousSibling,offset:W.previousSibling.data.length}:W.nextSibling&&hu(W.nextSibling)?{container:W.nextSibling,offset:0}:{container:E,offset:$}},Ks=function(E){var $=E.cloneRange(),W=Sr(E.startContainer,E.startOffset);$.setStart(W.container,W.offset);var se=Sr(E.endContainer,E.endOffset);return $.setEnd(se.container,se.offset),$},Af=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Sa=function(E,$){var W=$||E.selection.getStart(!0);return E.dom.getParent(W,"OL,UL,DL",Vu(E,W))},Ll=function(E,$){return E&&$.length===1&&$[0]===E},zl=function(E){return rt(E.querySelectorAll("ol,ul,dl"),Ya)},yv=function(E){var $=Sa(E),W=E.selection.getSelectedBlocks();return Ll($,W)?zl($):rt(W,function(se){return Ya(se)&&$!==se})},Ga=function(E,$){var W=yo.map($,function(se){var Ge=E.dom.getParent(se,"li,dd,dt",Vu(E,se));return Ge||se});return Af.unique(W)},_u=function(E){var $=E.selection.getSelectedBlocks();return rt(Ga(E,$),zc)},md=function(E){return rt(_u(E),fl)},Vu=function(E,$){var W=E.dom.getParents($,"TD,TH");return W.length>0?W[0]:E.getBody()},qo=function(E,$){var W=E.dom.getParents($,"ol,ul",Vu(E,$));return vt(W)},hc=function(E){var $=qo(E,E.selection.getStart()),W=rt(E.selection.getSelectedBlocks(),pc);return $.toArray().concat(W)},Rt=function(E){var $=hc(E);return vl(E,$)},vl=function(E,$){var W=Ae($,function(se){return qo(E,se).getOr(se)});return Af.unique(W)},Ro=function(E,$,W){return W===void 0&&(W=We),E.exists(function(se){return W(se,$)})},Of=function(E,$,W){return E.isSome()&&$.isSome()?$e.some(W(E.getOrDie(),$.getOrDie())):$e.none()},Xs=function(E,$){var W=$||document,se=W.createDocumentFragment();return st(E,function(Ge){se.appendChild(Ge.dom)}),oa.fromDom(se)},Vc=function(E,$,W){return E.fire("ListMutation",{action:$,element:W})},R=function(E){return E.style!==void 0&&gt(E.style.getPropertyValue)},k=function(E,$,W){if(!we(W))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",W,":: Element ",E),new Error("CSS value must be a string: "+W);R(E)&&E.style.setProperty($,W)},I=function(E,$,W){var se=E.dom;k(se,$,W)},Y=function(E,$){Cr(E.item,$.list)},ye=function(E){for(var $=1;$<E.length;$++)Y(E[$-1],E[$])},ut=function(E,$){Of(vt(E),A($),Y)},mn=function(E,$){var W={list:oa.fromTag($,E),item:oa.fromTag("li",E)};return Cr(W.list,W.item),W},vr=function(E,$,W){for(var se=[],Ge=0;Ge<W;Ge++)se.push(mn(E,$.listType));return se},Pr=function(E,$){for(var W=0;W<E.length-1;W++)I(E[W].item,"list-style-type","none");vt(E).each(function(se){F(se.list,$.listAttributes),F(se.item,$.itemAttributes),lr(se.item,$.content)})},Un=function(E,$){Dn(E.list)!==$.listType&&(E.list=cs(E.list,$.listType)),F(E.list,$.listAttributes)},ur=function(E,$,W){var se=oa.fromTag("li",E);return F(se,$),lr(se,W),se},Gr=function(E,$){Cr(E.list,$),E.item=$},jr=function(E,$,W){var se=$.slice(0,W.depth);return vt(se).each(function(Ge){var Bt=ur(E,W.itemAttributes,W.content);Gr(Ge,Bt),Un(Ge,W)}),se},Br=function(E,$,W){var se=vr(E,W,W.depth-$.length);return ye(se),Pr(se,W),ut($,se),$.concat(se)},co=function(E,$){var W=U($,function(se,Ge){return Ge.depth>se.length?Br(E,se,Ge):jr(E,se,Ge)},[]);return A(W).map(function(se){return se.list})},Vr=function(E){return mu(E,"OL,UL")},qa=function(E){return ot(E).exists(Vr)},La=function(E){return En(E).exists(Vr)},bi=function(E){return E.depth>0},Zr=function(E){return E.isSelected},_s=function(E){var $=_e(E),W=La(E)?$.slice(0,-1):$;return Ae(W,Eo)},wo=function(E,$,W){return me(E).filter(ge).map(function(se){return{depth:$,dirty:!1,isSelected:W,content:_s(E),itemAttributes:Z(E),listAttributes:Z(se),listType:Dn(se)}})},Po=function(E,$){switch(E){case"Indent":$.depth++;break;case"Outdent":$.depth--;break;case"Flatten":$.depth=0}$.dirty=!0},Zh=function(E,$){E.listType=$.listType,E.listAttributes=Nt({},$.listAttributes)},$i=function(E){E.listAttributes=it(E.listAttributes,function($,W){return W!=="start"})},lp=function(E,$){var W=E[$].depth,se=function(Bt){return Bt.depth===W&&!Bt.dirty},Ge=function(Bt){return Bt.depth<W};return B(pn(E.slice(0,$)),se,Ge).orThunk(function(){return B(E.slice($+1),se,Ge)})},Uc=function(E){return st(E,function($,W){lp(E,W).fold(function(){$.dirty&&$i($)},function(se){return Zh($,se)})}),E},Mr=function(E){var $=E,W=function(){return $},se=function(Ge){$=Ge};return{get:W,set:se}},Rs=function(E,$,W,se){return ot(se).filter(Vr).fold(function(){$.each(function(cr){ir(cr.start,se)&&W.set(!0)});var Ge=wo(se,E,W.get());$.each(function(cr){ir(cr.end,se)&&W.set(!1)});var Bt=En(se).filter(Vr).map(function(cr){return Io(E,$,W,cr)}).getOr([]);return Ge.toArray().concat(Bt)},function(Ge){return Io(E,$,W,Ge)})},Io=function(E,$,W,se){return Xe(_e(se),function(Ge){var Bt=Vr(Ge)?Io:Rs,cr=E+1;return Bt(cr,$,W,Ge)})},$o=function(E,$){var W=Mr(!1),se=0;return Ae(E,function(Ge){return{sourceList:Ge,entries:Io(se,$,W,Ge)}})},yi=function(E,$){var W=Uc($);return Ae(W,function(se){var Ge=Xs(se.content);return oa.fromDom(Ea(E,Ge.dom))})},ai=function(E,$){var W=Uc($);return co(E.contentDocument,W).toArray()},Df=function(E,$){return Xe(Ue($,bi),function(W){var se=A(W).exists(bi);return se?ai(E,W):yi(E,W)})},Ys=function(E,$){st(rt(E,Zr),function(W){return Po($,W)})},Da=function(E){var $=Ae(_u(E),oa.fromDom);return Of(He($,Oe(qa)),He(pn($),Oe(qa)),function(W,se){return{start:W,end:se}})},mo=function(E,$,W){var se=$o($,Da(E));st(se,function(Ge){Ys(Ge.entries,W);var Bt=Df(E,Ge.entries);st(Bt,function(cr){Vc(E,W==="Indent"?"IndentList":"OutdentList",cr.dom)}),ht(Ge.sourceList,Bt),Hr(Ge.sourceList)})},Ru=function(E,$){var W=Ae(Rt(E),oa.fromDom),se=Ae(md(E),oa.fromDom),Ge=!1;if(W.length||se.length){var Bt=E.selection.getBookmark();mo(E,W,$),ls(E,$,se),E.selection.moveToBookmark(Bt),E.selection.setRng(Ks(E.selection.getRng())),E.nodeChanged(),Ge=!0}return Ge},dl=function(E){return Ru(E,"Indent")},li=function(E){return Ru(E,"Outdent")},Ps=function(E){return Ru(E,"Flatten")},Jh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),_f=Hu.DOM,eo=function(E){var $={},W=function(se){var Ge=E[se?"startContainer":"endContainer"],Bt=E[se?"startOffset":"endOffset"];if(Ge.nodeType===1){var cr=_f.create("span",{"data-mce-type":"bookmark"});Ge.hasChildNodes()?(Bt=Math.min(Bt,Ge.childNodes.length-1),se?Ge.insertBefore(cr,Ge.childNodes[Bt]):_f.insertAfter(cr,Ge.childNodes[Bt])):Ge.appendChild(cr),Ge=cr,Bt=0}$[se?"startContainer":"endContainer"]=Ge,$[se?"startOffset":"endOffset"]=Bt};return W(!0),E.collapsed||W(),$},bc=function(E){var $=function(se){var Ge,Bt=function(ga){for(var ra=ga.parentNode.firstChild,oo=0;ra;){if(ra===ga)return oo;(ra.nodeType!==1||ra.getAttribute("data-mce-type")!=="bookmark")&&oo++,ra=ra.nextSibling}return-1},cr=Ge=E[se?"startContainer":"endContainer"],Ur=E[se?"startOffset":"endOffset"];cr&&(cr.nodeType===1&&(Ur=Bt(cr),cr=cr.parentNode,_f.remove(Ge),!cr.hasChildNodes()&&_f.isBlock(cr)&&cr.appendChild(_f.create("br"))),E[se?"startContainer":"endContainer"]=cr,E[se?"startOffset":"endOffset"]=Ur)};$(!0),$();var W=_f.createRng();return W.setStart(E.startContainer,E.startOffset),E.endContainer&&W.setEnd(E.endContainer,E.endOffset),Ks(W)},Hl=function(E){switch(E){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Uu=function(E){return/\btox\-/.test(E.className)},Ko=function(E,$,W){var se=function(Bt){var cr=B(Bt.parents,Ya,Xi).filter(function(Ur){return Ur.nodeName===$&&!Uu(Ur)}).isSome();W(cr)},Ge=E.dom.getParents(E.selection.getNode());return se({parents:Ge}),E.on("NodeChange",se),function(){return E.off("NodeChange",se)}},Vl=function(E,$,W){var se=W["list-style-type"]?W["list-style-type"]:null;E.setStyle($,"list-style-type",se)},ml=function(E,$){yo.each($,function(W,se){E.setAttribute(se,W)})},yu=function(E,$,W){ml($,W["list-attributes"]),yo.each(E.select("li",$),function(se){ml(se,W["list-item-attributes"])})},Wu=function(E,$,W){Vl(E,$,W),yu(E,$,W)},Zi=function(E,$,W){yo.each(W,function(se){var Ge;return E.setStyle($,(Ge={},Ge[se]="",Ge))})},wv=function(E,$,W,se){var Ge=$[W?"startContainer":"endContainer"],Bt=$[W?"startOffset":"endOffset"];for(Ge.nodeType===1&&(Ge=Ge.childNodes[Math.min(Bt,Ge.childNodes.length-1)]||Ge),!W&&Du(Ge.nextSibling)&&(Ge=Ge.nextSibling);Ge.parentNode!==se;){if(bu(E,Ge)||/^(TD|TH)$/.test(Ge.parentNode.nodeName))return Ge;Ge=Ge.parentNode}return Ge},yc=function(E,$,W){for(var se=[],Ge=E.dom,Bt=wv(E,$,!0,W),cr=wv(E,$,!1,W),Ur,ga=[],ra=Bt;ra&&(ga.push(ra),ra!==cr);ra=ra.nextSibling);return yo.each(ga,function(oo){if(bu(E,oo)){se.push(oo),Ur=null;return}if(Ge.isBlock(oo)||Du(oo)){Du(oo)&&Ge.remove(oo),Ur=null;return}var Qi=oo.nextSibling;if(Jh.isBookmarkNode(oo)&&(Ya(Qi)||bu(E,Qi)||!Qi&&oo.parentNode===W)){Ur=null;return}Ur||(Ur=Ge.create("p"),oo.parentNode.insertBefore(Ur,oo),se.push(Ur)),Ur.appendChild(oo)}),se},wi=function(E,$,W){var se=E.getStyle($,"list-style-type"),Ge=W?W["list-style-type"]:"";return Ge=Ge===null?"":Ge,se===Ge},gd=function(E,$,W){var se=E.selection.getRng(),Ge="LI",Bt=Vu(E,E.selection.getStart(!0)),cr=E.dom;if(cr.getContentEditable(E.selection.getNode())!=="false"){$=$.toUpperCase(),$==="DL"&&(Ge="DT");var Ur=eo(se),ga=yc(E,se,Bt);yo.each(ga,function(ra){var oo,Qi=ra.previousSibling,zo=ra.parentNode;zc(zo)||(Qi&&Ya(Qi)&&Qi.nodeName===$&&wi(cr,Qi,W)?(oo=Qi,ra=cr.rename(ra,Ge),Qi.appendChild(ra)):(oo=cr.create($),ra.parentNode.insertBefore(oo,ra),oo.appendChild(ra),ra=cr.rename(ra,Ge)),Zi(cr,ra,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Wu(cr,oo,W),Bf(E.dom,oo))}),E.selection.setRng(bc(Ur))}},Qh=function(E,$){return E&&$&&Ya(E)&&E.nodeName===$.nodeName},Rf=function(E,$,W){var se=E.getStyle($,"list-style-type",!0),Ge=E.getStyle(W,"list-style-type",!0);return se===Ge},Pf=function(E,$){return E.className===$.className},Lo=function(E,$,W){return Qh($,W)&&Rf(E,$,W)&&Pf($,W)},Bf=function(E,$){var W,se;if(W=$.nextSibling,Lo(E,$,W)){for(;se=W.firstChild;)$.appendChild(se);E.remove(W)}if(W=$.previousSibling,Lo(E,$,W)){for(;se=W.lastChild;)$.insertBefore(se,$.firstChild);E.remove(W)}},Mf=function(E,$,W,se){if($.nodeName!==W){var Ge=E.dom.rename($,W);Wu(E.dom,Ge,se),Vc(E,Hl(W),Ge)}else Wu(E.dom,$,se),Vc(E,Hl(W),$)},wu=function(E,$,W,se,Ge){var Bt=Ya($);if(Bt&&$.nodeName===se&&!gl(Ge))Ps(E);else{gd(E,se,Ge);var cr=eo(E.selection.getRng()),Ur=Bt?et([$],W,!0):W;yo.each(Ur,function(ga){Mf(E,ga,se,Ge)}),E.selection.setRng(bc(cr))}},gl=function(E){return"list-style-type"in E},Ff=function(E,$,W,se){if($!==E.getBody())if($)if($.nodeName===W&&!gl(se)&&!Uu($))Ps(E);else{var Ge=eo(E.selection.getRng());Wu(E.dom,$,se);var Bt=E.dom.rename($,W);Bf(E.dom,Bt),E.selection.setRng(bc(Ge)),gd(E,W,se),Vc(E,Hl(W),Bt)}else gd(E,W,se),Vc(E,Hl(W),$)},pl=function(E,$,W){var se=Sa(E),Ge=yv(E),Bt=nt(W)?W:{};Ge.length>0?wu(E,se,Ge,$,Bt):Ff(E,se,$,Bt)},Ao=Hu.DOM,fs=function(E,$){var W=$.parentNode;if(W.nodeName==="LI"&&W.firstChild===$){var se=W.previousSibling;se&&se.nodeName==="LI"?(se.appendChild($),Ee(E,W)&&Ao.remove(W)):Ao.setStyle(W,"listStyleType","none")}if(Ya(W)){var se=W.previousSibling;se&&se.nodeName==="LI"&&se.appendChild($)}},Sm=function(E,$){var W=yo.grep(E.select("ol,ul",$));yo.each(W,function(se){fs(E,se)})},Bs=function(E,$,W,se){var Ge=$.startContainer,Bt=$.startOffset;if(hu(Ge)&&(W?Bt<Ge.data.length:Bt>0))return Ge;var cr=E.schema.getNonEmptyElements();Ge.nodeType===1&&(Ge=Di.getNode(Ge,Bt));var Ur=new gu(Ge,se);for(W&&G(E.dom,Ge)&&Ur.next();Ge=Ur[W?"next":"prev2"]();)if(Ge.nodeName==="LI"&&!Ge.hasChildNodes()||cr[Ge.nodeName]||hu(Ge)&&Ge.data.length>0)return Ge},xm=function(E,$){var W=$.childNodes;return W.length===1&&!Ya(W[0])&&E.isBlock(W[0])},e1=function(E,$){xm(E,$)&&E.remove($.firstChild,!0)},fp=function(E,$,W){var se,Ge=xm(E,W)?W.firstChild:W;if(e1(E,$),!Ee(E,$,!0))for(;se=$.firstChild;)Ge.appendChild(se)},Nf=function(E,$,W){var se,Ge=$.parentNode;if(!(!Ze(E,$)||!Ze(E,W))){Ya(W.lastChild)&&(se=W.lastChild),Ge===W.lastChild&&Du(Ge.previousSibling)&&E.remove(Ge.previousSibling);var Bt=W.lastChild;Bt&&Du(Bt)&&$.hasChildNodes()&&E.remove(Bt),Ee(E,W,!0)&&E.$(W).empty(),fp(E,$,W),se&&W.appendChild(se);var cr=hi(oa.fromDom(W),oa.fromDom($)),Ur=cr?E.getParents($,Ya,W):[];E.remove($),st(Ur,function(ga){Ee(E,ga)&&ga!==E.getRoot()&&E.remove(ga)})}},If=function(E,$,W){E.dom.$(W).empty(),Nf(E.dom,$,W),E.selection.setCursorLocation(W,0)},Ul=function(E,$,W,se){var Ge=E.dom;if(Ge.isEmpty(se))If(E,W,se);else{var Bt=eo($);Nf(Ge,W,se),E.selection.setRng(bc(Bt))}},Nr=function(E,$,W,se){var Ge=eo($);Nf(E.dom,W,se);var Bt=bc(Ge);E.selection.setRng(Bt)},Zs=function(E,$){var W=E.dom,se=E.selection,Ge=se.getStart(),Bt=Vu(E,Ge),cr=W.getParent(se.getStart(),"LI",Bt);if(cr){var Ur=cr.parentNode;if(Ur===E.getBody()&&Ee(W,Ur))return!0;var ga=Ks(se.getRng()),ra=W.getParent(Bs(E,ga,$,Bt),"LI",Bt);if(ra&&ra!==cr)return E.undoManager.transact(function(){$?Ul(E,ga,ra,cr):Hc(cr)?li(E):Nr(E,ga,cr,ra)}),!0;if(!ra&&!$&&ga.startOffset===0&&ga.endOffset===0)return E.undoManager.transact(function(){Ps(E)}),!0}return!1},ju=function(E,$,W){var se=E.getParent($.parentNode,E.isBlock,W);E.remove($),se&&E.isEmpty(se)&&E.remove(se)},Cu=function(E,$){var W=E.dom,se=E.selection.getStart(),Ge=Vu(E,se),Bt=W.getParent(se,W.isBlock,Ge);if(Bt&&W.isEmpty(Bt)){var cr=Ks(E.selection.getRng()),Ur=W.getParent(Bs(E,cr,$,Ge),"LI",Ge);if(Ur)return E.undoManager.transact(function(){ju(W,Bt,Ge),Bf(W,Ur.parentNode),E.selection.select(Ur,!0),E.selection.collapse($)}),!0}return!1},Js=function(E,$){return Zs(E,$)||Cu(E,$)},Jo=function(E){var $=E.selection.getStart(),W=Vu(E,$),se=E.dom.getParent($,"LI,DT,DD",W);return se||_u(E).length>0?(E.undoManager.transact(function(){E.execCommand("Delete"),Sm(E.dom,E.getBody())}),!0):!1},Ci=function(E,$){return E.selection.isCollapsed()?Js(E,$):Jo(E)},oi=function(E){E.on("keydown",function($){$.keyCode===pu.BACKSPACE?Ci(E,!1)&&$.preventDefault():$.keyCode===pu.DELETE&&Ci(E,!0)&&$.preventDefault()})},Wl=function(E){return{backspaceDelete:function($){Ci(E,$)}}},Ji=function(E,$){var W=Sa(E);E.undoManager.transact(function(){nt($.styles)&&E.dom.setStyles(W,$.styles),nt($.attrs)&&ue($.attrs,function(se,Ge){return E.dom.setAttrib(W,Ge,se)})})},Jn=function(E){var $=pn(tr(E).split("")),W=Ae($,function(se,Ge){var Bt=se.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ge)*Bt});return U(W,function(se,Ge){return se+Ge},0)},$f=function(E){if(E--,E<0)return"";var $=E%26,W=Math.floor(E/26),se=$f(W),Ge=String.fromCharCode("A".charCodeAt(0)+$);return se+Ge},vp=function(E){return/^[A-Z]+$/.test(E)},Qr=function(E){return/^[a-z]+$/.test(E)},to=function(E){return/^[0-9]+$/.test(E)},km=function(E){return to(E)?2:vp(E)?0:Qr(E)?1:St(E)?3:4},Wc=function(E){switch(km(E)){case 2:return $e.some({listStyleType:$e.none(),start:E});case 0:return $e.some({listStyleType:$e.some("upper-alpha"),start:Jn(E).toString()});case 1:return $e.some({listStyleType:$e.some("lower-alpha"),start:Jn(E).toString()});case 3:return $e.some({listStyleType:$e.none(),start:""});case 4:return $e.none()}},Co=function(E){var $=parseInt(E.start,10);return Ro(E.listStyleType,"upper-alpha")?$f($):Ro(E.listStyleType,"lower-alpha")?$f($).toLowerCase():E.start},Tm=function(E){var $=Sa(E);Os($)&&E.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Co({start:E.dom.getAttrib($,"start","1"),listStyleType:$e.some(E.dom.getStyle($,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(W){var se=W.getData();Wc(se.start).each(function(Ge){E.execCommand("mceListUpdate",!1,{attrs:{start:Ge.start==="1"?"":Ge.start},styles:{"list-style-type":Ge.listStyleType.getOr("")}})}),W.close()}})},vs=function(E,$){return function(){var W=Sa(E);return W&&W.nodeName===$}},pd=function(E){E.addCommand("mceListProps",function(){Tm(E)})},na=function(E){E.on("BeforeExecCommand",function($){var W=$.command.toLowerCase();W==="indent"?dl(E):W==="outdent"&&li(E)}),E.addCommand("InsertUnorderedList",function($,W){pl(E,"UL",W)}),E.addCommand("InsertOrderedList",function($,W){pl(E,"OL",W)}),E.addCommand("InsertDefinitionList",function($,W){pl(E,"DL",W)}),E.addCommand("RemoveList",function(){Ps(E)}),pd(E),E.addCommand("mceListUpdate",function($,W){nt(W)&&Ji(E,W)}),E.addQueryStateHandler("InsertUnorderedList",vs(E,"UL")),E.addQueryStateHandler("InsertOrderedList",vs(E,"OL")),E.addQueryStateHandler("InsertDefinitionList",vs(E,"DL"))},Pu=function(E){E.on("keydown",function($){$.keyCode!==pu.TAB||pu.metaKeyPressed($)||E.undoManager.transact(function(){($.shiftKey?li(E):dl(E))&&$.preventDefault()})})},U0=function(E){Ht(E)&&Pu(E),oi(E)},W0=function(E){var $=function(W){return function(){return E.execCommand(W)}};E.hasPlugin("advlist")||(E.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:$("InsertOrderedList"),onSetup:function(W){return Ko(E,"OL",W.setActive)}}),E.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:$("InsertUnorderedList"),onSetup:function(W){return Ko(E,"UL",W.setActive)}}))},Oo=function(E){var $={text:"List properties...",icon:"ordered-list",onAction:function(){return E.execCommand("mceListProps")},onSetup:function(W){return Ko(E,"OL",function(se){return W.setDisabled(!se)})}};E.ui.registry.addMenuItem("listprops",$),E.ui.registry.addContextMenu("lists",{update:function(W){var se=Sa(E,W);return Os(se)?["listprops"]:[]}})};function Em(){ae.add("lists",function(E){return E.hasPlugin("rtc",!0)===!1?(U0(E),na(E)):pd(E),W0(E),Oo(E),Wl(E)})}Em()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(){return z=Object.assign||function(Fe){for(var ce,it=1,Dn=arguments.length;it<Dn;it++){ce=arguments[it];for(var qn in ce)Object.prototype.hasOwnProperty.call(ce,qn)&&(Fe[qn]=ce[qn])}return Fe},z.apply(this,arguments)},fe=function(ue){var Fe=typeof ue;return ue===null?"null":Fe==="object"&&(Array.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="Array")?"array":Fe==="object"&&(String.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="String")?"string":Fe},xe=function(ue){return function(Fe){return fe(Fe)===ue}},we=xe("string"),nt=xe("object"),xt=xe("array"),mt=function(ue){return ue==null},gt=function(ue){return!mt(ue)},Xt=function(){},at=function(ue){return function(){return ue}},he=function(ue){return ue},ze=at(!1),We=at(!0),Oe=function(){return ve},ve=function(){var ue=function(it){return it()},Fe=he,ce={fold:function(it,Dn){return it()},isSome:ze,isNone:We,getOr:Fe,getOrThunk:ue,getOrDie:function(it){throw new Error(it||"error: getOrDie called on none.")},getOrNull:at(null),getOrUndefined:at(void 0),or:Fe,orThunk:ue,map:Oe,each:Xt,bind:Oe,exists:ze,forall:We,filter:function(){return Oe()},toArray:function(){return[]},toString:at("none()")};return ce}(),Mt=function(ue){var Fe=at(ue),ce=function(){return Dn},it=function(qn){return qn(ue)},Dn={fold:function(qn,ne){return ne(ue)},isSome:We,isNone:ze,getOr:Fe,getOrThunk:Fe,getOrDie:Fe,getOrNull:Fe,getOrUndefined:Fe,or:ce,orThunk:ce,map:function(qn){return Mt(qn(ue))},each:function(qn){qn(ue)},bind:it,exists:it,forall:it,filter:function(qn){return qn(ue)?Dn:ve},toArray:function(){return[ue]},toString:function(){return"some("+ue+")"}};return Dn},Ke=function(ue){return ue==null?ve:Mt(ue)},_t={some:Mt,none:Oe,from:Ke},j=Array.prototype.push,Ne=function(ue,Fe){for(var ce=0,it=ue.length;ce<it;ce++){var Dn=ue[ce];Fe(Dn,ce)}},$e=function(ue){for(var Fe=[],ce=0,it=ue.length;ce<it;++ce){if(!xt(ue[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+ue);j.apply(Fe,ue[ce])}return Fe},un=function(ue){var Fe=ue,ce=function(){return Fe},it=function(Dn){Fe=Dn};return{get:ce,set:it}},Vt=Object.keys,Ae=Object.hasOwnProperty,st=function(ue,Fe){for(var ce=Vt(ue),it=0,Dn=ce.length;it<Dn;it++){var qn=ce[it],ne=ue[qn];Fe(ne,qn)}},rt=function(ue,Fe){return Ue(ue,Fe)?_t.from(ue[Fe]):_t.none()},Ue=function(ue,Fe){return Ae.call(ue,Fe)},U=function(ue){return ue.getParam("media_scripts")},B=function(ue){return ue.getParam("audio_template_callback")},He=function(ue){return ue.getParam("video_template_callback")},Jt=function(ue){return ue.getParam("media_live_embeds",!0)},Xe=function(ue){return ue.getParam("media_filter_html",!0)},pn=function(ue){return ue.getParam("media_url_resolver")},Mn=function(ue){return ue.getParam("media_alt_source",!0)},A=function(ue){return ue.getParam("media_poster",!0)},vt=function(ue){return ue.getParam("media_dimensions",!0)},Se=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),et=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),vn=function(ue,Fe){if(ue){for(var ce=0;ce<ue.length;ce++)if(Fe.indexOf(ue[ce].filter)!==-1)return ue[ce]}},$t=Nt.DOM,an=function(ue){return ue.replace(/px$/,"")},K=function(ue){var Fe=ue.map.style,ce=Fe?$t.parseStyle(Fe):{};return{type:"ephox-embed-iri",source:ue.map["data-ephox-embed-iri"],altsource:"",poster:"",width:rt(ce,"max-width").map(an).getOr(""),height:rt(ce,"max-height").map(an).getOr("")}},hr=function(ue,Fe){var ce=un(!1),it={};return et({validate:!1,allow_conditional_comments:!0,start:function(Dn,qn){if(!ce.get())if(Ue(qn.map,"data-ephox-embed-iri"))ce.set(!0),it=K(qn);else{if(!it.source&&Dn==="param"&&(it.source=qn.map.movie),(Dn==="iframe"||Dn==="object"||Dn==="embed"||Dn==="video"||Dn==="audio")&&(it.type||(it.type=Dn),it=Se.extend(qn.map,it)),Dn==="script"){var ne=vn(ue,qn.map.src);if(!ne)return;it={type:"script",source:qn.map.src,width:String(ne.width),height:String(ne.height)}}Dn==="source"&&(it.source?it.altsource||(it.altsource=qn.map.src):it.source=qn.map.src),Dn==="img"&&!it.poster&&(it.poster=qn.map.src)}}}).parse(Fe),it.source=it.source||it.src||it.data,it.altsource=it.altsource||"",it.poster=it.poster||"",it},pt=function(ue){var Fe={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ce=ue.toLowerCase().split(".").pop(),it=Fe[ce];return it||""},qe=tinymce.util.Tools.resolve("tinymce.html.Schema"),Rn=tinymce.util.Tools.resolve("tinymce.html.Writer"),Le=Nt.DOM,Me=function(ue){return/^[0-9.]+$/.test(ue)?ue+"px":ue},bt=function(ue,Fe){st(Fe,function(ce,it){var Dn=""+ce;if(ue.map[it])for(var qn=ue.length;qn--;){var ne=ue[qn];ne.name===it&&(Dn?(ue.map[it]=Dn,ne.value=Dn):(delete ue.map[it],ue.splice(qn,1)))}else Dn&&(ue.push({name:it,value:Dn}),ue.map[it]=Dn)})},qt=function(ue,Fe){var ce=Fe.map.style,it=ce?Le.parseStyle(ce):{};it["max-width"]=Me(ue.width),it["max-height"]=Me(ue.height),bt(Fe,{style:Le.serializeStyle(it)})},yt=["source","altsource"],Ot=function(ue,Fe,ce){var it=Rn(),Dn=un(!1),qn=0,ne;return et({validate:!1,allow_conditional_comments:!0,comment:function(ge){it.comment(ge)},cdata:function(ge){it.cdata(ge)},text:function(ge,lt){it.text(ge,lt)},start:function(ge,lt,It){if(!Dn.get())if(Ue(lt.map,"data-ephox-embed-iri"))Dn.set(!0),qt(Fe,lt);else{switch(ge){case"video":case"object":case"embed":case"img":case"iframe":Fe.height!==void 0&&Fe.width!==void 0&&bt(lt,{width:Fe.width,height:Fe.height});break}if(ce)switch(ge){case"video":bt(lt,{poster:Fe.poster,src:""}),Fe.altsource&&bt(lt,{src:""});break;case"iframe":bt(lt,{src:Fe.source});break;case"source":if(qn<2&&(bt(lt,{src:Fe[yt[qn]],type:Fe[yt[qn]+"mime"]}),!Fe[yt[qn]]))return;qn++;break;case"img":if(!Fe.poster)return;ne=!0;break}}it.start(ge,lt,It)},end:function(ge){if(!Dn.get()){if(ge==="video"&&ce){for(var lt=0;lt<2;lt++)if(Fe[yt[lt]]){var It=[];It.map={},qn<=lt&&(bt(It,{src:Fe[yt[lt]],type:Fe[yt[lt]+"mime"]}),it.start("source",It,!0))}}if(Fe.poster&&ge==="object"&&ce&&!ne){var F=[];F.map={},bt(F,{src:Fe.poster,width:Fe.width,height:Fe.height}),it.start("img",F,!0)}}it.end(ge)}},qe({})).parse(ue),it.getContent()},tr=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],be=function(ue){var Fe=ue.match(/^(https?:\/\/|www\.)(.+)$/i);return Fe&&Fe.length>1?Fe[1]==="www."?"https://":Fe[1]:"https://"},St=function(ue,Fe){for(var ce=be(Fe),it=ue.regex.exec(Fe),Dn=ce+ue.url,qn=function(ge){Dn=Dn.replace("$"+ge,function(){return it[ge]?it[ge]:""})},ne=0;ne<it.length;ne++)qn(ne);return Dn.replace(/\?$/,"")},Cn=function(ue){var Fe=tr.filter(function(ce){return ce.regex.test(ue)});return Fe.length>0?Se.extend({},Fe[0],{url:St(Fe[0],ue)}):null},Wt=function(ue){var Fe=ue.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ue.source+'" width="'+ue.width+'" height="'+ue.height+'"'+Fe+"></iframe>"},Kn=function(ue){var Fe='<object data="'+ue.source+'" width="'+ue.width+'" height="'+ue.height+'" type="application/x-shockwave-flash">';return ue.poster&&(Fe+='<img src="'+ue.poster+'" width="'+ue.width+'" height="'+ue.height+'" />'),Fe+="</object>",Fe},ar=function(ue,Fe){return Fe?Fe(ue):'<audio controls="controls" src="'+ue.source+'">'+(ue.altsource?`
<source src="`+ue.altsource+'"'+(ue.altsourcemime?' type="'+ue.altsourcemime+'"':"")+` />
`:"")+"</audio>"},qr=function(ue,Fe){return Fe?Fe(ue):'<video width="'+ue.width+'" height="'+ue.height+'"'+(ue.poster?' poster="'+ue.poster+'"':"")+` controls="controls">
<source src="`+ue.source+'"'+(ue.sourcemime?' type="'+ue.sourcemime+'"':"")+` />
`+(ue.altsource?'<source src="'+ue.altsource+'"'+(ue.altsourcemime?' type="'+ue.altsourcemime+'"':"")+` />
`:"")+"</video>"},va=function(ue){return'<script src="'+ue.source+'"><\/script>'},xa=function(ue,Fe){var ce=Se.extend({},Fe);if(!ce.source&&(Se.extend(ce,hr(U(ue),ce.embed)),!ce.source))return"";ce.altsource||(ce.altsource=""),ce.poster||(ce.poster=""),ce.source=ue.convertURL(ce.source,"source"),ce.altsource=ue.convertURL(ce.altsource,"source"),ce.sourcemime=pt(ce.source),ce.altsourcemime=pt(ce.altsource),ce.poster=ue.convertURL(ce.poster,"poster");var it=Cn(ce.source);if(it&&(ce.source=it.url,ce.type=it.type,ce.allowfullscreen=it.allowFullscreen,ce.width=ce.width||String(it.w),ce.height=ce.height||String(it.h)),ce.embed)return Ot(ce.embed,ce,!0);var Dn=vn(U(ue),ce.source);Dn&&(ce.type="script",ce.width=String(Dn.width),ce.height=String(Dn.height));var qn=B(ue),ne=He(ue);return ce.width=ce.width||"300",ce.height=ce.height||"150",Se.each(ce,function(ge,lt){ce[lt]=ue.dom.encode(""+ge)}),ce.type==="iframe"?Wt(ce):ce.sourcemime==="application/x-shockwave-flash"?Kn(ce):ce.sourcemime.indexOf("audio")!==-1?ar(ce,qn):ce.type==="script"?va(ce):qr(ce,ne)},Yt=function(ue){return ue.hasAttribute("data-mce-object")||ue.hasAttribute("data-ephox-embed-iri")},jt=function(ue){ue.on("click keyup touchend",function(){var Fe=ue.selection.getNode();Fe&&ue.dom.hasClass(Fe,"mce-preview-object")&&ue.dom.getAttrib(Fe,"data-mce-selected")&&Fe.setAttribute("data-mce-selected","2")}),ue.on("ObjectSelected",function(Fe){var ce=Fe.target.getAttribute("data-mce-object");ce==="script"&&Fe.preventDefault()}),ue.on("ObjectResized",function(Fe){var ce=Fe.target;if(ce.getAttribute("data-mce-object")){var it=ce.getAttribute("data-mce-html");it&&(it=unescape(it),ce.setAttribute("data-mce-html",escape(Ot(it,{width:String(Fe.width),height:String(Fe.height)}))))}})},Qt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ye={},ct=function(ue,Fe,ce){return new Qt(function(it,Dn){var qn=function(ne){return ne.html&&(Ye[ue.source]=ne),it({url:ue.source,html:ne.html?ne.html:Fe(ue)})};Ye[ue.source]?qn(Ye[ue.source]):ce({url:ue.source},qn,Dn)})},dn=function(ue,Fe){return Qt.resolve({html:Fe(ue),url:ue.source})},Fn=function(ue){return function(Fe){return xa(ue,Fe)}},hn=function(ue,Fe){var ce=pn(ue);return ce?ct(Fe,Fn(ue),ce):dn(Fe,Fn(ue))},Ve=function(ue){return Ue(Ye,ue)},nn=function(ue,Fe){return rt(Fe,ue).bind(function(ce){return rt(ce,"meta")})},Nn=function(ue,Fe,ce){return function(it){var Dn,qn=function(){return rt(ue,it)},ne=function(){return rt(Fe,it)},ge=function(F){return rt(F,"value").bind(function(Z){return Z.length>0?_t.some(Z):_t.none()})},lt=function(){return qn().bind(function(F){return nt(F)?ge(F).orThunk(ne):ne().orThunk(function(){return _t.from(F)})})},It=function(){return ne().orThunk(function(){return qn().bind(function(F){return nt(F)?ge(F):_t.from(F)})})};return Dn={},Dn[it]=(it===ce?lt():It()).getOr(""),Dn}},yn=function(ue,Fe){var ce={};return rt(ue,"dimensions").each(function(it){Ne(["width","height"],function(Dn){rt(Fe,Dn).orThunk(function(){return rt(it,Dn)}).each(function(qn){return ce[Dn]=qn})})}),ce},Yn=function(ue,Fe){var ce=Fe?nn(Fe,ue).getOr({}):{},it=Nn(ue,ce,Fe);return z(z(z(z(z({},it("source")),it("altsource")),it("poster")),it("embed")),yn(ue,ce))},Ce=function(ue){var Fe=z(z({},ue),{source:{value:rt(ue,"source").getOr("")},altsource:{value:rt(ue,"altsource").getOr("")},poster:{value:rt(ue,"poster").getOr("")}});return Ne(["width","height"],function(ce){rt(ue,ce).each(function(it){var Dn=Fe.dimensions||{};Dn[ce]=it,Fe.dimensions=Dn})}),Fe},Ft=function(ue){return function(Fe){var ce=Fe&&Fe.msg?"Media embed handler error: "+Fe.msg:"Media embed handler threw unknown error.";ue.notificationManager.open({type:"error",text:ce})}},wt=function(ue,Fe){return hr(U(ue),Fe)},sn=function(ue){var Fe=ue.selection.getNode(),ce=Yt(Fe)?ue.serializer.serialize(Fe,{selection:!0}):"";return z({embed:ce},hr(U(ue),ce))},Zn=function(ue,Fe){return function(ce){if(we(ce.url)&&ce.url.trim().length>0){var it=ce.html,Dn=wt(Fe,it),qn=z(z({},Dn),{source:ce.url,embed:it});ue.setData(Ce(qn))}}},Rr=function(ue,Fe){for(var ce=ue.dom.select("*[data-mce-object]"),it=0;it<Fe.length;it++)for(var Dn=ce.length-1;Dn>=0;Dn--)Fe[it]===ce[Dn]&&ce.splice(Dn,1);ue.selection.select(ce[0])},Ia=function(ue,Fe){var ce=ue.dom.select("*[data-mce-object]");ue.insertContent(Fe),Rr(ue,ce),ue.nodeChanged()},Dr=function(ue,Fe,ce){Fe.embed=Ot(Fe.embed,Fe),Fe.embed&&(ue.source===Fe.source||Ve(Fe.source))?Ia(ce,Fe.embed):hn(ce,Fe).then(function(it){Ia(ce,it.html)}).catch(Ft(ce))},Fr=function(ue){var Fe=sn(ue),ce=un(Fe),it=Ce(Fe),Dn=function(Vn,Cr){var ht=Yn(Cr.getData(),"source");Vn.source!==ht.source&&(Zn(En,ue)({url:ht.source,html:""}),hn(ue,ht).then(Zn(En,ue)).catch(Ft(ue)))},qn=function(Vn){var Cr=Yn(Vn.getData()),ht=wt(ue,Cr.embed);Vn.setData(Ce(ht))},ne=function(Vn,Cr){var ht=Yn(Vn.getData(),Cr),lr=xa(ue,ht);Vn.setData(Ce(z(z({},ht),{embed:lr})))},ge=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],lt=vt(ue)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],It={title:"General",name:"general",items:$e([ge,lt])},F={type:"textarea",name:"embed",label:"Paste your embed code below:"},Z={title:"Embed",items:[F]},me=[];Mn(ue)&&me.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),A(ue)&&me.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var _e={title:"Advanced",name:"advanced",items:me},Qe=[It,Z];me.length>0&&Qe.push(_e);var ot={type:"tabpanel",tabs:Qe},En=ue.windowManager.open({title:"Insert/Edit Media",size:"normal",body:ot,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Vn){var Cr=Yn(Vn.getData());Dr(ce.get(),Cr,ue),Vn.close()},onChange:function(Vn,Cr){switch(Cr.name){case"source":Dn(ce.get(),Vn);break;case"embed":qn(Vn);break;case"dimensions":case"altsource":case"poster":ne(Vn,Cr.name);break}ce.set(Yn(Vn.getData()))},initialData:it})},Xa=function(ue){var Fe=function(){Fr(ue)};return{showDialog:Fe}},ni=function(ue){var Fe=function(){Fr(ue)};ue.addCommand("mceMedia",Fe)},ho=tinymce.util.Tools.resolve("tinymce.html.Node"),so=tinymce.util.Tools.resolve("tinymce.Env"),ko=tinymce.util.Tools.resolve("tinymce.html.DomParser"),si=function(ue,Fe){if(Xe(ue)===!1)return Fe;var ce=Rn(),it;return et({validate:!1,allow_conditional_comments:!1,comment:function(Dn){it||ce.comment(Dn)},cdata:function(Dn){it||ce.cdata(Dn)},text:function(Dn,qn){it||ce.text(Dn,qn)},start:function(Dn,qn,ne){if(it=!0,!(Dn==="script"||Dn==="noscript"||Dn==="svg")){for(var ge=qn.length-1;ge>=0;ge--){var lt=qn[ge].name;lt.indexOf("on")===0&&(delete qn.map[lt],qn.splice(ge,1)),lt==="style"&&(qn[ge].value=ue.dom.serializeStyle(ue.dom.parseStyle(qn[ge].value),Dn))}ce.start(Dn,qn,ne),it=!1}},end:function(Dn){it||ce.end(Dn)}},qe({})).parse(Fe),ce.getContent()},To=function(ue){var Fe=ue.name;return Fe==="iframe"||Fe==="video"||Fe==="audio"},bo=function(ue,Fe,ce,it){it===void 0&&(it=null);var Dn=ue.attr(ce);return gt(Dn)?Dn:Ue(Fe,ce)?null:it},ri=function(ue,Fe,ce){var it=Fe.name==="img"||ue.name==="video",Dn=it?"300":null,qn=ue.name==="audio"?"30":"150",ne=it?qn:null;Fe.attr({width:bo(ue,ce,"width",Dn),height:bo(ue,ce,"height",ne)})},oa=function(ue,Fe,ce,it){for(var Dn=ko({forced_root_block:!1,validate:!1},ue.schema).parse(it,{context:Fe});Dn.firstChild;)ce.append(Dn.firstChild)},Zo=function(ue,Fe){var ce=Fe.name,it=new ho("img",1);return it.shortEnded=!0,du(ue,Fe,it),ri(Fe,it,{}),it.attr({style:Fe.attr("style"),src:so.transparentSrc,"data-mce-object":ce,class:"mce-object mce-object-"+ce}),it},ir=function(ue,Fe){var ce=Fe.name,it=new ho("span",1);it.attr({contentEditable:"false",style:Fe.attr("style"),"data-mce-object":ce,class:"mce-preview-object mce-object-"+ce}),du(ue,Fe,it);var Dn=ue.dom.parseStyle(Fe.attr("style")),qn=new ho(ce,1);if(ri(Fe,qn,Dn),qn.attr({src:Fe.attr("src"),style:Fe.attr("style"),class:Fe.attr("class")}),ce==="iframe")qn.attr({allowfullscreen:Fe.attr("allowfullscreen"),frameborder:"0"});else{var ne=["controls","crossorigin","currentTime","loop","muted","poster","preload"];Ne(ne,function(It){qn.attr(It,Fe.attr(It))});var ge=it.attr("data-mce-html");gt(ge)&&oa(ue,ce,qn,unescape(ge))}var lt=new ho("span",1);return lt.attr("class","mce-shim"),it.append(qn),it.append(lt),it},du=function(ue,Fe,ce){for(var it=Fe.attributes,Dn=it.length;Dn--;){var qn=it[Dn].name,ne=it[Dn].value;qn!=="width"&&qn!=="height"&&qn!=="style"&&((qn==="data"||qn==="src")&&(ne=ue.convertURL(ne,qn)),ce.attr("data-mce-p-"+qn,ne))}var ge=Fe.firstChild&&Fe.firstChild.value;ge&&(ce.attr("data-mce-html",escape(si(ue,ge))),ce.firstChild=null)},Go=function(ue){var Fe=ue.attr("class");return Fe&&/\btiny-pageembed\b/.test(Fe)},hi=function(ue){for(;ue=ue.parent;)if(ue.attr("data-ephox-embed-iri")||Go(ue))return!0;return!1},mu=function(ue){return function(Fe){for(var ce=Fe.length,it,Dn;ce--;)it=Fe[ce],it.parent&&(it.parent.attr("data-mce-object")||it.name==="script"&&(Dn=vn(U(ue),it.attr("src")),!Dn)||(Dn&&(Dn.width&&it.attr("width",Dn.width.toString()),Dn.height&&it.attr("height",Dn.height.toString())),To(it)&&Jt(ue)&&so.ceFalse?hi(it)||it.replace(ir(ue,it)):hi(it)||it.replace(Zo(ue,it))))}},Di=function(ue){ue.on("preInit",function(){var Fe=ue.schema.getSpecialElements();Se.each("video audio iframe object".split(" "),function(it){Fe[it]=new RegExp("</"+it+"[^>]*>","gi")});var ce=ue.schema.getBoolAttrs();Se.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(it){ce[it]={}}),ue.parser.addNodeFilter("iframe,video,audio,object,embed,script",mu(ue)),ue.serializer.addAttributeFilter("data-mce-object",function(it,Dn){for(var qn=it.length,ne,ge,lt,It,F,Z,me,_e;qn--;)if(ne=it[qn],!!ne.parent){for(me=ne.attr(Dn),ge=new ho(me,1),me!=="audio"&&me!=="script"&&(_e=ne.attr("class"),_e&&_e.indexOf("mce-preview-object")!==-1?ge.attr({width:ne.firstChild.attr("width"),height:ne.firstChild.attr("height")}):ge.attr({width:ne.attr("width"),height:ne.attr("height")})),ge.attr({style:ne.attr("style")}),It=ne.attributes,lt=It.length;lt--;){var Qe=It[lt].name;Qe.indexOf("data-mce-p-")===0&&ge.attr(Qe.substr(11),It[lt].value)}me==="script"&&ge.attr("type","text/javascript"),F=ne.attr("data-mce-html"),F&&(Z=new ho("#text",3),Z.raw=!0,Z.value=si(ue,unescape(F)),ge.append(Z)),ne.replace(ge)}})}),ue.on("SetContent",function(){ue.$("span.mce-preview-object").each(function(Fe,ce){var it=ue.$(ce);it.find("span.mce-shim").length===0&&it.append('<span class="mce-shim"></span>')})})},gu=function(ue){ue.on("ResolveName",function(Fe){var ce;Fe.target.nodeType===1&&(ce=Fe.target.getAttribute("data-mce-object"))&&(Fe.name=ce)})},pu=function(ue){var Fe=function(){return ue.execCommand("mceMedia")};ue.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Fe,onSetup:function(ce){var it=ue.selection;return ce.setActive(Yt(it.getNode())),it.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ce.setActive).unbind}}),ue.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Fe})};function ss(){ae.add("media",function(ue){return ni(ue),pu(ue),gu(ue),Di(ue),jt(ue),Xa(ue)})}ss()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(he){var ze=he.getParam("nonbreaking_force_tab",0);return typeof ze=="boolean"?ze===!0?3:0:ze},fe=function(he){return he.getParam("nonbreaking_wrap",!0,"boolean")},xe=function(he,ze){for(var We="",Oe=0;Oe<ze;Oe++)We+=he;return We},we=function(he){return he.plugins.visualchars?he.plugins.visualchars.isEnabled():!1},nt=function(he,ze){var We=function(){return we(he)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},Oe=function(){return'<span class="'+We()+'" contenteditable="false">'+xe("&nbsp;",ze)+"</span>"},ve=fe(he),Mt=ve||he.plugins.visualchars?Oe():xe("&nbsp;",ze);he.undoManager.transact(function(){return he.insertContent(Mt)})},xt=function(he){he.addCommand("mceNonBreaking",function(){nt(he,1)})},mt=tinymce.util.Tools.resolve("tinymce.util.VK"),gt=function(he){var ze=z(he);ze>0&&he.on("keydown",function(We){if(We.keyCode===mt.TAB&&!We.isDefaultPrevented()){if(We.shiftKey)return;We.preventDefault(),We.stopImmediatePropagation(),nt(he,ze)}})},Xt=function(he){var ze=function(){return he.execCommand("mceNonBreaking")};he.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:ze}),he.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:ze})};function at(){ae.add("nonbreaking",function(he){xt(he),Xt(he),gt(he)})}at()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.util.Tools"),fe=function(at){return at.getParam("noneditable_noneditable_class","mceNonEditable")},xe=function(at){return at.getParam("noneditable_editable_class","mceEditable")},we=function(at){var he=at.getParam("noneditable_regexp",[]);return he&&he.constructor===RegExp?[he]:he},nt=function(at){return function(he){return(" "+he.attr("class")+" ").indexOf(at)!==-1}},xt=function(at,he,ze){return function(We){var Oe=arguments,ve=Oe[Oe.length-2],Mt=ve>0?he.charAt(ve-1):"";if(Mt==='"')return We;if(Mt===">"){var Ke=he.lastIndexOf("<",ve);if(Ke!==-1){var _t=he.substring(Ke,ve);if(_t.indexOf('contenteditable="false"')!==-1)return We}}return'<span class="'+ze+'" data-mce-content="'+at.dom.encode(Oe[0])+'">'+at.dom.encode(typeof Oe[1]=="string"?Oe[1]:Oe[0])+"</span>"}},mt=function(at,he,ze){var We=he.length,Oe=ze.content;if(ze.format!=="raw"){for(;We--;)Oe=Oe.replace(he[We],xt(at,Oe,fe(at)));ze.content=Oe}},gt=function(at){var he="contenteditable",ze=" "+z.trim(xe(at))+" ",We=" "+z.trim(fe(at))+" ",Oe=nt(ze),ve=nt(We),Mt=we(at);at.on("PreInit",function(){Mt.length>0&&at.on("BeforeSetContent",function(Ke){mt(at,Mt,Ke)}),at.parser.addAttributeFilter("class",function(Ke){for(var _t=Ke.length,j;_t--;)j=Ke[_t],Oe(j)?j.attr(he,"true"):ve(j)&&j.attr(he,"false")}),at.serializer.addAttributeFilter(he,function(Ke){for(var _t=Ke.length,j;_t--;)j=Ke[_t],!(!Oe(j)&&!ve(j))&&(Mt.length>0&&j.attr("data-mce-content")?(j.name="#text",j.type=3,j.raw=!0,j.value=j.attr("data-mce-content")):j.attr(he,null))})})};function Xt(){ae.add("noneditable",function(at){gt(at)})}Xt()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.Env"),fe=function(he){return he.getParam("pagebreak_separator","<!-- pagebreak -->")},xe=function(he){return he.getParam("pagebreak_split_block",!1)},we="mce-pagebreak",nt=function(he){var ze='<img src="'+z.transparentSrc+'" class="'+we+'" data-mce-resize="false" data-mce-placeholder />';return he?"<p>"+ze+"</p>":ze},xt=function(he){var ze=fe(he),We=function(){return xe(he)},Oe=new RegExp(ze.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(ve){return"\\"+ve}),"gi");he.on("BeforeSetContent",function(ve){ve.content=ve.content.replace(Oe,nt(We()))}),he.on("PreInit",function(){he.serializer.addNodeFilter("img",function(ve){for(var Mt=ve.length,Ke,_t;Mt--;)if(Ke=ve[Mt],_t=Ke.attr("class"),_t&&_t.indexOf(we)!==-1){var j=Ke.parent;if(he.schema.getBlockElements()[j.name]&&We()){j.type=3,j.value=ze,j.raw=!0,Ke.remove();continue}Ke.type=3,Ke.value=ze,Ke.raw=!0}})})},mt=function(he){he.addCommand("mcePageBreak",function(){he.insertContent(nt(xe(he)))})},gt=function(he){he.on("ResolveName",function(ze){ze.target.nodeName==="IMG"&&he.dom.hasClass(ze.target,we)&&(ze.name="pagebreak")})},Xt=function(he){var ze=function(){return he.execCommand("mcePageBreak")};he.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:ze}),he.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:ze})};function at(){ae.add("pagebreak",function(he){mt(he),Xt(he),xt(he),gt(he)})}at()})();(function(){var ae=function(k){var I=k,Y=function(){return I},ye=function(ut){I=ut};return{get:Y,set:ye}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(k){return k.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},xe=function(k){return{clipboard:k}},we=function(k){var I=typeof k;return k===null?"null":I==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":I==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":I},nt=function(k){return function(I){return we(I)===k}},xt=function(k){return function(I){return typeof I===k}},mt=nt("array"),gt=function(k){return k==null},Xt=function(k){return!gt(k)},at=xt("function"),he=function(){},ze=function(k){return function(){return k}},We=function(k){return k},Oe=ze(!1),ve=ze(!0),Mt=function(){return Ke},Ke=function(){var k=function(ye){return ye()},I=We,Y={fold:function(ye,ut){return ye()},isSome:Oe,isNone:ve,getOr:I,getOrThunk:k,getOrDie:function(ye){throw new Error(ye||"error: getOrDie called on none.")},getOrNull:ze(null),getOrUndefined:ze(void 0),or:I,orThunk:k,map:Mt,each:he,bind:Mt,exists:Oe,forall:ve,filter:function(){return Mt()},toArray:function(){return[]},toString:ze("none()")};return Y}(),_t=function(k){var I=ze(k),Y=function(){return ut},ye=function(mn){return mn(k)},ut={fold:function(mn,vr){return vr(k)},isSome:ve,isNone:Oe,getOr:I,getOrThunk:I,getOrDie:I,getOrNull:I,getOrUndefined:I,or:Y,orThunk:Y,map:function(mn){return _t(mn(k))},each:function(mn){mn(k)},bind:ye,exists:ye,forall:ye,filter:function(mn){return mn(k)?ut:Ke},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return ut},j=function(k){return k==null?Ke:_t(k)},Ne={some:_t,none:Mt,from:j},$e=Array.prototype.slice,un=Array.prototype.push,Vt=function(k,I){for(var Y=0,ye=k.length;Y<ye;Y++){var ut=k[Y];if(I(ut,Y))return!0}return!1},Ae=function(k,I){for(var Y=k.length,ye=new Array(Y),ut=0;ut<Y;ut++){var mn=k[ut];ye[ut]=I(mn,ut)}return ye},st=function(k,I){for(var Y=0,ye=k.length;Y<ye;Y++){var ut=k[Y];I(ut,Y)}},rt=function(k,I){for(var Y=[],ye=0,ut=k.length;ye<ut;ye++){var mn=k[ye];I(mn,ye)&&Y.push(mn)}return Y},Ue=function(k,I,Y){return st(k,function(ye,ut){Y=I(Y,ye,ut)}),Y},U=function(k){for(var I=[],Y=0,ye=k.length;Y<ye;++Y){if(!mt(k[Y]))throw new Error("Arr.flatten item "+Y+" was not an array, input: "+k);un.apply(I,k[Y])}return I},B=function(k,I){return U(Ae(k,I))},He=at(Array.from)?Array.from:function(k){return $e.call(k)},Jt=function(){return Jt=Object.assign||function(I){for(var Y,ye=1,ut=arguments.length;ye<ut;ye++){Y=arguments[ye];for(var mn in Y)Object.prototype.hasOwnProperty.call(Y,mn)&&(I[mn]=Y[mn])}return I},Jt.apply(this,arguments)},Xe=function(k){var I=ae(Ne.none()),Y=function(){return I.get().each(k)},ye=function(){Y(),I.set(Ne.none())},ut=function(){return I.get().isSome()},mn=function(){return I.get()},vr=function(Pr){Y(),I.set(Ne.some(Pr))};return{clear:ye,isSet:ut,get:mn,set:vr}},pn=function(){var k=Xe(he),I=function(Y){return k.get().each(Y)};return Jt(Jt({},k),{on:I})},Mn=function(k,I,Y){return I===""||k.length>=I.length&&k.substr(Y,Y+I.length)===I},A=function(k,I){return Mn(k,I,0)},vt=function(k,I){return Mn(k,I,k.length-I.length)},Se=function(k,I){return I<=0?"":new Array(I+1).join(k)},Nt=tinymce.util.Tools.resolve("tinymce.Env"),et=tinymce.util.Tools.resolve("tinymce.util.Delay"),vn=tinymce.util.Tools.resolve("tinymce.util.Promise"),$t=tinymce.util.Tools.resolve("tinymce.util.VK"),an=function(k,I,Y,ye){return k.fire("PastePreProcess",{content:I,internal:Y,wordContent:ye})},K=function(k,I,Y,ye){return k.fire("PastePostProcess",{node:I,internal:Y,wordContent:ye})},hr=function(k,I){return k.fire("PastePlainTextToggle",{state:I})},pt=function(k,I){return k.fire("paste",{ieFake:I})},qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Rn=function(k){return k.getParam("paste_block_drop",!1)},Le=function(k){return k.getParam("paste_data_images",!1)},Me=function(k){return k.getParam("paste_filter_drop",!0)},bt=function(k){return k.getParam("paste_preprocess")},qt=function(k){return k.getParam("paste_postprocess")},yt=function(k){return k.getParam("paste_webkit_styles")},Ot=function(k){return k.getParam("paste_remove_styles_if_webkit",!0)},tr=function(k){return k.getParam("paste_merge_formats",!0)},be=function(k){return k.getParam("smart_paste",!0)},St=function(k){return k.getParam("paste_as_text",!1)},Cn=function(k){return k.getParam("paste_retain_style_properties")},Wt=function(k){var I="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return k.getParam("paste_word_valid_elements",I)},Kn=function(k){return k.getParam("paste_convert_word_fake_lists",!0)},ar=function(k){return k.getParam("paste_enable_default_filters",!0)},qr=function(k){return k.getParam("validate")},va=function(k){return k.getParam("allow_html_data_urls",!1,"boolean")},xa=function(k){return k.getParam("paste_data_images",!1,"boolean")},Yt=function(k){return k.getParam("images_dataimg_filter")},jt=function(k){return k.getParam("images_reuse_filename")},Qt=function(k){return k.getParam("forced_root_block")},Ye=function(k){return k.getParam("forced_root_block_attrs")},ct=function(k){return k.getParam("paste_tab_spaces",4,"number")},dn=function(k){var I="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return qe.explode(k.getParam("images_file_types",I,"string"))},Fn="x-tinymce/html",hn="<!-- "+Fn+" -->",Ve=function(k){return hn+k},nn=function(k){return k.replace(hn,"")},Nn=function(k){return k.indexOf(hn)!==-1},yn=ze(Fn),Yn=Object.hasOwnProperty,Ce=function(k,I){return Yn.call(k,I)},Ft=tinymce.util.Tools.resolve("tinymce.html.Entities"),wt=function(k){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(k)},sn=function(k){return k.replace(/\r?\n/g,"<br>")},Zn=function(k,I){var Y=[],ye="<"+k;if(typeof I=="object"){for(var ut in I)Ce(I,ut)&&Y.push(ut+'="'+Ft.encodeAllRaw(I[ut])+'"');Y.length&&(ye+=" "+Y.join(" "))}return ye+">"},Rr=function(k,I,Y){var ye=k.split(/\n\n/),ut=Zn(I,Y),mn="</"+I+">",vr=qe.map(ye,function(Un){return Un.split(/\n/).join("<br />")}),Pr=function(Un){return ut+Un+mn};return vr.length===1?vr[0]:qe.map(vr,Pr).join("")},Ia=function(k,I,Y){return I?Rr(k,I===!0?"p":I,Y):sn(k)},Dr=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Fr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Xa=" ",ni=tinymce.util.Tools.resolve("tinymce.html.Node"),ho=tinymce.util.Tools.resolve("tinymce.html.Schema"),so=function(k){return k.constructor===RegExp},ko=function(k,I){return qe.each(I,function(Y){so(Y)?k=k.replace(Y,""):k=k.replace(Y[0],Y[1])}),k},si=function(k){var I=ho(),Y=Dr({},I),ye="",ut=I.getShortEndedElements(),mn=qe.makeMap("script noscript style textarea video audio iframe object"," "),vr=I.getBlockElements(),Pr=function(Un){var ur=Un.name,Gr=Un;if(ur==="br"){ye+=`
`;return}if(ur!=="wbr"){if(ut[ur]&&(ye+=" "),mn[ur]){ye+=" ";return}if(Un.type===3&&(ye+=Un.value),!Un.shortEnded&&(Un=Un.firstChild))do Pr(Un);while(Un=Un.next);vr[ur]&&Gr.next&&(ye+=`
`,ur==="p"&&(ye+=`
`))}};return k=ko(k,[/<!\[[^\]]+\]>/g]),Pr(Y.parse(k)),ye},To=function(k){var I=function(Y,ye,ut){return!ye&&!ut?" ":Xa};return k=ko(k,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,I],/<br class="Apple-interchange-newline">/g,/<br>$/i]),k},bo=function(k){var I=0;return function(){return k+I++}},ri=function(k){var I=k.toLowerCase(),Y={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return qe.hasOwn(Y,I)?"image/"+Y[I]:"image/"+I},oa=function(k){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(k)||/class="OutlineElement/.test(k)||/id="?docs\-internal\-guid\-/.test(k)},Zo=function(k){var I=!1,Y=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return k=k.replace(/^[\u00a0 ]+/,""),qe.each(Y,function(ye){if(ye.test(k))return I=!0,!1}),I},ir=function(k){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(k)},du=function(k){for(var I,Y,ye=1,ut=function(Vr){var qa="";if(Vr.type===3)return Vr.value;if(Vr=Vr.firstChild)do qa+=ut(Vr);while(Vr=Vr.next);return qa},mn=function(Vr,qa){if(Vr.type===3&&qa.test(Vr.value))return Vr.value=Vr.value.replace(qa,""),!1;if(Vr=Vr.firstChild)do if(!mn(Vr,qa))return!1;while(Vr=Vr.next);return!0},vr=function(Vr){if(Vr._listIgnore){Vr.remove();return}if(Vr=Vr.firstChild)do vr(Vr);while(Vr=Vr.next)},Pr=function(Vr,qa,La){var bi=Vr._listLevel||ye;bi!==ye&&(bi<ye?I&&(I=I.parent.parent):(Y=I,I=null)),!I||I.name!==qa?(Y=Y||I,I=new ni(qa,1),La>1&&I.attr("start",""+La),Vr.wrap(I)):I.append(Vr),Vr.name="li",bi>ye&&Y&&Y.lastChild.append(I),ye=bi,vr(Vr),mn(Vr,/^\u00a0+/),mn(Vr,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),mn(Vr,/^\u00a0+/)},Un=[],ur=k.firstChild;typeof ur<"u"&&ur!==null;)if(Un.push(ur),ur=ur.walk(),ur!==null)for(;typeof ur<"u"&&ur.parent!==k;)ur=ur.walk();for(var Gr=0;Gr<Un.length;Gr++)if(k=Un[Gr],k.name==="p"&&k.firstChild){var jr=ut(k);if(ir(jr)){Pr(k,"ul");continue}if(Zo(jr)){var Br=/([0-9]+)\./.exec(jr),co=1;Br&&(co=parseInt(Br[1],10)),Pr(k,"ol",co);continue}if(k._listLevel){Pr(k,"ul",1);continue}I=null}else Y=I,I=null},Go=function(k,I,Y,ye){var ut={},mn=k.dom.parseStyle(ye);qe.each(mn,function(Pr,Un){switch(Un){case"mso-list":var ur=/\w+ \w+([0-9]+)/i.exec(ye);ur&&(Y._listLevel=parseInt(ur[1],10)),/Ignore/i.test(Pr)&&Y.firstChild&&(Y._listIgnore=!0,Y.firstChild._listIgnore=!0);break;case"horiz-align":Un="text-align";break;case"vert-align":Un="vertical-align";break;case"font-color":case"mso-foreground":Un="color";break;case"mso-background":case"mso-highlight":Un="background";break;case"font-weight":case"font-style":Pr!=="normal"&&(ut[Un]=Pr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Pr)){Y.remove();return}break}if(Un.indexOf("mso-comment")===0){Y.remove();return}Un.indexOf("mso-")!==0&&(Cn(k)==="all"||I&&I[Un])&&(ut[Un]=Pr)}),/(bold)/i.test(ut["font-weight"])&&(delete ut["font-weight"],Y.wrap(new ni("b",1))),/(italic)/i.test(ut["font-style"])&&(delete ut["font-style"],Y.wrap(new ni("i",1)));var vr=k.dom.serializeStyle(ut,Y.name);return vr||null},hi=function(k,I){var Y,ye=Cn(k);ye&&(Y=qe.makeMap(ye.split(/[, ]/))),I=ko(I,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Xa],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Un,ur){return ur.length>0?ur.replace(/./," ").slice(Math.floor(ur.length/2)).split("").join(Xa):""}]]);var ut=Wt(k),mn=ho({valid_elements:ut,valid_children:"-li[p]"});qe.each(mn.elements,function(Un){Un.attributes.class||(Un.attributes.class={},Un.attributesOrder.push("class")),Un.attributes.style||(Un.attributes.style={},Un.attributesOrder.push("style"))});var vr=Dr({},mn);vr.addAttributeFilter("style",function(Un){for(var ur=Un.length,Gr;ur--;)Gr=Un[ur],Gr.attr("style",Go(k,Y,Gr,Gr.attr("style"))),Gr.name==="span"&&Gr.parent&&!Gr.attributes.length&&Gr.unwrap()}),vr.addAttributeFilter("class",function(Un){for(var ur=Un.length,Gr,jr;ur--;)Gr=Un[ur],jr=Gr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(jr)&&Gr.remove(),Gr.attr("class",null)}),vr.addNodeFilter("del",function(Un){for(var ur=Un.length;ur--;)Un[ur].remove()}),vr.addNodeFilter("a",function(Un){for(var ur=Un.length,Gr,jr,Br;ur--;){if(Gr=Un[ur],jr=Gr.attr("href"),Br=Gr.attr("name"),jr&&jr.indexOf("#_msocom_")!==-1){Gr.remove();continue}if(jr&&jr.indexOf("file://")===0&&(jr=jr.split("#")[1],jr&&(jr="#"+jr)),!jr&&!Br)Gr.unwrap();else{if(Br&&!/^_?(?:toc|edn|ftn)/i.test(Br)){Gr.unwrap();continue}Gr.attr({href:jr,name:Br})}}});var Pr=vr.parse(I);return Kn(k)&&du(Pr),I=Fr({validate:qr(k)},mn).serialize(Pr),I},mu=function(k,I){return ar(k)?hi(k,I):I},Di=function(k,I){var Y=Dr({},k.schema);Y.addNodeFilter("meta",function(ut){qe.each(ut,function(mn){mn.remove()})});var ye=Y.parse(I,{forced_root_block:!1,isRootContent:!0});return Fr({validate:qr(k)},k.schema).serialize(ye)},gu=function(k,I){return{content:k,cancelled:I}},pu=function(k,I,Y,ye){var ut=k.dom.create("div",{style:"display:none"},I),mn=K(k,ut,Y,ye);return gu(mn.node.innerHTML,mn.isDefaultPrevented())},ss=function(k,I,Y,ye){var ut=an(k,I,Y,ye),mn=Di(k,ut.content);return k.hasEventListeners("PastePostProcess")&&!ut.isDefaultPrevented()?pu(k,mn,Y,ye):gu(mn,ut.isDefaultPrevented())},ue=function(k,I,Y){var ye=oa(I),ut=ye?mu(k,I):I;return ss(k,ut,Y,ye)},Fe=function(k,I){return k.insertContent(I,{merge:tr(k),paste:!0}),!0},ce=function(k){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(k)},it=function(k,I){return ce(I)&&Vt(dn(k),function(Y){return vt(I.toLowerCase(),"."+Y.toLowerCase())})},Dn=function(k,I,Y){return k.undoManager.extra(function(){Y(k,I)},function(){k.insertContent('<img src="'+I+'">')}),!0},qn=function(k,I,Y){return k.undoManager.extra(function(){Y(k,I)},function(){k.execCommand("mceInsertLink",!1,I)}),!0},ne=function(k,I,Y){return k.selection.isCollapsed()===!1&&ce(I)?qn(k,I,Y):!1},ge=function(k,I,Y){return it(k,I)?Dn(k,I,Y):!1},lt=function(k,I){qe.each([ne,ge,Fe],function(Y){return Y(k,I,Fe)!==!0})},It=function(k,I,Y){Y||be(k)===!1?Fe(k,I):lt(k,I)},F=function(k){return" \f	\v".indexOf(k)!==-1},Z=function(k){return k===`
`||k==="\r"},me=function(k,I){return I<k.length&&I>=0?Z(k[I]):!1},_e=function(k,I){var Y=Se(" ",ct(k)),ye=I.replace(/\t/g,Y),ut=Ue(ye,function(mn,vr){return F(vr)||vr===Xa?mn.pcIsSpace||mn.str===""||mn.str.length===ye.length-1||me(ye,mn.str.length+1)?{pcIsSpace:!1,str:mn.str+Xa}:{pcIsSpace:!0,str:mn.str+" "}:{pcIsSpace:Z(vr),str:mn.str+vr}},{pcIsSpace:!1,str:""});return ut.str},Qe=function(k,I,Y,ye){var ut=ue(k,I,Y);ut.cancelled===!1&&It(k,ut.content,ye)},ot=function(k,I,Y){var ye=Y||Nn(I);Qe(k,nn(I),ye,!1)},En=function(k,I){var Y=k.dom.encode(I).replace(/\r\n/g,`
`),ye=_e(k,Y),ut=Ia(ye,Qt(k),Ye(k));Qe(k,ut,!1,!0)},Vn=function(k){var I={},Y="data:text/mce-internal,";if(k){if(k.getData){var ye=k.getData("Text");ye&&ye.length>0&&ye.indexOf(Y)===-1&&(I["text/plain"]=ye)}if(k.types)for(var ut=0;ut<k.types.length;ut++){var mn=k.types[ut];try{I[mn]=k.getData(mn)}catch{I[mn]=""}}}return I},Cr=function(k,I){return Vn(I.clipboardData||k.getDoc().dataTransfer)},ht=function(k,I){return I in k&&k[I].length>0},lr=function(k){return ht(k,"text/html")||ht(k,"text/plain")},Hr=function(k){var I=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(k);return I?{type:I[1],data:decodeURIComponent(I[2])}:{type:null,data:null}},Oa=function(k,I){var Y=Yt(k);return Y?Y(I):!0},Eo=function(k,I){var Y=I.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Xt(Y)?k.dom.encode(Y[1]):null},ia=bo("mceclip"),cs=function(k,I){var Y=Hr(I.uri),ye=Y.data,ut=Y.type,mn=ia(),vr=I.blob,Pr=new Image;if(Pr.src=I.uri,Oa(k,Pr)){var Un=k.editorUpload.blobCache,ur=void 0,Gr=Un.getByData(ye,ut);if(Gr)ur=Gr;else{var jr=jt(k)&&Xt(vr.name),Br=jr?Eo(k,vr.name):mn,co=jr?vr.name:void 0;ur=Un.create(mn,vr,ye,Br,co),Un.add(ur)}ot(k,'<img src="'+ur.blobUri()+'">',!1)}else ot(k,'<img src="'+I.uri+'">',!1)},Hu=function(k){return k.type==="paste"},yo=function(k){return Xt(k.getAsFile)},Lc=function(k){return vn.all(Ae(k,function(I){return new vn(function(Y){var ye=yo(I)?I.getAsFile():I,ut=new window.FileReader;ut.onload=function(){Y({blob:ye,uri:ut.result})},ut.readAsDataURL(ye)})}))},Ii=function(k){var I=dn(k);return function(Y){return A(Y.type,"image/")&&Vt(I,function(ye){return ri(ye)===Y.type})}},hu=function(k,I){var Y=I.items?B(He(I.items),function(ut){return ut.kind==="file"?[ut.getAsFile()]:[]}):[],ye=I.files?He(I.files):[];return rt(Y.length>0?Y:ye,Ii(k))},Ya=function(k,I,Y){var ye=Hu(I)?I.clipboardData:I.dataTransfer;if(xa(k)&&ye){var ut=hu(k,ye);if(ut.length>0)return I.preventDefault(),Lc(ut).then(function(mn){Y&&k.selection.setRng(Y),st(mn,function(vr){cs(k,vr)})}),!0}return!1},pc=function(k){var I=k.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&I&&I.items&&I.items.length===0},Os=function(k){return $t.metaKeyPressed(k)&&k.keyCode===86||k.shiftKey&&k.keyCode===45},zc=function(k,I,Y){var ye=pn(),ut=pn(),mn;k.on("keyup",ut.clear),k.on("keydown",function(Un){var ur=function(Gr){Os(Gr)&&!Gr.isDefaultPrevented()&&I.remove()};if(Os(Un)&&!Un.isDefaultPrevented()){if(mn=Un.shiftKey&&Un.keyCode===86,mn&&Nt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Un.stopImmediatePropagation(),ye.set(Un),ut.set(!0),Nt.ie&&mn){Un.preventDefault(),pt(k,!0);return}I.remove(),I.create(),k.once("keyup",ur),k.once("paste",function(){k.off("keyup",ur)})}});var vr=function(Un,ur,Gr,jr,Br){var co;ht(ur,"text/html")?co=ur["text/html"]:(co=I.getHtml(),Br=Br||Nn(co),I.isDefaultContent(co)&&(jr=!0)),co=To(co),I.remove();var Vr=Br===!1&&wt(co),qa=ce(co);if((!co.length||Vr&&!qa)&&(jr=!0),(jr||qa)&&(ht(ur,"text/plain")&&Vr?co=ur["text/plain"]:co=si(co)),I.isDefaultContent(co)){Gr||Un.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}jr?En(Un,co):ot(Un,co,Br)},Pr=function(){return I.getLastRng()||k.selection.getRng()};k.on("paste",function(Un){var ur=ye.isSet()||ut.isSet();ur&&ye.clear();var Gr=Cr(k,Un),jr=Y.get()==="text"||mn,Br=ht(Gr,yn());if(mn=!1,Un.isDefaultPrevented()||pc(Un)){I.remove();return}if(!lr(Gr)&&Ya(k,Un,Pr())){I.remove();return}ur||Un.preventDefault(),Nt.ie&&(!ur||Un.ieFake)&&!ht(Gr,"text/html")&&(I.create(),k.dom.bind(I.getEl(),"paste",function(co){co.stopPropagation()}),k.getDoc().execCommand("Paste",!1,null),Gr["text/html"]=I.getHtml()),ht(Gr,"text/html")?(Un.preventDefault(),Br||(Br=Nn(Gr["text/html"])),vr(k,Gr,ur,jr,Br)):et.setEditorTimeout(k,function(){vr(k,Gr,ur,jr,Br)},0)})},fl=function(k,I,Y){zc(k,I,Y);var ye;k.parser.addNodeFilter("img",function(ut,mn,vr){var Pr=function(Br){return Br.data&&Br.data.paste===!0},Un=function(Br){!Br.attr("data-mce-object")&&ye!==Nt.transparentSrc&&Br.remove()},ur=function(Br){return Br.indexOf("webkit-fake-url")===0},Gr=function(Br){return Br.indexOf("data:")===0};if(!xa(k)&&Pr(vr))for(var jr=ut.length;jr--;)ye=ut[jr].attr("src"),ye&&(ur(ye)||!va(k)&&Gr(ye))&&Un(ut[jr])})},Xi=function(k){return Nt.ie&&k.inline?document.body:k.getBody()},Du=function(k){return Xi(k)!==k.getBody()},Hc=function(k,I,Y){Du(k)&&k.dom.bind(I,"paste keyup",function(ye){xn(k,Y)||k.fire("paste")})},bu=function(k,I,Y){var ye=k.dom,ut=k.getBody();I.set(k.selection.getRng());var mn=k.dom.add(Xi(k),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Y);(Nt.ie||Nt.gecko)&&ye.setStyle(mn,"left",ye.getStyle(ut,"direction",!0)==="rtl"?65535:-65535),ye.bind(mn,"beforedeactivate focusin focusout",function(vr){vr.stopPropagation()}),Hc(k,mn,Y),mn.focus(),k.selection.select(mn,!0)},Yi=function(k,I){if(G(k)){for(var Y=void 0,ye=I.get();Y=k.dom.get("mcepastebin");)k.dom.remove(Y),k.dom.unbind(Y);ye&&k.selection.setRng(ye)}I.set(null)},G=function(k){return k.dom.get("mcepastebin")},Ee=function(k){var I=function(Pr,Un){Pr.appendChild(Un),k.dom.remove(Un,!0)},Y=qe.grep(Xi(k).childNodes,function(Pr){return Pr.id==="mcepastebin"}),ye=Y.shift();qe.each(Y,function(Pr){I(ye,Pr)});for(var ut=k.dom.select("div[id=mcepastebin]",ye),mn=ut.length-1;mn>=0;mn--){var vr=k.dom.create("div");ye.insertBefore(vr,ut[mn]),I(vr,ut[mn])}return ye?ye.innerHTML:""},Ze=function(k,I){return I===k},Ht=function(k){return k&&k.id==="mcepastebin"},xn=function(k,I){var Y=G(k);return Ht(Y)&&Ze(I,Y.innerHTML)},sr=function(k){var I=ae(null),Y="%MCEPASTEBIN%";return{create:function(){return bu(k,I,Y)},remove:function(){return Yi(k,I)},getEl:function(){return G(k)},getHtml:function(){return Ee(k)},getLastRng:I.get,isDefault:function(){return xn(k,Y)},isDefaultContent:function(ye){return Ze(Y,ye)}}},Ea=function(k,I){var Y=sr(k);return k.on("PreInit",function(){return fl(k,Y,I)}),{pasteFormat:I,pasteHtml:function(ye,ut){return ot(k,ye,ut)},pasteText:function(ye){return En(k,ye)},pasteImageData:function(ye,ut){return Ya(k,ye,ut)},getDataTransferItems:Vn,hasHtmlOrText:lr,hasContentType:ht}},$a=function(k,I){I.pasteFormat.get()==="text"?(I.pasteFormat.set("html"),hr(k,!1)):(I.pasteFormat.set("text"),hr(k,!0)),k.focus()},Jr=function(k,I){k.addCommand("mceTogglePlainTextPaste",function(){$a(k,I)}),k.addCommand("mceInsertClipboardContent",function(Y,ye){ye.content&&I.pasteHtml(ye.content,ye.internal),ye.text&&I.pasteText(ye.text)})},Qa=function(k){return Nt.iOS===!1&&typeof(k==null?void 0:k.setData)=="function"},vo=function(k,I,Y){if(Qa(k))try{return k.clearData(),k.setData("text/html",I),k.setData("text/plain",Y),k.setData(yn(),I),!0}catch{return!1}else return!1},Ds=function(k,I,Y,ye){vo(k.clipboardData,I.html,I.text)?(k.preventDefault(),ye()):Y(I.html,ye)},ci=function(k){return function(I,Y){var ye=Ve(I),ut=k.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),mn=k.dom.create("div",{contenteditable:"true"},ye);k.dom.setStyles(ut,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),ut.appendChild(mn),k.dom.add(k.getBody(),ut);var vr=k.selection.getRng();mn.focus();var Pr=k.dom.createRng();Pr.selectNodeContents(mn),k.selection.setRng(Pr),et.setTimeout(function(){k.selection.setRng(vr),ut.parentNode.removeChild(ut),Y()},0)}},ls=function(k){return{html:k.selection.getContent({contextual:!0}),text:k.selection.getContent({format:"text"})}},Sr=function(k){return!!k.dom.getParent(k.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",k.getBody())},Ks=function(k){return!k.selection.isCollapsed()||Sr(k)},Af=function(k){return function(I){Ks(k)&&Ds(I,ls(k),ci(k),function(){if(Nt.browser.isChrome()||Nt.browser.isFirefox()){var Y=k.selection.getRng();et.setEditorTimeout(k,function(){k.selection.setRng(Y),k.execCommand("Delete")},0)}else k.execCommand("Delete")})}},Sa=function(k){return function(I){Ks(k)&&Ds(I,ls(k),ci(k),he)}},Ll=function(k){k.on("cut",Af(k)),k.on("copy",Sa(k))},zl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),yv=function(k,I){return zl.getCaretRangeFromPoint(I.clientX,I.clientY,k.getDoc())},Ga=function(k){var I=k["text/plain"];return I?I.indexOf("file://")===0:!1},_u=function(k,I){k.focus(),k.selection.setRng(I)},md=function(k,I,Y){Rn(k)&&k.on("dragend dragover draggesture dragdrop drop drag",function(ye){ye.preventDefault(),ye.stopPropagation()}),Le(k)||k.on("drop",function(ye){var ut=ye.dataTransfer;ut&&ut.files&&ut.files.length>0&&ye.preventDefault()}),k.on("drop",function(ye){var ut=yv(k,ye);if(!(ye.isDefaultPrevented()||Y.get())){var mn=I.getDataTransferItems(ye.dataTransfer),vr=I.hasContentType(mn,yn());if(!((!I.hasHtmlOrText(mn)||Ga(mn))&&I.pasteImageData(ye,ut))&&ut&&Me(k)){var Pr=mn["mce-internal"]||mn["text/html"]||mn["text/plain"];Pr&&(ye.preventDefault(),et.setEditorTimeout(k,function(){k.undoManager.transact(function(){mn["mce-internal"]&&k.execCommand("Delete"),_u(k,ut),Pr=To(Pr),mn["text/html"]?I.pasteHtml(Pr,vr):I.pasteText(Pr)})}))}}}),k.on("dragstart",function(ye){Y.set(!0)}),k.on("dragover dragend",function(ye){Le(k)&&Y.get()===!1&&(ye.preventDefault(),_u(k,yv(k,ye))),ye.type==="dragend"&&Y.set(!1)})},Vu=function(k){var I=k.plugins.paste,Y=bt(k);Y&&k.on("PastePreProcess",function(ut){Y.call(I,I,ut)});var ye=qt(k);ye&&k.on("PastePostProcess",function(ut){ye.call(I,I,ut)})},qo=function(k,I){k.on("PastePreProcess",function(Y){Y.content=I(k,Y.content,Y.internal,Y.wordContent)})},hc=function(k,I){k.on("PastePostProcess",function(Y){I(k,Y.node)})},Rt=function(k,I){if(!oa(I))return I;var Y=[];qe.each(k.schema.getBlockElements(),function(ut,mn){Y.push(mn)});var ye=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+Y.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return I=ko(I,[[ye,"$1"]]),I=ko(I,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),I},vl=function(k,I,Y,ye){if(ye||Y)return I;var ut=yt(k),mn;if(Ot(k)===!1||ut==="all")return I;if(ut&&(mn=ut.split(/[, ]/)),mn){var vr=k.dom,Pr=k.selection.getNode();I=I.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Un,ur,Gr,jr){var Br=vr.parseStyle(vr.decode(Gr)),co={};if(mn==="none")return ur+jr;for(var Vr=0;Vr<mn.length;Vr++){var qa=Br[mn[Vr]],La=vr.getStyle(Pr,mn[Vr],!0);/color/.test(mn[Vr])&&(qa=vr.toHex(qa),La=vr.toHex(La)),La!==qa&&(co[mn[Vr]]=qa)}var bi=vr.serializeStyle(co,"span");return bi?ur+' style="'+bi+'"'+jr:ur+jr})}else I=I.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return I=I.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Un,ur,Gr,jr){return ur+' style="'+Gr+'"'+jr}),I},Ro=function(k,I){k.$("a",I).find("font,u").each(function(Y,ye){k.dom.remove(ye,!0)})},Of=function(k){Nt.webkit&&qo(k,vl),Nt.ie&&(qo(k,Rt),hc(k,Ro))},Xs=function(k,I){return function(Y){Y.setActive(I.pasteFormat.get()==="text");var ye=function(ut){return Y.setActive(ut.state)};return k.on("PastePlainTextToggle",ye),function(){return k.off("PastePlainTextToggle",ye)}}},Vc=function(k,I){var Y=function(){return k.execCommand("mceTogglePlainTextPaste")};k.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:Y,onSetup:Xs(k,I)}),k.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:Y,onSetup:Xs(k,I)})};function R(){z.add("paste",function(k){if(fe(k)===!1){var I=ae(!1),Y=ae(St(k)?"text":"html"),ye=Ea(k,Y);return Of(k),Vc(k,ye),Jr(k,ye),Vu(k),Ll(k),md(k,ye,I),xe(ye)}})}R()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.Env"),fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),xe=function(Oe){return Oe.getParam("content_style","","string")},we=function(Oe){return Oe.getParam("content_css_cors",!1,"boolean")},nt=function(Oe){var ve=Oe.getParam("body_class","","hash");return ve[Oe.id]||""},xt=function(Oe){var ve=Oe.getParam("body_class","","string");return ve.indexOf("=")===-1?ve:nt(Oe)},mt=function(Oe){var ve=Oe.getParam("body_id","","hash");return ve[Oe.id]||ve},gt=function(Oe){var ve=Oe.getParam("body_id","tinymce","string");return ve.indexOf("=")===-1?ve:mt(Oe)},Xt=function(Oe){var ve="",Mt=Oe.dom.encode,Ke=xe(Oe);ve+='<base href="'+Mt(Oe.documentBaseURI.getURI())+'">';var _t=we(Oe)?' crossorigin="anonymous"':"";fe.each(Oe.contentCSS,function(rt){ve+='<link type="text/css" rel="stylesheet" href="'+Mt(Oe.documentBaseURI.toAbsolute(rt))+'"'+_t+">"}),Ke&&(ve+='<style type="text/css">'+Ke+"</style>");var j=gt(Oe),Ne=xt(Oe),$e=z.mac?"e.metaKey":"e.ctrlKey && !e.altKey",un='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+$e+")) {e.preventDefault();}}}, false);<\/script> ",Vt=Oe.getBody().dir,Ae=Vt?' dir="'+Mt(Vt)+'"':"",st="<!DOCTYPE html><html><head>"+ve+'</head><body id="'+Mt(j)+'" class="mce-content-body '+Mt(Ne)+'"'+Ae+">"+Oe.getContent()+un+"</body></html>";return st},at=function(Oe){var ve=Xt(Oe),Mt=Oe.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ve}});Mt.focus("close")},he=function(Oe){Oe.addCommand("mcePreview",function(){at(Oe)})},ze=function(Oe){var ve=function(){return Oe.execCommand("mcePreview")};Oe.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ve}),Oe.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ve})};function We(){ae.add("preview",function(Oe){he(Oe),ze(Oe)})}We()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.Env"),fe=function(nt){nt.addCommand("mcePrint",function(){z.browser.isIE()?nt.getDoc().execCommand("print",!1,null):nt.getWin().print()})},xe=function(nt){var xt=function(){return nt.execCommand("mcePrint")};nt.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:xt}),nt.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:xt})};function we(){ae.add("print",function(nt){fe(nt),xe(nt),nt.addShortcut("Meta+P","","mcePrint")})}we()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),xe=function(We){return We.getParam("save_enablewhendirty",!0)},we=function(We){return!!We.getParam("save_onsavecallback")},nt=function(We){return!!We.getParam("save_oncancelcallback")},xt=function(We,Oe){We.notificationManager.open({text:Oe,type:"error"})},mt=function(We){var Oe=z.DOM.getParent(We.id,"form");if(!(xe(We)&&!We.isDirty())){if(We.save(),we(We)){We.execCallback("save_onsavecallback",We),We.nodeChanged();return}Oe?(We.setDirty(!1),(!Oe.onsubmit||Oe.onsubmit())&&(typeof Oe.submit=="function"?Oe.submit():xt(We,"Error: Form submit field collision.")),We.nodeChanged()):xt(We,"Error: No form element found.")}},gt=function(We){var Oe=fe.trim(We.startContent);if(nt(We)){We.execCallback("save_oncancelcallback",We);return}We.resetContent(Oe)},Xt=function(We){We.addCommand("mceSave",function(){mt(We)}),We.addCommand("mceCancel",function(){gt(We)})},at=function(We){return function(Oe){var ve=function(){Oe.setDisabled(xe(We)&&!We.isDirty())};return ve(),We.on("NodeChange dirty",ve),function(){return We.off("NodeChange dirty",ve)}}},he=function(We){We.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return We.execCommand("mceSave")},onSetup:at(We)}),We.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return We.execCommand("mceCancel")},onSetup:at(We)}),We.addShortcut("Meta+S","","mceSave")};function ze(){ae.add("save",function(We){he(We),Xt(We)})}ze()})();(function(){var ae=function(ne){var ge=ne,lt=function(){return ge},It=function(F){ge=F};return{get:lt,set:It}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(){return fe=Object.assign||function(ge){for(var lt,It=1,F=arguments.length;It<F;It++){lt=arguments[It];for(var Z in lt)Object.prototype.hasOwnProperty.call(lt,Z)&&(ge[Z]=lt[Z])}return ge},fe.apply(this,arguments)},xe=function(ne){var ge=typeof ne;return ne===null?"null":ge==="object"&&(Array.prototype.isPrototypeOf(ne)||ne.constructor&&ne.constructor.name==="Array")?"array":ge==="object"&&(String.prototype.isPrototypeOf(ne)||ne.constructor&&ne.constructor.name==="String")?"string":ge},we=function(ne){return function(ge){return xe(ge)===ne}},nt=function(ne){return function(ge){return typeof ge===ne}},xt=we("string"),mt=we("array"),gt=nt("boolean"),Xt=nt("number"),at=function(){},he=function(ne){return function(){return ne}},ze=function(ne){return ne},We=he(!1),Oe=he(!0),ve="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Mt=he(ve),Ke=function(){return _t},_t=function(){var ne=function(It){return It()},ge=ze,lt={fold:function(It,F){return It()},isSome:We,isNone:Oe,getOr:ge,getOrThunk:ne,getOrDie:function(It){throw new Error(It||"error: getOrDie called on none.")},getOrNull:he(null),getOrUndefined:he(void 0),or:ge,orThunk:ne,map:Ke,each:at,bind:Ke,exists:We,forall:Oe,filter:function(){return Ke()},toArray:function(){return[]},toString:he("none()")};return lt}(),j=function(ne){var ge=he(ne),lt=function(){return F},It=function(Z){return Z(ne)},F={fold:function(Z,me){return me(ne)},isSome:Oe,isNone:We,getOr:ge,getOrThunk:ge,getOrDie:ge,getOrNull:ge,getOrUndefined:ge,or:lt,orThunk:lt,map:function(Z){return j(Z(ne))},each:function(Z){Z(ne)},bind:It,exists:It,forall:It,filter:function(Z){return Z(ne)?F:_t},toArray:function(){return[ne]},toString:function(){return"some("+ne+")"}};return F},Ne=function(ne){return ne==null?_t:j(ne)},$e={some:j,none:Ke,from:Ne},un=Mt,Vt=tinymce.util.Tools.resolve("tinymce.Env"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),st=Array.prototype.slice,rt=Array.prototype.push,Ue=function(ne,ge){for(var lt=ne.length,It=new Array(lt),F=0;F<lt;F++){var Z=ne[F];It[F]=ge(Z,F)}return It},U=function(ne,ge){for(var lt=0,It=ne.length;lt<It;lt++){var F=ne[lt];ge(F,lt)}},B=function(ne,ge){for(var lt=ne.length-1;lt>=0;lt--){var It=ne[lt];ge(It,lt)}},He=function(ne,ge){if(ne.length===0)return[];for(var lt=ge(ne[0]),It=[],F=[],Z=0,me=ne.length;Z<me;Z++){var _e=ne[Z],Qe=ge(_e);Qe!==lt&&(It.push(F),F=[]),lt=Qe,F.push(_e)}return F.length!==0&&It.push(F),It},Jt=function(ne,ge,lt){return U(ne,function(It,F){lt=ge(lt,It,F)}),lt},Xe=function(ne){for(var ge=[],lt=0,It=ne.length;lt<It;++lt){if(!mt(ne[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+ne);rt.apply(ge,ne[lt])}return ge},pn=function(ne,ge){return Xe(Ue(ne,ge))},Mn=function(ne,ge){var lt=st.call(ne,0);return lt.sort(ge),lt},A=Object.hasOwnProperty,vt=function(ne,ge){return A.call(ne,ge)};typeof window<"u"||Function("return this;")();var Se=9,Nt=11,et=1,vn=3,$t=function(ne){return ne.dom.nodeType},an=function(ne){return function(ge){return $t(ge)===ne}},K=an(vn),hr=function(ne,ge,lt){if(xt(lt)||gt(lt)||Xt(lt))ne.setAttribute(ge,lt+"");else throw console.error("Invalid call to Attribute.set. Key ",ge,":: Value ",lt,":: Element ",ne),new Error("Attribute value was not simple")},pt=function(ne,ge,lt){hr(ne.dom,ge,lt)},qe=function(ne,ge,lt){return(ne.compareDocumentPosition(ge)&lt)!==0},Rn=function(ne,ge){return qe(ne,ge,Node.DOCUMENT_POSITION_PRECEDING)},Le=function(ne,ge){var lt=ge||document,It=lt.createElement("div");if(It.innerHTML=ne,!It.hasChildNodes()||It.childNodes.length>1)throw console.error("HTML does not have a single root node",ne),new Error("HTML must have a single root node");return qt(It.childNodes[0])},Me=function(ne,ge){var lt=ge||document,It=lt.createElement(ne);return qt(It)},bt=function(ne,ge){var lt=ge||document,It=lt.createTextNode(ne);return qt(It)},qt=function(ne){if(ne==null)throw new Error("Node cannot be null or undefined");return{dom:ne}},yt=function(ne,ge,lt){return $e.from(ne.dom.elementFromPoint(ge,lt)).map(qt)},Ot={fromHtml:Le,fromTag:Me,fromText:bt,fromDom:qt,fromPoint:yt},tr=function(ne){return ne.nodeType!==et&&ne.nodeType!==Se&&ne.nodeType!==Nt||ne.childElementCount===0},be=function(ne,ge){var lt=ge===void 0?document:ge.dom;return tr(lt)?[]:Ue(lt.querySelectorAll(ne),Ot.fromDom)},St=function(ne){return $e.from(ne.dom.parentNode).map(Ot.fromDom)},Cn=function(ne){return Ue(ne.dom.childNodes,Ot.fromDom)},Wt=function(ne,ge){return{element:ne,offset:ge}},Kn=function(ne,ge){var lt=Cn(ne);return lt.length>0&&ge<lt.length?Wt(lt[ge],0):Wt(ne,ge)},ar=function(ne,ge){var lt=St(ne);lt.each(function(It){It.dom.insertBefore(ge.dom,ne.dom)})},qr=function(ne,ge){ne.dom.appendChild(ge.dom)},va=function(ne,ge){ar(ne,ge),qr(ge,ne)},xa=function(ne,ge){var lt=function(Z){if(!ne(Z))throw new Error("Can only get "+ge+" value of a "+ge+" node");return It(Z).getOr("")},It=function(Z){return ne(Z)?$e.from(Z.dom.nodeValue):$e.none()},F=function(Z,me){if(!ne(Z))throw new Error("Can only set raw "+ge+" value of a "+ge+" node");Z.dom.nodeValue=me};return{get:lt,getOption:It,set:F}},Yt=xa(K,"text"),jt=function(ne){return Yt.get(ne)},Qt=function(ne,ge){return be(ge,ne)},Ye=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ct=function(ne,ge){return ne.isBlock(ge)||vt(ne.schema.getShortEndedElements(),ge.nodeName)},dn=function(ne,ge){return ne.getContentEditable(ge)==="false"},Fn=function(ne,ge){return ne.getContentEditable(ge)==="true"&&ne.getContentEditableParent(ge.parentNode)==="false"},hn=function(ne,ge){return!ne.isBlock(ge)&&vt(ne.schema.getWhiteSpaceElements(),ge.nodeName)},Ve=function(ne,ge){return ct(ne,ge)||dn(ne,ge)||hn(ne,ge)||Fn(ne,ge)},nn=function(ne){return ne.nodeType===3},Nn=function(){return{sOffset:0,fOffset:0,elements:[]}},yn=function(ne,ge){return Kn(Ot.fromDom(ne),ge)},Yn=function(ne,ge,lt,It,F,Z){Z===void 0&&(Z=!0);for(var me=Z?ge(!1):lt;me;){var _e=dn(ne,me);if(_e||hn(ne,me)){var Qe=_e?It.cef(me):It.boundary(me);if(Qe)break;me=ge(!0);continue}else if(ct(ne,me)){if(It.boundary(me))break}else nn(me)&&It.text(me);if(me===F)break;me=ge(!1)}},Ce=function(ne,ge,lt,It,F){if(!Ve(ne,lt)){var Z=ne.getParent(It,ne.isBlock),me=new Ye(lt,Z),_e=F?me.next.bind(me):me.prev.bind(me);Yn(ne,_e,lt,{boundary:Oe,cef:Oe,text:function(Qe){F?ge.fOffset+=Qe.length:ge.sOffset+=Qe.length,ge.elements.push(Ot.fromDom(Qe))}})}},Ft=function(ne,ge,lt,It,F,Z){Z===void 0&&(Z=!0);var me=new Ye(lt,ge),_e=[],Qe=Nn();Ce(ne,Qe,lt,ge,!1);var ot=function(){return Qe.elements.length>0&&(_e.push(Qe),Qe=Nn()),!1};return Yn(ne,me.next.bind(me),lt,{boundary:ot,cef:function(En){return ot(),F&&_e.push.apply(_e,F.cef(En)),!1},text:function(En){Qe.elements.push(Ot.fromDom(En)),F&&F.text(En,Qe)}},It,Z),It&&Ce(ne,Qe,It,ge,!0),ot(),_e},wt=function(ne,ge){var lt=yn(ge.startContainer,ge.startOffset),It=lt.element.dom,F=yn(ge.endContainer,ge.endOffset),Z=F.element.dom;return Ft(ne,ge.commonAncestorContainer,It,Z,{text:function(me,_e){me===Z?_e.fOffset+=me.length-F.offset:me===It&&(_e.sOffset+=lt.offset)},cef:function(me){var _e=pn(Qt(Ot.fromDom(me),"*[contenteditable=true]"),function(Qe){var ot=Qe.dom;return Ft(ne,ot,ot)});return Mn(_e,function(Qe,ot){return Rn(Qe.elements[0].dom,ot.elements[0].dom)?1:-1})}},!1)},sn=function(ne,ge){return ge.collapsed?[]:wt(ne,ge)},Zn=function(ne,ge){var lt=ne.createRng();return lt.selectNode(ge),sn(ne,lt)},Rr=function(ne,ge){return pn(ge,function(lt){return Zn(ne,lt)})},Ia=function(ne,ge,lt,It){lt===void 0&&(lt=0),It===void 0&&(It=ne.length);var F=ge.regex;F.lastIndex=lt;for(var Z=[],me;me=F.exec(ne);){var _e=me[ge.matchIndex],Qe=me.index+me[0].indexOf(_e),ot=Qe+_e.length;if(ot>It)break;Z.push({start:Qe,finish:ot}),F.lastIndex=ot}return Z},Dr=function(ne,ge){var lt=Jt(ne,function(It,F){var Z=jt(F),me=It.last,_e=me+Z.length,Qe=pn(ge,function(ot,En){return ot.start<_e&&ot.finish>me?[{element:F,start:Math.max(me,ot.start)-me,finish:Math.min(_e,ot.finish)-me,matchId:En}]:[]});return{results:It.results.concat(Qe),last:_e}},{results:[],last:0}).results;return He(lt,function(It){return It.matchId})},Fr=function(ne,ge){return pn(ge,function(lt){var It=lt.elements,F=Ue(It,jt).join(""),Z=Ia(F,ne,lt.sOffset,F.length-lt.fOffset);return Dr(It,Z)})},Xa=function(ne,ge){B(ne,function(lt,It){B(lt,function(F){var Z=Ot.fromDom(ge.cloneNode(!1));pt(Z,"data-mce-index",It);var me=F.element.dom;if(me.length===F.finish&&F.start===0)va(F.element,Z);else{me.length!==F.finish&&me.splitText(F.finish);var _e=me.splitText(F.start);va(Ot.fromDom(_e),Z)}})})},ni=function(ne,ge,lt,It){var F=Zn(ne,lt),Z=Fr(ge,F);return Xa(Z,It),Z.length},ho=function(ne,ge,lt,It){var F=lt.getBookmark(),Z=ne.select("td[data-mce-selected],th[data-mce-selected]"),me=Z.length>0?Rr(ne,Z):sn(ne,lt.getRng()),_e=Fr(ge,me);return Xa(_e,It),lt.moveToBookmark(F),_e.length},so=function(ne){var ge=ne.getAttribute("data-mce-index");return typeof ge=="number"?""+ge:ge},ko=function(ne,ge,lt,It){var F=ne.dom.create("span",{"data-mce-bogus":1});F.className="mce-match-marker";var Z=ne.getBody();return mu(ne,ge,!1),It?ho(ne.dom,lt,ne.selection,F):ni(ne.dom,lt,Z,F)},si=function(ne){var ge=ne.parentNode;ne.firstChild&&ge.insertBefore(ne.firstChild,ne),ne.parentNode.removeChild(ne)},To=function(ne,ge){var lt=[],It=Ae.toArray(ne.getBody().getElementsByTagName("span"));if(It.length)for(var F=0;F<It.length;F++){var Z=so(It[F]);Z===null||!Z.length||Z===ge.toString()&&lt.push(It[F])}return lt},bo=function(ne,ge,lt){var It=ge.get(),F=It.index,Z=ne.dom;lt=lt!==!1,lt?F+1===It.count?F=0:F++:F-1===-1?F=It.count-1:F--,Z.removeClass(To(ne,It.index),"mce-match-marker-selected");var me=To(ne,F);return me.length?(Z.addClass(To(ne,F),"mce-match-marker-selected"),ne.selection.scrollIntoView(me[0]),F):-1},ri=function(ne,ge){var lt=ge.parentNode;ne.remove(ge),ne.isEmpty(lt)&&ne.remove(lt)},oa=function(ne,ge){var lt=ne.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),It="("+lt+")";return ge?"(?:^|\\s|"+un()+")"+It+("(?=$|\\s|"+un()+")"):It},Zo=function(ne,ge,lt,It,F,Z){var me=ne.selection,_e=oa(lt,F),Qe=me.isForward(),ot={regex:new RegExp(_e,It?"g":"gi"),matchIndex:1},En=ko(ne,ge,ot,Z);if(Vt.browser.isSafari()&&me.setRng(me.getRng(),Qe),En){var Vn=bo(ne,ge,!0);ge.set({index:Vn,count:En,text:lt,matchCase:It,wholeWord:F,inSelection:Z})}return En},ir=function(ne,ge){var lt=bo(ne,ge,!0);ge.set(fe(fe({},ge.get()),{index:lt}))},du=function(ne,ge){var lt=bo(ne,ge,!1);ge.set(fe(fe({},ge.get()),{index:lt}))},Go=function(ne){var ge=so(ne);return ge!==null&&ge.length>0},hi=function(ne,ge,lt,It,F){var Z=ge.get(),me=Z.index,_e,Qe=me;It=It!==!1;for(var ot=ne.getBody(),En=Ae.grep(Ae.toArray(ot.getElementsByTagName("span")),Go),Vn=0;Vn<En.length;Vn++){var Cr=so(En[Vn]),ht=_e=parseInt(Cr,10);if(F||ht===Z.index){for(lt.length?(En[Vn].firstChild.nodeValue=lt,si(En[Vn])):ri(ne.dom,En[Vn]);En[++Vn];)if(ht=parseInt(so(En[Vn]),10),ht===_e)ri(ne.dom,En[Vn]);else{Vn--;break}It&&Qe--}else _e>me&&En[Vn].setAttribute("data-mce-index",String(_e-1))}return ge.set(fe(fe({},Z),{count:F?0:Z.count-1,index:Qe})),It?ir(ne,ge):du(ne,ge),!F&&ge.get().count>0},mu=function(ne,ge,lt){for(var It,F,Z=ge.get(),me=Ae.toArray(ne.getBody().getElementsByTagName("span")),_e=0;_e<me.length;_e++){var Qe=so(me[_e]);Qe!==null&&Qe.length&&(Qe===Z.index.toString()&&(It||(It=me[_e].firstChild),F=me[_e].firstChild),si(me[_e]))}if(ge.set(fe(fe({},Z),{index:-1,count:0,text:""})),It&&F){var ot=ne.dom.createRng();return ot.setStart(It,0),ot.setEnd(F,F.data.length),lt!==!1&&ne.selection.setRng(ot),ot}},Di=function(ne,ge){return ge.get().count>1},gu=function(ne,ge){return ge.get().count>1},pu=function(ne,ge){var lt=function(_e){return mu(ne,ge,_e)},It=function(_e,Qe,ot,En){return En===void 0&&(En=!1),Zo(ne,ge,_e,Qe,ot,En)},F=function(){return ir(ne,ge)},Z=function(){return du(ne,ge)},me=function(_e,Qe,ot){return hi(ne,ge,_e,Qe,ot)};return{done:lt,find:It,next:F,prev:Z,replace:me}},ss=function(ne){var ge=ae($e.none()),lt=function(){return ge.get().each(ne)},It=function(){lt(),ge.set($e.none())},F=function(){return ge.get().isSome()},Z=function(){return ge.get()},me=function(_e){lt(),ge.set($e.some(_e))};return{clear:It,isSet:F,get:Z,set:me}},ue=function(){var ne=ss(at),ge=function(lt){return ne.get().each(lt)};return fe(fe({},ne),{on:ge})},Fe=function(ne,ge){var lt=ue();ne.undoManager.add();var It=Ae.trim(ne.selection.getContent({format:"text"})),F=function(lr){var Hr=Di(ne,ge)?lr.enable:lr.disable;Hr("next");var Oa=gu(ne,ge)?lr.enable:lr.disable;Oa("prev")},Z=function(lr){var Hr=lr.getData(),Oa=ge.get();ge.set(fe(fe({},Oa),{matchCase:Hr.matchcase,wholeWord:Hr.wholewords,inSelection:Hr.inselection}))},me=function(lr,Hr){var Oa=["replace","replaceall","prev","next"],Eo=Hr?lr.disable:lr.enable;U(Oa,Eo)},_e=function(lr){ne.windowManager.alert("Could not find the specified string.",function(){lr.focus("findtext")})},Qe=function(lr,Hr){Vt.browser.isSafari()&&Vt.deviceType.isTouch()&&(Hr==="find"||Hr==="replace"||Hr==="replaceall")&&lr.focus(Hr)},ot=function(lr){mu(ne,ge,!1),me(lr,!0),F(lr)},En=function(lr){var Hr=lr.getData(),Oa=ge.get();if(!Hr.findtext.length){ot(lr);return}if(Oa.text===Hr.findtext&&Oa.matchCase===Hr.matchcase&&Oa.wholeWord===Hr.wholewords)ir(ne,ge);else{var Eo=Zo(ne,ge,Hr.findtext,Hr.matchcase,Hr.wholewords,Hr.inselection);Eo<=0&&_e(lr),me(lr,Eo===0)}F(lr)},Vn=ge.get(),Cr={findtext:It,replacetext:"",wholewords:Vn.wholeWord,matchcase:Vn.matchCase,inselection:Vn.inSelection},ht={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:Cr,onChange:function(lr,Hr){Hr.name==="findtext"&&ge.get().count>0&&ot(lr)},onAction:function(lr,Hr){var Oa=lr.getData();switch(Hr.name){case"find":En(lr);break;case"replace":hi(ne,ge,Oa.replacetext)?F(lr):ot(lr);break;case"replaceall":hi(ne,ge,Oa.replacetext,!0,!0),ot(lr);break;case"prev":du(ne,ge),F(lr);break;case"next":ir(ne,ge),F(lr);break;case"matchcase":case"wholewords":case"inselection":Z(lr),ot(lr);break}Qe(lr,Hr.name)},onSubmit:function(lr){En(lr),Qe(lr,"find")},onClose:function(){ne.focus(),mu(ne,ge),ne.undoManager.add()}};lt.set(ne.windowManager.open(ht,{inline:"toolbar"}))},ce=function(ne,ge){ne.addCommand("SearchReplace",function(){Fe(ne,ge)})},it=function(ne,ge){return function(){Fe(ne,ge)}},Dn=function(ne,ge){ne.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:it(ne,ge),icon:"search"}),ne.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:it(ne,ge),icon:"search"}),ne.shortcuts.add("Meta+F","",it(ne,ge))};function qn(){z.add("searchreplace",function(ne){var ge=ae({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return ce(ne,ge),Dn(ne,ge),pu(ne,ge)})}qn()})();(function(){var ae=function(et){var vn=et,$t=function(){return vn},an=function(K){vn=K};return{get:$t,set:an}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(et){return et.hasPlugin("tinymcespellchecker",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},xe=Object.hasOwnProperty,we=function(et){for(var vn in et)if(xe.call(et,vn))return!1;return!0},nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),xt=tinymce.util.Tools.resolve("tinymce.util.URI"),mt=tinymce.util.Tools.resolve("tinymce.util.XHR"),gt=function(et){return et.fire("SpellcheckStart")},Xt=function(et){return et.fire("SpellcheckEnd")},at=function(et){var vn="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return et.getParam("spellchecker_languages",vn)},he=function(et){var vn=et.getParam("language","en");return et.getParam("spellchecker_language",vn)},ze=function(et){return et.getParam("spellchecker_rpc_url")},We=function(et){return et.getParam("spellchecker_callback")},Oe=function(et){var vn=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return et.getParam("spellchecker_wordchar_pattern",vn)},ve=function(et){return et&&et.nodeType===1&&et.contentEditable==="false"},Mt=function(et,vn){var $t,an=[],K=vn.dom,hr=vn.schema.getBlockElements(),pt=vn.schema.getWhiteSpaceElements(),qe=vn.schema.getShortEndedElements(),Rn=function(Ye,ct){if(!Ye[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:Ye.index,end:Ye.index+Ye[0].length,text:Ye[0],data:ct}},Le=function(Ye){if(Ye.nodeType===3)return Ye.data;if(pt[Ye.nodeName]&&!hr[Ye.nodeName])return"";if(ve(Ye))return`
`;var ct="";if((hr[Ye.nodeName]||qe[Ye.nodeName])&&(ct+=`
`),Ye=Ye.firstChild)do ct+=Le(Ye);while(Ye=Ye.nextSibling);return ct},Me=function(Ye,ct,dn){var Fn,hn,Ve,nn,Nn=[],yn=0,Yn=Ye,Ce,Ft=0;ct=ct.slice(0),ct.sort(function(wt,sn){return wt.start-sn.start}),Ce=ct.shift();e:for(;;){if((hr[Yn.nodeName]||qe[Yn.nodeName]||ve(Yn))&&yn++,Yn.nodeType===3&&(!hn&&Yn.length+yn>=Ce.end?(hn=Yn,nn=Ce.end-yn):Fn&&Nn.push(Yn),!Fn&&Yn.length+yn>Ce.start&&(Fn=Yn,Ve=Ce.start-yn),yn+=Yn.length),Fn&&hn){if(Yn=dn({startNode:Fn,startNodeIndex:Ve,endNode:hn,endNodeIndex:nn,innerNodes:Nn,match:Ce.text,matchIndex:Ft}),yn-=hn.length-nn,Fn=null,hn=null,Nn=[],Ce=ct.shift(),Ft++,!Ce)break}else if((!pt[Yn.nodeName]||hr[Yn.nodeName])&&Yn.firstChild){if(!ve(Yn)){Yn=Yn.firstChild;continue}}else if(Yn.nextSibling){Yn=Yn.nextSibling;continue}for(;;)if(Yn.nextSibling){Yn=Yn.nextSibling;break}else if(Yn.parentNode!==Ye)Yn=Yn.parentNode;else break e}},bt=function(Ye){var ct=function(dn,Fn){var hn=an[Fn];hn.stencil||(hn.stencil=Ye(hn));var Ve=hn.stencil.cloneNode(!1);return Ve.setAttribute("data-mce-index",""+Fn),dn&&Ve.appendChild(K.doc.createTextNode(dn)),Ve};return function(dn){var Fn,hn,Ve,nn=dn.startNode,Nn=dn.endNode,yn=dn.matchIndex,Yn=K.doc;if(nn===Nn){var Ce=nn;Ve=Ce.parentNode,dn.startNodeIndex>0&&(Fn=Yn.createTextNode(Ce.data.substring(0,dn.startNodeIndex)),Ve.insertBefore(Fn,Ce));var Ft=ct(dn.match,yn);return Ve.insertBefore(Ft,Ce),dn.endNodeIndex<Ce.length&&(hn=Yn.createTextNode(Ce.data.substring(dn.endNodeIndex)),Ve.insertBefore(hn,Ce)),Ce.parentNode.removeChild(Ce),Ft}Fn=Yn.createTextNode(nn.data.substring(0,dn.startNodeIndex)),hn=Yn.createTextNode(Nn.data.substring(dn.endNodeIndex));for(var wt=ct(nn.data.substring(dn.startNodeIndex),yn),sn=0,Zn=dn.innerNodes.length;sn<Zn;++sn){var Rr=dn.innerNodes[sn],Ia=ct(Rr.data,yn);Rr.parentNode.replaceChild(Ia,Rr)}var Dr=ct(Nn.data.substring(0,dn.endNodeIndex),yn);return Ve=nn.parentNode,Ve.insertBefore(Fn,nn),Ve.insertBefore(wt,nn),Ve.removeChild(nn),Ve=Nn.parentNode,Ve.insertBefore(Dr,Nn),Ve.insertBefore(hn,Nn),Ve.removeChild(Nn),Dr}},qt=function(Ye){for(var ct=Ye.parentNode;Ye.childNodes.length>0;)ct.insertBefore(Ye.childNodes[0],Ye);ct.removeChild(Ye)},yt=function(Ye){return Ye.className.indexOf("mce-spellchecker-word")!==-1},Ot=function(Ye){var ct=et.getElementsByTagName("*"),dn=[];Ye=typeof Ye=="number"?""+Ye:null;for(var Fn=0;Fn<ct.length;Fn++){var hn=ct[Fn],Ve=hn.getAttribute("data-mce-index");Ve!==null&&Ve.length&&yt(hn)&&(Ve===Ye||Ye===null)&&dn.push(hn)}return dn},tr=function(Ye){for(var ct=an.length;ct--;)if(an[ct]===Ye)return ct;return-1};function be(Ye){var ct=[];return St(function(dn,Fn){Ye(dn,Fn)&&ct.push(dn)}),an=ct,this}function St(Ye){for(var ct=0,dn=an.length;ct<dn&&Ye(an[ct],ct)!==!1;ct++);return this}function Cn(Ye){return an.length&&Me(et,an,bt(Ye)),this}function Wt(Ye,ct){if(Qt&&Ye.global)for(;$t=Ye.exec(Qt);)an.push(Rn($t,ct));return this}function Kn(Ye){var ct,dn=Ot(Ye?tr(Ye):null);for(ct=dn.length;ct--;)qt(dn[ct]);return this}var ar=function(Ye){return an[Ye.getAttribute("data-mce-index")]},qr=function(Ye){return Ot(tr(Ye))[0]};function va(Ye,ct,dn){return an.push({start:Ye,end:Ye+ct,text:Qt.substr(Ye,ct),data:dn}),this}var xa=function(Ye){var ct=Ot(tr(Ye)),dn=vn.dom.createRng();return dn.setStartBefore(ct[0]),dn.setEndAfter(ct[ct.length-1]),dn},Yt=function(Ye,ct){var dn=xa(Ye);return dn.deleteContents(),ct.length>0&&dn.insertNode(vn.dom.doc.createTextNode(ct)),dn};function jt(){return an.splice(0,an.length),Kn(),this}var Qt=Le(et);return{text:Qt,matches:an,each:St,filter:be,reset:jt,matchFromElement:ar,elementFromMatch:qr,find:Wt,add:va,wrap:Cn,unwrap:Kn,replace:Yt,rangeFromMatch:xa,indexOf:tr}},Ke=function(et,vn){if(!vn.get()){var $t=Mt(et.getBody(),et);vn.set($t)}return vn.get()},_t=function(et,vn,$t){return function(an,K,hr,pt){var qe={method:an,lang:$t.get()},Rn="";qe[an==="addToDictionary"?"word":"text"]=K,nt.each(qe,function(Le,Me){Rn&&(Rn+="&"),Rn+=Me+"="+encodeURIComponent(Le)}),mt.send({url:new xt(vn).toAbsolute(ze(et)),type:"post",content_type:"application/x-www-form-urlencoded",data:Rn,success:function(Le){var Me=JSON.parse(Le);if(Me)Me.error?pt(Me.error):hr(Me);else{var bt=et.translate("Server response wasn't proper JSON.");pt(bt)}},error:function(){var Le=et.translate("The spelling service was not found: (")+ze(et)+et.translate(")");pt(Le)}})}},j=function(et,vn,$t,an,K,hr,pt){var qe=We(et),Rn=qe||_t(et,vn,$t);Rn.call(et.plugins.spellchecker,an,K,hr,pt)},Ne=function(et,vn,$t,an,K,hr){if(!Ae(et,$t,an)){var pt=function(Rn){et.notificationManager.open({text:Rn,type:"error"}),et.setProgressState(!1),Ae(et,$t,an)},qe=function(Rn){Ue(et,$t,an,K,Rn)};et.setProgressState(!0),j(et,vn,hr,"spellcheck",Ke(et,an).text,qe,pt),et.focus()}},$e=function(et,vn,$t){et.dom.select("span.mce-spellchecker-word").length||Ae(et,vn,$t)},un=function(et,vn,$t,an,K,hr,pt){et.setProgressState(!0),j(et,vn,K,"addToDictionary",hr,function(){et.setProgressState(!1),et.dom.remove(pt,!0),$e(et,$t,an)},function(qe){et.notificationManager.open({text:qe,type:"error"}),et.setProgressState(!1)})},Vt=function(et,vn,$t,an,K,hr){et.selection.collapse(),hr?nt.each(et.dom.select("span.mce-spellchecker-word"),function(pt){pt.getAttribute("data-mce-word")===an&&et.dom.remove(pt,!0)}):et.dom.remove(K,!0),$e(et,vn,$t)},Ae=function(et,vn,$t){var an=et.selection.getBookmark();if(Ke(et,$t).reset(),et.selection.moveToBookmark(an),$t.set(null),vn.get())return vn.set(!1),Xt(et),!0},st=function(et){var vn=et.getAttribute("data-mce-index");return typeof vn=="number"?""+vn:vn},rt=function(et,vn){var $t=[],an=nt.toArray(et.getBody().getElementsByTagName("span"));if(an.length)for(var K=0;K<an.length;K++){var hr=st(an[K]);hr===null||!hr.length||hr===vn.toString()&&$t.push(an[K])}return $t},Ue=function(et,vn,$t,an,K){var hr=!!K.dictionary,pt=K.words;if(et.setProgressState(!1),we(pt)){var qe=et.translate("No misspellings found.");et.notificationManager.open({text:qe,type:"info"}),vn.set(!1);return}an.set({suggestions:pt,hasDictionarySupport:hr});var Rn=et.selection.getBookmark();Ke(et,$t).find(Oe(et)).filter(function(Le){return!!pt[Le.text]}).wrap(function(Le){return et.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Le.text})}),et.selection.moveToBookmark(Rn),vn.set(!0),gt(et)},U=function(et,vn,$t,an,K){var hr=function(){return Oe(et)},pt=function(qe){Ue(et,vn,an,$t,qe)};return{getTextMatcher:an.get,getWordCharPattern:hr,markErrors:pt,getLanguage:K.get}},B=function(et,vn,$t,an,K,hr){et.addCommand("mceSpellCheck",function(){Ne(et,vn,$t,an,K,hr)})},He=function(){return He=Object.assign||function(vn){for(var $t,an=1,K=arguments.length;an<K;an++){$t=arguments[an];for(var hr in $t)Object.prototype.hasOwnProperty.call($t,hr)&&(vn[hr]=$t[hr])}return vn},He.apply(this,arguments)},Jt="SpellcheckStart SpellcheckEnd",Xe=function(et,vn){var $t=[];return nt.each(vn,function(an){$t.push({selectable:!0,text:an.name,data:an.value})}),$t},pn=function(et){return nt.map(at(et).split(","),function(vn){var $t=vn.split("=");return{name:$t[0],value:$t[1]}})},Mn=function(et,vn,$t,an,K,hr){var pt=Xe("Language",pn(et)),qe=function(){Ne(et,vn,$t,an,hr,K)},Rn={tooltip:"Spellcheck",onAction:qe,icon:"spell-check",onSetup:function(Me){var bt=function(){Me.setActive($t.get())};return et.on(Jt,bt),function(){et.off(Jt,bt)}}},Le=He(He({},Rn),{type:"splitbutton",select:function(Me){return Me===K.get()},fetch:function(Me){var bt=nt.map(pt,function(qt){return{type:"choiceitem",value:qt.data,text:qt.text}});Me(bt)},onItemAction:function(Me,bt){K.set(bt)}});pt.length>1?et.ui.registry.addSplitButton("spellchecker",Le):et.ui.registry.addToggleButton("spellchecker",Rn),et.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(Me){Me.setActive($t.get());var bt=function(){Me.setActive($t.get())};return et.on(Jt,bt),function(){et.off(Jt,bt)}},onAction:qe})},A=!0,vt=function(et,vn,$t,an,K,hr,pt,qe){var Rn=[],Le=$t.get().suggestions[pt];nt.each(Le,function(bt){Rn.push({text:bt,onAction:function(){et.insertContent(et.dom.encode(bt)),et.dom.remove(qe),$e(et,an,K)}})});var Me=$t.get().hasDictionarySupport;return Me&&(Rn.push({type:"separator"}),Rn.push({text:"Add to dictionary",onAction:function(){un(et,vn,an,K,hr,pt,qe)}})),Rn.push.apply(Rn,[{type:"separator"},{text:"Ignore",onAction:function(){Vt(et,an,K,pt,qe)}},{text:"Ignore all",onAction:function(){Vt(et,an,K,pt,qe,A)}}]),Rn},Se=function(et,vn,$t,an,K,hr){var pt=function(qe){var Rn=qe;if(Rn.className==="mce-spellchecker-word"){var Le=rt(et,st(Rn));if(Le.length>0){var Me=et.dom.createRng();return Me.setStartBefore(Le[0]),Me.setEndAfter(Le[Le.length-1]),et.selection.setRng(Me),vt(et,vn,$t,an,K,hr,Rn.getAttribute("data-mce-word"),Le)}}else return[]};et.ui.registry.addContextMenu("spellchecker",{update:pt})};function Nt(){z.add("spellchecker",function(et,vn){if(fe(et)===!1){var $t=ae(!1),an=ae(he(et)),K=ae(null),hr=ae(null);return Mn(et,vn,$t,K,an,hr),Se(et,vn,hr,$t,K,an),B(et,vn,$t,K,hr,an),U(et,$t,hr,K,an)}})}Nt()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fe=tinymce.util.Tools.resolve("tinymce.EditorManager"),xe=tinymce.util.Tools.resolve("tinymce.Env"),we=tinymce.util.Tools.resolve("tinymce.util.Delay"),nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),xt=tinymce.util.Tools.resolve("tinymce.util.VK"),mt=function(We){return We.getParam("tabfocus_elements",":prev,:next")},gt=function(We){return We.getParam("tab_focus",mt(We))},Xt=z.DOM,at=function(We){We.keyCode===xt.TAB&&!We.ctrlKey&&!We.altKey&&!We.metaKey&&We.preventDefault()},he=function(We){var Oe=function(ve){var Mt;if(!(ve.keyCode!==xt.TAB||ve.ctrlKey||ve.altKey||ve.metaKey||ve.isDefaultPrevented())){var Ke=function($e){var un=Xt.select(":input:enabled,*[tabindex]:not(iframe)"),Vt=function(rt){var Ue=rt;return rt.nodeName==="BODY"||Ue.type!=="hidden"&&Ue.style.display!=="none"&&Ue.style.visibility!=="hidden"&&Vt(rt.parentNode)},Ae=function(rt){return/INPUT|TEXTAREA|BUTTON/.test(rt.tagName)&&fe.get(ve.id)&&rt.tabIndex!==-1&&Vt(rt)};if(nt.each(un,function(rt,Ue){if(rt.id===We.id)return Mt=Ue,!1}),$e>0){for(var st=Mt+1;st<un.length;st++)if(Ae(un[st]))return un[st]}else for(var st=Mt-1;st>=0;st--)if(Ae(un[st]))return un[st];return null},_t=nt.explode(gt(We));_t.length===1&&(_t[1]=_t[0],_t[0]=":prev");var j;if(ve.shiftKey?_t[0]===":prev"?j=Ke(-1):j=Xt.get(_t[0]):_t[1]===":next"?j=Ke(1):j=Xt.get(_t[1]),j){var Ne=fe.get(j.id||j.name);j.id&&Ne?Ne.focus():we.setTimeout(function(){xe.webkit||window.focus(),j.focus()},10),ve.preventDefault()}}};We.on("init",function(){We.inline&&Xt.setAttrib(We.getBody(),"tabIndex",null),We.on("keyup",at),xe.gecko?We.on("keypress keydown",Oe):We.on("keydown",Oe)})};function ze(){ae.add("tabfocus",function(We){he(We)})}ze()})();(function(){var ae=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},z=function(u){return function(l){return ae(l)===u}},fe=function(u){return function(l){return typeof l===u}},xe=function(u){return function(l){return u===l}},we=z("string"),nt=z("object"),xt=z("array"),mt=xe(null),gt=fe("boolean"),Xt=xe(void 0),at=function(u){return u==null},he=function(u){return!at(u)},ze=fe("function"),We=fe("number"),Oe=function(){},ve=function(u,l){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return u(l.apply(null,d))}},Mt=function(u,l){return function(d){return u(l(d))}},Ke=function(u){return function(){return u}},_t=function(u){return u},j=function(u,l){return u===l};function Ne(u){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];var x=l.concat(p);return u.apply(null,x)}}var $e=function(u){return function(l){return!u(l)}},un=function(u){return function(){throw new Error(u)}},Vt=Ke(!1),Ae=Ke(!0),st=function(){return rt},rt=function(){var u=function(p){return p()},l=_t,d={fold:function(p,y){return p()},isSome:Vt,isNone:Ae,getOr:l,getOrThunk:u,getOrDie:function(p){throw new Error(p||"error: getOrDie called on none.")},getOrNull:Ke(null),getOrUndefined:Ke(void 0),or:l,orThunk:u,map:st,each:Oe,bind:st,exists:Vt,forall:Ae,filter:function(){return st()},toArray:function(){return[]},toString:Ke("none()")};return d}(),Ue=function(u){var l=Ke(u),d=function(){return y},p=function(x){return x(u)},y={fold:function(x,D){return D(u)},isSome:Ae,isNone:Vt,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:d,orThunk:d,map:function(x){return Ue(x(u))},each:function(x){x(u)},bind:p,exists:p,forall:p,filter:function(x){return x(u)?y:rt},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return y},U=function(u){return u==null?rt:Ue(u)},B={some:Ue,none:st,from:U},He=Array.prototype.slice,Jt=Array.prototype.indexOf,Xe=Array.prototype.push,pn=function(u,l){return Jt.call(u,l)},Mn=function(u,l){return pn(u,l)>-1},A=function(u,l){for(var d=0,p=u.length;d<p;d++){var y=u[d];if(l(y,d))return!0}return!1},vt=function(u,l){for(var d=[],p=0;p<u;p++)d.push(l(p));return d},Se=function(u,l){for(var d=u.length,p=new Array(d),y=0;y<d;y++){var x=u[y];p[y]=l(x,y)}return p},Nt=function(u,l){for(var d=0,p=u.length;d<p;d++){var y=u[d];l(y,d)}},et=function(u,l){for(var d=u.length-1;d>=0;d--){var p=u[d];l(p,d)}},vn=function(u,l){for(var d=[],p=[],y=0,x=u.length;y<x;y++){var D=u[y],M=l(D,y)?d:p;M.push(D)}return{pass:d,fail:p}},$t=function(u,l){for(var d=[],p=0,y=u.length;p<y;p++){var x=u[p];l(x,p)&&d.push(x)}return d},an=function(u,l,d){return et(u,function(p,y){d=l(d,p,y)}),d},K=function(u,l,d){return Nt(u,function(p,y){d=l(d,p,y)}),d},hr=function(u,l,d){for(var p=0,y=u.length;p<y;p++){var x=u[p];if(l(x,p))return B.some(x);if(d(x,p))break}return B.none()},pt=function(u,l){return hr(u,l,Vt)},qe=function(u,l){for(var d=0,p=u.length;d<p;d++){var y=u[d];if(l(y,d))return B.some(d)}return B.none()},Rn=function(u){for(var l=[],d=0,p=u.length;d<p;++d){if(!xt(u[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+u);Xe.apply(l,u[d])}return l},Le=function(u,l){return Rn(Se(u,l))},Me=function(u,l){for(var d=0,p=u.length;d<p;++d){var y=u[d];if(l(y,d)!==!0)return!1}return!0},bt=function(u){var l=He.call(u,0);return l.reverse(),l},qt=function(u,l){for(var d={},p=0,y=u.length;p<y;p++){var x=u[p];d[String(x)]=l(x,p)}return d},yt=function(u){return[u]},Ot=function(u,l){var d=He.call(u,0);return d.sort(l),d},tr=function(u,l){return l>=0&&l<u.length?B.some(u[l]):B.none()},be=function(u){return tr(u,0)},St=function(u){return tr(u,u.length-1)},Cn=function(u,l){for(var d=0;d<u.length;d++){var p=l(u[d],d);if(p.isSome())return p}return B.none()},Wt=function(){return Wt=Object.assign||function(l){for(var d,p=1,y=arguments.length;p<y;p++){d=arguments[p];for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(l[x]=d[x])}return l},Wt.apply(this,arguments)};function Kn(u,l,d){if(d||arguments.length===2)for(var p=0,y=l.length,x;p<y;p++)(x||!(p in l))&&(x||(x=Array.prototype.slice.call(l,0,p)),x[p]=l[p]);return u.concat(x||Array.prototype.slice.call(l))}var ar=function(u){var l=!1,d;return function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];return l||(l=!0,d=u.apply(null,p)),d}},qr=function(u,l,d,p){var y=u.isiOS()&&/ipad/i.test(d)===!0,x=u.isiOS()&&!y,D=u.isiOS()||u.isAndroid(),M=D||p("(pointer:coarse)"),X=y||!x&&D&&p("(min-device-width:768px)"),oe=x||D&&!X,Te=l.isSafari()&&u.isiOS()&&/safari/i.test(d)===!1,Pt=!oe&&!X&&!Te;return{isiPad:Ke(y),isiPhone:Ke(x),isTablet:Ke(X),isPhone:Ke(oe),isTouch:Ke(M),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:Ke(Te),isDesktop:Ke(Pt)}},va=function(u,l){for(var d=0;d<u.length;d++){var p=u[d];if(p.test(l))return p}},xa=function(u,l){var d=va(u,l);if(!d)return{major:0,minor:0};var p=function(y){return Number(l.replace(d,"$"+y))};return Qt(p(1),p(2))},Yt=function(u,l){var d=String(l).toLowerCase();return u.length===0?jt():xa(u,d)},jt=function(){return Qt(0,0)},Qt=function(u,l){return{major:u,minor:l}},Ye={nu:Qt,detect:Yt,unknown:jt},ct=function(u,l){return Cn(l.brands,function(d){var p=d.brand.toLowerCase();return pt(u,function(y){var x;return p===((x=y.brand)===null||x===void 0?void 0:x.toLowerCase())}).map(function(y){return{current:y.name,version:Ye.nu(parseInt(d.version,10),0)}})})},dn=function(u,l){var d=String(l).toLowerCase();return pt(u,function(p){return p.search(d)})},Fn=function(u,l){return dn(u,l).map(function(d){var p=Ye.detect(d.versionRegexes,l);return{current:d.name,version:p}})},hn=function(u,l){return dn(u,l).map(function(d){var p=Ye.detect(d.versionRegexes,l);return{current:d.name,version:p}})},Ve=function(u,l){return u.substring(l)},nn=function(u,l,d){return l===""||u.length>=l.length&&u.substr(d,d+l.length)===l},Nn=function(u,l){return Yn(u,l)?Ve(u,l.length):u},yn=function(u,l){return u.indexOf(l)!==-1},Yn=function(u,l){return nn(u,l,0)},Ce=function(u,l){return nn(u,l,u.length-l.length)},Ft=function(u){return function(l){return l.replace(u,"")}},wt=Ft(/^\s+|\s+$/g),sn=function(u){return u.length>0},Zn=function(u){return!sn(u)},Rr=function(u){var l=parseFloat(u);return isNaN(l)?B.none():B.some(l)},Ia=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Dr=function(u){return function(l){return yn(l,u)}},Fr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return yn(u,"edge/")&&yn(u,"chrome")&&yn(u,"safari")&&yn(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ia],search:function(u){return yn(u,"chrome")&&!yn(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return yn(u,"msie")||yn(u,"trident")}},{name:"Opera",versionRegexes:[Ia,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Dr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Dr("firefox")},{name:"Safari",versionRegexes:[Ia,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(yn(u,"safari")||yn(u,"mobile/"))&&yn(u,"applewebkit")}}],Xa=[{name:"Windows",search:Dr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return yn(u,"iphone")||yn(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Dr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Dr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Dr("linux"),versionRegexes:[]},{name:"Solaris",search:Dr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Dr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Dr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ni={browsers:Ke(Fr),oses:Ke(Xa)},ho="Edge",so="Chrome",ko="IE",si="Opera",To="Firefox",bo="Safari",ri=function(){return oa({current:void 0,version:Ye.unknown()})},oa=function(u){var l=u.current,d=u.version,p=function(y){return function(){return l===y}};return{current:l,version:d,isEdge:p(ho),isChrome:p(so),isIE:p(ko),isOpera:p(si),isFirefox:p(To),isSafari:p(bo)}},Zo={unknown:ri,nu:oa,edge:Ke(ho),chrome:Ke(so),ie:Ke(ko),opera:Ke(si),firefox:Ke(To),safari:Ke(bo)},ir="Windows",du="iOS",Go="Android",hi="Linux",mu="OSX",Di="Solaris",gu="FreeBSD",pu="ChromeOS",ss=function(){return ue({current:void 0,version:Ye.unknown()})},ue=function(u){var l=u.current,d=u.version,p=function(y){return function(){return l===y}};return{current:l,version:d,isWindows:p(ir),isiOS:p(du),isAndroid:p(Go),isOSX:p(mu),isLinux:p(hi),isSolaris:p(Di),isFreeBSD:p(gu),isChromeOS:p(pu)}},Fe={unknown:ss,nu:ue,windows:Ke(ir),ios:Ke(du),android:Ke(Go),linux:Ke(hi),osx:Ke(mu),solaris:Ke(Di),freebsd:Ke(gu),chromeos:Ke(pu)},ce=function(u,l,d){var p=ni.browsers(),y=ni.oses(),x=l.bind(function(X){return ct(p,X)}).orThunk(function(){return Fn(p,u)}).fold(Zo.unknown,Zo.nu),D=hn(y,u).fold(Fe.unknown,Fe.nu),M=qr(D,x,u,d);return{browser:x,os:D,deviceType:M}},it={detect:ce},Dn=function(u){return window.matchMedia(u).matches},qn=ar(function(){return it.detect(navigator.userAgent,B.from(navigator.userAgentData),Dn)}),ne=function(){return qn()},ge=function(u,l,d){return(u.compareDocumentPosition(l)&d)!==0},lt=function(u,l){return ge(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},It=8,F=9,Z=11,me=1,_e=3,Qe=function(u,l){var d=l||document,p=d.createElement("div");if(p.innerHTML=u,!p.hasChildNodes()||p.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Vn(p.childNodes[0])},ot=function(u,l){var d=l||document,p=d.createElement(u);return Vn(p)},En=function(u,l){var d=l||document,p=d.createTextNode(u);return Vn(p)},Vn=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Cr=function(u,l,d){return B.from(u.dom.elementFromPoint(l,d)).map(Vn)},ht={fromHtml:Qe,fromTag:ot,fromText:En,fromDom:Vn,fromPoint:Cr},lr=function(u,l){var d=u.dom;if(d.nodeType!==me)return!1;var p=d;if(p.matches!==void 0)return p.matches(l);if(p.msMatchesSelector!==void 0)return p.msMatchesSelector(l);if(p.webkitMatchesSelector!==void 0)return p.webkitMatchesSelector(l);if(p.mozMatchesSelector!==void 0)return p.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},Hr=function(u){return u.nodeType!==me&&u.nodeType!==F&&u.nodeType!==Z||u.childElementCount===0},Oa=function(u,l){var d=l===void 0?document:l.dom;return Hr(d)?[]:Se(d.querySelectorAll(u),ht.fromDom)},Eo=function(u,l){var d=l===void 0?document:l.dom;return Hr(d)?B.none():B.from(d.querySelector(u)).map(ht.fromDom)},ia=function(u,l){return u.dom===l.dom},cs=function(u,l){var d=u.dom,p=l.dom;return d===p?!1:d.contains(p)},Hu=function(u,l){return lt(u.dom,l.dom)},yo=function(u,l){return ne().browser.isIE()?Hu(u,l):cs(u,l)},Lc=lr,Ii=Object.keys,hu=Object.hasOwnProperty,Ya=function(u,l){for(var d=Ii(u),p=0,y=d.length;p<y;p++){var x=d[p],D=u[x];l(D,x)}},pc=function(u,l){return Os(u,function(d,p){return{k:p,v:l(d,p)}})},Os=function(u,l){var d={};return Ya(u,function(p,y){var x=l(p,y);d[x.k]=x.v}),d},zc=function(u){return function(l,d){u[d]=l}},fl=function(u,l,d,p){var y={};return Ya(u,function(x,D){(l(x,D)?d:p)(x,D)}),y},Xi=function(u,l){var d={};return fl(u,l,zc(d),Oe),d},Du=function(u,l){var d=[];return Ya(u,function(p,y){d.push(l(p,y))}),d},Hc=function(u){return Du(u,_t)},bu=function(u){return Ii(u).length},Yi=function(u,l){return G(u,l)?B.from(u[l]):B.none()},G=function(u,l){return hu.call(u,l)},Ee=function(u,l){return G(u,l)&&u[l]!==void 0&&u[l]!==null},Ze=function(u){for(var l in u)if(hu.call(u,l))return!1;return!0},Ht=["tfoot","thead","tbody","colgroup"],xn=function(u){return Mn(Ht,u)},sr=function(u,l){return{rows:u,columns:l}},Ea=function(u,l){return{row:u,column:l}},$a=function(u,l,d){return{element:u,rowspan:l,colspan:d}},Jr=function(u,l,d,p){return{element:u,rowspan:l,colspan:d,isNew:p}},Qa=function(u,l,d,p,y,x){return{element:u,rowspan:l,colspan:d,row:p,column:y,isLocked:x}},vo=function(u,l,d){return{element:u,cells:l,section:d}},Ds=function(u,l,d,p){return{element:u,cells:l,section:d,isNew:p}},ci=function(u,l,d){return{element:u,isNew:l,isLocked:d}},ls=function(u,l,d,p){return{element:u,cells:l,section:d,isNew:p}},Sr=function(u,l,d,p){return{startRow:u,startCol:l,finishRow:d,finishCol:p}},Ks=function(u,l,d){return{element:u,colspan:l,column:d}},Af=function(u,l){return{element:u,columns:l}};typeof window<"u"||Function("return this;")();var Sa=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Ll=function(u){return u.dom.nodeType},zl=function(u){return function(l){return Ll(l)===u}},yv=function(u){return Ll(u)===It||Sa(u)==="#comment"},Ga=zl(me),_u=zl(_e),md=zl(F),Vu=zl(Z),qo=function(u){return function(l){return Ga(l)&&Sa(l)===u}},hc=function(u){return ht.fromDom(u.dom.ownerDocument)},Rt=function(u){return md(u)?u:hc(u)},vl=function(u){return ht.fromDom(Rt(u).dom.defaultView)},Ro=function(u){return B.from(u.dom.parentNode).map(ht.fromDom)},Of=function(u){return B.from(u.dom.parentElement).map(ht.fromDom)},Xs=function(u,l){for(var d=ze(l)?l:Vt,p=u.dom,y=[];p.parentNode!==null&&p.parentNode!==void 0;){var x=p.parentNode,D=ht.fromDom(x);if(y.push(D),d(D)===!0)break;p=x}return y},Vc=function(u){return B.from(u.dom.previousSibling).map(ht.fromDom)},R=function(u){return B.from(u.dom.nextSibling).map(ht.fromDom)},k=function(u){return Se(u.dom.childNodes,ht.fromDom)},I=function(u,l){var d=u.dom.childNodes;return B.from(d[l]).map(ht.fromDom)},Y=function(u){return I(u,0)},ye=function(u){return Vu(u)&&he(u.dom.host)},ut=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),mn=Ke(ut),vr=ut?function(u){return ht.fromDom(u.dom.getRootNode())}:Rt,Pr=function(u){var l=vr(u);return ye(l)?B.some(l):B.none()},Un=function(u){return ht.fromDom(u.dom.host)},ur=function(u){if(mn()&&he(u.target)){var l=ht.fromDom(u.target);if(Ga(l)&&Gr(l)&&u.composed&&u.composedPath){var d=u.composedPath();if(d)return be(d)}}return B.from(u.target)},Gr=function(u){return he(u.dom.shadowRoot)},jr=function(u){var l=_u(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var d=l.ownerDocument;return Pr(ht.fromDom(l)).fold(function(){return d.body.contains(l)},Mt(jr,Un))},Br=function(){return co(ht.fromDom(document))},co=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return ht.fromDom(l)},Vr=function(u,l,d){return $t(Xs(u,d),l)},qa=function(u,l){return $t(k(u),l)},La=function(u,l){var d=[];return Nt(k(u),function(p){l(p)&&(d=d.concat([p])),d=d.concat(La(p,l))}),d},bi=function(u,l,d){return Vr(u,function(p){return lr(p,l)},d)},Zr=function(u,l){return qa(u,function(d){return lr(d,l)})},_s=function(u,l){return Oa(l,u)};function wo(u,l,d,p,y){return u(d,p)?B.some(d):ze(y)&&y(d)?B.none():l(d,p,y)}var Po=function(u,l,d){for(var p=u.dom,y=ze(d)?d:Vt;p.parentNode;){p=p.parentNode;var x=ht.fromDom(p);if(l(x))return B.some(x);if(y(x))break}return B.none()},Zh=function(u,l,d){var p=function(y,x){return x(y)};return wo(p,Po,u,l,d)},$i=function(u,l){var d=function(y){return l(ht.fromDom(y))},p=pt(u.dom.childNodes,d);return p.map(ht.fromDom)},lp=function(u,l){var d=function(p){for(var y=0;y<p.childNodes.length;y++){var x=ht.fromDom(p.childNodes[y]);if(l(x))return B.some(x);var D=d(p.childNodes[y]);if(D.isSome())return D}return B.none()};return d(u.dom)},Uc=function(u,l,d){return Po(u,function(p){return lr(p,l)},d)},Mr=function(u,l){return $i(u,function(d){return lr(d,l)})},Rs=function(u,l){return Eo(l,u)},Io=function(u,l,d){var p=function(y,x){return lr(y,x)};return wo(p,Uc,u,l,d)},$o=function(u,l,d){if(we(d)||gt(d)||We(d))u.setAttribute(l,d+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",u),new Error("Attribute value was not simple")},yi=function(u,l,d){$o(u.dom,l,d)},ai=function(u,l){var d=u.dom;Ya(l,function(p,y){$o(d,y,p)})},Df=function(u,l){Ya(l,function(d,p){d.fold(function(){mo(u,p)},function(y){$o(u.dom,p,y)})})},Ys=function(u,l){var d=u.dom.getAttribute(l);return d===null?void 0:d},Da=function(u,l){return B.from(Ys(u,l))},mo=function(u,l){u.dom.removeAttribute(l)},Ru=function(u){return K(u.dom.attributes,function(l,d){return l[d.name]=d.value,l},{})},dl=function(u,l,d){return d===void 0&&(d=j),u.exists(function(p){return d(p,l)})},li=function(u){for(var l=[],d=function(y){l.push(y)},p=0;p<u.length;p++)u[p].each(d);return l},Ps=function(u,l,d){return u.isSome()&&l.isSome()?B.some(d(u.getOrDie(),l.getOrDie())):B.none()},Jh=function(u,l){return u!=null?l(u):B.none()},_f=function(u){return u.bind(_t)},eo=function(u,l){return u?B.some(l):B.none()},bc=function(u){return u.style!==void 0&&ze(u.style.getPropertyValue)},Hl=function(u,l,d){if(!we(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",u),new Error("CSS value must be a string: "+d);bc(u)&&u.style.setProperty(l,d)},Uu=function(u,l){bc(u)&&u.style.removeProperty(l)},Ko=function(u,l,d){var p=u.dom;Hl(p,l,d)},Vl=function(u,l){var d=u.dom;Ya(l,function(p,y){Hl(d,y,p)})},ml=function(u,l){var d=u.dom,p=window.getComputedStyle(d),y=p.getPropertyValue(l);return y===""&&!jr(u)?yu(d,l):y},yu=function(u,l){return bc(u)?u.style.getPropertyValue(l):""},Wu=function(u,l){var d=u.dom,p=yu(d,l);return B.from(p).filter(function(y){return y.length>0})},Zi=function(u,l){var d=u.dom;Uu(d,l),dl(Da(u,"style").map(wt),"")&&mo(u,"style")},wv=function(u,l){var d=u.dom,p=l.dom;bc(d)&&bc(p)&&(p.style.cssText=d.style.cssText)},yc=function(u,l,d){return d===void 0&&(d=0),Da(u,l).map(function(p){return parseInt(p,10)}).getOr(d)},wi=function(u,l){return yc(u,l,1)},gd=function(u){return qo("col")(u)?yc(u,"span",1)>1:wi(u,"colspan")>1},Qh=function(u){return wi(u,"rowspan")>1},Rf=function(u,l){return parseInt(ml(u,l),10)},Pf=Ke(10),Lo=Ke(10),Bf=function(u,l){return Mf(u,l,Ae)},Mf=function(u,l,d){return Le(k(u),function(p){return lr(p,l)?d(p)?[p]:[]:Mf(p,l,d)})},wu=function(u,l,d){if(d===void 0&&(d=Vt),d(l))return B.none();if(Mn(u,Sa(l)))return B.some(l);var p=function(y){return lr(y,"table")||d(y)};return Uc(l,u.join(","),p)},gl=function(u,l){return wu(["td","th"],u,l)},Ff=function(u){return Bf(u,"th,td")},pl=function(u){return lr(u,"colgroup")?Zr(u,"col"):Le(Sm(u),function(l){return Zr(l,"col")})},Ao=function(u,l){return Io(u,"table",l)},fs=function(u){return Bf(u,"tr")},Sm=function(u){return Ao(u).fold(Ke([]),function(l){return Zr(l,"colgroup")})},Bs=function(u,l){return Se(u,function(d){if(Sa(d)==="colgroup"){var p=Se(pl(d),function(y){var x=yc(y,"span",1);return $a(y,1,x)});return vo(d,p,"colgroup")}else{var p=Se(Ff(d),function(x){var D=yc(x,"rowspan",1),M=yc(x,"colspan",1);return $a(x,D,M)});return vo(d,p,l(d))}})},xm=function(u){return Ro(u).map(function(l){var d=Sa(l);return xn(d)?d:"tbody"}).getOr("tbody")},e1=function(u){var l=fs(u),d=Sm(u),p=Kn(Kn([],d,!0),l,!0);return Bs(p,xm)},fp=function(u,l){return Bs(u,function(){return l})},Nf=function(u,l,d){var p=u.cells,y=p.slice(0,l),x=p.slice(l),D=y.concat(d).concat(x);return Nr(u,D)},If=function(u,l,d){return Nf(u,l,[d])},Ul=function(u,l,d){var p=u.cells;p[l]=d},Nr=function(u,l){return ls(u.element,l,u.section,u.isNew)},Zs=function(u,l){var d=u.cells,p=Se(d,l);return ls(u.element,p,u.section,u.isNew)},ju=function(u,l){return u.cells[l]},Cu=function(u,l){return ju(u,l).element},Js=function(u){return u.cells.length},Jo=function(u){var l=vn(u,function(d){return d.section==="colgroup"});return{rows:l.fail,cols:l.pass}},Ci=function(u,l,d){var p=Se(u.cells,d);return ls(l(u.element),p,u.section,!0)},oi="data-snooker-locked-cols",Wl=function(u){return Da(u,oi).bind(function(l){return B.from(l.match(/\d+/g))}).map(function(l){return qt(l,Ae)})},Ji=function(u){var l=K(Jo(u).rows,function(p,y){return Nt(y.cells,function(x,D){x.isLocked&&(p[D]=!0)}),p},{}),d=Du(l,function(p,y){return parseInt(y,10)});return Ot(d)},Jn=function(u,l){return u+","+l},$f=function(u,l,d){return B.from(u.access[Jn(l,d)])},vp=function(u,l,d){var p=Qr(u,function(y){return d(l,y.element)});return p.length>0?B.some(p[0]):B.none()},Qr=function(u,l){var d=Le(u.all,function(p){return p.cells});return $t(d,l)},to=function(u){var l={},d=0;return Nt(u.cells,function(p){var y=p.colspan;vt(y,function(x){var D=d+x;l[D]=Ks(p.element,y,D)}),d+=y}),l},km=function(u){var l={},d=[],p=be(u).map(function(On){return On.element}).bind(Ao),y=p.bind(Wl).getOr({}),x=0,D=0,M=0,X=vn(u,function(On){return On.section==="colgroup"}),oe=X.pass,Te=X.fail;Nt(Te,function(On){var Bn=[];Nt(On.cells,function(mr){for(var wa=0;l[Jn(M,wa)]!==void 0;)wa++;for(var yr=Ee(y,wa.toString()),zr=Qa(mr.element,mr.rowspan,mr.colspan,M,wa,yr),da=0;da<mr.colspan;da++)for(var sa=0;sa<mr.rowspan;sa++){var mi=M+sa,Ui=wa+da,ns=Jn(mi,Ui);l[ns]=zr,D=Math.max(D,Ui+1)}Bn.push(zr)}),x++,d.push(vo(On.element,Bn,On.section)),M++});var Pt=St(oe).map(function(On){var Bn=to(On),mr=Af(On.element,Hc(Bn));return{colgroups:[mr],columns:Bn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),cn=Pt.columns,en=Pt.colgroups,Dt=sr(x,D);return{grid:Dt,access:l,all:d,columns:cn,colgroups:en}},Wc=function(u){var l=e1(u);return km(l)},Co=function(u){return Le(u.all,function(l){return l.cells})},Tm=function(u){return Hc(u.columns)},vs=function(u){return Ii(u.columns).length>0},pd=function(u,l){return B.from(u.columns[l])},na={fromTable:Wc,generate:km,getAt:$f,findItem:vp,filterItems:Qr,justCells:Co,justColumns:Tm,hasColumns:vs,getColumnAt:pd},Pu=function(u,l){var d=l.column,p=l.column+l.colspan-1,y=l.row,x=l.row+l.rowspan-1;return d<=u.finishCol&&p>=u.startCol&&y<=u.finishRow&&x>=u.startRow},U0=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},W0=function(u,l){for(var d=!0,p=Ne(U0,l),y=l.startRow;y<=l.finishRow;y++)for(var x=l.startCol;x<=l.finishCol;x++)d=d&&na.getAt(u,y,x).exists(p);return d?B.some(l):B.none()},Oo=function(u,l){return Sr(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},Em=function(u,l,d){var p=na.findItem(u,l,ia),y=na.findItem(u,d,ia);return p.bind(function(x){return y.map(function(D){return Oo(x,D)})})},E=function(u,l,d){return Em(u,l,d).bind(function(p){return W0(u,p)})},$=function(u,l,d,p){return na.findItem(u,l,ia).bind(function(y){var x=d>0?y.row+y.rowspan-1:y.row,D=p>0?y.column+y.colspan-1:y.column,M=na.getAt(u,x+d,D+p);return M.map(function(X){return X.element})})},W=function(u,l,d){return Em(u,l,d).map(function(p){var y=na.filterItems(u,Ne(Pu,p));return Se(y,function(x){return x.element})})},se=function(u,l){var d=function(p,y){return yo(y,p)};return na.findItem(u,l,d).map(function(p){return p.element})},Ge=function(u,l,d){return Ao(u).bind(function(p){var y=ga(p);return $(y,u,l,d)})},Bt=function(u,l,d){var p=ga(u);return W(p,l,d)},cr=function(u,l,d,p,y){var x=ga(u),D=ia(u,d)?B.some(l):se(x,l),M=ia(u,y)?B.some(p):se(x,p);return D.bind(function(X){return M.bind(function(oe){return W(x,X,oe)})})},Ur=function(u,l,d){var p=ga(u);return E(p,l,d)},ga=na.fromTable,ra=function(u,l){var d=Ro(u);d.each(function(p){p.dom.insertBefore(l.dom,u.dom)})},oo=function(u,l){var d=R(u);d.fold(function(){var p=Ro(u);p.each(function(y){zo(y,l)})},function(p){ra(p,l)})},Qi=function(u,l){var d=Y(u);d.fold(function(){zo(u,l)},function(p){u.dom.insertBefore(l.dom,p.dom)})},zo=function(u,l){u.dom.appendChild(l.dom)},TT=function(u,l,d){I(u,d).fold(function(){zo(u,l)},function(p){ra(p,l)})},tC=function(u,l){ra(u,l),zo(l,u)},nC=function(u,l){Nt(l,function(d){ra(u,d)})},ET=function(u,l){Nt(l,function(d,p){var y=p===0?u:l[p-1];oo(y,d)})},hl=function(u,l){Nt(l,function(d){zo(u,d)})},dp=function(u){u.dom.textContent="",Nt(k(u),function(l){ds(l)})},ds=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Am=function(u){var l=k(u);l.length>0&&nC(u,l),ds(u)},j0=function(u,l){var d=function(x){if(!u(x))throw new Error("Can only get "+l+" value of a "+l+" node");return p(x).getOr("")},p=function(x){return u(x)?B.from(x.dom.nodeValue):B.none()},y=function(x,D){if(!u(x))throw new Error("Can only set raw "+l+" value of a "+l+" node");x.dom.nodeValue=D};return{get:d,getOption:p,set:y}},mp=j0(_u,"text"),t1=function(u){return mp.get(u)},rC=function(u){return mp.getOption(u)},AT=function(u,l){return mp.set(u,l)},bl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function gp(){var u=function(oe){return ht.fromDom(oe.dom.cloneNode(!1))},l=function(oe){return Rt(oe).dom},d=function(oe){return Ga(oe)?Sa(oe)==="body"?!0:Mn(bl,Sa(oe)):!1},p=function(oe){return Ga(oe)?Mn(["br","img","hr","input"],Sa(oe)):!1},y=function(oe){return Ga(oe)&&Ys(oe,"contenteditable")==="false"},x=function(oe,Te){return oe.dom.compareDocumentPosition(Te.dom)},D=function(oe,Te){var Pt=Ru(oe);ai(Te,Pt)},M=function(oe){var Te=Sa(oe);return Mn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Te)},X=function(oe){return Ga(oe)?Da(oe,"lang"):B.none()};return{up:Ke({selector:Uc,closest:Io,predicate:Po,all:Xs}),down:Ke({selector:_s,predicate:La}),styles:Ke({get:ml,getRaw:Wu,set:Ko,remove:Zi}),attrs:Ke({get:Ys,set:yi,remove:mo,copyTo:D}),insert:Ke({before:ra,after:oo,afterAll:ET,append:zo,appendAll:hl,prepend:Qi,wrap:tC}),remove:Ke({unwrap:Am,remove:ds}),create:Ke({nu:ht.fromTag,clone:u,text:ht.fromText}),query:Ke({comparePosition:x,prevSibling:Vc,nextSibling:R}),property:Ke({children:k,name:Sa,parent:Ro,document:l,isText:_u,isComment:yv,isElement:Ga,isSpecial:M,getLanguage:X,getText:t1,setText:AT,isBoundary:d,isEmptyTag:p,isNonEditable:y}),eq:ia,is:Lc}}var OT=function(u,l,d,p){var y=d[0],x=d.slice(1);return p(u,l,y,x)},G0=function(u,l,d){return d.length>0?OT(u,l,d,DT):B.none()},DT=function(u,l,d,p){var y=l(u,d);return an(p,function(x,D){var M=l(u,D);return _T(u,x,M)},y)},_T=function(u,l,d){return l.bind(function(p){return d.filter(Ne(u.eq,p))})},Om=function(u,l){return Ne(u.eq,l)},pp=function(u,l,d,p){p===void 0&&(p=Vt);var y=[l].concat(u.up().all(l)),x=[d].concat(u.up().all(d)),D=function(Te){var Pt=qe(Te,p);return Pt.fold(function(){return Te},function(cn){return Te.slice(0,cn+1)})},M=D(y),X=D(x),oe=pt(M,function(Te){return A(X,Om(u,Te))});return{firstpath:M,secondpath:X,shared:oe}},aC=G0,oC=pp,Ms=gp(),br=function(u,l){return aC(Ms,function(d,p){return u(p)},l)},Lf=function(u,l,d){return oC(Ms,u,l,d)},hp=function(u){return Uc(u,"table")},Cv=function(u,l,d){var p=function(y){return function(x){return d!==void 0&&d(x)||ia(x,y)}};return ia(u,l)?B.some({boxes:B.some([u]),start:u,finish:l}):hp(u).bind(function(y){return hp(l).bind(function(x){if(ia(y,x))return B.some({boxes:Bt(y,u,l),start:u,finish:l});if(yo(y,x)){var D=bi(l,"td,th",p(y)),M=D.length>0?D[D.length-1]:l;return B.some({boxes:cr(y,u,y,l,x),start:u,finish:M})}else if(yo(x,y)){var D=bi(u,"td,th",p(x)),X=D.length>0?D[D.length-1]:u;return B.some({boxes:cr(x,u,y,l,x),start:u,finish:X})}else return Lf(u,l).shared.bind(function(oe){return Io(oe,"table",d).bind(function(Te){var Pt=bi(l,"td,th",p(Te)),cn=Pt.length>0?Pt[Pt.length-1]:l,en=bi(u,"td,th",p(Te)),Dt=en.length>0?en[en.length-1]:u;return B.some({boxes:cr(Te,u,y,l,x),start:Dt,finish:cn})})})})})},Dm=function(u,l){var d=_s(u,l);return d.length>0?B.some(d):B.none()},q0=function(u,l){return pt(u,function(d){return lr(d,l)})},jc=function(u,l,d){return Rs(u,l).bind(function(p){return Rs(u,d).bind(function(y){return br(hp,[p,y]).map(function(x){return{first:p,last:y,table:x}})})})},hd=function(u,l){return Uc(u,"table").bind(function(d){return Rs(d,l).bind(function(p){return Cv(p,u).bind(function(y){return y.boxes.map(function(x){return{boxes:x,start:y.start,finish:y.finish}})})})})},_m=function(u,l,d,p,y){return q0(u,y).bind(function(x){return Ge(x,l,d).bind(function(D){return hd(D,p)})})},Qo=function(u,l){return Dm(u,l)},Li=function(u,l,d){return jc(u,l,d).bind(function(p){var y=function(X){return ia(u,X)},x="thead,tfoot,tbody,table",D=Uc(p.first,x,y),M=Uc(p.last,x,y);return D.bind(function(X){return M.bind(function(oe){return ia(X,oe)?Ur(p.table,p.first,p.last):B.none()})})})},bp=function(u){if(!xt(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],d={};return Nt(u,function(p,y){var x=Ii(p);if(x.length!==1)throw new Error("one and only one name per case");var D=x[0],M=p[D];if(d[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!xt(M))throw new Error("case arguments must be an array");l.push(D),d[D]=function(){for(var X=[],oe=0;oe<arguments.length;oe++)X[oe]=arguments[oe];var Te=X.length;if(Te!==M.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+M.length+" ("+M+"), got "+Te);var Pt=function(cn){var en=Ii(cn);if(l.length!==en.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+en.join(","));var Dt=Me(l,function(On){return Mn(en,On)});if(!Dt)throw new Error("Not all branches were specified when using match. Specified: "+en.join(", ")+`
Required: `+l.join(", "));return cn[D].apply(null,X)};return{fold:function(){for(var cn=[],en=0;en<arguments.length;en++)cn[en]=arguments[en];if(cn.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+cn.length);var Dt=cn[y];return Dt.apply(null,X)},match:Pt,log:function(cn){console.log(cn,{constructors:l,constructor:D,params:X})}}}}),d},jl={generate:bp},yp=jl.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),n1=function(u,l,d,p){return u.fold(l,d,p)},r1=yp.none,RT=yp.multiple,Rm=yp.single,Su=function(u,l,d){var p=function(){return Qo(u(),d).fold(function(){return l().fold(r1,Rm)},function(y){return RT(y)})};return{get:p}},iC=tinymce.util.Tools.resolve("tinymce.PluginManager"),Bo=function(u,l){return ht.fromDom(u.dom.cloneNode(l))},Gc=function(u){return Bo(u,!1)},Ua=function(u){return Bo(u,!0)},Sv=function(u,l){var d=ht.fromTag(l),p=Ru(u);return ai(d,p),d},wc=function(u,l){var d=Sv(u,l),p=k(Ua(u));return hl(d,p),d},PT=function(u,l){var d=Sv(u,l);ra(u,d);var p=k(u);return hl(d,p),ds(u),d},Si=function(u,l){var d=function(M,X){if(!We(X)&&!X.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+X);var oe=M.dom;bc(oe)&&(oe.style[u]=X+"px")},p=function(M){var X=l(M);if(X<=0||X===null){var oe=ml(M,u);return parseFloat(oe)||0}return X},y=p,x=function(M,X){return K(X,function(oe,Te){var Pt=ml(M,Te),cn=Pt===void 0?0:parseInt(Pt,10);return isNaN(cn)?oe:oe+cn},0)},D=function(M,X,oe){var Te=x(M,oe),Pt=X>Te?X-Te:0;return Pt};return{set:d,get:p,getOuter:y,aggregate:x,max:D}},Gu=function(){var u=ne().browser;return u.isIE()||u.isEdge()},uC=function(u,l){return Rr(u).getOr(l)},Gt=function(u,l,d){return uC(ml(u,l),d)},ms=function(u){return ml(u,"box-sizing")},zf=function(u,l,d,p){var y=Gt(u,"padding-"+d,0),x=Gt(u,"padding-"+p,0),D=Gt(u,"border-"+d+"-width",0),M=Gt(u,"border-"+p+"-width",0);return l-y-x-D-M},Ir=function(u,l){var d=u.dom,p=d.getBoundingClientRect().height||d.offsetHeight;return l==="border-box"?p:zf(u,p,"top","bottom")},Qs=function(u,l){var d=u.dom,p=d.getBoundingClientRect().width||d.offsetWidth;return l==="border-box"?p:zf(u,p,"left","right")},BT=function(u){return Gu()?Ir(u,ms(u)):Gt(u,"height",u.dom.offsetHeight)},Bu=function(u){return Gu()?Qs(u,ms(u)):Gt(u,"width",u.dom.offsetWidth)},Pm=function(u){return Qs(u,"content-box")},Gl=Si("width",function(u){return u.dom.offsetWidth}),qc=function(u){return Gl.get(u)},xu=function(u){return Gl.getOuter(u)},_a=Pm,yl=Bu,bd=function(u,l){l===void 0&&(l=Ae);var d=u.grid,p=vt(d.columns,_t),y=vt(d.rows,_t);return Se(p,function(x){var D=function(){return Le(y,function(oe){return na.getAt(u,oe,x).filter(function(Te){return Te.column===x}).toArray()})},M=function(oe){return oe.colspan===1&&l(oe.element)},X=function(){return na.getAt(u,0,x)};return lo(D,M,X)})},lo=function(u,l,d){var p=u(),y=pt(p,l),x=y.orThunk(function(){return B.from(p[0]).orThunk(d)});return x.map(function(D){return D.element})},xv=function(u){var l=u.grid,d=vt(l.rows,_t),p=vt(l.columns,_t);return Se(d,function(y){var x=function(){return Le(p,function(X){return na.getAt(u,y,X).filter(function(oe){return oe.row===y}).fold(Ke([]),function(oe){return[oe]})})},D=function(X){return X.rowspan===1},M=function(){return na.getAt(u,y,0)};return lo(x,D,M)})},Fs=function(u,l){if(l<0||l>=u.length-1)return B.none();var d=u[l].fold(function(){var y=bt(u.slice(0,l));return Cn(y,function(x,D){return x.map(function(M){return{value:M,delta:D+1}})})},function(y){return B.some({value:y,delta:0})}),p=u[l+1].fold(function(){var y=u.slice(l+1);return Cn(y,function(x,D){return x.map(function(M){return{value:M,delta:D+1}})})},function(y){return B.some({value:y,delta:1})});return d.bind(function(y){return p.map(function(x){var D=x.delta+y.delta;return Math.abs(x.value-y.value)/D})})},Ns=function(u,l){return function(d){return MT(d)==="rtl"?l:u}},MT=function(u){return ml(u,"direction")==="rtl"?"rtl":"ltr"},Ie=Si("height",function(u){var l=u.dom;return jr(u)?l.getBoundingClientRect().height:l.offsetHeight}),qu=function(u){return Ie.get(u)},gs=function(u){return Ie.getOuter(u)},Bm=BT,ec=function(u,l){var d=function(p,y){return ec(u+p,l+y)};return{left:u,top:l,translate:d}},no=ec,fo=function(u){var l=u.getBoundingClientRect();return no(l.left,l.top)},ps=function(u,l){return u!==void 0?u:l!==void 0?l:0},Hf=function(u){var l=u.dom.ownerDocument,d=l.body,p=l.defaultView,y=l.documentElement;if(d===u.dom)return no(d.offsetLeft,d.offsetTop);var x=ps(p==null?void 0:p.pageYOffset,y.scrollTop),D=ps(p==null?void 0:p.pageXOffset,y.scrollLeft),M=ps(y.clientTop,d.clientTop),X=ps(y.clientLeft,d.clientLeft);return K0(u).translate(D-X,x-M)},K0=function(u){var l=u.dom,d=l.ownerDocument,p=d.body;return p===l?no(p.offsetLeft,p.offsetTop):jr(u)?fo(l):no(0,0)},kr=function(u,l){return{row:u,y:l}},a1=function(u,l){return{col:u,x:l}},tc=function(u){var l=Hf(u);return l.left+xu(u)},sC=function(u){return Hf(u).left},wp=function(u,l){return a1(u,sC(l))},Cp=function(u,l){return a1(u,tc(l))},X0=function(u){return Hf(u).top},Y0=function(u,l){return kr(u,X0(l))},ql=function(u,l){return kr(u,X0(l)+gs(l))},Vf=function(u,l,d){if(d.length===0)return[];var p=Se(d.slice(1),function(x,D){return x.map(function(M){return u(D,M)})}),y=d[d.length-1].map(function(x){return l(d.length-1,x)});return p.concat([y])},FT=function(u){return-u},Z0={delta:_t,positions:function(u){return Vf(Y0,ql,u)},edge:X0},NT={delta:_t,edge:sC,positions:function(u){return Vf(wp,Cp,u)}},cC={delta:FT,edge:tc,positions:function(u){return Vf(Cp,wp,u)}},Sp=Ns(NT,cC),Mm={delta:function(u,l){return Sp(l).delta(u,l)},positions:function(u,l){return Sp(l).positions(u,l)},edge:function(u){return Sp(u).edge(u)}},lC={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kl=function(){var u="[0-9]+",l="[+-]?"+u,d="[eE]"+l,p="\\.",y=function(M){return"(?:"+M+")?"},x=["Infinity",u+p+y(u)+y(d),p+u+y(d),u+y(d)].join("|"),D="[+-]?(?:"+x+")";return new RegExp("^("+D+")(.*)$")}(),Fm=function(u,l){return A(l,function(d){return A(lC[d],function(p){return u===p})})},J0=function(u,l){var d=B.from(Kl.exec(u));return d.bind(function(p){var y=Number(p[1]),x=p[2];return Fm(x,l)?B.some({value:y,unit:x}):B.none()})},fC=/(\d+(\.\d+)?)%/,IT=/(\d+(\.\d+)?)px|em/,$T=qo("col"),fi=function(u,l,d){var p=Of(u).getOrThunk(function(){return co(hc(u))});return l(u)/d(p)*100},Xl=function(u,l){Ko(u,"width",l+"px")},Kc=function(u,l){Ko(u,"width",l+"%")},kv=function(u,l){Ko(u,"height",l+"px")},vC=function(u){return Bm(u)+"px"},Xc=function(u,l,d,p){var y=Ao(u).map(function(x){var D=d(x);return Math.floor(l/100*D)}).getOr(l);return p(u,y),y},yd=function(u,l,d,p){var y=parseFloat(u);return Ce(u,"%")&&Sa(l)!=="table"?Xc(l,y,d,p):y},Q0=function(u){var l=vC(u);return l?yd(l,u,qu,kv):qu(u)},ey=function(u,l,d){var p=d(u),y=wi(u,l);return p/y},Uf=function(u,l){return Wu(u,l).orThunk(function(){return Da(u,l).map(function(d){return d+"px"})})},Cc=function(u){return Uf(u,"width")},eu=function(u){return Uf(u,"height")},o1=function(u){return fi(u,qc,_a)},ty=function(u){return $T(u)?qc(u):yl(u)},wd=function(u){return ey(u,"rowspan",Q0)},Nm=function(u){var l=Cc(u);return l.bind(function(d){return J0(d,["fixed","relative","empty"])})},Im=function(u,l,d){Ko(u,"width",l+d)},LT=function(u){return qc(u)+"px"},$m=function(u){return fi(u,qc,_a)+"%"},ny=function(u){return Cc(u).exists(function(l){return fC.test(l)})},zT=function(u){return Cc(u).exists(function(l){return IT.test(l)})},Ho=function(u){return Cc(u).isNone()},i1=Ke(fC),Tv=qo("col"),ry=function(u){return Cc(u).getOrThunk(function(){return ty(u)+"px"})},ay=function(u){return eu(u).getOrThunk(function(){return wd(u)+"px"})},Sc=function(u){return Se(na.justColumns(u),function(l){return B.from(l.element)})},nc=function(u){var l=ne().browser,d=l.isChrome()||l.isFirefox();return Tv(u)?d:!0},Cd=function(u,l,d,p,y,x){return u.filter(p).fold(function(){return x(Fs(d,l))},function(D){return y(D)})},Ev=function(u,l,d,p){var y=bd(u),x=na.hasColumns(u)?Sc(u):y,D=[B.some(Mm.edge(l))].concat(Se(Mm.positions(y,l),function(X){return X.map(function(oe){return oe.x})})),M=$e(gd);return Se(x,function(X,oe){return Cd(X,oe,D,M,function(Te){if(nc(Te))return d(Te);var Pt=Jh(y[oe],_t);return Cd(Pt,oe,D,M,function(cn){return p(B.some(qc(cn)))},p)},p)})},u1=function(u){return u.map(function(l){return l+"px"}).getOr("")},xp=function(u,l){return Ev(u,l,ry,u1)},oy=function(u,l,d){return Ev(u,l,o1,function(p){return p.fold(function(){return d.minCellWidth()},function(y){return y/d.pixelWidth()*100})})},Sd=function(u,l,d){return Ev(u,l,ty,function(p){return p.getOrThunk(d.minCellWidth)})},s1=function(u,l,d,p,y){var x=xv(u),D=[B.some(d.edge(l))].concat(Se(d.positions(x,l),function(M){return M.map(function(X){return X.y})}));return Se(x,function(M,X){return Cd(M,X,D,$e(Qh),p,y)})},HT=function(u,l,d){return s1(u,l,d,wd,function(p){return p.getOrThunk(Lo)})},iy=function(u,l,d){return s1(u,l,d,ay,u1)},rc=function(u,l){return function(){return jr(u)?l(u):parseFloat(Wu(u,"width").getOr("0"))}},Is=function(u){var l=rc(u,qc),d=Ke(0),p=function(y,x){return Sd(y,u,x)};return{width:l,pixelWidth:l,getWidths:p,getCellDelta:d,singleColumnWidth:Ke([0]),minCellWidth:d,setElementWidth:Oe,adjustTableWidth:Oe,isRelative:!0,label:"none"}},Lm=function(u){var l=rc(u,function(X){return parseFloat($m(X))}),d=rc(u,qc),p=function(X){return X/d()*100},y=function(X,oe){return[100-X]},x=function(){return Pf()/d()*100},D=function(X){var oe=l(),Te=X/100*oe,Pt=oe+Te;Kc(u,Pt)},M=function(X,oe){return oy(X,u,oe)};return{width:l,pixelWidth:d,getWidths:M,getCellDelta:p,singleColumnWidth:y,minCellWidth:x,setElementWidth:Kc,adjustTableWidth:D,isRelative:!0,label:"percent"}},Yc=function(u){var l=rc(u,qc),d=_t,p=function(D,M){var X=Math.max(Pf(),D+M);return[X-D]},y=function(D){var M=l()+D;Xl(u,M)},x=function(D,M){return Sd(D,u,M)};return{width:l,pixelWidth:l,getWidths:x,getCellDelta:d,singleColumnWidth:p,minCellWidth:Pf,setElementWidth:Xl,adjustTableWidth:y,isRelative:!1,label:"pixel"}},ku=function(u,l){var d=i1().exec(l);return d!==null?Lm(u):Yc(u)},c1=function(u){var l=Cc(u);return l.fold(function(){return Is(u)},function(d){return ku(u,d)})},Wf={getTableSize:c1,pixelSize:Yc,percentageSize:Lm,noneSize:Is},dC=function(u,l,d,p,y,x){return{minRow:u,minCol:l,maxRow:d,maxCol:p,allCells:y,selectedCells:x}},tu=function(u,l){var d=u.grid.columns,p=u.grid.rows,y=p,x=d,D=0,M=0,X=[],oe=[];return Ya(u.access,function(Te){if(X.push(Te),l(Te)){oe.push(Te);var Pt=Te.row,cn=Pt+Te.rowspan-1,en=Te.column,Dt=en+Te.colspan-1;Pt<y?y=Pt:cn>D&&(D=cn),en<x?x=en:Dt>M&&(M=Dt)}}),dC(y,x,D,M,X,oe)},uy=function(u,l,d){var p=u[d].element,y=ht.fromTag("td");zo(y,ht.fromTag("br"));var x=l?zo:Qi;x(p,y)},l1=function(u,l,d,p){for(var y=l.grid.columns,x=l.grid.rows,D=0;D<x;D++)for(var M=!1,X=0;X<y;X++)if(!(D<d.minRow||D>d.maxRow||X<d.minCol||X>d.maxCol)){var oe=na.getAt(l,D,X).filter(p).isNone();oe?uy(u,M,D):M=!0}},Aa=function(u,l,d,p){Ya(d.columns,function(D){(D.column<l.minCol||D.column>l.maxCol)&&ds(D.element)});var y=$t(Bf(u,"tr"),function(D){return D.dom.childElementCount===0});Nt(y,ds),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&Nt(Bf(u,"th,td"),function(D){mo(D,"rowspan"),mo(D,"colspan")}),mo(u,oi),mo(u,"data-snooker-col-series");var x=Wf.getTableSize(u);x.adjustTableWidth(p)},Tr=function(u,l,d,p){if(p.minCol===0&&l.grid.columns===p.maxCol+1)return 0;var y=Sd(l,u,d),x=K(y,function(oe,Te){return oe+Te},0),D=K(y.slice(p.minCol,p.maxCol+1),function(oe,Te){return oe+Te},0),M=D/x*d.pixelWidth(),X=M-d.pixelWidth();return d.getCellDelta(X)},ac=function(u,l){var d=function(cn){return lr(cn.element,l)},p=Ua(u),y=e1(p),x=Wf.getTableSize(u),D=na.generate(y),M=tu(D,d),X="th:not("+l+"),td:not("+l+")",oe=Mf(p,"th,td",function(cn){return lr(cn,X)});Nt(oe,ds),l1(y,D,M,d);var Te=na.fromTable(u),Pt=Tr(u,Te,x,M);return Aa(p,M,D,Pt),p},f1=" ",Zc=function(u){return Sa(u)==="img"?1:rC(u).fold(function(){return k(u).length},function(l){return l.length})},mC=function(u){return rC(u).filter(function(l){return l.trim().length!==0||l.indexOf(f1)>-1}).isSome()},ro=["img","br"],sy=function(u){var l=mC(u);return l||Mn(ro,Sa(u))},v1=function(u){return lp(u,sy)},d1=function(u){return rn(u,sy)},rn=function(u,l){var d=function(p){for(var y=k(p),x=y.length-1;x>=0;x--){var D=y[x];if(l(D))return B.some(D);var M=d(D);if(M.isSome())return M}return B.none()};return d(u)},cy={scope:["row","col"]},ly=function(u){return function(){var l=ht.fromTag("td",u.dom);return zo(l,ht.fromTag("br",u.dom)),l}},Av=function(u){return function(){return ht.fromTag("col",u.dom)}},kp=function(u){return function(){return ht.fromTag("colgroup",u.dom)}},xd=function(u){return function(){return ht.fromTag("tr",u.dom)}},Ov=function(u,l,d){var p=wc(u,l);return Ya(d,function(y,x){y===null?mo(p,x):yi(p,x,y)}),p},kd=function(u){return u},zm=function(u,l,d){var p=v1(u);return p.map(function(y){var x=d.join(","),D=bi(y,x,function(M){return ia(M,u)});return an(D,function(M,X){var oe=Gc(X);return mo(oe,"contenteditable"),zo(M,oe),oe},l)}).getOr(l)},ii=function(u,l){Ya(cy,function(d,p){return Da(u,p).filter(function(y){return Mn(d,y)}).each(function(y){return yi(l,p,y)})})},Kr=function(u,l,d){var p=function(D,M){wv(D.element,M),Zi(M,"height"),D.colspan!==1&&Zi(M,"width")},y=function(D){var M=ht.fromTag(Sa(D.element),l.dom),X=d.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),oe=X.length>0?zm(D.element,M,X):M;return zo(oe,ht.fromTag("br")),p(D,M),ii(D.element,M),u(D.element,M),M},x=function(D){var M=ht.fromTag(Sa(D.element),l.dom);return p(D,M),u(D.element,M),M};return{col:x,colgroup:kp(l),row:xd(l),cell:y,replace:Ov,colGap:Av(l),gap:ly(l)}},oc=function(u){return{col:Av(u),colgroup:kp(u),row:xd(u),cell:ly(u),replace:kd,colGap:Av(u),gap:ly(u)}},gC=function(u,l){var d=l||document,p=d.createElement("div");return p.innerHTML=u,k(ht.fromDom(p))},$s=function(u){return Se(u,ht.fromDom)},fy=function(u){return u.nodeName.toLowerCase()},Yl=function(u){return ht.fromDom(u.getBody())},jf=function(u){return u.getBoundingClientRect().width},Gf=function(u){return u.getBoundingClientRect().height},ic=function(u){return function(l){return ia(l,Yl(u))}},Dv=function(u){return u?u.replace(/px$/,""):""},_i=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},Ku=function(u){mo(u,"data-mce-style");var l=function(d){return mo(d,"data-mce-style")};Nt(Ff(u),l),Nt(pl(u),l),Nt(fs(u),l)},Zl=function(u,l){var d=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return B.from(d).filter(sn)},_v=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Hm=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},Td=function(u){return ht.fromDom(u.selection.getStart())},nr=function(u){return ht.fromDom(u.selection.getEnd())},zi=function(u){return n1(u.get(),Ke([]),_t,yt)},wl=function(u){var l=function(y,x){return Da(y,x).exists(function(D){return parseInt(D,10)>1})},d=function(y){return l(y,"rowspan")||l(y,"colspan")},p=zi(u);return p.length>0&&Me(p,d)?B.some(p):B.none()},Jl=function(u,l,d){return n1(l.get(),B.none,function(p){return p.length<=1?B.none():Li(u,d.firstSelectedSelector,d.lastSelectedSelector).map(function(y){return{bounds:y,cells:p}})},B.none)},Tp="data-mce-selected",pC="td["+Tp+"],th["+Tp+"]",m1="["+Tp+"]",Rv="data-mce-first-selected",Pv="td["+Rv+"],th["+Rv+"]",Vm="data-mce-last-selected",Ep="td["+Vm+"],th["+Vm+"]",VT=m1,uc={selected:Tp,selectedSelector:pC,firstSelected:Rv,firstSelectedSelector:Pv,lastSelected:Vm,lastSelectedSelector:Ep},vy=function(u){return{element:u,mergable:B.none(),unmergable:B.none(),selection:[u]}},Ed=function(u,l,d){return{element:d,mergable:Jl(l,u,uc),unmergable:wl(u),selection:zi(u)}},Bv=function(u,l,d){return{element:u,clipboard:l,generators:d}},dy=function(u,l,d,p){return{selection:zi(u),clipboard:d,generators:p}},Mv=function(u){return Ao(u).bind(function(l){return Qo(l,uc.firstSelectedSelector)}).fold(Ke(u),function(l){return l[0]})},hC=function(u){return function(l,d){var p=Sa(l),y=p==="col"||p==="colgroup"?Mv(l):l;return Io(y,u,d)}},Mo=hC("th,td,caption"),nu=hC("th,td"),Tu=function(u){return zi(u)},bC=function(u,l){var d=nu(u),p=d.bind(function(y){return Ao(y)}).map(function(y){return fs(y)});return Ps(d,p,function(y,x){return $t(x,function(D){return A($s(D.dom.cells),function(M){return Ys(M,l)==="1"||ia(M,y)})})}).getOr([])},g1=function(u){return Ao(u[0]).map(function(l){var d=ac(l,VT);return Ku(d),[d]})},UT=function(u,l){return Se(l,function(d){return u.selection.serializer.serialize(d.dom,{})}).join("")},yC=function(u){return Se(u,function(l){return l.dom.innerText}).join("")},Jc=function(u,l,d){u.on("BeforeGetContent",function(p){var y=function(x){p.preventDefault(),g1(x).each(function(D){p.content=p.format==="text"?yC(D):UT(u,D)})};p.selection===!0&&n1(l.get(),Oe,y,Oe)}),u.on("BeforeSetContent",function(p){if(p.selection===!0&&p.paste===!0){var y=Tu(l);be(y).each(function(x){Ao(x).each(function(D){var M=$t(gC(p.content),function(cn){return Sa(cn)!=="meta"}),X=qo("table");if(M.length===1&&X(M[0])){p.preventDefault();var oe=ht.fromDom(u.getDoc()),Te=oc(oe),Pt=Bv(x,M[0],Te);d.pasteCells(D,Pt).each(function(){u.focus()})}})})}})},WT=jl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Um=Wt({},WT),p1=function(u,l){return u.length===0?Um.none():u.length===1?Um.only(0):l===0?Um.left(0,1):l===u.length-1?Um.right(l-1,l):l>0&&l<u.length-1?Um.middle(l-1,l,l+1):Um.none()},jT=function(u,l,d,p,y){var x=u.slice(0),D=p1(u,l),M=Ke(Se(x,Ke(0))),X=function(cn){return p.singleColumnWidth(x[cn],d)},oe=function(cn,en){return y.calcLeftEdgeDeltas(x,cn,en,d,p.minCellWidth(),p.isRelative)},Te=function(cn,en,Dt){return y.calcMiddleDeltas(x,cn,en,Dt,d,p.minCellWidth(),p.isRelative)},Pt=function(cn,en){return y.calcRightEdgeDeltas(x,cn,en,d,p.minCellWidth(),p.isRelative)};return D.fold(M,X,oe,Te,Pt)},wC=function(u,l,d){for(var p=0,y=u;y<l;y++)p+=d[y]!==void 0?d[y]:0;return p},my=function(u,l){var d=na.justCells(u);return Se(d,function(p){var y=wC(p.column,p.column+p.colspan,l);return{element:p.element,width:y,colspan:p.colspan}})},gy=function(u,l){var d=na.justColumns(u);return Se(d,function(p,y){return{element:p.element,width:l[y],colspan:p.colspan}})},py=function(u,l){var d=na.justCells(u);return Se(d,function(p){var y=wC(p.row,p.row+p.rowspan,l);return{element:p.element,height:y,rowspan:p.rowspan}})},GT=function(u,l){return Se(u.all,function(d,p){return{element:d.element,height:l[p]}})},Fv=function(u){return an(u,function(l,d){return l+d},0)},Nv=function(u,l){return na.hasColumns(u)?gy(u,l):my(u,l)},Za=function(u,l,d){var p=Nv(u,l);Nt(p,function(y){d.setElementWidth(y.element,y.width)})},h1=function(u,l,d,p,y){var x=na.fromTable(u),D=y.getCellDelta(l),M=y.getWidths(x,y),X=d===x.grid.columns-1,oe=p.clampTableDelta(M,d,D,y.minCellWidth(),X),Te=jT(M,d,oe,y,p),Pt=Se(Te,function(cn,en){return cn+M[en]});Za(x,Pt,y),p.resizeTable(y.adjustTableWidth,oe,X)},Cl=function(u,l,d,p){var y=na.fromTable(u),x=HT(y,u,p),D=Se(x,function(Te,Pt){return d===Pt?Math.max(l+Te,Lo()):Te}),M=py(y,D),X=GT(y,D);Nt(X,function(Te){kv(Te.element,Te.height)}),Nt(M,function(Te){kv(Te.element,Te.height)});var oe=Fv(D);kv(u,oe)},CC=function(u,l,d,p,y){var x=na.generate(l),D=p.getWidths(x,p),M=p.pixelWidth(),X=y.calcRedestributedWidths(D,M,d.pixelDelta,p.isRelative),oe=X.newSizes,Te=X.delta;Za(x,oe,p),p.adjustTableWidth(Te)},Sl=function(u,l,d,p){var y=na.generate(l),x=p.getWidths(y,p);Za(y,x,p)},Ql=function(u){return Se(u,Ke(0))},Iv=function(u,l,d,p,y){return y(u.slice(0,l)).concat(p).concat(y(u.slice(d)))},b1=function(u){return function(l,d,p,y){if(u(p)){var x=Math.max(y,l[d]-Math.abs(p)),D=Math.abs(x-l[d]);return p>=0?D:-D}else return p}},Ap=b1(function(u){return u<0}),y1=b1(Ae),w1=function(){var u=function(M,X,oe,Te,Pt){var cn=Ap(M,X,Te,Pt);return Iv(M,X,oe+1,[cn,0],Ql)},l=function(M,X,oe,Te){var Pt=(100+oe)/100,cn=Math.max(Te,(M[X]+oe)/Pt);return Se(M,function(en,Dt){var On=Dt===X?cn:en/Pt;return On-en})},d=function(M,X,oe,Te,Pt,cn){return cn?l(M,X,Te,Pt):u(M,X,oe,Te,Pt)},p=function(M,X,oe,Te,Pt,cn,en){return d(M,oe,Te,Pt,cn,en)},y=function(M,X){return M(X)},x=function(M,X,oe,Te,Pt,cn){if(cn)return l(M,oe,Te,Pt);var en=Ap(M,oe,Te,Pt);return Ql(M.slice(0,oe)).concat([en])},D=function(M,X,oe,Te){if(Te){var Pt=X+oe,cn=Pt/X,en=Se(M,function(Dt){return Dt/cn});return{delta:cn*100-100,newSizes:en}}else return{delta:oe,newSizes:M}};return{resizeTable:y,clampTableDelta:Ap,calcLeftEdgeDeltas:d,calcMiddleDeltas:p,calcRightEdgeDeltas:x,calcRedestributedWidths:D}},Ad=function(){var u=function(D,M,X,oe,Te){var Pt=oe>=0?X:M,cn=y1(D,Pt,oe,Te);return Iv(D,M,X+1,[cn,-cn],Ql)},l=function(D,M,X,oe,Te,Pt){return u(D,X,oe,Te,Pt)},d=function(D,M,X){X&&D(M)},p=function(D,M,X,oe,Te,Pt){if(Pt)return Ql(D);var cn=oe/D.length;return Se(D,Ke(cn))},y=function(D,M,X,oe,Te){if(Te){if(X>=0)return X;var Pt=K(D,function(cn,en){return cn+en-oe},0);return Math.max(-Pt,X)}else return Ap(D,M,X,oe)},x=function(D,M,X,oe){return{delta:0,newSizes:D}};return{resizeTable:d,clampTableDelta:y,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:p,calcRedestributedWidths:x}},qT=function(u,l){var d=B.from(u.dom.documentElement).map(ht.fromDom).getOr(u);return{parent:Ke(d),view:Ke(u),origin:Ke(no(0,0)),isResizable:l}},C1=function(u,l,d){var p=function(){return Hf(l)};return{parent:Ke(l),view:Ke(u),origin:p,isResizable:d}},Wm=function(u,l,d){return{parent:Ke(l),view:Ke(u),origin:Ke(no(0,0)),isResizable:d}},Op={only:qT,detached:C1,body:Wm},Dp=jl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),hy=function(u,l,d){var p=d.substring(0,d.length-u.length),y=parseFloat(p);return p===y.toString()?l(y):Dp.invalid(d)},xi=function(u){return Ce(u,"%")?hy("%",Dp.percent,u):Ce(u,"px")?hy("px",Dp.pixels,u):Dp.invalid(u)},Od=Wt(Wt({},Dp),{from:xi}),vi=function(u,l){return Se(u,function(d){var p=Od.from(d);return p.fold(function(){return d},function(y){var x=y/l*100;return x+"%"},function(y){return y+"%"})})},Xu=function(u,l,d){var p=d/l;return Se(u,function(y){var x=Od.from(y);return x.fold(function(){return y},function(D){return D*p+"px"},function(D){return D/100*d+"px"})})},Dd=function(u,l){var d=u.fold(function(){return Ke("")},function(p){var y=p/l;return Ke(y+"px")},function(){var p=100/l;return Ke(p+"%")});return vt(l,d)},sc=function(u,l,d){return u.fold(function(){return l},function(p){return Xu(l,d,p)},function(p){return vi(l,d)})},S1=function(u,l,d){var p=Od.from(d),y=Me(u,function(x){return x==="0px"})?Dd(p,u.length):sc(p,u,l);return SC(y)},ef=function(u,l){return u.length===0?l:an(u,function(d,p){return Od.from(p).fold(Ke(0),_t,_t)+d},0)},jm=function(u,l){var d=Math.floor(u);return{value:d+l,remainder:u-d}},Gm=function(u,l){return Od.from(u).fold(Ke(u),function(d){return d+l+"px"},function(d){return d+l+"%"})},SC=function(u){if(u.length===0)return u;var l=an(u,function(p,y){var x=Od.from(y).fold(function(){return{value:y,remainder:0}},function(D){return jm(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[x.value].concat(p.output),remainder:p.remainder+x.remainder}},{output:[],remainder:0}),d=l.output;return d.slice(0,d.length-1).concat([Gm(d[d.length-1],Math.round(l.remainder))])},xC=Od.from,KT=function(u,l,d){Nt(l,function(p){var y=u.slice(p.column,p.colspan+p.column),x=ef(y,Pf());Ko(p.element,"width",x+d)})},XT=function(u,l,d){Nt(l,function(p,y){var x=ef([u[y]],Pf());Ko(p.element,"width",x+d)})},YT=function(u,l,d,p){Nt(d,function(y){var x=u.slice(y.row,y.rowspan+y.row),D=ef(x,Lo());Ko(y.element,"height",D+p)}),Nt(l,function(y,x){Ko(y.element,"height",u[x])})},kC=function(u){return xC(u).fold(Ke("px"),Ke("px"),Ke("%"))},x1=function(u,l,d){var p=na.fromTable(u),y=p.all,x=na.justCells(p),D=na.justColumns(p);l.each(function(M){var X=kC(M),oe=qc(u),Te=xp(p,u),Pt=S1(Te,oe,M);na.hasColumns(p)?XT(Pt,D,X):KT(Pt,x,X),Ko(u,"width",M)}),d.each(function(M){var X=kC(M),oe=qu(u),Te=iy(p,u,Z0),Pt=S1(Te,oe,M);YT(Pt,y,x,X),Ko(u,"height",M)})},k1=ny,ru=zT,T1=Ho,by=function(u){var l=na.fromTable(u);return l.grid},xc=function(u){var l=[],d=function(x){if(x===void 0)throw new Error("Event bind error: undefined handler");l.push(x)},p=function(x){l=$t(l,function(D){return D!==x})},y=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];var M={};Nt(u,function(X,oe){M[X]=x[oe]}),Nt(l,function(X){X(M)})};return{bind:d,unbind:p,trigger:y}},So=function(u){var l=pc(u,function(p){return{bind:p.bind,unbind:p.unbind}}),d=pc(u,function(p){return p.trigger});return{registry:l,trigger:d}},cc=function(u,l){var d=null,p=function(){mt(d)||(clearTimeout(d),d=null)},y=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];p(),d=setTimeout(function(){d=null,u.apply(null,x)},l)};return{cancel:p,throttle:y}},$v=function(u){return u.slice(0).sort()},yy=function(u,l){throw new Error("All required keys ("+$v(u).join(", ")+") were not specified. Specified keys were: "+$v(l).join(", ")+".")},E1=function(u){throw new Error("Unsupported keys for object: "+$v(u).join(", "))},TC=function(u,l){if(!xt(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");Nt(l,function(d){if(!we(d))throw new Error("The value "+d+" in the "+u+" fields was not a string.")})},ea=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+$v(u).join(", ")+") were not.")},qm=function(u){var l=$v(u),d=pt(l,function(p,y){return y<l.length-1&&p===l[y+1]});d.each(function(p){throw new Error("The field: "+p+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},A1=function(u,l){return wy(u,l,{validate:ze,label:"function"})},wy=function(u,l,d){if(l.length===0)throw new Error("You must specify at least one required field.");return TC("required",l),qm(l),function(p){var y=Ii(p),x=Me(l,function(M){return Mn(y,M)});x||yy(l,y),u(l,y);var D=$t(l,function(M){return!d.validate(p[M],M)});return D.length>0&&ea(D,d.label),p}},ki=function(u,l){var d=$t(l,function(p){return!Mn(u,p)});d.length>0&&E1(d)},kc=function(u){return A1(ki,u)},EC=kc(["compare","extract","mutate","sink"]),_d=kc(["element","start","stop","destroy"]),go=kc(["forceDrop","drop","move","delayDrop"]),Rd=function(){var u=B.none(),l=function(){u=B.none()},d=function(x,D){var M=u.map(function(X){return x.compare(X,D)});return u=B.some(D),M},p=function(x,D){var M=D.extract(x);M.each(function(X){var oe=d(D,X);oe.each(function(Te){y.trigger.move(Te)})})},y=So({move:xc(["info"])});return{onEvent:p,reset:l,events:y.registry}},O1=function(){var u=So({move:xc(["info"])});return{onEvent:Oe,reset:Oe,events:u.registry}},Km=function(){var u=O1(),l=Rd(),d=u,p=function(){d.reset(),d=l},y=function(){d.reset(),d=u},x=function(M,X){d.onEvent(M,X)},D=function(){return d===l};return{on:p,off:y,isOn:D,onEvent:x,events:l.events}},Cy=function(u,l,d){var p=!1,y=So({start:xc([]),stop:xc([])}),x=Km(),D=function(){en.stop(),x.isOn()&&(x.off(),y.trigger.stop())},M=cc(D,200),X=function(On){en.start(On),x.on(),y.trigger.start()},oe=function(On){M.cancel(),x.onEvent(On,l)};x.events.move.bind(function(On){l.mutate(u,On.info)});var Te=function(){p=!0},Pt=function(){p=!1},cn=function(On){return function(){for(var Bn=[],mr=0;mr<arguments.length;mr++)Bn[mr]=arguments[mr];p&&On.apply(null,Bn)}},en=l.sink(go({forceDrop:D,drop:cn(D),move:cn(oe),delayDrop:cn(M.throttle)}),d),Dt=function(){en.destroy()};return{element:en.element,go:X,on:Te,off:Pt,destroy:Dt,events:y.registry}},AC=function(u,l,d,p,y,x,D){return{target:u,x:l,y:d,stop:p,prevent:y,kill:x,raw:D}},_p=function(u){var l=ht.fromDom(ur(u).getOr(u.target)),d=function(){return u.stopPropagation()},p=function(){return u.preventDefault()},y=ve(p,d);return AC(l,u.clientX,u.clientY,d,p,y,u)},OC=function(u,l){return function(d){u(d)&&l(_p(d))}},qf=function(u,l,d,p,y){var x=OC(d,p);return u.dom.addEventListener(l,x,y),{unbind:Ne(Sy,u,l,x,y)}},Yu=function(u,l,d,p){return qf(u,l,d,p,!1)},Sy=function(u,l,d,p){u.dom.removeEventListener(l,d,p)},ZT=Ae,xl=function(u,l,d){return Yu(u,l,ZT,d)},Kf=_p,D1=function(u,l){var d=Ys(u,l);return d===void 0||d===""?[]:d.split(" ")},JT=function(u,l,d){var p=D1(u,l),y=p.concat([d]);return yi(u,l,y.join(" ")),!0},QT=function(u,l,d){var p=$t(D1(u,l),function(y){return y!==d});return p.length>0?yi(u,l,p.join(" ")):mo(u,l),!1},Pd=function(u){return u.dom.classList!==void 0},Bd=function(u){return D1(u,"class")},_1=function(u,l){return JT(u,"class",l)},Ra=function(u,l){return QT(u,"class",l)},Ti=function(u,l){Pd(u)?u.dom.classList.add(l):_1(u,l)},Zu=function(u){var l=Pd(u)?u.dom.classList:Bd(u);l.length===0&&mo(u,"class")},hs=function(u,l){if(Pd(u)){var d=u.dom.classList;d.remove(l)}else Ra(u,l);Zu(u)},io=function(u,l){return Pd(u)&&u.dom.classList.contains(l)},Lv=function(u){var l=u.replace(/\./g,"-"),d=function(p){return l+"-"+p};return{resolve:d}},R1=Lv("ephox-dragster"),Ri=R1.resolve,tf=function(u){var l=Wt({layerClass:Ri("blocker")},u),d=ht.fromTag("div");yi(d,"role","presentation"),Vl(d,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ti(d,Ri("blocker")),Ti(d,l.layerClass);var p=Ke(d),y=function(){ds(d)};return{element:p,destroy:y}},eE=function(u,l){return no(l.left-u.left,l.top-u.top)},tE=function(u){return B.some(no(u.x,u.y))},P1=function(u,l){u.mutate(l.left,l.top)},B1=function(u,l){var d=tf(l),p=xl(d.element(),"mousedown",u.forceDrop),y=xl(d.element(),"mouseup",u.drop),x=xl(d.element(),"mousemove",u.move),D=xl(d.element(),"mouseout",u.delayDrop),M=function(){d.destroy(),y.unbind(),x.unbind(),D.unbind(),p.unbind()},X=function(Te){zo(Te,d.element())},oe=function(){ds(d.element())};return _d({element:d.element,start:X,stop:oe,destroy:M})},xy=EC({compare:eE,extract:tE,sink:B1,mutate:P1}),ky=function(u,l){l===void 0&&(l={});var d=l.mode!==void 0?l.mode:xy;return Cy(u,d,l)},Md=function(u){return Io(u,"[contenteditable]")},Rp=function(u,l){return l===void 0&&(l=!1),!ne().browser.isIE()&&jr(u)?u.dom.isContentEditable:Md(u).fold(Ke(l),function(d){return Ty(d)==="true"})},Ty=function(u){return u.dom.contentEditable},Ey=Lv("ephox-snooker"),Xm=Ey.resolve,au=function(){var u=So({drag:xc(["xDelta","yDelta"])}),l=function(d,p){u.trigger.drag(d,p)};return{mutate:l,events:u.registry}},Ls=function(){var u=So({drag:xc(["xDelta","yDelta","target"])}),l=B.none(),d=au();d.events.drag.bind(function(x){l.each(function(D){u.trigger.drag(x.xDelta,x.yDelta,D)})});var p=function(x){l=B.some(x)},y=function(){return l};return{assign:p,get:y,mutate:d.mutate,events:u.registry}},Pp=function(u,l,d,p,y){var x=ht.fromTag("div");return Vl(x,{position:"absolute",left:l-p/2+"px",top:d+"px",height:y+"px",width:p+"px"}),ai(x,{"data-column":u,role:"presentation"}),x},Ei=function(u,l,d,p,y){var x=ht.fromTag("div");return Vl(x,{position:"absolute",left:l+"px",top:d-y/2+"px",height:y+"px",width:p+"px"}),ai(x,{"data-row":u,role:"presentation"}),x},M1=Xm("resizer-bar"),Xf=Xm("resizer-rows"),Ay=Xm("resizer-cols"),Oy=7,DC=function(u,l){return Le(u.all,function(d,p){return l(d.element)?[p]:[]})},Dy=function(u,l){var d=[];return vt(u.grid.columns,function(p){var y=na.getColumnAt(u,p).map(function(x){return x.element});y.forall(l)&&d.push(p)}),$t(d,function(p){var y=na.filterItems(u,function(x){return x.column===p});return Me(y,function(x){return l(x.element)})})},Bp=function(u){var l=_s(u.parent(),"."+M1);Nt(l,ds)},F1=function(u,l,d){var p=u.origin();Nt(l,function(y){y.each(function(x){var D=d(p,x);Ti(D,M1),zo(u.parent(),D)})})},_C=function(u,l,d,p){F1(u,l,function(y,x){var D=Pp(x.col,x.x-y.left,d.top-y.top,Oy,p);return Ti(D,Ay),D})},nE=function(u,l,d,p){F1(u,l,function(y,x){var D=Ei(x.row,d.left-y.left,x.y-y.top,p,Oy);return Ti(D,Xf),D})},Eu=function(u,l,d,p,y){var x=Hf(d),D=l.isResizable,M=p.length>0?Z0.positions(p,d):[],X=M.length>0?DC(u,D):[],oe=$t(M,function(en,Dt){return A(X,function(On){return Dt===On})});nE(l,oe,x,xu(d));var Te=y.length>0?Mm.positions(y,d):[],Pt=Te.length>0?Dy(u,D):[],cn=$t(Te,function(en,Dt){return A(Pt,function(On){return Dt===On})});_C(l,cn,x,gs(d))},Pi=function(u,l){if(Bp(u),u.isResizable(l)){var d=na.fromTable(l),p=xv(d),y=bd(d);Eu(d,u,l,p,y)}},Ju=function(u,l){var d=_s(u.parent(),"."+M1);Nt(d,l)},Qu=function(u){Ju(u,function(l){Ko(l,"display","none")})},bs=function(u){Ju(u,function(l){Ko(l,"display","block")})},di=function(u){return io(u,Xf)},N1=function(u){return io(u,Ay)},I1=Xm("resizer-bar-dragging"),_y=function(u){var l=Ls(),d=ky(l,{}),p=B.none(),y=function(Dt,On){return B.from(Ys(Dt,On))};l.events.drag.bind(function(Dt){y(Dt.target,"data-row").each(function(On){var Bn=Rf(Dt.target,"top");Ko(Dt.target,"top",Bn+Dt.yDelta+"px")}),y(Dt.target,"data-column").each(function(On){var Bn=Rf(Dt.target,"left");Ko(Dt.target,"left",Bn+Dt.xDelta+"px")})});var x=function(Dt,On){var Bn=Rf(Dt,On),mr=yc(Dt,"data-initial-"+On,0);return Bn-mr};d.events.stop.bind(function(){l.get().each(function(Dt){p.each(function(On){y(Dt,"data-row").each(function(Bn){var mr=x(Dt,"top");mo(Dt,"data-initial-top"),en.trigger.adjustHeight(On,mr,parseInt(Bn,10))}),y(Dt,"data-column").each(function(Bn){var mr=x(Dt,"left");mo(Dt,"data-initial-left"),en.trigger.adjustWidth(On,mr,parseInt(Bn,10))}),Pi(u,On)})})});var D=function(Dt,On){en.trigger.startAdjust(),l.assign(Dt),yi(Dt,"data-initial-"+On,Rf(Dt,On)),Ti(Dt,I1),Ko(Dt,"opacity","0.2"),d.go(u.parent())},M=xl(u.parent(),"mousedown",function(Dt){di(Dt.target)&&D(Dt.target,"top"),N1(Dt.target)&&D(Dt.target,"left")}),X=function(Dt){return ia(Dt,u.view())},oe=function(Dt){return Io(Dt,"table",X).filter(Rp)},Te=xl(u.view(),"mouseover",function(Dt){oe(Dt.target).fold(function(){jr(Dt.target)&&Bp(u)},function(On){p=B.some(On),Pi(u,On)})}),Pt=function(){M.unbind(),Te.unbind(),d.destroy(),Bp(u)},cn=function(Dt){Pi(u,Dt)},en=So({adjustHeight:xc(["table","delta","row"]),adjustWidth:xc(["table","delta","column"]),startAdjust:xc([])});return{destroy:Pt,refresh:cn,on:d.on,off:d.off,hideBars:Ne(Qu,u),showBars:Ne(bs,u),events:en.registry}},Fd=function(u,l,d){var p=Z0,y=Mm,x=_y(u),D=So({beforeResize:xc(["table","type"]),afterResize:xc(["table","type"]),startDrag:xc([])});return x.events.adjustHeight.bind(function(M){var X=M.table;D.trigger.beforeResize(X,"row");var oe=p.delta(M.delta,X);Cl(X,oe,M.row,p),D.trigger.afterResize(X,"row")}),x.events.startAdjust.bind(function(M){D.trigger.startDrag()}),x.events.adjustWidth.bind(function(M){var X=M.table;D.trigger.beforeResize(X,"col");var oe=y.delta(M.delta,X),Te=d(X);h1(X,oe,M.column,l,Te),D.trigger.afterResize(X,"col")}),{on:x.on,off:x.off,hideBars:x.hideBars,showBars:x.showBars,destroy:x.destroy,events:D.registry}},zv={create:Fd},$1=function(u,l){return u.fire("newrow",{node:l})},L1=function(u,l){return u.fire("newcell",{node:l})},z1=function(u,l,d,p,y){u.fire("ObjectResizeStart",{target:l,width:d,height:p,origin:y})},Ym=function(u,l,d,p,y){u.fire("ObjectResized",{target:l,width:d,height:p,origin:y})},Zm=function(u,l,d,p,y){u.fire("TableSelectionChange",{cells:l,start:d,finish:p,otherCells:y})},RC=function(u){u.fire("TableSelectionClear")},nf=function(u,l,d){u.fire("TableModified",Wt(Wt({},d),{table:l}))},Nd={structure:!1,style:!0},Do={structure:!0,style:!1},rE={structure:!0,style:!0},aE="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",H1={"border-collapse":"collapse",width:"100%"},oE=vt(5,function(u){var l=u+1+"px";return{title:l,value:l}}),PC=Se(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Pn=function(u){var l;if(Yf(u)){var d=u.dom,p=(l=d.getParent(u.selection.getStart(),d.isBlock))!==null&&l!==void 0?l:u.getBody(),y=_a(ht.fromDom(p));return Wt(Wt({},H1),{width:y+"px"})}else return Jm(u)?Xi(H1,function(x,D){return D!=="width"}):H1},iE={border:"1"},Ai="preservetable",Ry=function(u){return u.getParam("table_sizing_mode","auto")},Id=function(u){return u.getParam("table_responsive_width")},BC=function(u){return u.getParam("table_border_widths",oE,"array")},Mu=function(u){return u.getParam("table_border_styles",PC,"array")},Mp=function(u){return u.getParam("table_default_attributes",iE,"object")},V1=function(u){return u.getParam("table_default_styles",Pn(u),"object")},Fp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},kl=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Np=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Ip=function(u){return u.getParam("table_row_advtab",!0,"boolean")},es=function(u){return u.getParam("table_advtab",!0,"boolean")},Tl=function(u){return u.getParam("table_appearance_options",!0,"boolean")},MC=function(u){return u.getParam("table_grid",!0,"boolean")},Fu=function(u){return u.getParam("table_style_by_css",!1,"boolean")},rf=function(u){return u.getParam("table_cell_class_list",[],"array")},Hv=function(u){return u.getParam("table_row_class_list",[],"array")},$p=function(u){return u.getParam("table_class_list",[],"array")},At=function(u){return Ry(u)==="relative"||Id(u)===!0},Yf=function(u){return Ry(u)==="fixed"||Id(u)===!1},Jm=function(u){return Ry(u)==="responsive"},uE=function(u){return u.getParam("table_toolbar",aE)},U1=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Qc=function(u){var l="section",d=u.getParam("table_header_type",l,"string"),p=["section","cells","sectionCells","auto"];return Mn(p,d)?d:l},W1=function(u){var l=["preservetable","resizetable"],d=u.getParam("table_column_resizing",Ai,"string");return pt(l,function(p){return p===d}).getOr(Ai)},Py=function(u){return W1(u)==="preservetable"},By=function(u){return W1(u)==="resizetable"},j1=function(u){var l=u.getParam("table_clone_elements");return we(l)?B.some(l.split(/[ ,]/)):Array.isArray(l)?B.some(l):B.none()},My=function(u){var l=u.getParam("object_resizing",!0);return we(l)?l==="table":l},Fy=function(u){return u.getParam("table_background_color_map",[],"array")},Ny=function(u){return u.getParam("table_border_color_map",[],"array")},Iy=function(u,l){return At(u)?Wf.percentageSize(l):Yf(u)?Wf.pixelSize(l):Wf.getTableSize(l)},$d=function(u){mo(u,"width")},FC=function(u){var l=$m(u);x1(u,B.some(l),B.none()),$d(u)},sE=function(u){var l=LT(u);x1(u,B.some(l),B.none()),$d(u)},cE=function(u){Zi(u,"width");var l=pl(u),d=l.length>0?l:Ff(u);Nt(d,function(p){Zi(p,"width"),$d(p)}),$d(u)},Qm=FC,eg=sE,G1=cE,$y=function(u){var l=na.fromTable(u);na.hasColumns(l)||Nt(Ff(u),function(d){var p=ml(d,"width");Ko(d,"width",p),mo(d,"width")})},tg=function(){var u=ht.fromTag("div");return Vl(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),zo(Br(),u),u},Ly=function(u,l){return u.inline?Op.body(Yl(u),tg(),l):Op.only(ht.fromDom(u.getDoc()),l)},Xo=function(u,l){u.inline&&ds(l.parent())},Lp="bar-",ei=function(u){return Ys(u,"data-mce-resize")!=="false"},q1=function(u){var l=B.none(),d=B.none(),p=B.none(),y,x,D=function(Dt){return Dt.nodeName==="TABLE"},M=function(){return d},X=function(){return p.getOr(Op.only(ht.fromDom(u.getBody()),ei))},oe=function(Dt){return Iy(u,Dt)},Te=function(){return Py(u)?Ad():w1()},Pt=function(Dt){return by(Dt).columns},cn=function(Dt,On,Bn){var mr=Ce(On,"e");if(x===""&&Qm(Dt),Bn!==y&&x!==""){Ko(Dt,"width",x);var wa=Te(),yr=oe(Dt),zr=Py(u)||mr?Pt(Dt)-1:0;h1(Dt,Bn-y,zr,wa,yr)}else if(_v(x)){var da=parseFloat(x.replace("%","")),sa=Bn*da/y;Ko(Dt,"width",sa+"%")}Hm(x)&&$y(Dt)},en=function(){d.each(function(Dt){Dt.destroy()}),p.each(function(Dt){Xo(u,Dt)})};return u.on("init",function(){var Dt=Ly(u,ei);if(p=B.some(Dt),My(u)&&Fp(u)){var On=Te(),Bn=zv.create(Dt,On,oe);Bn.on(),Bn.events.startDrag.bind(function(mr){l=B.some(u.selection.getRng())}),Bn.events.beforeResize.bind(function(mr){var wa=mr.table.dom;z1(u,wa,jf(wa),Gf(wa),Lp+mr.type)}),Bn.events.afterResize.bind(function(mr){var wa=mr.table,yr=wa.dom;Ku(wa),l.each(function(zr){u.selection.setRng(zr),u.focus()}),Ym(u,yr,jf(yr),Gf(yr),Lp+mr.type),u.undoManager.add()}),d=B.some(Bn)}}),u.on("ObjectResizeStart",function(Dt){var On=Dt.target;if(D(On)){var Bn=ht.fromDom(On);Nt(u.dom.select(".mce-clonedresizable"),function(mr){u.dom.addClass(mr,"mce-"+W1(u)+"-columns")}),!ru(Bn)&&Yf(u)?eg(Bn):!k1(Bn)&&At(u)&&Qm(Bn),T1(Bn)&&Yn(Dt.origin,Lp)&&Qm(Bn),y=Dt.width,x=Jm(u)?"":Zl(u,On).getOr("")}}),u.on("ObjectResized",function(Dt){var On=Dt.target;if(D(On)){var Bn=ht.fromDom(On),mr=Dt.origin;Yn(mr,"corner-")&&cn(Bn,mr,Dt.width),Ku(Bn),nf(u,Bn.dom,Nd)}}),u.on("SwitchMode",function(){M().each(function(Dt){u.mode.isReadOnly()?Dt.hideBars():Dt.showBars()})}),{lazyResize:M,lazyWire:X,destroy:en}},Ld=function(u,l){return{element:u,offset:l}},zy=function(u,l,d){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?d(l).bind(function(p){return zy(u,p,d).orThunk(function(){return B.some(p)})}):B.none()},zp=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var d=u.property().children(l);return d.length},Hy=function(u,l){var d=zy(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(d))return Ld(d,zp(u,d));var p=u.property().children(d);return p.length>0?Hy(u,p[p.length-1]):Ld(d,zp(u,d))},NC=Hy,lE=gp(),IC=function(u){return NC(lE,u)},fE=function(u,l){var d=wi(u,"colspan");if(d===1){var p=Nm(u);p.each(function(y){var x=y.value/2;Im(u,x,y.unit),Im(l,x,y.unit)})}},K1=qo("th"),Hp=function(u){return Me(u,function(l){return K1(l.element)})},vE=function(u,l){return u&&l?"sectionCells":u?"section":"cells"},$C=function(u){var l=u.section==="thead",d=dl(Vy(u.cells),"th");return l||d?{type:"header",subType:vE(l,d)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},Vy=function(u){var l=$t(u,function(d){return K1(d.element)});return l.length===0?B.some("td"):l.length===u.length?B.some("th"):B.none()},dE=function(u){var l=Se(u,function(x){return $C(x).type}),d=Mn(l,"header"),p=Mn(l,"footer");if(!d&&!p)return B.some("body");var y=Mn(l,"body");return d&&!y&&!p?B.some("header"):!d&&!y&&p?B.some("footer"):B.none()},mE=function(u){return Cn(u.all,function(l){var d=$C(l);return d.type==="header"?B.from(d.subType):B.none()})},X1=function(u,l,d){return ci(d(u.element,l),!0,u.isLocked)},Uy=function(u,l){return u.section!==l?ls(u.element,u.cells,l,u.isNew):u},ou=function(){return{transformRow:Uy,transformCell:function(u,l,d){var p=d(u.element,l),y=Sa(p)!=="td"?PT(p,"td"):p;return ci(y,u.isNew,u.isLocked)}}},ng=function(){return{transformRow:Uy,transformCell:X1}},rg=function(){return{transformRow:function(u,l){var d=l==="thead"?"tbody":l;return Uy(u,d)},transformCell:X1}},LC=function(){return{transformRow:_t,transformCell:X1}},gE=function(u,l){var d=na.fromTable(u),p=mE(d).getOr(l);switch(p){case"section":return ou();case"sectionCells":return ng();case"cells":return rg()}},Vp={getTableSectionType:gE,section:ou,sectionCells:ng,cells:rg,fallback:LC},Up=function(u,l,d,p){d===p?mo(u,l):yi(u,l,d)},zd=function(u,l,d){St(Zr(u,l)).fold(function(){return Qi(u,d)},function(p){return oo(p,d)})},Y1=function(u,l){var d=Mr(u,l).getOrThunk(function(){var p=ht.fromTag(l,hc(u).dom);return l==="thead"?zd(u,"caption,colgroup",p):l==="colgroup"?zd(u,"caption",p):zo(u,p),p});return dp(d),d},Wp=function(u,l){var d=[],p=[],y=function(en){return Se(en,function(Dt){Dt.isNew&&d.push(Dt.element);var On=Dt.element;return dp(On),Nt(Dt.cells,function(Bn){Bn.isNew&&p.push(Bn.element),Up(Bn.element,"colspan",Bn.colspan,1),Up(Bn.element,"rowspan",Bn.rowspan,1),zo(On,Bn.element)}),On})},x=function(en){return Le(en,function(Dt){return Se(Dt.cells,function(On){return Up(On.element,"span",On.colspan,1),On.element})})},D=function(en,Dt){var On=Y1(u,Dt),Bn=Dt==="colgroup"?x:y,mr=Bn(en);hl(On,mr)},M=function(en){Mr(u,en).each(ds)},X=function(en,Dt){en.length>0?D(en,Dt):M(Dt)},oe=[],Te=[],Pt=[],cn=[];return Nt(l,function(en){switch(en.section){case"thead":oe.push(en);break;case"tbody":Te.push(en);break;case"tfoot":Pt.push(en);break;case"colgroup":cn.push(en);break}}),X(cn,"colgroup"),X(oe,"thead"),X(Te,"tbody"),X(Pt,"tfoot"),{newRows:d,newCells:p}},Wy=function(u){return Se(u,function(l){var d=Gc(l.element);return Nt(l.cells,function(p){var y=Ua(p.element);Up(y,"colspan",p.colspan,1),Up(y,"rowspan",p.rowspan,1),zo(d,y)}),d})},pE=function(u,l){return Se(u,function(d){return ju(d,l)})},af=function(u,l){return u[l]},Z1=function(u,l){if(u.length===0)return 0;var d=u[0],p=qe(u,function(y){return!l(d.element,y.element)});return p.getOr(u.length)},hE=function(u,l,d,p){var y=af(u,l),x=y.section==="colgroup",D=Z1(y.cells.slice(d),p),M=x?1:Z1(pE(u.slice(l),d),p);return{colspan:D,rowspan:M}},Vv=function(u,l){var d=Se(u,function(y){return Se(y.cells,Vt)}),p=function(y,x,D,M){for(var X=y;X<y+D;X++)for(var oe=x;oe<x+M;oe++)d[X][oe]=!0};return Se(u,function(y,x){var D=Le(y.cells,function(M,X){if(d[x][X]===!1){var oe=hE(u,x,X,l);return p(x,X,oe.rowspan,oe.colspan),[Jr(M.element,oe.rowspan,oe.colspan,M.isNew)]}else return[]});return Ds(y.element,D,y.section,y.isNew)})},Uv=function(u,l,d){var p=[];Nt(u.colgroups,function(Te){for(var Pt=[],cn=0;cn<u.grid.columns;cn++){var en=na.getColumnAt(u,cn).map(function(Dt){return ci(Dt.element,d,!1)}).getOrThunk(function(){return ci(l.colGap(),!0,!1)});Pt.push(en)}p.push(ls(Te.element,Pt,"colgroup",d))});for(var y=0;y<u.grid.rows;y++){for(var x=[],D=0;D<u.grid.columns;D++){var M=na.getAt(u,y,D).map(function(Te){return ci(Te.element,d,Te.isLocked)}).getOrThunk(function(){return ci(l.gap(),!0,!1)});x.push(M)}var X=u.all[y],oe=ls(X.element,x,X.section,d);p.push(oe)}return p},bE=function(u,l){return Uv(u,l,!1)},J1=function(u){return Vv(u,ia)},Q1=function(u,l){return Cn(u.all,function(d){return pt(d.cells,function(p){return ia(l,p.element)})})},eb=function(u,l,d){var p=Se(l.selection,function(x){return gl(x).bind(function(D){return Q1(u,D)}).filter(d)}),y=li(p);return eo(y.length>0,y)},Hi=function(u,l,d,p,y){return function(x,D,M,X,oe){var Te=na.fromTable(D),Pt=B.from(oe==null?void 0:oe.section).getOrThunk(Vp.fallback),cn=l(Te,M).map(function(en){var Dt=bE(Te,X),On=u(Dt,en,ia,y(X),Pt),Bn=Ji(On.grid),mr=J1(On.grid);return{info:en,grid:mr,cursor:On.cursor,lockedColumns:Bn}});return cn.bind(function(en){var Dt=Wp(D,en.grid),On=B.from(oe==null?void 0:oe.sizing).getOrThunk(function(){return Wf.getTableSize(D)}),Bn=B.from(oe==null?void 0:oe.resize).getOrThunk(Ad);return d(D,en.grid,en.info,{sizing:On,resize:Bn,section:Pt}),p(D),Pi(x,D),mo(D,oi),en.lockedColumns.length>0&&yi(D,oi,en.lockedColumns.join(",")),B.some({cursor:en.cursor,newRows:Dt.newRows,newCells:Dt.newCells})})}},zC=function(u,l){return gl(l.element).bind(function(d){return Q1(u,d).map(function(p){var y=Wt(Wt({},p),{generators:l.generators,clipboard:l.clipboard});return y})})},jy=function(u,l){return eb(u,l,Ae).map(function(d){return{cells:d,generators:l.generators,clipboard:l.clipboard}})},HC=function(u,l){return l.mergable},VC=function(u,l){return l.unmergable},El=function(u,l){return eb(u,l,Ae)},Zf=function(u,l){return eb(u,l,function(d){return!d.isLocked})},UC=function(u,l){return Q1(u,l).exists(function(d){return!d.isLocked})},WC=function(u,l){return Me(l,function(d){return UC(u,d)})},Gy=function(u,l){return HC(u,l).filter(function(d){return WC(u,d.cells)})},tb=function(u,l){return VC(u,l).filter(function(d){return WC(u,d)})},jC=function(u,l,d,p){var y=Jo(u).rows;if(y.length===0)return u;for(var x=l.startRow;x<=l.finishRow;x++)for(var D=l.startCol;D<=l.finishCol;D++){var M=y[x],X=ju(M,D).isLocked;Ul(M,D,ci(p(),!1,X))}return u},ag=function(u,l,d,p){for(var y=Jo(u).rows,x=!0,D=0;D<y.length;D++)for(var M=0;M<Js(y[0]);M++){var X=y[D],oe=ju(X,M),Te=oe.element,Pt=d(Te,l);Pt===!0&&x===!1?Ul(X,M,ci(p(),!0,oe.isLocked)):Pt===!0&&(x=!1)}return u},yE=function(u,l){return K(u,function(d,p){return A(d,function(y){return l(y.element,p.element)})?d:d.concat([p])},[])},jp=function(u,l,d,p){return l>0&&l<u[0].cells.length&&Nt(u,function(y){var x=y.cells[l-1],D=y.cells[l],M=d(D.element,x.element);M&&Ul(y,l,ci(p(),!0,D.isLocked))}),u},wE=function(u,l,d,p){var y=Jo(u).rows;if(l>0&&l<y.length){var x=y[l-1].cells,D=yE(x,d);Nt(D,function(M){for(var X=B.none(),oe=l;oe<y.length;oe++)for(var Te=function(cn){var en=y[oe],Dt=ju(en,cn),On=d(Dt.element,M.element);On&&(X.isNone()&&(X=B.some(p())),X.each(function(Bn){Ul(en,cn,ci(Bn,!0,Dt.isLocked))}))},Pt=0;Pt<Js(y[0]);Pt++)Te(Pt)})}return u},og=function(u){var l=function(Pt){return og(u)},d=function(Pt){return og(u)},p=function(Pt){return og(Pt(u))},y=function(Pt){return og(u)},x=function(Pt){Pt(u)},D=function(Pt){return Pt(u)},M=function(Pt,cn){return cn(u)},X=function(Pt){return Pt(u)},oe=function(Pt){return Pt(u)},Te=function(){return B.some(u)};return{isValue:Ae,isError:Vt,getOr:Ke(u),getOrThunk:Ke(u),getOrDie:Ke(u),or:l,orThunk:d,fold:M,map:p,mapError:y,each:x,bind:D,exists:X,forall:oe,toOptional:Te}},Hd=function(u){var l=function(oe){return oe()},d=function(){return un(String(u))()},p=_t,y=function(oe){return oe()},x=function(oe){return Hd(u)},D=function(oe){return Hd(oe(u))},M=function(oe){return Hd(u)},X=function(oe,Te){return oe(u)};return{isValue:Vt,isError:Ae,getOr:_t,getOrThunk:l,getOrDie:d,or:p,orThunk:y,fold:X,map:x,mapError:D,each:Oe,bind:M,exists:Vt,forall:Ae,toOptional:B.none}},qy=function(u,l){return u.fold(function(){return Hd(l)},og)},GC={value:og,error:Hd,fromOption:qy},CE=function(u,l,d){if(u.row>=l.length||u.column>Js(l[0]))return GC.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var p=l.slice(u.row),y=p[0].cells.slice(u.column),x=Js(d[0]),D=d.length;return GC.value({rowDelta:p.length-D,colDelta:y.length-x})},qC=function(u,l){var d=Js(u[0]),p=Js(l[0]);return{rowDelta:0,colDelta:d-p}},KC=function(u,l){var d=u.length,p=l.length;return{rowDelta:d-p,colDelta:0}},Ky=function(u,l,d,p){var y=l.section==="colgroup"?d.col:d.cell;return vt(u,function(x){return ci(y(),!0,p(x))})},SE=function(u,l,d,p){var y=u[u.length-1];return u.concat(vt(l,function(){var x=y.section==="colgroup"?d.colgroup:d.row,D=Ci(y,x,_t),M=Ky(D.cells.length,D,d,function(X){return G(p,X.toString())});return Nr(D,M)}))},nb=function(u,l,d,p){return Se(u,function(y){var x=Ky(l,y,d,Vt);return Nf(y,p,x)})},xE=function(u,l,d){return Se(u,function(p){return K(d,function(y,x){var D=Ky(1,p,l,Ae)[0];return If(y,x,D)},p)})},Gp=function(u,l,d){var p=l.colDelta<0?nb:_t,y=l.rowDelta<0?SE:_t,x=Ji(u),D=Js(u[0]),M=A(x,function(Te){return Te===D-1}),X=p(u,Math.abs(l.colDelta),d,M?D-1:D),oe=Ji(X);return y(X,Math.abs(l.rowDelta),d,qt(oe,Ae))},kE=function(u,l,d,p){var y=ju(u[l],d),x=Ne(p,y.element),D=u[l];return u.length>1&&Js(D)>1&&(d>0&&x(Cu(D,d-1))||d<D.cells.length-1&&x(Cu(D,d+1))||l>0&&x(Cu(u[l-1],d))||l<u.length-1&&x(Cu(u[l+1],d)))},TE=function(u,l,d,p,y,x){for(var D=u.row,M=u.column,X=d.length,oe=Js(d[0]),Te=D+X,Pt=M+oe+x.length,cn=qt(x,Ae),en=D;en<Te;en++)for(var Dt=0,On=M;On<Pt;On++){if(cn[On]){Dt++;continue}kE(l,en,On,y)&&ag(l,Cu(l[en],On),y,p.cell);var Bn=On-M-Dt,mr=ju(d[en-D],Bn),wa=mr.element,yr=p.replace(wa);Ul(l[en],On,ci(yr,!0,mr.isLocked))}return l},EE=function(u,l,d){var p=Js(l[0]),y=Jo(l).cols.length+u.row,x=vt(p-u.column,function(M){return M+u.column}),D=pt(x,function(M){return Me(d,function(X){return X!==M})}).getOr(p-1);return{row:y,column:D}},rb=function(u,l,d){return $t(d,function(p){return p>=u.column&&p<=Js(l[0])+u.column})},AE=function(u,l,d,p,y){var x=Ji(l),D=EE(u,l,x),M=Jo(d).rows,X=rb(D,M,x),oe=CE(D,l,M);return oe.map(function(Te){var Pt=Wt(Wt({},Te),{colDelta:Te.colDelta-X.length}),cn=Gp(l,Pt,p),en=Ji(cn),Dt=rb(D,M,en);return TE(D,cn,M,p,y,Dt)})},ig=function(u,l,d,p,y){jp(l,u,y,p.cell);var x=KC(d,l),D=Gp(d,x,p),M=KC(l,D),X=Gp(l,M,p);return Se(X,function(oe,Te){return Nf(oe,u,D[Te].cells)})},XC=function(u,l,d,p,y){wE(l,u,y,p.cell);var x=Ji(l),D=qC(l,d),M=Wt(Wt({},D),{colDelta:D.colDelta-x.length}),X=Gp(l,M,p),oe=Jo(X),Te=oe.cols,Pt=oe.rows,cn=Ji(X),en=qC(d,l),Dt=Wt(Wt({},en),{colDelta:en.colDelta+cn.length}),On=xE(d,p,cn),Bn=Gp(On,Dt,p);return Te.concat(Pt.slice(0,u)).concat(Bn).concat(Pt.slice(u,Pt.length))},OE=function(u,l,d,p){return Ci(u,function(y){return p(y,d)},l)},Xy=function(u,l,d,p,y){var x=Jo(u),D=x.rows,M=x.cols,X=D.slice(0,l),oe=D.slice(l),Te=OE(D[d],function(Pt,cn){var en=l>0&&l<D.length&&p(Cu(D[l-1],cn),Cu(D[l],cn)),Dt=en?ju(D[l],cn):ci(y(Pt.element,p),!0,Pt.isLocked);return Dt},p,y);return M.concat(X).concat([Te]).concat(oe)},YC=function(u,l,d,p,y,x,D){if(d==="colgroup"||!p){var M=ju(u,y);return ci(D(M.element,x),!0,!1)}else return ju(u,l)},Yy=function(u,l,d,p,y){return Se(u,function(x){var D=l>0&&l<Js(x)&&p(Cu(x,l-1),Cu(x,l)),M=YC(x,l,x.section,D,d,p,y);return If(x,l,M)})},ZC=function(u,l){return Le(u,function(d){var p=d.cells,y=an(l,function(x,D){return D>=0&&D<x.length?x.slice(0,D).concat(x.slice(D+1)):x},p);return y.length>0?[ls(d.element,y,d.section,d.isNew)]:[]})},JC=function(u,l,d){var p=Jo(u),y=p.rows,x=p.cols;return x.concat(y.slice(0,l)).concat(y.slice(d+1))},ug=function(u,l,d,p){return Cu(u[l],d)!==void 0&&l>0&&p(Cu(u[l-1],d),Cu(u[l],d))},Zy=function(u,l,d){return l>0&&d(Cu(u,l-1),Cu(u,l))},Jy=function(u,l,d,p){return ug(u,l,d,p)||Zy(u[l],d,p)},DE=function(u,l){var d=Me(l,_t)&&Hp(u.cells);return d?Ae:function(p,y,x){var D=Sa(p.element);return!(D==="th"&&l[x])}},_E=function(u,l){var d=Me(l,_t)&&Hp(u);return d?Ae:function(p,y,x){var D=Sa(p.element);return!(D==="th"&&l[y])}},Qy=function(u,l,d,p){var y=function(M){return M==="row"?Qh(l):gd(l)},x=function(M){return y(M)?M+"group":M};if(u)return K1(l)?x(d):null;if(p&&K1(l)){var D=d==="row"?"col":"row";return x(D)}else return null},RE=function(u,l){return function(d,p,y){return B.some(Qy(u,d.element,"col",l[y]))}},QC=function(u,l){return function(d,p){return B.some(Qy(u,d.element,"row",l[p]))}},Wv=function(u,l,d){return ci(d(u.element,l),!0,u.isLocked)},sg=function(u,l,d,p,y,x,D){var M=function(X){return A(l,function(oe){return d(X.element,oe.element)})};return Se(u,function(X,oe){return Zs(X,function(Te,Pt){if(M(Te)){var cn=D(Te,oe,Pt)?y(Te,d,p):Te;return x(cn,oe,Pt).each(function(en){Df(cn.element,{scope:B.from(en)})}),cn}else return Te})})},eS=function(u,l,d){return Le(u,function(p,y){return Jy(u,y,l,d)?[]:[ju(p,l)]})},PE=function(u,l,d){var p=u[l];return Le(p.cells,function(y,x){return Jy(u,l,x,d)?[]:[y]})},tS=function(u,l,d,p,y){var x=Jo(u).rows,D=Le(l,function(Te){return eS(x,Te,p)}),M=Se(u,function(Te){return Hp(Te.cells)}),X=_E(D,M),oe=QC(d,M);return sg(u,D,p,y,Wv,oe,X)},BE=function(u,l,d,p,y,x,D){var M=Jo(u),X=M.cols,oe=M.rows,Te=oe[l[0]],Pt=Le(l,function(mr){return PE(oe,mr,y)}),cn=Se(Te.cells,function(mr,wa){return Hp(eS(oe,wa,y))}),en=Kn([],oe,!0);Nt(l,function(mr){en[mr]=D.transformRow(oe[mr],d)});var Dt=X.concat(en),On=DE(Te,cn),Bn=RE(p,cn);return sg(Dt,Pt,y,x,D.transformCell,Bn,On)},ew=function(u,l,d,p){var y=Jo(u).rows,x=Se(l,function(D){return ju(y[D.row],D.column)});return sg(u,x,d,p,Wv,B.none,Ae)},cg=function(u){var l=function(d,p){var y=A(d,function(x){return x.column===p.column});return y?d:d.concat([p])};return K(u,l,[]).sort(function(d,p){return d.column-p.column})},Nu=qo("col"),tw=qo("colgroup"),lg=function(u){return Sa(u)==="tr"||tw(u)},Vd=function(u){var l=yc(u,"colspan",1),d=yc(u,"rowspan",1);return{element:u,colspan:l,rowspan:d}},ab=function(u,l){l===void 0&&(l=Vd);var d=function(M){return Nu(M.element)?u.col(M):u.cell(M)},p=function(M){return tw(M.element)?u.colgroup(M):u.row(M)},y=function(M){if(lg(M))return p({element:M});var X=d(l(M));return x=B.some({item:M,replacement:X}),X},x=B.none(),D=function(M,X){return x.fold(function(){return y(M)},function(oe){return X(M,oe.item)?oe.replacement:y(M)})};return{getOrInit:D}},ME=function(u){return function(l){var d=[],p=function(D,M){return pt(d,function(X){return M(X.item,D)})},y=function(D){var M=u==="td"?{scope:null}:{},X=l.replace(D,u,M);return d.push({item:D,sub:X}),X},x=function(D,M){return lg(D)||Nu(D)?D:p(D,M).fold(function(){return y(D)},function(X){return M(D,X.item)?X.sub:y(D)})};return{replaceOrInit:x}}},nS=function(u){return Da(u,"scope").map(function(l){return l.substr(0,3)})},nw=function(u){var l=function(p){var y=nS(p);return y.each(function(x){return yi(p,"scope",x)}),function(){var x=u.cell({element:p,colspan:1,rowspan:1});return Zi(x,"width"),Zi(p,"width"),y.each(function(D){return yi(x,"scope",D)}),x}},d=function(p){var y=function(){var x=li(Se(p,nS));if(x.length===0)return B.none();var D=x[0],M=["row","col"],X=A(x,function(oe){return oe!==D&&Mn(M,oe)});return X?B.none():B.from(D)};return Zi(p[0],"width"),y().fold(function(){return mo(p[0],"scope")},function(x){return yi(p[0],"scope",x+"group")}),Ke(p[0])};return{unmerge:l,merge:d}},ys={modification:ab,transform:ME,merging:nw},qp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],FE=function(u,l){var d=u.property().name(l);return Mn(["ol","ul"],d)},Ud=function(u,l){var d=u.property().name(l);return Mn(qp,d)},jv=function(u,l){return Mn(["br","img","hr","input"],u.property().name(l))},fg=gp(),Gv=function(u){return Ud(fg,u)},Al=function(u){return FE(fg,u)},Ol=function(u){return jv(fg,u)},ob=function(u){var l=function(X){return Sa(X)==="br"},d=function(X){return Me(X,function(oe){return l(oe)||_u(oe)&&t1(oe).trim().length===0})},p=function(X){return Sa(X)==="li"||Po(X,Al).isSome()},y=function(X){return R(X).map(function(oe){return Gv(oe)?!0:Ol(oe)?Sa(oe)!=="img":!1}).getOr(!1)},x=function(X){return d1(X).bind(function(oe){var Te=y(oe);return Ro(oe).map(function(Pt){return Te===!0||p(Pt)||l(oe)||Gv(Pt)&&!ia(X,Pt)?[]:[ht.fromTag("br")]})}).getOr([])},D=function(){var X=Le(u,function(oe){var Te=k(oe);return d(Te)?[]:Te.concat(x(oe))});return X.length===0?[ht.fromTag("br")]:X},M=D();dp(u[0]),hl(u[0],M)},ib=function(u){return Rp(u,!0)},rw=function(u){var l=Ff(u);l.length===0&&ds(u)},vg=function(u,l){return{grid:u,cursor:l}},dg=function(u){return Cn(u,function(l){return Cn(l.cells,function(d){var p=d.element;return eo(ib(p),p)})})},mg=function(u,l,d){var p,y,x=Jo(u).rows;return B.from((y=(p=x[l])===null||p===void 0?void 0:p.cells[d])===null||y===void 0?void 0:y.element).filter(ib).orThunk(function(){return dg(x)})},Au=function(u,l,d){var p=mg(u,l,d);return vg(u,p)},gg=function(u){var l=function(d,p){var y=A(d,function(x){return x.row===p.row});return y?d:d.concat([p])};return K(u,l,[]).sort(function(d,p){return d.row-p.row})},pg=function(u,l,d,p){var y=l[0].row,x=gg(l),D=an(x,function(M,X){var oe=Xy(M.grid,y,X.row+M.delta,d,p.getOrInit);return{grid:oe,delta:M.delta+1}},{grid:u,delta:0}).grid;return Au(D,y,l[0].column)},ub=function(u,l,d,p){var y=gg(l),x=y[y.length-1],D=x.row+x.rowspan,M=an(y,function(X,oe){return Xy(X,D,oe.row,d,p.getOrInit)},u);return Au(M,D,l[0].column)},NE=function(u,l,d,p){var y=l.details,x=cg(y),D=x[0].column,M=an(x,function(X,oe){var Te=Yy(X.grid,D,oe.column+X.delta,d,p.getOrInit);return{grid:Te,delta:X.delta+1}},{grid:u,delta:0}).grid;return Au(M,y[0].row,D)},aw=function(u,l,d,p){var y=l.details,x=y[y.length-1],D=x.column+x.colspan,M=cg(y),X=an(M,function(oe,Te){return Yy(oe,D,Te.column,d,p.getOrInit)},u);return Au(X,y[0].row,D)},sb=function(u,l,d,p){var y=cg(l),x=Se(y,function(M){return M.column}),D=tS(u,x,!0,d,p.replaceOrInit);return Au(D,l[0].row,l[0].column)},iu=function(u,l,d,p){var y=ew(u,l,d,p.replaceOrInit);return Au(y,l[0].row,l[0].column)},IE=function(u,l,d,p){var y=cg(l),x=Se(y,function(M){return M.column}),D=tS(u,x,!1,d,p.replaceOrInit);return Au(D,l[0].row,l[0].column)},of=function(u,l,d,p){var y=ew(u,l,d,p.replaceOrInit);return Au(y,l[0].row,l[0].column)},cb=function(u,l){return function(d,p,y,x,D){var M=gg(p),X=Se(M,function(Te){return Te.row}),oe=BE(d,X,u,l,y,x.replaceOrInit,D);return Au(oe,p[0].row,p[0].column)}},ow=cb("thead",!0),hg=cb("tbody",!1),iw=cb("tfoot",!1),Kp=function(u,l,d,p){var y=cg(l.details),x=ZC(u,Se(y,function(M){return M.column})),D=x.length>0?x[0].cells.length-1:0;return Au(x,y[0].row,Math.min(y[0].column,D))},$E=function(u,l,d,p){var y=gg(l),x=JC(u,y[0].row,y[y.length-1].row),D=x.length>0?x.length-1:0;return Au(x,Math.min(l[0].row,D),l[0].column)},rS=function(u,l,d,p){var y=l.cells;ob(y);var x=jC(u,l.bounds,d,p.merge(y));return vg(x,B.from(y[0]))},aS=function(u,l,d,p){var y=function(D,M){return ag(D,M,d,p.unmerge(M))},x=an(l,y,u);return vg(x,B.from(l[0]))},LE=function(u,l,d,p){var y=function(X,oe){var Te=na.fromTable(X);return Uv(Te,oe,!0)},x=y(l.clipboard,l.generators),D=Ea(l.row,l.column),M=AE(D,u,x,l.generators,d);return M.fold(function(){return vg(u,B.some(l.element))},function(X){return Au(X,l.row,l.column)})},bg=function(u,l,d){var p=fp(u,d.section),y=na.generate(p);return Uv(y,l,!0)},Yo=function(u,l,d,p){var y=Jo(u).rows,x=l.cells[0].column,D=y[l.cells[0].row],M=bg(l.clipboard,l.generators,D),X=ig(x,u,M,l.generators,d);return Au(X,l.cells[0].row,l.cells[0].column)},lb=function(u,l,d,p){var y=Jo(u).rows,x=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,D=y[l.cells[0].row],M=bg(l.clipboard,l.generators,D),X=ig(x,u,M,l.generators,d);return Au(X,l.cells[0].row,l.cells[0].column)},fb=function(u,l,d,p){var y=Jo(u).rows,x=l.cells[0].row,D=y[x],M=bg(l.clipboard,l.generators,D),X=XC(x,u,M,l.generators,d);return Au(X,l.cells[0].row,l.cells[0].column)},uw=function(u,l,d,p){var y=Jo(u).rows,x=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,D=y[l.cells[0].row],M=bg(l.clipboard,l.generators,D),X=XC(x,u,M,l.generators,d);return Au(X,l.cells[0].row,l.cells[0].column)},oS=function(u,l){var d=na.fromTable(u),p=El(d,l);return p.bind(function(y){var x=y[y.length-1],D=y[0].column,M=x.column+x.colspan,X=Rn(Se(d.all,function(oe){return $t(oe.cells,function(Te){return Te.column>=D&&Te.column<M})}));return Vy(X)}).getOr("")},sw=function(u,l){var d=na.fromTable(u),p=El(d,l);return p.bind(Vy).getOr("")},Wd=function(u,l){var d=na.fromTable(u),p=El(d,l);return p.bind(function(y){var x=y[y.length-1],D=y[0].row,M=x.row+x.rowspan,X=d.all.slice(D,M);return dE(X)}).getOr("")},vb=function(u,l,d,p){return Sl(u,l,d,p.sizing)},ws=function(u,l,d,p){return CC(u,l,d,p.sizing,p.resize)},Dl=function(u,l){return A(l,function(d){return d.column===0&&d.isLocked})},db=function(u,l){return A(l,function(d){return d.column+d.colspan>=u.grid.columns&&d.isLocked})},Jf=function(u,l){var d=bd(u),p=cg(l);return K(p,function(y,x){var D=d[x.column],M=D.map(xu).getOr(0);return y+M},0)},el=function(u){return function(l,d){return El(l,d).filter(function(p){var y=u?Dl:db;return!y(l,p)}).map(function(p){return{details:p,pixelDelta:Jf(l,p)}})}},_l=function(u,l){return Zf(u,l).map(function(d){return{details:d,pixelDelta:-Jf(u,d)}})},Iu=function(u){return function(l,d){return jy(l,d).filter(function(p){var y=u?Dl:db;return!y(l,p.cells)})}},Tc=ys.transform("th"),yg=ys.transform("td"),uf=Hi(pg,El,Oe,Oe,ys.modification),jd=Hi(ub,El,Oe,Oe,ys.modification),iS=Hi(NE,el(!0),ws,Oe,ys.modification),uS=Hi(aw,el(!1),ws,Oe,ys.modification),zE=Hi(Kp,_l,ws,rw,ys.modification),HE=Hi($E,El,Oe,rw,ys.modification),sS=Hi(sb,Zf,Oe,Oe,Tc),cS=Hi(IE,Zf,Oe,Oe,yg),lS=Hi(ow,Zf,Oe,Oe,Tc),VE=Hi(hg,Zf,Oe,Oe,yg),fS=Hi(iw,Zf,Oe,Oe,yg),UE=Hi(iu,Zf,Oe,Oe,Tc),vS=Hi(of,Zf,Oe,Oe,yg),dS=Hi(rS,Gy,vb,Oe,ys.merging),cw=Hi(aS,tb,vb,Oe,ys.merging),mS=Hi(LE,zC,vb,Oe,ys.modification),WE=Hi(Yo,Iu(!0),Oe,Oe,ys.modification),ba=Hi(lb,Iu(!1),Oe,Oe,ys.modification),Gd=Hi(fb,jy,Oe,Oe,ys.modification),wg=Hi(uw,jy,Oe,Oe,ys.modification),lw=oS,jE=sw,Cs=Wd,GE=function(u,l,d){var p=function(cu){return Sa(Yl(cu))==="table"},y=function(cu){return p(u)===!1||by(cu).rows>1},x=function(cu){return p(u)===!1||by(cu).columns>1},D=j1(u),M=By(u)?Oe:fE,X=function(cu){switch(Qc(u)){case"section":return Vp.section();case"sectionCells":return Vp.sectionCells();case"cells":return Vp.cells();default:return Vp.getTableSectionType(cu,"section")}},oe=function(cu,wh){return wh.cursor.fold(function(){var ad=Ff(cu);return be(ad).filter(jr).map(function(Pl){l.clear(cu);var Rc=u.dom.createRng();return Rc.selectNode(Pl.dom),u.selection.setRng(Rc),yi(Pl,"data-mce-selected","1"),Rc})},function(ad){var Pl=IC(ad),Rc=u.dom.createRng();return Rc.setStart(Pl.element.dom,Pl.offset),Rc.setEnd(Pl.element.dom,Pl.offset),u.selection.setRng(Rc),l.clear(cu),B.some(Rc)})},Te=function(cu,wh,ad,Pl,Rc){return function(al,Ch,sm){sm===void 0&&(sm=!1),Ku(al);var Sh=Pl(),cm=ht.fromDom(u.getDoc()),Bl=Kr(ad,cm,D),Lg={sizing:Iy(u,al),resize:By(u)?w1():Ad(),section:X(al)};return wh(al)?cu(Sh,al,Ch,Bl,Lg).bind(function(Jb){Nt(Jb.newRows,function(xh){$1(u,xh.dom)}),Nt(Jb.newCells,function(xh){L1(u,xh.dom)});var Dx=oe(al,Jb);return jr(al)&&(Ku(al),sm||nf(u,al.dom,Rc)),Dx.map(function(xh){return{rng:xh,effect:Rc}})}):B.none()}},Pt=Te(HE,y,Oe,d,Do),cn=Te(zE,x,Oe,d,Do),en=Te(uf,Ae,Oe,d,Do),Dt=Te(jd,Ae,Oe,d,Do),On=Te(iS,Ae,M,d,Do),Bn=Te(uS,Ae,M,d,Do),mr=Te(dS,Ae,Oe,d,Do),wa=Te(cw,Ae,Oe,d,Do),yr=Te(WE,Ae,Oe,d,Do),zr=Te(ba,Ae,Oe,d,Do),da=Te(Gd,Ae,Oe,d,Do),sa=Te(wg,Ae,Oe,d,Do),mi=Te(mS,Ae,Oe,d,rE),Ui=Te(UE,Ae,Oe,d,Do),ns=Te(vS,Ae,Oe,d,Do),ka=Te(sS,Ae,Oe,d,Do),Wr=Te(cS,Ae,Oe,d,Do),ha=Te(lS,Ae,Oe,d,Do),Wa=Te(VE,Ae,Oe,d,Do),Vo=Te(fS,Ae,Oe,d,Do),pf=jE,Ka=lw,_c=Cs;return{deleteRow:Pt,deleteColumn:cn,insertRowsBefore:en,insertRowsAfter:Dt,insertColumnsBefore:On,insertColumnsAfter:Bn,mergeCells:mr,unmergeCells:wa,pasteColsBefore:yr,pasteColsAfter:zr,pasteRowsBefore:da,pasteRowsAfter:sa,pasteCells:mi,makeCellsHeader:Ui,unmakeCellsHeader:ns,makeColumnsHeader:ka,unmakeColumnsHeader:Wr,makeRowsHeader:ha,makeRowsBody:Wa,makeRowsFooter:Vo,getTableRowType:_c,getTableCellType:pf,getTableColType:Ka}},qd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},qv=function(){return ht.fromTag("th")},mb=function(){return ht.fromTag("td")},gb=function(){return ht.fromTag("col")},qE=function(u,l,d,p){for(var y=ht.fromTag("tr"),x=0;x<u;x++){var D=p<l||x<d?qv():mb();x<d&&yi(D,"scope","row"),p<l&&yi(D,"scope","col"),zo(D,ht.fromTag("br")),zo(y,D)}return y},gS=function(u){var l=ht.fromTag("colgroup");return vt(u,function(){return zo(l,gb())}),l},pb=function(u,l,d,p){return vt(u,function(y){return qE(l,d,p,y)})},fw=function(u,l,d,p,y,x){x===void 0&&(x=qd);var D=ht.fromTag("table"),M=y!=="cells";Vl(D,x.styles),ai(D,x.attributes),x.colGroups&&zo(D,gS(l));var X=Math.min(u,d);if(M&&d>0){var oe=ht.fromTag("thead");zo(D,oe);var Te=y==="sectionCells"?X:0,Pt=pb(d,l,Te,p);hl(oe,Pt)}var cn=ht.fromTag("tbody");zo(D,cn);var en=M?u-X:u,Dt=M?0:d,On=pb(en,l,Dt,p);return hl(cn,On),D},Cg=function(u){return u.dom.innerHTML},hb=function(u){var l=ht.fromTag("div"),d=ht.fromDom(u.dom.cloneNode(!0));return zo(l,d),Cg(l)},KE=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},sf=function(u,l){Rs(l,"td,th").each(Ne(KE,u))},vw=function(u,l){Nt(_s(l,"tr"),function(d){$1(u,d.dom),Nt(_s(d,"th,td"),function(p){L1(u,p.dom)})})},dw=function(u){return we(u)&&u.indexOf("%")!==-1},Sg=function(u,l,d,p,y){var x=V1(u),D={styles:x,attributes:Mp(u),colGroups:U1(u)};return u.undoManager.ignore(function(){var M=fw(d,l,y,p,Qc(u),D);yi(M,"data-mce-id","__mce");var X=hb(M);u.insertContent(X),u.addVisual()}),Rs(Yl(u),'table[data-mce-id="__mce"]').map(function(M){return Yf(u)?eg(M):Jm(u)?G1(M):(At(u)||dw(x.width))&&Qm(M),Ku(M),mo(M,"data-mce-id"),vw(u,M),sf(u,M),M.dom}).getOr(null)},mw=function(u,l,d,p,y){p===void 0&&(p={});var x=function(X){return We(X)&&X>0};if(x(l)&&x(d)){var D=p.headerRows||0,M=p.headerColumns||0;return Sg(u,d,l,M,D)}else return console.error(y),null},Xp=function(u){return function(){return u().fold(function(){return[]},function(l){return Se(l,function(d){return d.dom})})}},pS=function(u){return function(l){var d=l.length>0?B.some($s(l)):B.none();u(d)}},XE=function(u){return function(l,d,p){p===void 0&&(p={});var y=mw(u,d,l,p,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),y}},cf=function(u,l,d,p){return{insertTable:XE(u),setClipboardRows:pS(l.setRows),getClipboardRows:Xp(l.getRows),setClipboardCols:pS(l.setColumns),getClipboardCols:Xp(l.getColumns),resizeHandler:d,selectionTargets:p}},zs=function(u,l,d){var p=yc(u,l,1);d===1||p<=1?mo(u,l):yi(u,l,Math.min(d,p))},uu=function(u,l,d){if(na.hasColumns(u)){var p=$t(na.justColumns(u),function(D){return D.column>=l&&D.column<d}),y=Se(p,function(D){var M=Ua(D.element);return zs(M,"span",d-l),M}),x=ht.fromTag("colgroup");return hl(x,y),[x]}else return[]},YE=function(u,l,d){return Se(u.all,function(p){var y=$t(p.cells,function(M){return M.column>=l&&M.column<d}),x=Se(y,function(M){var X=Ua(M.element);return zs(X,"colspan",d-l),X}),D=ht.fromTag("tr");return hl(D,x),D})},gw=function(u,l){var d=na.fromTable(u),p=Zf(d,l);return p.map(function(y){var x=y[y.length-1],D=y[0].column,M=x.column+x.colspan,X=uu(d,D,M),oe=YE(d,D,M);return Kn(Kn([],X,!0),oe,!0)})},xg=function(u,l,d){var p=na.fromTable(u),y=El(p,l);return y.bind(function(x){var D=Uv(p,d,!1),M=Jo(D).rows,X=M.slice(x[0].row,x[x.length-1].row+x[x.length-1].rowspan),oe=Le(X,function(Pt){var cn=$t(Pt.cells,function(en){return!en.isLocked});return cn.length>0?[Wt(Wt({},Pt),{cells:cn})]:[]}),Te=J1(oe);return eo(Te.length>0,Te)}).map(function(x){return Wy(x)})},pw=tinymce.util.Tools.resolve("tinymce.util.Tools"),Yp=function(u,l,d){var p=u.select("td,th",l),y,x=function(D,M){for(var X=0;X<M.length;X++){var oe=u.getStyle(M[X],d);if(typeof D>"u"&&(D=oe),D!==oe)return""}return D};return x(y,p)},hw=function(u,l,d){d&&u.formatter.apply("align"+d,{},l)},ZE=function(u,l,d){d&&u.formatter.apply("valign"+d,{},l)},Ln=function(u,l){pw.each("left center right".split(" "),function(d){u.formatter.remove("align"+d,{},l)})},Oi=function(u,l){pw.each("top middle bottom".split(" "),function(d){u.formatter.remove("valign"+d,{},l)})},kg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Vi=function(u){return{value:u}},Ec=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,bw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Zp=function(u){return Ec.test(u)||bw.test(u)},bb=function(u){return Nn(u,"#").toUpperCase()},yb=function(u){return Zp(u)?B.some({value:bb(u)}):B.none()},wb=function(u){var l=u.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},Kv=function(u){var l=wb(u.red)+wb(u.green)+wb(u.blue);return Vi(l)},Jp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,yw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,ww=function(u,l,d,p){return{red:u,green:l,blue:d,alpha:p}},Cw=function(u,l,d,p){var y=parseInt(u,10),x=parseInt(l,10),D=parseInt(d,10),M=parseFloat(p);return ww(y,x,D,M)},JE=function(u){if(u==="transparent")return B.some(ww(0,0,0,0));var l=Jp.exec(u);if(l!==null)return B.some(Cw(l[1],l[2],l[3],"1"));var d=yw.exec(u);return d!==null?B.some(Cw(d[1],d[2],d[3],d[4])):B.none()},hS=function(u){return yb(u).orThunk(function(){return JE(u).map(Kv)}).getOrThunk(function(){var l=document.createElement("canvas");l.height=1,l.width=1;var d=l.getContext("2d");d.clearRect(0,0,l.width,l.height),d.fillStyle="#FFFFFF",d.fillStyle=u,d.fillRect(0,0,1,1);var p=d.getImageData(0,0,1,1).data,y=p[0],x=p[1],D=p[2],M=p[3];return Kv(ww(y,x,D,M))})},Qf=function(u){var l=u,d=function(){return l},p=function(y){l=y};return{get:d,set:p}},lf=function(u){var l=Qf(B.none()),d=function(){return l.get().each(u)},p=function(){d(),l.set(B.none())},y=function(){return l.get().isSome()},x=function(){return l.get()},D=function(M){d(),l.set(B.some(M))};return{clear:p,isSet:y,get:x,set:D}},Kd=function(){return lf(function(u){return u.unbind()})},Tg=function(){var u=lf(Oe),l=function(d){return u.get().each(d)};return Wt(Wt({},u),{on:l})},Sw=function(u,l,d,p){return function(y){var x=Kd(),D=Zn(p),M=function(){var X=Tu(l),oe=function(Te){return u.formatter.match(d,{value:p},Te.dom,D)};D?(y.setActive(!A(X,oe)),x.set(u.formatter.formatChanged(d,function(Te){return y.setActive(!Te)},!0))):(y.setActive(Me(X,oe)),x.set(u.formatter.formatChanged(d,y.setActive,!1,{value:p})))};return u.initialized?M():u.on("init",M),x.clear}},Cb=function(u){return Ee(u,"menu")},ff=function(u){return Se(u,function(l){var d=l.text||l.title;return Cb(l)?{text:d,items:ff(l.menu)}:{text:d,value:l.value}})},tl=function(u,l,d,p,y){return Se(d,function(x){var D=x.text||x.title;return Cb(x)?{type:"nestedmenuitem",text:D,getSubmenuItems:function(){return tl(u,l,x.menu,p,y)}}:{text:D,type:"togglemenuitem",onAction:function(){return y(x.value)},onSetup:Sw(u,l,p,x.value)}})},Xv=function(u,l){return function(d){var p;u.execCommand("mceTableApplyCellStyle",!1,(p={},p[l]=d,p))}},Yv=function(u){return Le(u,function(l){return Cb(l)?[Wt(Wt({},l),{menu:Yv(l.menu)})]:sn(l.value)?[l]:[]})},Xd=function(u,l,d,p,y){return function(x){return x(tl(u,l,d,p,y))}},Eg=function(u,l,d){var p=Se(l,function(y){return{text:y.title,value:"#"+hS(y.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:p.length>0?p:void 0,allowCustomColors:!1},onAction:function(y){var x,D=y.value==="remove"?"":y.value;u.execCommand("mceTableApplyCellStyle",!1,(x={},x[d]=D,x))}}]},xw=function(u){return function(){var l=u.queryCommandValue("mceTableRowType"),d=l==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:d})}},kw=function(u){return function(){var l=u.queryCommandValue("mceTableColType"),d=l==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:d})}},Tw=function(u){var l=ff(rf(u));return l.length>0?B.some({name:"class",type:"listbox",label:"Class",items:l}):B.none()},Sb=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:kg}],su=function(u){return Sb.concat(Tw(u).toArray())},lc=function(u,l){var d=[{text:"Select...",value:""}],p=[{name:"borderstyle",type:"listbox",label:"Border style",items:d.concat(ff(Mu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],y={name:"borderwidth",type:"input",label:"Border width"},x=l==="cell"?[y].concat(p):p;return{title:"Advanced",name:"advanced",items:x}},Ac=function(u){return function(l,d){var p=l.dom,y=function(M,X){(!u||X)&&p.setAttrib(d,M,X)},x=function(M,X){(!u||X)&&p.setStyle(d,M,X)},D=function(M,X){(!u||X)&&(X===""?l.formatter.remove(M,{value:null},d,!0):l.formatter.apply(M,{value:X},d))};return{setAttrib:y,setStyle:x,setFormat:D}}},vf={normal:Ac(!1),ifTruthy:Ac(!0)},Ag=function(u){return function(l){return Yn(l,"rgb")?u.toHex(l):l}},xb=function(u,l){var d=ht.fromDom(l);return{borderwidth:Wu(d,"border-width").getOr(""),borderstyle:Wu(d,"border-style").getOr(""),bordercolor:Wu(d,"border-color").map(Ag(u)).getOr(""),backgroundcolor:Wu(d,"background-color").map(Ag(u)).getOr("")}},Zv=function(u){var l=u[0],d=u.slice(1);return Nt(d,function(p){Nt(Ii(l),function(y){Ya(p,function(x,D){var M=l[y];M!==""&&y===D&&M!==x&&(l[y]="")})})}),l},Yd=function(u,l,d,p){return pt(u,function(y){return!Xt(d.formatter.matchNode(p,l+y))}).getOr("")},Zd=Ne(Yd,["left","center","right"],"align"),QE=Ne(Yd,["top","middle","bottom"],"valign"),Ew=function(u,l){var d=V1(u),p=Mp(u),y=function(Te){return{borderstyle:Yi(d,"border-style").getOr(""),bordercolor:Ag(Te)(Yi(d,"border-color").getOr("")),backgroundcolor:Ag(Te)(Yi(d,"background-color").getOr(""))}},x={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var Te=d["border-width"];return Fu(u)&&Te?{border:Te}:Yi(p,"border").fold(function(){return{}},function(Pt){return{border:Pt}})},M=l?y(u.dom):{},X=function(){var Te=Yi(d,"border-spacing").or(Yi(p,"cellspacing")).fold(function(){return{}},function(cn){return{cellspacing:cn}}),Pt=Yi(d,"border-padding").or(Yi(p,"cellpadding")).fold(function(){return{}},function(cn){return{cellpadding:cn}});return Wt(Wt({},Te),Pt)},oe=Wt(Wt(Wt(Wt(Wt(Wt({},x),d),p),M),D()),X());return oe},bS=function(u){return Ao(ht.fromDom(u)).map(function(l){var d={selection:$s(u.cells)};return Cs(l,d)}).getOr("")},yS=function(u,l,d){var p=function(M,X){var oe=Wu(ht.fromDom(X),"border-width");return Fu(u)&&oe.isSome()?oe.getOr(""):M.getAttrib(X,"border")||Yp(u.dom,X,"border-width")||Yp(u.dom,X,"border")},y=u.dom,x=Fu(u)?y.getStyle(l,"border-spacing")||y.getAttrib(l,"cellspacing"):y.getAttrib(l,"cellspacing")||y.getStyle(l,"border-spacing"),D=Fu(u)?Yp(y,l,"padding")||y.getAttrib(l,"cellpadding"):y.getAttrib(l,"cellpadding")||Yp(y,l,"padding");return Wt({width:y.getStyle(l,"width")||y.getAttrib(l,"width"),height:y.getStyle(l,"height")||y.getAttrib(l,"height"),cellspacing:x,cellpadding:D,border:p(y,l),caption:!!y.select("caption",l)[0],class:y.getAttrib(l,"class",""),align:Zd(u,l)},d?xb(y,l):{})},Aw=function(u,l,d){var p=u.dom;return Wt({height:p.getStyle(l,"height")||p.getAttrib(l,"height"),class:p.getAttrib(l,"class",""),type:bS(l),align:Zd(u,l)},d?xb(p,l):{})},Ow=function(u,l,d,p){var y=u.dom,x=p.getOr(l),D=function(M,X){return y.getStyle(M,X)||y.getAttrib(M,X)};return Wt({width:D(x,"width"),height:D(l,"height"),scope:y.getAttrib(l,"scope"),celltype:fy(l),class:y.getAttrib(l,"class",""),halign:Zd(u,l),valign:QE(u,l)},d?xb(y,l):{})},Ja=function(u,l){var d=na.fromTable(u),p=na.justCells(d),y=$t(p,function(x){return A(l,function(D){return ia(x.element,D)})});return Se(y,function(x){return{element:x.element.dom,column:na.getColumnAt(d,x.column).map(function(D){return D.element.dom})}})},df=function(u,l,d){u.setAttrib("scope",d.scope),u.setAttrib("class",d.class),u.setStyle("height",_i(d.height)),l.setStyle("width",_i(d.width))},wS=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",_i(l.borderwidth))},CS=function(u,l,d){var p=l.length===1;Nt(l,function(y){var x=y.element,D=p?vf.normal(u,x):vf.ifTruthy(u,x),M=y.column.map(function(X){return p?vf.normal(u,X):vf.ifTruthy(u,X)}).getOr(D);df(D,M,d),Np(u)&&wS(D,d),p&&(Ln(u,x),Oi(u,x)),d.halign&&hw(u,x,d.halign),d.valign&&ZE(u,x,d.valign)})},SS=function(u,l){u.execCommand("mceTableCellType",!1,{type:l.celltype,no_events:!0})},kb=function(u,l,d,p){var y=Xi(p,function(x,D){return d[D]!==x});bu(y)>0&&l.length>=1&&Ao(l[0]).each(function(x){var D=Ja(x,l),M=bu(Xi(y,function(oe,Te){return Te!=="scope"&&Te!=="celltype"}))>0,X=G(y,"celltype");(M||G(y,"scope"))&&CS(u,D,p),X&&SS(u,p),nf(u,x.dom,{structure:X,style:M})})},Dw=function(u,l,d,p){var y=p.getData();p.close(),u.undoManager.transact(function(){kb(u,l,d,y),u.focus()})},Qp=function(u,l){var d=Ao(l[0]).map(function(p){return Se(Ja(p,l),function(y){return Ow(u,y.element,Np(u),y.column)})});return Zv(d.getOrDie())},Or=function(u,l){var d=Tu(l);if(d.length!==0){var p=Qp(u,d),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:su(u)},lc(u,"cell")]},x={type:"panel",items:[{type:"grid",columns:2,items:su(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Np(u)?y:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onSubmit:Ne(Dw,u,d,p)})}},e3=function(u){var l=ff(Hv(u));return l.length>0?B.some({name:"class",type:"listbox",label:"Class",items:l}):B.none()},_w=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],xS=function(u){return _w.concat(e3(u).toArray())},Rw=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",_i(l.height))},t3=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},kS=function(u,l,d,p){var y=l.length===1;Nt(l,function(x){var D=y?vf.normal(u,x):vf.ifTruthy(u,x);Rw(D,d),Ip(u)&&t3(D,d),d.align!==p.align&&(Ln(u,x),hw(u,x,d.align))})},Pw=function(u,l){u.execCommand("mceTableRowType",!1,{type:l.type,no_events:!0})},Bw=function(u,l,d,p){var y=Xi(p,function(M,X){return d[X]!==M});if(bu(y)>0){var x=G(y,"type"),D=x?bu(y)>1:!0;D&&kS(u,l,p,d),x&&Pw(u,p),Ao(ht.fromDom(l[0])).each(function(M){return nf(u,M.dom,{structure:x,style:D})})}},n3=function(u,l,d,p){var y=p.getData();p.close(),u.undoManager.transact(function(){Bw(u,l,d,y),u.focus()})},fc=function(u){var l=bC(Td(u),uc.selected);if(l.length!==0){var d=Se(l,function(D){return Aw(u,D.dom,Ip(u))}),p=Zv(d),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:xS(u)},lc(u,"row")]},x={type:"panel",items:[{type:"grid",columns:2,items:xS(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Ip(u)?y:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onSubmit:Ne(n3,u,Se(l,function(D){return D.dom}),p)})}},ts=function(u,l,d){var p=d?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],y=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],x=Tl(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],M=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return p.concat(y).concat(x).concat(D).concat(M)},mf=function(u,l,d,p){if(l.tagName==="TD"||l.tagName==="TH")we(d)?u.setStyle(l,d,p):u.setStyle(l,d);else if(l.children)for(var y=0;y<l.children.length;y++)mf(u,l.children[y],d,p)},r3=function(u,l,d){var p=u.dom,y={},x={};if(y.class=d.class,x.height=_i(d.height),p.getAttrib(l,"width")&&!Fu(u)?y.width=Dv(d.width):x.width=_i(d.width),Fu(u)?(x["border-width"]=_i(d.border),x["border-spacing"]=_i(d.cellspacing)):(y.border=d.border,y.cellpadding=d.cellpadding,y.cellspacing=d.cellspacing),Fu(u)&&l.children)for(var D=0;D<l.children.length;D++)mf(p,l.children[D],{"border-width":_i(d.border),padding:_i(d.cellpadding)}),es(u)&&mf(p,l.children[D],{"border-color":d.bordercolor});es(u)&&(x["background-color"]=d.backgroundcolor,x["border-color"]=d.bordercolor,x["border-style"]=d.borderstyle),y.style=p.serializeStyle(Wt(Wt({},V1(u)),x)),p.setAttribs(l,Wt(Wt({},Mp(u)),y))},a3=function(u,l,d,p){var y=u.dom,x=p.getData(),D=Xi(x,function(M,X){return d[X]!==M});p.close(),x.class===""&&delete x.class,u.undoManager.transact(function(){if(!l){var M=parseInt(x.cols,10)||1,X=parseInt(x.rows,10)||1;l=Sg(u,M,X,0,0)}if(bu(D)>0){r3(u,l,x);var oe=y.select("caption",l)[0];(oe&&!x.caption||!oe&&x.caption)&&u.execCommand("mceTableToggleCaption"),x.align===""?Ln(u,l):hw(u,l,x.align)}if(u.focus(),u.addVisual(),bu(D)>0){var Te=G(D,"caption"),Pt=Te?bu(D)>1:!0;nf(u,l,{structure:Te,style:Pt})}})},Mw=function(u,l){var d=u.dom,p,y=Ew(u,es(u));l===!1?(p=d.getParent(u.selection.getStart(),"table",u.getBody()),p?y=yS(u,p,es(u)):es(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor="")):(y.cols="1",y.rows="1",es(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor=""));var x=ff($p(u));x.length>0&&y.class&&(y.class=y.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:ts(u,x,l)},M=function(){return{type:"panel",items:[D]}},X=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},lc(u,"table")]}},oe=es(u)?X():M();u.windowManager.open({title:"Table Properties",size:"normal",body:oe,onSubmit:Ne(a3,u,p,y),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y})},fa=function(u){return Mo(Td(u),ic(u))},o3=function(u){return nu(Td(u),ic(u))},Tb=function(u,l,d,p,y){var x=ic(u),D=function(){return fa(u).each(function(yr){Ao(yr,x).filter($e(x)).each(function(zr){var da=ht.fromText("");if(oo(zr,da),ds(zr),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var sa=u.dom.createRng();sa.setStart(da.dom,0),sa.setEnd(da.dom,0),u.selection.setRng(sa),u.nodeChanged()}})})},M=function(yr){return fa(u).each(function(zr){var da=Jm(u)||Yf(u)||At(u);da||Ao(zr,x).each(function(sa){yr==="relative"&&!k1(sa)?Qm(sa):yr==="fixed"&&!ru(sa)?eg(sa):yr==="responsive"&&!T1(sa)&&G1(sa),Ku(sa),nf(u,sa.dom,Do)})})},X=function(yr){return Ao(yr,x)},oe=function(yr){return o3(u).bind(function(zr){return X(zr).map(function(da){return yr(da,zr)})})},Te=function(yr,zr){oe(function(da){u.formatter.toggle("tableclass",{value:zr},da.dom),nf(u,da.dom,Nd)})},Pt=function(yr,zr){oe(function(da){var sa=Tu(p),mi=Me(sa,function(ns){return u.formatter.match("tablecellclass",{value:zr},ns.dom)}),Ui=mi?u.formatter.remove:u.formatter.apply;Nt(sa,function(ns){return Ui("tablecellclass",{value:zr},ns.dom)}),nf(u,da.dom,Nd)})},cn=function(){fa(u).each(function(yr){Ao(yr,x).each(function(zr){Mr(zr,"caption").fold(function(){var da=ht.fromTag("caption");zo(da,ht.fromText("Caption")),TT(zr,da,0),u.selection.setCursorLocation(da.dom,0)},function(da){qo("caption")(yr)&&Eo("td",zr).each(function(sa){return u.selection.setCursorLocation(sa.dom,0)}),ds(da)}),nf(u,zr.dom,Do)})})},en=function(yr){u.focus()},Dt=function(yr,zr){return zr===void 0&&(zr=!1),oe(function(da,sa){var mi=Ed(p,da,sa);yr(da,mi,zr).each(en)})},On=function(){return oe(function(yr,zr){var da=Ed(p,yr,zr),sa=Kr(Oe,ht.fromDom(u.getDoc()),B.none());return xg(yr,da,sa)})},Bn=function(){return oe(function(yr,zr){var da=Ed(p,yr,zr);return gw(yr,da)})},mr=function(yr,zr){return zr().each(function(da){var sa=Se(da,function(mi){return Ua(mi)});oe(function(mi,Ui){var ns=oc(ht.fromDom(u.getDoc())),ka=dy(p,Ui,sa,ns);yr(mi,ka).each(en)})})},wa=function(yr){return function(zr,da){return Yi(da,"type").each(function(sa){Dt(yr(sa),da.no_events)})}};Ya({mceTableSplitCells:function(){return Dt(l.unmergeCells)},mceTableMergeCells:function(){return Dt(l.mergeCells)},mceTableInsertRowBefore:function(){return Dt(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return Dt(l.insertRowsAfter)},mceTableInsertColBefore:function(){return Dt(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return Dt(l.insertColumnsAfter)},mceTableDeleteCol:function(){return Dt(l.deleteColumn)},mceTableDeleteRow:function(){return Dt(l.deleteRow)},mceTableCutCol:function(){return Bn().each(function(yr){y.setColumns(yr),Dt(l.deleteColumn)})},mceTableCutRow:function(){return On().each(function(yr){y.setRows(yr),Dt(l.deleteRow)})},mceTableCopyCol:function(){return Bn().each(function(yr){return y.setColumns(yr)})},mceTableCopyRow:function(){return On().each(function(yr){return y.setRows(yr)})},mceTablePasteColBefore:function(){return mr(l.pasteColsBefore,y.getColumns)},mceTablePasteColAfter:function(){return mr(l.pasteColsAfter,y.getColumns)},mceTablePasteRowBefore:function(){return mr(l.pasteRowsBefore,y.getRows)},mceTablePasteRowAfter:function(){return mr(l.pasteRowsAfter,y.getRows)},mceTableDelete:D,mceTableCellToggleClass:Pt,mceTableToggleClass:Te,mceTableToggleCaption:cn,mceTableSizingMode:function(yr,zr){return M(zr)},mceTableCellType:wa(function(yr){return yr==="th"?l.makeCellsHeader:l.unmakeCellsHeader}),mceTableColType:wa(function(yr){return yr==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader}),mceTableRowType:wa(function(yr){switch(yr){case"header":return l.makeRowsHeader;case"footer":return l.makeRowsFooter;default:return l.makeRowsBody}})},function(yr,zr){return u.addCommand(zr,yr)}),Ya({mceTableProps:Ne(Mw,u,!1),mceTableRowProps:Ne(fc,u),mceTableCellProps:Ne(Or,u,p)},function(yr,zr){return u.addCommand(zr,function(){return yr()})}),u.addCommand("mceInsertTable",function(yr,zr){nt(zr)&&Ii(zr).length>0?mw(u,zr.rows,zr.columns,zr.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Mw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(yr,zr){var da=function(Ui){return"tablecell"+Ui.toLowerCase().replace("-","")};if(nt(zr)){var sa=Tu(p);if(sa.length!==0){var mi=Xi(zr,function(Ui,ns){return u.formatter.has(da(ns))&&we(Ui)});Ze(mi)||(Ya(mi,function(Ui,ns){Nt(sa,function(ka){vf.normal(u,ka.dom).setFormat(da(ns),Ui)})}),X(sa[0]).each(function(Ui){return nf(u,Ui.dom,Nd)}))}}})},Eb=function(u,l,d){var p=ic(u),y=function(x){return nu(Td(u)).bind(function(D){return Ao(D,p).map(function(M){var X=Ed(d,M,D);return x(M,X)})}).getOr("")};Ya({mceTableRowType:function(){return y(l.getTableRowType)},mceTableCellType:function(){return y(l.getTableCellType)},mceTableColType:function(){return y(l.getTableColType)}},function(x,D){return u.addQueryValueHandler(D,x)})},Ab=function(){var u=Tg(),l=Tg();return{getRows:u.get,setRows:function(d){d.fold(u.clear,u.set),l.clear()},clearRows:u.clear,getColumns:l.get,setColumns:function(d){d.fold(l.clear,l.set),u.clear()},clearColumns:l.clear}},eh={remove_similar:!0,inherit:!1},ev=Wt({selector:"td,th"},eh),th={tablecellbackgroundcolor:Wt({styles:{backgroundColor:"%value"}},ev),tablecellverticalalign:Wt({styles:{"vertical-align":"%value"}},ev),tablecellbordercolor:Wt({styles:{borderColor:"%value"}},ev),tablecellclass:Wt({classes:["%value"]},ev),tableclass:Wt({selector:"table",classes:["%value"]},eh),tablecellborderstyle:Wt({styles:{borderStyle:"%value"}},ev),tablecellborderwidth:Wt({styles:{borderWidth:"%value"}},ev)},i3=function(u){u.formatter.register(th)},TS=jl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Fw=function(u){return u===void 0&&(u=void 0),TS.none(u)},Jv=Wt(Wt({},TS),{none:Fw}),Ob=function(u,l,d,p,y){y===void 0&&(y=Ae);var x=p===1;if(!x&&d<=0)return Jv.first(u[0]);if(x&&d>=u.length-1)return Jv.last(u[u.length-1]);var D=d+p,M=u[D];return y(M)?Jv.middle(l,M):Ob(u,l,D,p,y)},ES=function(u,l){return Ao(u,l).bind(function(d){var p=Ff(d),y=qe(p,function(x){return ia(u,x)});return y.map(function(x){return{index:x,all:p}})})},u3=function(u,l,d){var p=ES(u,d);return p.fold(function(){return Jv.none(u)},function(y){return Ob(y.all,u,y.index,1,l)})},s3=function(u,l,d){var p=ES(u,d);return p.fold(function(){return Jv.none()},function(y){return Ob(y.all,u,y.index,-1,l)})},c3=function(u,l,d,p){return{start:u,soffset:l,finish:d,foffset:p}},Jd={create:c3},Nw=jl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xr=function(u,l,d,p){return u.fold(l,d,p)},AS=function(u){return u.fold(_t,_t,_t)},OS=Nw.before,l3=Nw.on,nh=Nw.after,$u={before:OS,on:l3,after:nh,cata:xr,getStart:AS},rh=jl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),f3=function(u){return rh.exact(u.start,u.soffset,u.finish,u.foffset)},DS=function(u){return u.match({domRange:function(l){return ht.fromDom(l.startContainer)},relative:function(l,d){return $u.getStart(l)},exact:function(l,d,p,y){return l}})},Iw=rh.domRange,$w=rh.relative,_S=rh.exact,Lw=function(u){var l=DS(u);return vl(l)},zw=Jd.create,tv={domRange:Iw,relative:$w,exact:_S,exactFromRange:f3,getWin:Lw,range:zw},v3=function(u,l){var d=u.document.createRange();return d.selectNode(l.dom),d},d3=function(u,l){var d=u.document.createRange();return RS(d,l),d},RS=function(u,l){return u.selectNodeContents(l.dom)},m3=function(u,l){l.fold(function(d){u.setStartBefore(d.dom)},function(d,p){u.setStart(d.dom,p)},function(d){u.setStartAfter(d.dom)})},ah=function(u,l){l.fold(function(d){u.setEndBefore(d.dom)},function(d,p){u.setEnd(d.dom,p)},function(d){u.setEndAfter(d.dom)})},Ma=function(u,l,d){var p=u.document.createRange();return m3(p,l),ah(p,d),p},Db=function(u,l,d,p,y){var x=u.document.createRange();return x.setStart(l.dom,d),x.setEnd(p.dom,y),x},nv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},nl=function(u){var l=u.getClientRects(),d=l.length>0?l[0]:u.getBoundingClientRect();return d.width>0||d.height>0?B.some(d).map(nv):B.none()},Qv=jl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ss=function(u,l,d){return l(ht.fromDom(d.startContainer),d.startOffset,ht.fromDom(d.endContainer),d.endOffset)},_b=function(u,l){return l.match({domRange:function(d){return{ltr:Ke(d),rtl:B.none}},relative:function(d,p){return{ltr:ar(function(){return Ma(u,d,p)}),rtl:ar(function(){return B.some(Ma(u,p,d))})}},exact:function(d,p,y,x){return{ltr:ar(function(){return Db(u,d,p,y,x)}),rtl:ar(function(){return B.some(Db(u,y,x,d,p))})}}})},Qd=function(u,l){var d=l.ltr();if(d.collapsed){var p=l.rtl().filter(function(y){return y.collapsed===!1});return p.map(function(y){return Qv.rtl(ht.fromDom(y.endContainer),y.endOffset,ht.fromDom(y.startContainer),y.startOffset)}).getOrThunk(function(){return Ss(u,Qv.ltr,d)})}else return Ss(u,Qv.ltr,d)},Og=function(u,l){var d=_b(u,l);return Qd(u,d)},ed=function(u,l){var d=Og(u,l);return d.match({ltr:function(p,y,x,D){var M=u.document.createRange();return M.setStart(p.dom,y),M.setEnd(x.dom,D),M},rtl:function(p,y,x,D){var M=u.document.createRange();return M.setStart(x.dom,D),M.setEnd(p.dom,y),M}})};Qv.ltr,Qv.rtl;var g3=function(u,l,d,p,y){if(y===0)return 0;if(l===p)return y-1;for(var x=p,D=1;D<y;D++){var M=u(D),X=Math.abs(l-M.left);if(d<=M.bottom){if(d<M.top||X>x)return D-1;x=X}}return 0},PS=function(u,l,d){return l>=u.left&&l<=u.right&&d>=u.top&&d<=u.bottom},p3=function(u,l,d,p,y){var x=function(oe){var Te=u.dom.createRange();return Te.setStart(l.dom,oe),Te.collapse(!0),Te},D=function(oe){var Te=x(oe);return Te.getBoundingClientRect()},M=t1(l).length,X=g3(D,d,p,y.right,M);return x(X)},h3=function(u,l,d,p){var y=u.dom.createRange();y.selectNode(l.dom);var x=y.getClientRects(),D=Cn(x,function(M){return PS(M,d,p)?B.some(M):B.none()});return D.map(function(M){return p3(u,l,d,p,M)})},ua=function(u,l,d,p){var y=u.dom.createRange(),x=k(l);return Cn(x,function(D){return y.selectNode(D.dom),PS(y.getBoundingClientRect(),d,p)?rl(u,D,d,p):B.none()})},rl=function(u,l,d,p){return _u(l)?h3(u,l,d,p):ua(u,l,d,p)},Dg=function(u,l,d,p){var y=u.dom.createRange();y.selectNode(l.dom);var x=y.getBoundingClientRect(),D=Math.max(x.left,Math.min(x.right,d)),M=Math.max(x.top,Math.min(x.bottom,p));return rl(u,l,D,M)},BS=!0,oh=!1,ya=function(u,l){return l-u.left<u.right-l?BS:oh},MS=function(u,l,d){var p=u.dom.createRange();return p.selectNode(l.dom),p.collapse(d),p},FS=function(u,l,d){var p=u.dom.createRange();p.selectNode(l.dom);var y=p.getBoundingClientRect(),x=ya(y,d),D=x===BS?v1:d1;return D(l).map(function(M){return MS(u,M,x)})},ih=function(u,l,d){var p=l.dom.getBoundingClientRect(),y=ya(p,d);return B.some(MS(u,l,y))},NS=function(u,l,d){var p=k(l).length===0?ih:FS;return p(u,l,d)},uh=function(u,l,d){var p,y;return B.from((y=(p=u.dom).caretPositionFromPoint)===null||y===void 0?void 0:y.call(p,l,d)).bind(function(x){if(x.offsetNode===null)return B.none();var D=u.dom.createRange();return D.setStart(x.offsetNode,x.offset),D.collapse(),B.some(D)})},em=function(u,l,d){var p,y;return B.from((y=(p=u.dom).caretRangeFromPoint)===null||y===void 0?void 0:y.call(p,l,d))},Hw=function(u,l,d,p){var y=u.dom.createRange();y.selectNode(l.dom);var x=y.getBoundingClientRect(),D=Math.max(x.left,Math.min(x.right,d)),M=Math.max(x.top,Math.min(x.bottom,p));return Dg(u,l,D,M)},Vw=function(u,l,d){return ht.fromPoint(u,l,d).bind(function(p){var y=function(){return NS(u,p,l)};return k(p).length===0?y():Hw(u,p,l,d).orThunk(y)})},IS=function(){return document.caretPositionFromPoint?uh:document.caretRangeFromPoint?em:Vw}(),$S=function(u,l,d){var p=ht.fromDom(u.document);return IS(p,l,d).map(function(y){return Jd.create(ht.fromDom(y.startContainer),y.startOffset,ht.fromDom(y.endContainer),y.endOffset)})},td=function(u,l){var d=Sa(u);return d==="input"?$u.after(u):Mn(["br","img"],d)?l===0?$u.before(u):$u.after(u):$u.on(u,l)},tm=function(u,l){var d=u.fold($u.before,td,$u.after),p=l.fold($u.before,td,$u.after);return tv.relative(d,p)},Uw=function(u,l,d,p){var y=td(u,l),x=td(d,p);return tv.relative(y,x)},LS=function(u){return u.match({domRange:function(l){var d=ht.fromDom(l.startContainer),p=ht.fromDom(l.endContainer);return Uw(d,l.startOffset,p,l.endOffset)},relative:tm,exact:Uw})},Rb=function(u,l,d,p){var y=hc(u),x=y.dom.createRange();return x.setStart(u.dom,l),x.setEnd(d.dom,p),x},b3=function(u,l,d,p){var y=Rb(u,l,d,p),x=ia(u,d)&&l===p;return y.collapsed&&!x},_g=function(u){return B.from(u.getSelection())},Ww=function(u,l){_g(u).each(function(d){d.removeAllRanges(),d.addRange(l)})},jw=function(u,l,d,p,y){var x=Db(u,l,d,p,y);Ww(u,x)},zS=function(u,l,d,p,y,x){l.collapse(d.dom,p),l.extend(y.dom,x)},Gw=function(u,l){return Og(u,l).match({ltr:function(d,p,y,x){jw(u,d,p,y,x)},rtl:function(d,p,y,x){_g(u).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(d.dom,p,y.dom,x);else if(D.extend)try{zS(u,D,d,p,y,x)}catch{jw(u,y,x,d,p)}else jw(u,y,x,d,p)})}})},Pb=function(u,l,d,p,y){var x=Uw(l,d,p,y);Gw(u,x)},Bb=function(u,l,d){var p=tm(l,d);Gw(u,p)},qw=function(u){var l=tv.getWin(u).dom,d=function(y,x,D,M){return Db(l,y,x,D,M)},p=LS(u);return Og(l,p).match({ltr:d,rtl:d})},Kw=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),d=u.getRangeAt(u.rangeCount-1);return B.some(Jd.create(ht.fromDom(l.startContainer),l.startOffset,ht.fromDom(d.endContainer),d.endOffset))}else return B.none()},HS=function(u){if(u.anchorNode===null||u.focusNode===null)return Kw(u);var l=ht.fromDom(u.anchorNode),d=ht.fromDom(u.focusNode);return b3(l,u.anchorOffset,d,u.focusOffset)?B.some(Jd.create(l,u.anchorOffset,d,u.focusOffset)):Kw(u)},nm=function(u,l,d){d===void 0&&(d=!0);var p=d?d3:v3,y=p(u,l);Ww(u,y)},Rg=function(u){return _g(u).filter(function(l){return l.rangeCount>0}).bind(HS)},VS=function(u){return Rg(u).map(function(l){return tv.exact(l.start,l.soffset,l.finish,l.foffset)})},US=function(u,l){var d=ed(u,l);return nl(d)},Mb=function(u,l,d){return $S(u,l,d)},WS=function(u){_g(u).each(function(l){return l.removeAllRanges()})},jS=tinymce.util.Tools.resolve("tinymce.util.VK"),Xw=function(u,l,d){return KS(u,l,u3(d,Rp))},GS=function(u,l,d){return KS(u,l,s3(d,Rp))},qS=function(u,l){var d=tv.exact(l,0,l,0);return qw(d)},KS=function(u,l,d){return d.fold(B.none,B.none,function(p,y){return v1(y).map(function(x){return qS(u,x)})},function(p){return u.execCommand("mceTableInsertRowAfter"),Xw(u,l,p)})},y3=["table","li","dl"],XS=function(u,l,d){if(u.keyCode===jS.TAB){var p=Yl(l),y=function(M){var X=Sa(M);return ia(M,p)||Mn(y3,X)},x=l.selection.getRng(),D=ht.fromDom(u.shiftKey?x.startContainer:x.endContainer);gl(D,y).each(function(M){u.preventDefault(),Ao(M,y).each(d.clear),l.selection.collapse(u.shiftKey);var X=u.shiftKey?GS:Xw,oe=X(l,y,M);oe.each(function(Te){l.selection.setRng(Te)})})}},Yw=function(u,l){return{selection:u,kill:l}},Pg={create:Yw},w3=function(u,l,d,p){return{start:$u.on(u,l),finish:$u.on(d,p)}},YS={create:w3},ZS=function(u,l){var d=ed(u,l);return Jd.create(ht.fromDom(d.startContainer),d.startOffset,ht.fromDom(d.endContainer),d.endOffset)},Oc=YS.create,JS=function(u,l,d,p,y,x,D){return ia(d,y)&&p===x?B.none():Io(d,"td,th",l).bind(function(M){return Io(y,"td,th",l).bind(function(X){return QS(u,l,M,X,D)})})},QS=function(u,l,d,p,y){return ia(d,p)?B.none():Cv(d,p,l).bind(function(x){var D=x.boxes.getOr([]);return D.length>1?(y(u,D,x.start,x.finish),B.some(Pg.create(B.some(Oc(d,0,d,Zc(d))),!0))):B.none()})},Fb=function(u,l,d,p,y){var x=function(D){return y.clearBeforeUpdate(d),y.selectRange(d,D.boxes,D.start,D.finish),D.boxes};return _m(p,u,l,y.firstSelectedSelector,y.lastSelectedSelector).map(x)},Nb=function(u,l){return{item:u,mode:l}},Zw=function(u,l,d,p){return p===void 0&&(p=rm),u.property().parent(l).map(function(y){return Nb(y,p)})},rm=function(u,l,d,p){return p===void 0&&(p=Bg),d.sibling(u,l).map(function(y){return Nb(y,p)})},Bg=function(u,l,d,p){p===void 0&&(p=Bg);var y=u.property().children(l),x=d.first(y);return x.map(function(D){return Nb(D,p)})},ex=[{current:Zw,next:rm,fallback:B.none()},{current:rm,next:Bg,fallback:B.some(Zw)},{current:Bg,next:Bg,fallback:B.some(rm)}],tx=function(u,l,d,p,y){y===void 0&&(y=ex);var x=pt(y,function(D){return D.current===d});return x.bind(function(D){return D.current(u,l,p,D.next).orThunk(function(){return D.fallback.bind(function(M){return tx(u,l,M,p)})})})},Ib=function(){var u=function(d,p){return d.query().prevSibling(p)},l=function(d){return d.length>0?B.some(d[d.length-1]):B.none()};return{sibling:u,first:l}},C3=function(){var u=function(d,p){return d.query().nextSibling(p)},l=function(d){return d.length>0?B.some(d[0]):B.none()};return{sibling:u,first:l}},$b={left:Ib,right:C3},sh=function(u,l,d,p,y,x){var D=tx(u,l,p,y);return D.bind(function(M){return x(M.item)?B.none():d(M.item)?B.some(M.item):sh(u,M.item,d,M.mode,y,x)})},Lb=function(u,l,d,p){return sh(u,l,d,rm,$b.left(),p)},nx=function(u,l,d,p){return sh(u,l,d,rm,$b.right(),p)},zb=function(u){return function(l){return u.property().children(l).length===0}},Dc=function(u,l,d){return Jw(u,l,zb(u),d)},S3=function(u,l,d){return Qw(u,l,zb(u),d)},Jw=Lb,Qw=nx,Hb=gp(),Mg=function(u,l){return Dc(Hb,u,l)},Vb=function(u,l){return S3(Hb,u,l)},e2=function(u,l,d){return Jw(Hb,u,l,d)},rx=function(u,l,d){return Qw(Hb,u,l,d)},ax=function(u,l,d){return Po(u,l,d).isSome()},Ub=jl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),x3=function(u,l,d){var p=u.getRect(l),y=u.getRect(d);return y.right>p.left&&y.left<p.right},ox=function(u){return Io(u,"tr")},k3=function(u,l,d,p,y,x,D){return Io(p,"td,th",D).bind(function(M){return Io(l,"td,th",D).map(function(X){return ia(M,X)?ia(p,M)&&Zc(M)===y?x(X):Ub.none("in same cell"):br(ox,[M,X]).fold(function(){return x3(u,X,M)?Ub.success():x(X)},function(oe){return x(X)})})}).getOr(Ub.none("default"))},T3=function(u,l,d,p,y){return u.fold(l,d,p,y)},am=Wt(Wt({},Ub),{verify:k3,cata:T3}),E3=function(u,l,d,p){return{parent:u,children:l,element:d,index:p}},A3=function(u){return Ro(u).bind(function(l){var d=k(l);return O3(d,u).map(function(p){return E3(l,d,u,p)})})},O3=function(u,l){return qe(u,Ne(ia,l))},t2=function(u){return Sa(u)==="br"},n2=function(u,l,d){return l(u,d).bind(function(p){return _u(p)&&t1(p).trim().length===0?n2(p,l,d):B.some(p)})},ix=function(u,l,d){return d.traverse(l).orThunk(function(){return n2(l,d.gather,u)}).map(d.relative)},ch=function(u,l){return I(u,l).filter(t2).orThunk(function(){return I(u,l-1).filter(t2)})},r2=function(u,l,d,p){return ch(l,d).bind(function(y){return p.traverse(y).fold(function(){return n2(y,p.gather,u).map(p.relative)},function(x){return A3(x).map(function(D){return $u.on(D.parent,D.index)})})})},om=function(u,l,d,p){var y=t2(l)?ix(u,l,p):r2(u,l,d,p);return y.map(function(x){return{start:x,finish:x}})},ux=function(u){return am.cata(u,function(l){return B.none()},function(){return B.none()},function(l){return B.some(Ld(l,0))},function(l){return B.some(Ld(l,Zc(l)))})},lh=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},Fg=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},sx=function(u,l,d){return{left:u.left+l,top:u.top+d,right:u.right+l,bottom:u.bottom+d}},D3=function(u){return u.top},_3=function(u){return u.bottom},cx=function(u,l,d){return d>=0&&d<Zc(l)?u.getRangedRect(l,d,l,d+1):d>0?u.getRangedRect(l,d-1,l,d):B.none()},fh=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},vh=function(u,l){return B.some(u.getRect(l))},dh=function(u,l,d){return Ga(l)?vh(u,l).map(fh):_u(l)?cx(u,l,d).map(fh):B.none()},lx=function(u,l){return Ga(l)?vh(u,l).map(fh):_u(l)?u.getRangedRect(l,0,l,Zc(l)).map(fh):B.none()},xs=5,fx=100,Rl=jl.generate([{none:[]},{retry:["caret"]}]),R3=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},vx=function(u,l,d){return Zh(l,Gv).fold(Vt,function(p){return lx(u,p).exists(function(y){return R3(d,y)})})},Ng=function(u,l,d,p,y){var x=lh(y,xs);return Math.abs(d.bottom-p.bottom)<1||d.top>y.bottom?Rl.retry(x):d.top===y.bottom?Rl.retry(lh(y,1)):vx(u,l,y)?Rl.retry(sx(x,xs,0)):Rl.none()},Ig=function(u,l,d,p,y){var x=Fg(y,xs);return Math.abs(d.top-p.top)<1||d.bottom<y.top?Rl.retry(x):d.bottom===y.top?Rl.retry(Fg(y,1)):vx(u,l,y)?Rl.retry(sx(x,xs,0)):Rl.none()},dx={point:D3,adjuster:Ig,move:Fg,gather:Mg},mx={point:_3,adjuster:Ng,move:lh,gather:Vb},nd=function(u,l,d){return u.elementFromPoint(l,d).filter(function(p){return Sa(p)==="table"}).isSome()},rd=function(u,l,d,p,y){return a2(u,l,d,l.move(p,xs),y)},a2=function(u,l,d,p,y){return y===0?B.some(p):nd(u,p.left,l.point(p))?rd(u,l,d,p,y-1):u.situsFromPoint(p.left,l.point(p)).bind(function(x){return x.start.fold(B.none,function(D){return lx(u,D).bind(function(M){return l.adjuster(u,D,M,d,p).fold(B.none,function(X){return a2(u,l,d,X,y-1)})}).orThunk(function(){return B.some(p)})},B.none)})},P3=function(u,l){return u.situsFromPoint(l.left,l.bottom+xs)},im=function(u,l){return u.situsFromPoint(l.left,l.top-xs)},B3=function(u,l,d){return u.point(l)>d.getInnerHeight()?B.some(u.point(l)-d.getInnerHeight()):u.point(l)<0?B.some(-u.point(l)):B.none()},gx=function(u,l,d){var p=u.move(d,xs),y=a2(l,u,d,p,fx).getOr(p);return B3(u,y,l).fold(function(){return l.situsFromPoint(y.left,u.point(y))},function(x){return l.scrollBy(0,x),l.situsFromPoint(y.left,u.point(y)-x)})},mh={tryUp:Ne(gx,dx),tryDown:Ne(gx,mx),ieTryUp:im,ieTryDown:P3,getJumpSize:Ke(xs)},px=20,dr=function(u,l,d){return u.getSelection().bind(function(p){return om(l,p.finish,p.foffset,d).fold(function(){return B.some(Ld(p.finish,p.foffset))},function(y){var x=u.fromSitus(y),D=am.verify(u,p.finish,p.foffset,x.finish,x.foffset,d.failure,l);return ux(D)})})},gh=function(u,l,d,p,y,x){return x===0?B.none():hx(u,l,d,p,y).bind(function(D){var M=u.fromSitus(D),X=am.verify(u,d,p,M.finish,M.foffset,y.failure,l);return am.cata(X,function(){return B.none()},function(){return B.some(D)},function(oe){return ia(d,oe)&&p===0?ph(u,d,p,Fg,y):gh(u,l,oe,0,y,x-1)},function(oe){return ia(d,oe)&&p===Zc(oe)?ph(u,d,p,lh,y):gh(u,l,oe,Zc(oe),y,x-1)})})},ph=function(u,l,d,p,y){return dh(u,l,d).bind(function(x){return o2(u,y,p(x,mh.getJumpSize()))})},o2=function(u,l,d){var p=ne().browser;return p.isChrome()||p.isSafari()||p.isFirefox()||p.isEdge()?l.otherRetry(u,d):p.isIE()?l.ieRetry(u,d):B.none()},hx=function(u,l,d,p,y){return dh(u,d,p).bind(function(x){return o2(u,y,x)})},Wb=function(u,l,d){return dr(u,l,d).bind(function(p){return gh(u,l,p.element,p.offset,d,px).map(u.fromSitus)})},hh=function(u,l){return ax(u,function(d){return Ro(d).exists(function(p){return ia(p,l)})})},i2=function(u,l,d,p,y){return Io(p,"td,th",l).bind(function(x){return Io(x,"table",l).bind(function(D){return hh(y,D)?Wb(u,l,d).bind(function(M){return Io(M.finish,"td,th",l).map(function(X){return{start:x,finish:X,range:M}})}):B.none()})})},bx=function(u,l,d,p,y,x){return ne().browser.isIE()?B.none():x(p,l).orThunk(function(){return i2(u,l,d,p,y).map(function(D){var M=D.range;return Pg.create(B.some(Oc(M.start,M.soffset,M.finish,M.foffset)),!0)})})},M3=function(u,l){return Io(u,"tr",l).bind(function(d){return Io(d,"table",l).bind(function(p){var y=_s(p,"tr");return ia(d,y[0])?e2(p,function(x){return d1(x).isSome()},l).map(function(x){var D=Zc(x);return Pg.create(B.some(Oc(x,D,x,D)),!0)}):B.none()})})},$r=function(u,l){return Io(u,"tr",l).bind(function(d){return Io(d,"table",l).bind(function(p){var y=_s(p,"tr");return ia(d,y[y.length-1])?rx(p,function(x){return v1(x).isSome()},l).map(function(x){return Pg.create(B.some(Oc(x,0,x,0)),!0)}):B.none()})})},jb=function(u,l,d,p,y,x,D){return i2(u,d,p,y,x).bind(function(M){return QS(l,d,M.start,M.finish,D)})},Xr=function(u,l){return Io(u,"td,th",l)},yx=function(u,l,d,p){var y=Tg(),x=y.clear,D=function(Te){y.on(function(Pt){p.clearBeforeUpdate(l),Xr(Te.target,d).each(function(cn){Cv(Pt,cn,d).each(function(en){var Dt=en.boxes.getOr([]);if(Dt.length===1){var On=Dt[0],Bn=Ty(On)==="false",mr=dl(Md(Te.target),On,ia);Bn&&mr&&(p.selectRange(l,Dt,On,On),u.selectContents(On))}else Dt.length>1&&(p.selectRange(l,Dt,en.start,en.finish),u.selectContents(cn))})})})},M=function(Te){p.clear(l),Xr(Te.target,d).each(y.set)},X=function(Te){D(Te)},oe=function(Te){D(Te),x()};return{clearstate:x,mousedown:M,mouseover:X,mouseup:oe}},wx={traverse:R,gather:Vb,relative:$u.before,otherRetry:mh.tryDown,ieRetry:mh.ieTryDown,failure:am.failedDown},u2={traverse:Vc,gather:Mg,relative:$u.before,otherRetry:mh.tryUp,ieRetry:mh.ieTryUp,failure:am.failedUp},um=function(u){return function(l){return l===u}},Gb=um(38),bh=um(40),qb=function(u){return u>=37&&u<=40},s2={isBackward:um(37),isForward:um(39)},Lr={isBackward:um(39),isForward:um(37)},F3=function(u){var l=u!==void 0?u.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,p=l.body.scrollTop||l.documentElement.scrollTop;return no(d,p)},Cx=function(u,l,d){var p=d!==void 0?d.dom:document,y=p.defaultView;y&&y.scrollBy(u,l)},Kb=function(u){var l=function(Bn,mr){return ht.fromPoint(ht.fromDom(u.document),Bn,mr)},d=function(Bn){return Bn.dom.getBoundingClientRect()},p=function(Bn,mr,wa,yr){var zr=tv.exact(Bn,mr,wa,yr);return US(u,zr)},y=function(){return VS(u).map(function(Bn){return ZS(u,Bn)})},x=function(Bn){var mr=tv.relative(Bn.start,Bn.finish);return ZS(u,mr)},D=function(Bn,mr){return Mb(u,Bn,mr).map(function(wa){return YS.create(wa.start,wa.soffset,wa.finish,wa.foffset)})},M=function(){WS(u)},X=function(Bn){Bn===void 0&&(Bn=!1),VS(u).each(function(mr){return mr.fold(function(wa){return wa.collapse(Bn)},function(wa,yr){var zr=Bn?wa:yr;Bb(u,zr,zr)},function(wa,yr,zr,da){var sa=Bn?wa:zr,mi=Bn?yr:da;Pb(u,sa,mi,sa,mi)})})},oe=function(Bn){nm(u,Bn,!1)},Te=function(Bn){nm(u,Bn)},Pt=function(Bn){Pb(u,Bn.start,Bn.soffset,Bn.finish,Bn.foffset)},cn=function(Bn,mr){Bb(u,Bn,mr)},en=function(){return u.innerHeight},Dt=function(){var Bn=F3(ht.fromDom(u.document));return Bn.top},On=function(Bn,mr){Cx(Bn,mr,ht.fromDom(u.document))};return{elementFromPoint:l,getRect:d,getRangedRect:p,getSelection:y,fromSitus:x,situsFromPoint:D,clearSelection:M,collapseSelection:X,setSelection:Pt,setRelativeSelection:cn,selectNode:oe,selectContents:Te,getInnerHeight:en,getScrollY:Dt,scrollBy:On}},gf=function(u,l){return{rows:u,cols:l}},Sx=function(u,l,d,p){var y=Kb(u),x=yx(y,l,d,p);return{clearstate:x.clearstate,mousedown:x.mousedown,mouseover:x.mouseover,mouseup:x.mouseup}},yh=function(u,l,d,p){var y=Kb(u),x=function(){return p.clear(l),B.none()},D=function(X,oe,Te,Pt,cn,en){var Dt=X.raw,On=Dt.which,Bn=Dt.shiftKey===!0,mr=Dm(l,p.selectedSelector).fold(function(){return qb(On)&&!Bn&&p.clearBeforeUpdate(l),bh(On)&&Bn?Ne(jb,y,l,d,wx,Pt,oe,p.selectRange):Gb(On)&&Bn?Ne(jb,y,l,d,u2,Pt,oe,p.selectRange):bh(On)?Ne(bx,y,d,wx,Pt,oe,$r):Gb(On)?Ne(bx,y,d,u2,Pt,oe,M3):B.none},function(wa){var yr=function(zr){return function(){var da=Cn(zr,function(sa){return Fb(sa.rows,sa.cols,l,wa,p)});return da.fold(function(){return jc(l,p.firstSelectedSelector,p.lastSelectedSelector).map(function(sa){var mi=bh(On)||en.isForward(On)?$u.after:$u.before;return y.setRelativeSelection($u.on(sa.first,0),mi(sa.table)),p.clear(l),Pg.create(B.none(),!0)})},function(sa){return B.some(Pg.create(B.none(),!0))})}};return bh(On)&&Bn?yr([gf(1,0)]):Gb(On)&&Bn?yr([gf(-1,0)]):en.isBackward(On)&&Bn?yr([gf(0,-1),gf(-1,0)]):en.isForward(On)&&Bn?yr([gf(0,1),gf(1,0)]):qb(On)&&!Bn?x:B.none});return mr()},M=function(X,oe,Te,Pt,cn){return Dm(l,p.selectedSelector).fold(function(){var en=X.raw,Dt=en.which,On=en.shiftKey===!0;return On&&qb(Dt)?JS(l,d,oe,Te,Pt,cn,p.selectRange):B.none()},B.none)};return{keydown:D,keyup:M}},Xb=function(u,l,d,p){var y=Kb(u);return function(x,D){p.clearBeforeUpdate(l),Cv(x,D,d).each(function(M){var X=M.boxes.getOr([]);p.selectRange(l,X,M.start,M.finish),y.selectContents(D),y.collapseSelection()})}},xx=function(u,l){Nt(l,function(d){hs(u,d)})},kx=function(u){return function(l){Ti(l,u)}},N3=function(u){return function(l){xx(l,u)}},I3=function(u){var l=kx(u.selected),d=N3([u.selected,u.lastSelected,u.firstSelected]),p=function(x){var D=_s(x,u.selectedSelector);Nt(D,d)},y=function(x,D,M,X){p(x),Nt(D,l),Ti(M,u.firstSelected),Ti(X,u.lastSelected)};return{clearBeforeUpdate:p,clear:p,selectRange:y,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},$3=function(u,l,d){var p=function(X){mo(X,u.selected),mo(X,u.firstSelected),mo(X,u.lastSelected)},y=function(X){yi(X,u.selected,"1")},x=function(X){D(X),d()},D=function(X){var oe=_s(X,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);Nt(oe,p)},M=function(X,oe,Te,Pt){x(X),Nt(oe,y),yi(Te,u.firstSelected,"1"),yi(Pt,u.lastSelected,"1"),l(oe,Te,Pt)};return{clearBeforeUpdate:D,clear:x,selectRange:M,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},L3={byClass:I3,byAttr:$3},z3=function(u,l){var d=u.slice(0,l[l.length-1].row+1),p=J1(d);return Le(p,function(y){var x=y.cells.slice(0,l[l.length-1].column+1);return Se(x,function(D){return D.element})})},Tx=function(u,l){var d=u.slice(l[0].row+l[0].rowspan-1,u.length),p=J1(d);return Le(p,function(y){var x=y.cells.slice(l[0].column+l[0].colspan-1,y.cells.length);return Se(x,function(D){return D.element})})},H3=function(u,l,d){var p=na.fromTable(u),y=El(p,l);return y.map(function(x){var D=Uv(p,d,!1),M=z3(D,x),X=Tx(D,x);return{upOrLeftCells:M,downOrRightCells:X}})},c2=tinymce.util.Tools.resolve("tinymce.Env"),$g=function(u){return io(ht.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function pa(u,l,d){var p=function(D,M,X){d.targets().each(function(oe){var Te=Ao(M);Te.each(function(Pt){var cn=j1(u),en=Kr(Oe,ht.fromDom(u.getDoc()),cn),Dt=H3(Pt,oe,en);Zm(u,D,M,X,Dt)})})},y=function(){return RC(u)},x=L3.byAttr(uc,p,y);return u.on("init",function(D){var M=u.getWin(),X=Yl(u),oe=ic(u),Te=function(){var ka=u.selection,Wr=ht.fromDom(ka.getStart()),ha=ht.fromDom(ka.getEnd()),Wa=br(Ao,[Wr,ha]);Wa.fold(function(){return x.clear(X)},Oe)},Pt=Sx(M,X,oe,x),cn=yh(M,X,oe,x),en=Xb(M,X,oe,x),Dt=function(ka){return ka.raw.shiftKey===!0};u.on("TableSelectorChange",function(ka){return en(ka.start,ka.finish)});var On=function(ka,Wr){Dt(ka)&&(Wr.kill&&ka.kill(),Wr.selection.each(function(ha){var Wa=tv.relative(ha.start,ha.finish),Vo=ed(M,Wa);u.selection.setRng(Vo)}))},Bn=function(ka){var Wr=Kf(ka);if(Wr.raw.shiftKey&&qb(Wr.raw.which)){var ha=u.selection.getRng(),Wa=ht.fromDom(ha.startContainer),Vo=ht.fromDom(ha.endContainer);cn.keyup(Wr,Wa,ha.startOffset,Vo,ha.endOffset).each(function(pf){On(Wr,pf)})}},mr=function(ka){var Wr=Kf(ka);l().each(function(Ka){return Ka.hideBars()});var ha=u.selection.getRng(),Wa=ht.fromDom(ha.startContainer),Vo=ht.fromDom(ha.endContainer),pf=Ns(s2,Lr)(ht.fromDom(u.selection.getStart()));cn.keydown(Wr,Wa,ha.startOffset,Vo,ha.endOffset,pf).each(function(Ka){On(Wr,Ka)}),l().each(function(Ka){return Ka.showBars()})},wa=function(ka){return ka.button===0},yr=function(ka){return ka.buttons===void 0||c2.browser.isEdge()&&ka.buttons===0?!0:(ka.buttons&1)!==0},zr=function(ka){Pt.clearstate()},da=function(ka){wa(ka)&&$g(ka)&&Pt.mousedown(Kf(ka))},sa=function(ka){yr(ka)&&$g(ka)&&Pt.mouseover(Kf(ka))},mi=function(ka){wa(ka)&&$g(ka)&&Pt.mouseup(Kf(ka))},Ui=function(){var ka=Qf(ht.fromDom(X)),Wr=Qf(0),ha=function(Wa){var Vo=ht.fromDom(Wa.target);if(Sa(Vo)==="td"||Sa(Vo)==="th"){var pf=ka.get(),Ka=Wr.get();ia(pf,Vo)&&Wa.timeStamp-Ka<300&&(Wa.preventDefault(),en(Vo,Vo))}ka.set(Vo),Wr.set(Wa.timeStamp)};return{touchEnd:ha}},ns=Ui();u.on("dragstart",zr),u.on("mousedown",da),u.on("mouseover",sa),u.on("mouseup",mi),u.on("touchend",ns.touchEnd),u.on("keyup",Bn),u.on("keydown",mr),u.on("NodeChange",Te)}),{clear:x.clear}}var Yb=function(u,l){return Mr(u,l).isSome()},Zb=function(u,l){var d=Qf(B.none()),p=Qf([]),y=B.none(),x=qo("caption"),D=function(Wr){return y.forall(function(ha){return!ha[Wr]})},M=function(){return Mo(Td(u),ic(u))},X=function(){return Mo(nr(u),ic(u))},oe=function(){return M().bind(function(Wr){return _f(Ps(Ao(Wr),X().bind(Ao),function(ha,Wa){return ia(ha,Wa)?x(Wr)?B.some(vy(Wr)):B.some(Ed(l,ha,Wr)):B.none()}))})},Te=function(Wr){var ha=Ao(Wr.element);return ha.map(function(Wa){var Vo=na.fromTable(Wa),pf=El(Vo,Wr).getOr([]),Ka=K(pf,function(_c,cu){return cu.isLocked&&(_c.onAny=!0,cu.column===0?_c.onFirst=!0:cu.column+cu.colspan>=Vo.grid.columns&&(_c.onLast=!0)),_c},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Gy(Vo,Wr).isSome(),unmergeable:tb(Vo,Wr).isSome(),locked:Ka}})},Pt=function(){d.set(ar(oe)()),y=d.get().bind(Te),Nt(p.get(),function(Wr){return Wr()})},cn=function(Wr){return Wr(),p.set(p.get().concat([Wr])),function(){p.set($t(p.get(),function(ha){return ha!==Wr}))}},en=function(Wr,ha){return cn(function(){return d.get().fold(function(){Wr.setDisabled(!0)},function(Wa){Wr.setDisabled(ha(Wa))})})},Dt=function(Wr,ha,Wa){return cn(function(){return d.get().fold(function(){Wr.setDisabled(!0),Wr.setActive(!1)},function(Vo){Wr.setDisabled(ha(Vo)),Wr.setActive(Wa(Vo))})})},On=function(Wr){return y.exists(function(ha){return ha.locked[Wr]})},Bn=function(Wr){return en(Wr,function(ha){return!1})},mr=function(Wr){return en(Wr,function(ha){return x(ha.element)})},wa=function(Wr){return function(ha){return en(ha,function(Wa){return x(Wa.element)||On(Wr)})}},yr=function(Wr){return function(ha){return en(ha,function(Wa){return x(Wa.element)||Wr().isNone()})}},zr=function(Wr,ha){return function(Wa){return en(Wa,function(Vo){return x(Vo.element)||Wr().isNone()||On(ha)})}},da=function(Wr){return en(Wr,function(ha){return D("mergeable")})},sa=function(Wr){return en(Wr,function(ha){return D("unmergeable")})},mi=function(Wr){return Dt(Wr,Vt,function(ha){var Wa=Ao(ha.element,ic(u));return Wa.exists(function(Vo){return Yb(Vo,"caption")})})},Ui=function(Wr,ha){return function(Wa){return Dt(Wa,function(Vo){return x(Vo.element)},function(){return u.queryCommandValue(Wr)===ha})}},ns=Ui("mceTableRowType","header"),ka=Ui("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",Pt),{onSetupTable:Bn,onSetupCellOrRow:mr,onSetupColumn:wa,onSetupPasteable:yr,onSetupPasteableColumn:zr,onSetupMergeable:da,onSetupUnmergeable:sa,resetTargets:Pt,onSetupTableWithCaption:mi,onSetupTableRowHeaders:ns,onSetupTableColumnHeaders:ka,targets:d.get}},Ex=function(u,l,d,p){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(M){return M("inserttable | cell row column | advtablesort | tableprops deletetable")}});var y=function(M){return function(){return u.execCommand(M)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:y("mceTableProps"),icon:"table",onSetup:d.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:y("mceTableDelete"),icon:"table-delete-table",onSetup:d.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:y("mceTableCellProps"),icon:"table-cell-properties",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:y("mceTableMergeCells"),icon:"table-merge-cells",onSetup:d.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:y("mceTableSplitCells"),icon:"table-split-cells",onSetup:d.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:y("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:y("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:y("mceTableDeleteRow"),icon:"table-delete-row",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:y("mceTableRowProps"),icon:"table-row-properties",onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:y("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:d.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:y("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:d.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:y("mceTableDeleteCol"),icon:"table-delete-column",onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:d.onSetupPasteable(p.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:d.onSetupPasteable(p.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:d.onSetupPasteableColumn(p.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:d.onSetupPasteableColumn(p.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:y("mceInsertTable"),icon:"table"});var x=Yv($p(u));x.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Xd(u,l,x,"tableclass",function(M){return u.execCommand("mceTableToggleClass",!1,M)}),onSetup:d.onSetupTable});var D=Yv(rf(u));D.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Xd(u,l,D,"tablecellclass",function(M){return u.execCommand("mceTableCellToggleClass",!1,M)}),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Xd(u,l,kg,"tablecellverticalalign",Xv(u,"vertical-align")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Xd(u,l,BC(u),"tablecellborderwidth",Xv(u,"border-width")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Xd(u,l,Mu(u),"tablecellborderstyle",Xv(u,"border-style")),onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:y("mceTableToggleCaption"),icon:"table-caption",onSetup:d.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(M){return M(Eg(u,Fy(u),"background-color"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(M){return M(Eg(u,Ny(u),"border-color"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:xw(u),onSetup:d.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:kw(u),onSetup:d.onSetupTableColumnHeaders})},Ax=function(u){var l=function(p){return u.dom.is(p,"table")&&u.getBody().contains(p)},d=uE(u);d.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:d,scope:"node",position:"node"})},Ox=function(u,l,d,p){var y=function(en){return function(){return u.execCommand(en)}},x=function(en){u.execCommand("mceInsertTable",!1,{rows:en.numRows,columns:en.numColumns})},D={text:"Table properties",onSetup:d.onSetupTable,onAction:y("mceTableProps")},M={text:"Delete table",icon:"table-delete-table",onSetup:d.onSetupTable,onAction:y("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:y("mceTableInsertRowBefore"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:y("mceTableInsertRowAfter"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:y("mceTableDeleteRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:y("mceTableRowProps"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:d.onSetupPasteable(p.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:d.onSetupPasteable(p.getRows)});var X={type:"nestedmenuitem",text:"Row",getSubmenuItems:Ke("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:y("mceTableInsertColBefore"),onSetup:d.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:y("mceTableInsertColAfter"),onSetup:d.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:y("mceTableDeleteCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:d.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:d.onSetupPasteableColumn(p.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:d.onSetupPasteableColumn(p.getColumns,"onLast")});var oe={type:"nestedmenuitem",text:"Column",getSubmenuItems:Ke("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:y("mceTableCellProps"),onSetup:d.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:y("mceTableMergeCells"),onSetup:d.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:y("mceTableSplitCells"),onSetup:d.onSetupUnmergeable});var Te={type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ke("tablecellprops tablemergecells tablesplitcells")};MC(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:y("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:x}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:y("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",D),u.ui.registry.addMenuItem("deletetable",M),u.ui.registry.addNestedMenuItem("row",X),u.ui.registry.addNestedMenuItem("column",oe),u.ui.registry.addNestedMenuItem("cell",Te),u.ui.registry.addContextMenu("table",{update:function(){return d.resetTargets(),d.targets().fold(Ke(""),function(en){return Sa(en.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Pt=Yv($p(u));Pt.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return tl(u,l,Pt,"tableclass",function(en){return u.execCommand("mceTableToggleClass",!1,en)})},onSetup:d.onSetupTable});var cn=Yv(rf(u));cn.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return tl(u,l,cn,"tablecellclass",function(en){return u.execCommand("mceTableCellToggleClass",!1,en)})},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return tl(u,l,kg,"tablecellverticalalign",Xv(u,"vertical-align"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return tl(u,l,BC(u),"tablecellborderwidth",Xv(u,"border-width"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return tl(u,l,Mu(u),"tablecellborderstyle",Xv(u,"border-style"))},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:y("mceTableToggleCaption"),onSetup:d.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return Eg(u,Fy(u),"background-color")},onSetup:d.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return Eg(u,Ny(u),"border-color")},onSetup:d.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:xw(u),onSetup:d.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:kw(u),onSetup:d.onSetupTableColumnHeaders})},l2=function(u){var l=Su(function(){return Yl(u)},function(){return nu(Td(u),ic(u))},uc.selectedSelector),d=Zb(u,l),p=q1(u),y=pa(u,p.lazyResize,d),x=GE(u,y,p.lazyWire),D=Ab();return Tb(u,x,y,l,D),Eb(u,x,l),Jc(u,l,x),Ox(u,l,d,D),Ex(u,l,d,D),Ax(u),u.on("PreInit",function(){u.serializer.addTempAttr(uc.firstSelected),u.serializer.addTempAttr(uc.lastSelected),i3(u)}),kl(u)&&u.on("keydown",function(M){XS(M,u,y)}),u.on("remove",function(){p.destroy()}),cf(u,D,p,d)};function f2(){iC.add("table",l2)}f2()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(be){var St=typeof be;return be===null?"null":St==="object"&&(Array.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="Array")?"array":St==="object"&&(String.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="String")?"string":St},fe=function(be){return function(St){return z(St)===be}},xe=function(be){return function(St){return typeof St===be}},we=fe("string"),nt=xe("function"),xt=function(){},mt=function(be){return function(){return be}},gt=function(be){return be};function Xt(be){for(var St=[],Cn=1;Cn<arguments.length;Cn++)St[Cn-1]=arguments[Cn];return function(){for(var Wt=[],Kn=0;Kn<arguments.length;Kn++)Wt[Kn]=arguments[Kn];var ar=St.concat(Wt);return be.apply(null,ar)}}var at=mt(!1),he=mt(!0),ze=tinymce.util.Tools.resolve("tinymce.util.Tools"),We=tinymce.util.Tools.resolve("tinymce.util.XHR"),Oe=function(be){return be.getParam("template_cdate_classes","cdate")},ve=function(be){return be.getParam("template_mdate_classes","mdate")},Mt=function(be){return be.getParam("template_selected_content_classes","selcontent")},Ke=function(be){return be.getParam("template_preview_replace_values")},_t=function(be){return be.getParam("content_style","","string")},j=function(be){return be.getParam("content_css_cors",!1,"boolean")},Ne=function(be){return be.getParam("template_replace_values")},$e=function(be){return be.getParam("templates")},un=function(be){return be.getParam("template_cdate_format",be.translate("%Y-%m-%d"))},Vt=function(be){return be.getParam("template_mdate_format",be.translate("%Y-%m-%d"))},Ae=function(be){var St=be.getParam("body_class","","hash");return St[be.id]||""},st=function(be){var St=be.getParam("body_class","","string");return St.indexOf("=")===-1?St:Ae(be)},rt=function(be,St){if(be=""+be,be.length<St)for(var Cn=0;Cn<St-be.length;Cn++)be="0"+be;return be},Ue=function(be,St,Cn){Cn===void 0&&(Cn=new Date);var Wt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Kn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ar="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),qr="January February March April May June July August September October November December".split(" ");return St=St.replace("%D","%m/%d/%Y"),St=St.replace("%r","%I:%M:%S %p"),St=St.replace("%Y",""+Cn.getFullYear()),St=St.replace("%y",""+Cn.getYear()),St=St.replace("%m",rt(Cn.getMonth()+1,2)),St=St.replace("%d",rt(Cn.getDate(),2)),St=St.replace("%H",""+rt(Cn.getHours(),2)),St=St.replace("%M",""+rt(Cn.getMinutes(),2)),St=St.replace("%S",""+rt(Cn.getSeconds(),2)),St=St.replace("%I",""+((Cn.getHours()+11)%12+1)),St=St.replace("%p",Cn.getHours()<12?"AM":"PM"),St=St.replace("%B",""+be.translate(qr[Cn.getMonth()])),St=St.replace("%b",""+be.translate(ar[Cn.getMonth()])),St=St.replace("%A",""+be.translate(Kn[Cn.getDay()])),St=St.replace("%a",""+be.translate(Wt[Cn.getDay()])),St=St.replace("%%","%"),St},U=function(be,St){return function(){var Cn=$e(be);nt(Cn)?Cn(St):we(Cn)?We.send({url:Cn,success:function(Wt){St(JSON.parse(Wt))}}):St(Cn)}},B=function(be,St){return ze.each(St,function(Cn,Wt){nt(Cn)&&(Cn=Cn(Wt)),be=be.replace(new RegExp("\\{\\$"+Wt+"\\}","g"),Cn)}),be},He=function(be,St){var Cn=be.dom,Wt=Ne(be);ze.each(Cn.select("*",St),function(Kn){ze.each(Wt,function(ar,qr){Cn.hasClass(Kn,qr)&&nt(ar)&&ar(Kn)})})},Jt=function(be,St){return new RegExp("\\b"+St+"\\b","g").test(be.className)},Xe=function(be,St,Cn){var Wt=be.dom,Kn=be.selection.getContent();Cn=B(Cn,Ne(be));var ar=Wt.create("div",null,Cn),qr=Wt.select(".mceTmpl",ar);qr&&qr.length>0&&(ar=Wt.create("div",null),ar.appendChild(qr[0].cloneNode(!0))),ze.each(Wt.select("*",ar),function(va){Jt(va,Oe(be).replace(/\s+/g,"|"))&&(va.innerHTML=Ue(be,un(be))),Jt(va,ve(be).replace(/\s+/g,"|"))&&(va.innerHTML=Ue(be,Vt(be))),Jt(va,Mt(be).replace(/\s+/g,"|"))&&(va.innerHTML=Kn)}),He(be,ar),be.execCommand("mceInsertContent",!1,ar.innerHTML),be.addVisual()},pn=function(){return Mn},Mn=function(){var be=function(Wt){return Wt()},St=gt,Cn={fold:function(Wt,Kn){return Wt()},isSome:at,isNone:he,getOr:St,getOrThunk:be,getOrDie:function(Wt){throw new Error(Wt||"error: getOrDie called on none.")},getOrNull:mt(null),getOrUndefined:mt(void 0),or:St,orThunk:be,map:pn,each:xt,bind:pn,exists:at,forall:he,filter:function(){return pn()},toArray:function(){return[]},toString:mt("none()")};return Cn}(),A=function(be){var St=mt(be),Cn=function(){return Kn},Wt=function(ar){return ar(be)},Kn={fold:function(ar,qr){return qr(be)},isSome:he,isNone:at,getOr:St,getOrThunk:St,getOrDie:St,getOrNull:St,getOrUndefined:St,or:Cn,orThunk:Cn,map:function(ar){return A(ar(be))},each:function(ar){ar(be)},bind:Wt,exists:Wt,forall:Wt,filter:function(ar){return ar(be)?Kn:Mn},toArray:function(){return[be]},toString:function(){return"some("+be+")"}};return Kn},vt=function(be){return be==null?Mn:A(be)},Se={some:A,none:pn,from:vt},Nt=function(be,St){for(var Cn=be.length,Wt=new Array(Cn),Kn=0;Kn<Cn;Kn++){var ar=be[Kn];Wt[Kn]=St(ar,Kn)}return Wt},et=function(be,St,Cn){for(var Wt=0,Kn=be.length;Wt<Kn;Wt++){var ar=be[Wt];if(St(ar,Wt))return Se.some(ar);if(Cn(ar,Wt))break}return Se.none()},vn=function(be,St){return et(be,St,at)},$t=tinymce.util.Tools.resolve("tinymce.Env"),an=tinymce.util.Tools.resolve("tinymce.util.Promise"),K=Object.hasOwnProperty,hr=function(be,St){return pt(be,St)?Se.from(be[St]):Se.none()},pt=function(be,St){return K.call(be,St)},qe={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Rn=function(be){return be.replace(/["'<>&]/g,function(St){return hr(qe,St).getOr(St)})},Le=function(be,St){if(St.indexOf("<html>")===-1){var Cn="",Wt=_t(be),Kn=j(be)?' crossorigin="anonymous"':"";ze.each(be.contentCSS,function(Qt){Cn+='<link type="text/css" rel="stylesheet" href="'+be.documentBaseURI.toAbsolute(Qt)+'"'+Kn+">"}),Wt&&(Cn+='<style type="text/css">'+Wt+"</style>");var ar=st(be),qr=be.dom.encode,va=$t.mac?"e.metaKey":"e.ctrlKey && !e.altKey",xa='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+va+")) {e.preventDefault();}}}, false);<\/script> ",Yt=be.getBody().dir,jt=Yt?' dir="'+qr(Yt)+'"':"";St='<!DOCTYPE html><html><head><base href="'+qr(be.documentBaseURI.getURI())+'">'+Cn+xa+'</head><body class="'+qr(ar)+'"'+jt+">"+St+"</body></html>"}return B(St,Ke(be))},Me=function(be,St){var Cn=function(){if(!St||St.length===0){var Qt=be.translate("No templates defined.");return be.notificationManager.open({text:Qt,type:"info"}),Se.none()}return Se.from(ze.map(St,function(Ye,ct){var dn=function(Fn){return Fn.url!==void 0};return{selected:ct===0,text:Ye.title,value:{url:dn(Ye)?Se.from(Ye.url):Se.none(),content:dn(Ye)?Se.none():Se.from(Ye.content),description:Ye.description}}}))},Wt=function(Qt){return Nt(Qt,function(Ye){return{text:Ye.text,value:Ye.text}})},Kn=function(Qt,Ye){return vn(Qt,function(ct){return ct.text===Ye})},ar=function(Qt){be.windowManager.alert("Could not load the specified template.",function(){return Qt.focus("template")})},qr=function(Qt){return new an(function(Ye,ct){Qt.value.url.fold(function(){return Ye(Qt.value.content.getOr(""))},function(dn){return We.send({url:dn,success:function(Fn){Ye(Fn)},error:function(Fn){ct(Fn)}})})})},va=function(Qt,Ye){return function(ct,dn){if(dn.name==="template"){var Fn=ct.getData().template;Kn(Qt,Fn).each(function(hn){ct.block("Loading..."),qr(hn).then(function(Ve){Ye(ct,hn,Ve)}).catch(function(){Ye(ct,hn,""),ct.disable("save"),ar(ct)})})}}},xa=function(Qt){return function(Ye){var ct=Ye.getData();Kn(Qt,ct.template).each(function(dn){qr(dn).then(function(Fn){be.execCommand("mceInsertTemplate",!1,Fn),Ye.close()}).catch(function(){Ye.disable("save"),ar(Ye)})})}},Yt=function(Qt){var Ye=Wt(Qt),ct=function(hn,Ve){return{title:"Insert Template",size:"large",body:{type:"panel",items:hn},initialData:Ve,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:xa(Qt),onChange:va(Qt,dn)}},dn=function(hn,Ve,nn){var Nn=Le(be,nn),yn=[{type:"selectbox",name:"template",label:"Templates",items:Ye},{type:"htmlpanel",html:'<p aria-live="polite">'+Rn(Ve.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],Yn={template:Ve.text,preview:Nn};hn.unblock(),hn.redial(ct(yn,Yn)),hn.focus("template")},Fn=be.windowManager.open(ct([],{template:"",preview:""}));Fn.block("Loading..."),qr(Qt[0]).then(function(hn){dn(Fn,Qt[0],hn)}).catch(function(){dn(Fn,Qt[0],""),Fn.disable("save"),ar(Fn)})},jt=Cn();jt.each(Yt)},bt=function(be){return function(St){Me(be,St)}},qt=function(be){be.addCommand("mceInsertTemplate",Xt(Xe,be)),be.addCommand("mceTemplate",U(be,bt(be)))},yt=function(be){be.on("PreProcess",function(St){var Cn=be.dom,Wt=Vt(be);ze.each(Cn.select("div",St.node),function(Kn){Cn.hasClass(Kn,"mceTmpl")&&(ze.each(Cn.select("*",Kn),function(ar){Cn.hasClass(ar,ve(be).replace(/\s+/g,"|"))&&(ar.innerHTML=Ue(be,Wt))}),He(be,Kn))})})},Ot=function(be){var St=function(){return be.execCommand("mceTemplate")};be.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:St}),be.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:St})};function tr(){ae.add("template",function(be){Ot(be),qt(be),yt(be)})}tr()})();(function(){var ae=function(F){var Z=F,me=function(){return Z},_e=function(Qe){Z=Qe};return{get:me,set:_e}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(){return fe=Object.assign||function(Z){for(var me,_e=1,Qe=arguments.length;_e<Qe;_e++){me=arguments[_e];for(var ot in me)Object.prototype.hasOwnProperty.call(me,ot)&&(Z[ot]=me[ot])}return Z},fe.apply(this,arguments)};function xe(F,Z,me){if(me||arguments.length===2)for(var _e=0,Qe=Z.length,ot;_e<Qe;_e++)(ot||!(_e in Z))&&(ot||(ot=Array.prototype.slice.call(Z,0,_e)),ot[_e]=Z[_e]);return F.concat(ot||Array.prototype.slice.call(Z))}var we=function(F){var Z=typeof F;return F===null?"null":Z==="object"&&(Array.prototype.isPrototypeOf(F)||F.constructor&&F.constructor.name==="Array")?"array":Z==="object"&&(String.prototype.isPrototypeOf(F)||F.constructor&&F.constructor.name==="String")?"string":Z},nt=function(F){return function(Z){return we(Z)===F}},xt=nt("string"),mt=nt("object"),gt=nt("array"),Xt=function(){},at=function(F){return function(){return F}},he=function(F){return F},ze=function(F){return function(){throw new Error(F)}},We=at(!1),Oe=at(!0),ve=function(){return Mt},Mt=function(){var F=function(_e){return _e()},Z=he,me={fold:function(_e,Qe){return _e()},isSome:We,isNone:Oe,getOr:Z,getOrThunk:F,getOrDie:function(_e){throw new Error(_e||"error: getOrDie called on none.")},getOrNull:at(null),getOrUndefined:at(void 0),or:Z,orThunk:F,map:ve,each:Xt,bind:ve,exists:We,forall:Oe,filter:function(){return ve()},toArray:function(){return[]},toString:at("none()")};return me}(),Ke=function(F){var Z=at(F),me=function(){return Qe},_e=function(ot){return ot(F)},Qe={fold:function(ot,En){return En(F)},isSome:Oe,isNone:We,getOr:Z,getOrThunk:Z,getOrDie:Z,getOrNull:Z,getOrUndefined:Z,or:me,orThunk:me,map:function(ot){return Ke(ot(F))},each:function(ot){ot(F)},bind:_e,exists:_e,forall:_e,filter:function(ot){return ot(F)?Qe:Mt},toArray:function(){return[F]},toString:function(){return"some("+F+")"}};return Qe},_t=function(F){return F==null?Mt:Ke(F)},j={some:Ke,none:ve,from:_t},Ne=Array.prototype.slice,$e=Array.prototype.indexOf,un=function(F,Z){return $e.call(F,Z)},Vt=function(F,Z){return un(F,Z)>-1},Ae=function(F,Z){for(var me=F.length,_e=new Array(me),Qe=0;Qe<me;Qe++){var ot=F[Qe];_e[Qe]=Z(ot,Qe)}return _e},st=function(F,Z){for(var me=0,_e=F.length;me<_e;me++){var Qe=F[me];Z(Qe,me)}},rt=function(F,Z){for(var me=F.length-1;me>=0;me--){var _e=F[me];Z(_e,me)}},Ue=function(F,Z){for(var me=[],_e=0,Qe=F.length;_e<Qe;_e++){var ot=F[_e];Z(ot,_e)&&me.push(ot)}return me},U=function(F,Z,me){return rt(F,function(_e,Qe){me=Z(me,_e,Qe)}),me},B=function(F,Z,me){return st(F,function(_e,Qe){me=Z(me,_e,Qe)}),me},He=function(F,Z,me){for(var _e=0,Qe=F.length;_e<Qe;_e++){var ot=F[_e];if(Z(ot,_e))return j.some(ot);if(me(ot,_e))break}return j.none()},Jt=function(F,Z){return He(F,Z,We)},Xe=function(F,Z){for(var me=0,_e=F.length;me<_e;++me){var Qe=F[me];if(Z(Qe,me)!==!0)return!1}return!0},pn=function(F,Z){var me=Ne.call(F,0);return me.sort(Z),me},Mn=function(F,Z){return Z>=0&&Z<F.length?j.some(F[Z]):j.none()},A=function(F){return Mn(F,0)},vt=Object.keys,Se=Object.hasOwnProperty,Nt=function(F,Z){return Se.call(F,Z)},et=function(F){if(!gt(F))throw new Error("cases must be an array");if(F.length===0)throw new Error("there must be at least one case");var Z=[],me={};return st(F,function(_e,Qe){var ot=vt(_e);if(ot.length!==1)throw new Error("one and only one name per case");var En=ot[0],Vn=_e[En];if(me[En]!==void 0)throw new Error("duplicate key detected:"+En);if(En==="cata")throw new Error("cannot have a case named cata (sorry)");if(!gt(Vn))throw new Error("case arguments must be an array");Z.push(En),me[En]=function(){for(var Cr=[],ht=0;ht<arguments.length;ht++)Cr[ht]=arguments[ht];var lr=Cr.length;if(lr!==Vn.length)throw new Error("Wrong number of arguments to case "+En+". Expected "+Vn.length+" ("+Vn+"), got "+lr);var Hr=function(Oa){var Eo=vt(Oa);if(Z.length!==Eo.length)throw new Error("Wrong number of arguments to match. Expected: "+Z.join(",")+`
Actual: `+Eo.join(","));var ia=Xe(Z,function(cs){return Vt(Eo,cs)});if(!ia)throw new Error("Not all branches were specified when using match. Specified: "+Eo.join(", ")+`
Required: `+Z.join(", "));return Oa[En].apply(null,Cr)};return{fold:function(){for(var Oa=[],Eo=0;Eo<arguments.length;Eo++)Oa[Eo]=arguments[Eo];if(Oa.length!==F.length)throw new Error("Wrong number of arguments to fold. Expected "+F.length+", got "+Oa.length);var ia=Oa[Qe];return ia.apply(null,Cr)},match:Hr,log:function(Oa){console.log(Oa,{constructors:Z,constructor:En,params:Cr})}}}}),me},vn={generate:et};vn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var $t=function(F){var Z=[],me=[];return st(F,function(_e){_e.fold(function(Qe){Z.push(Qe)},function(Qe){me.push(Qe)})}),{errors:Z,values:me}},an=function(F){var Z=function(Hr){return an(F)},me=function(Hr){return an(F)},_e=function(Hr){return an(Hr(F))},Qe=function(Hr){return an(F)},ot=function(Hr){Hr(F)},En=function(Hr){return Hr(F)},Vn=function(Hr,Oa){return Oa(F)},Cr=function(Hr){return Hr(F)},ht=function(Hr){return Hr(F)},lr=function(){return j.some(F)};return{isValue:Oe,isError:We,getOr:at(F),getOrThunk:at(F),getOrDie:at(F),or:Z,orThunk:me,fold:Vn,map:_e,mapError:Qe,each:ot,bind:En,exists:Cr,forall:ht,toOptional:lr}},K=function(F){var Z=function(ht){return ht()},me=function(){return ze(String(F))()},_e=he,Qe=function(ht){return ht()},ot=function(ht){return K(F)},En=function(ht){return K(ht(F))},Vn=function(ht){return K(F)},Cr=function(ht,lr){return ht(F)};return{isValue:We,isError:Oe,getOr:he,getOrThunk:Z,getOrDie:me,or:_e,orThunk:Qe,fold:Cr,map:ot,mapError:En,each:Xt,bind:Vn,exists:We,forall:Oe,toOptional:j.none}},hr=function(F,Z){return F.fold(function(){return K(Z)},an)},pt={value:an,error:K,fromOption:hr},qe=function(F){return F.type==="inline-command"||F.type==="inline-format"},Rn=function(F){return F.type==="block-command"||F.type==="block-format"},Le=function(F){return pn(F,function(Z,me){return Z.start.length===me.start.length?0:Z.start.length>me.start.length?-1:1})},Me=function(F){var Z=function(ot){return pt.error({message:ot,pattern:F})},me=function(ot,En,Vn){if(F.format!==void 0){var Cr=void 0;if(gt(F.format)){if(!Xe(F.format,xt))return Z(ot+" pattern has non-string items in the `format` array");Cr=F.format}else if(xt(F.format))Cr=[F.format];else return Z(ot+" pattern has non-string `format` parameter");return pt.value(En(Cr))}else return F.cmd!==void 0?xt(F.cmd)?pt.value(Vn(F.cmd,F.value)):Z(ot+" pattern has non-string `cmd` parameter"):Z(ot+" pattern is missing both `format` and `cmd` parameters")};if(!mt(F))return Z("Raw pattern is not an object");if(!xt(F.start))return Z("Raw pattern is missing `start` parameter");if(F.end!==void 0){if(!xt(F.end))return Z("Inline pattern has non-string `end` parameter");if(F.start.length===0&&F.end.length===0)return Z("Inline pattern has empty `start` and `end` parameters");var _e=F.start,Qe=F.end;return Qe.length===0&&(Qe=_e,_e=""),me("Inline",function(ot){return{type:"inline-format",start:_e,end:Qe,format:ot}},function(ot,En){return{type:"inline-command",start:_e,end:Qe,cmd:ot,value:En}})}else return F.replacement!==void 0?xt(F.replacement)?F.start.length===0?Z("Replacement pattern has empty `start` parameter"):pt.value({type:"inline-command",start:"",end:F.start,cmd:"mceInsertContent",value:F.replacement}):Z("Replacement pattern has non-string `replacement` parameter"):F.start.length===0?Z("Block pattern has empty `start` parameter"):me("Block",function(ot){return{type:"block-format",start:F.start,format:ot[0]}},function(ot,En){return{type:"block-command",start:F.start,cmd:ot,value:En}})},bt=function(F){if(F.type==="block-command")return{start:F.start,cmd:F.cmd,value:F.value};if(F.type==="block-format")return{start:F.start,format:F.format};if(F.type==="inline-command")return F.cmd==="mceInsertContent"&&F.start===""?{start:F.end,replacement:F.value}:{start:F.start,end:F.end,cmd:F.cmd,value:F.value};if(F.type==="inline-format")return{start:F.start,end:F.end,format:F.format.length===1?F.format[0]:F.format}},qt=function(F){return{inlinePatterns:Ue(F,qe),blockPatterns:Le(Ue(F,Rn))}},yt=function(F){var Z=function(_e){var Qe=$t(Ae(_e,Me));if(Qe.errors.length>0){var ot=Qe.errors[0];throw new Error(ot.message+`:
`+JSON.stringify(ot.pattern,null,2))}F.set(qt(Qe.values))},me=function(){return xe(xe([],Ae(F.get().inlinePatterns,bt),!0),Ae(F.get().blockPatterns,bt),!0)};return{setPatterns:Z,getPatterns:me}},Ot=typeof window<"u"?window:Function("return this;")(),tr=function(){for(var F=[],Z=0;Z<arguments.length;Z++)F[Z]=arguments[Z];var me=Ot.console;me&&(me.error?me.error.apply(me,F):me.log.apply(me,F))},be=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],St=function(F){var Z=F.getParam("textpattern_patterns",be,"array");if(!gt(Z))return tr("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var me=$t(Ae(Z,Me));return st(me.errors,function(_e){return tr(_e.message,_e.pattern)}),qt(me.values)},Cn=function(F){var Z=F.getParam("forced_root_block","p");return Z===!1?"":Z===!0?"p":Z},Wt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Kn=tinymce.util.Tools.resolve("tinymce.util.VK"),ar="\uFEFF",qr=" ",va=tinymce.util.Tools.resolve("tinymce.util.Tools"),xa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Yt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),jt=function(F,Z){return{container:F,offset:Z}},Qt=function(F){return F.nodeType===Node.TEXT_NODE},Ye=function(F,Z,me){if(Z&&F.isEmpty(Z)&&!me(Z)){var _e=Z.parentNode;F.remove(Z),Ye(F,_e,me)}},ct=function(F,Z,me,_e){_e===void 0&&(_e=!0);var Qe=Z.startContainer.parentNode,ot=Z.endContainer.parentNode;Z.deleteContents(),_e&&!me(Z.startContainer)&&(Qt(Z.startContainer)&&Z.startContainer.data.length===0&&F.remove(Z.startContainer),Qt(Z.endContainer)&&Z.endContainer.data.length===0&&F.remove(Z.endContainer),Ye(F,Qe,me),Qe!==ot&&Ye(F,ot,me))},dn=function(F,Z){var me=Z.get(F);return gt(me)&&A(me).exists(function(_e){return Nt(_e,"block")})},Fn=function(F){return F.start.length===0},hn=function(F,Z){var me=j.from(F.dom.getParent(Z.startContainer,F.dom.isBlock));return Cn(F)===""?me.orThunk(function(){return j.some(F.getBody())}):me},Ve=xa.DOM,nn=function(F){return function(Z){return F===Z?-1:0}},Nn=function(F){return function(Z){return F.isBlock(Z)||Vt(["BR","IMG","HR","INPUT"],Z.nodeName)||F.getContentEditable(Z)==="false"}},yn=function(F,Z,me){if(Qt(F)&&Z>=0)return j.some(jt(F,Z));var _e=Yt(Ve);return j.from(_e.backwards(F,Z,nn(F),me)).map(function(Qe){return jt(Qe.container,Qe.container.data.length)})},Yn=function(F,Z,me){if(Qt(F)&&Z>=F.length)return j.some(jt(F,Z));var _e=Yt(Ve);return j.from(_e.forwards(F,Z,nn(F),me)).map(function(Qe){return jt(Qe.container,0)})},Ce=function(F,Z,me){if(!Qt(F))return j.none();var _e=F.textContent;if(Z>=0&&Z<=_e.length)return j.some(jt(F,Z));var Qe=Yt(Ve);return j.from(Qe.backwards(F,Z,nn(F),me)).bind(function(ot){var En=ot.container.data;return Ce(ot.container,Z+En.length,me)})},Ft=function(F,Z,me){if(!Qt(F))return j.none();var _e=F.textContent;if(Z<=_e.length)return j.some(jt(F,Z));var Qe=Yt(Ve);return j.from(Qe.forwards(F,Z,nn(F),me)).bind(function(ot){return Ft(ot.container,Z-_e.length,me)})},wt=function(F,Z,me,_e,Qe){var ot=Yt(F,Nn(F));return j.from(ot.backwards(Z,me,_e,Qe))},sn=function(F,Z,me){if(Qt(Z)&&(me<0||me>Z.data.length))return[];for(var _e=[me],Qe=Z;Qe!==F&&Qe.parentNode;){for(var ot=Qe.parentNode,En=0;En<ot.childNodes.length;En++)if(ot.childNodes[En]===Qe){_e.push(En);break}Qe=ot}return Qe===F?_e.reverse():[]},Zn=function(F,Z,me,_e,Qe){var ot=sn(F,Z,me),En=sn(F,_e,Qe);return{start:ot,end:En}},Rr=function(F,Z){var me=Z.slice(),_e=me.pop(),Qe=B(me,function(ot,En){return ot.bind(function(Vn){return j.from(Vn.childNodes[En])})},j.some(F));return Qe.bind(function(ot){return Qt(ot)&&(_e<0||_e>ot.data.length)?j.none():j.some({node:ot,offset:_e})})},Ia=function(F,Z){return Rr(F,Z.start).bind(function(me){var _e=me.node,Qe=me.offset;return Rr(F,Z.end).map(function(ot){var En=ot.node,Vn=ot.offset,Cr=document.createRange();return Cr.setStart(_e,Qe),Cr.setEnd(En,Vn),Cr})})},Dr=function(F,Z){return Zn(F,Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset)},Fr=function(F,Z,me){var _e=Yn(Z,0,Z);_e.each(function(Qe){var ot=Qe.container;Ft(ot,me.start.length,Z).each(function(En){var Vn=F.createRng();Vn.setStart(ot,0),Vn.setEnd(En.container,En.offset),ct(F,Vn,function(Cr){return Cr===Z})})})},Xa=function(F,Z){var me=F.dom,_e=Z.pattern,Qe=Ia(me.getRoot(),Z.range).getOrDie("Unable to resolve path range");return hn(F,Qe).each(function(ot){_e.type==="block-format"?dn(_e.format,F.formatter)&&F.undoManager.transact(function(){Fr(F.dom,ot,_e),F.formatter.apply(_e.format)}):_e.type==="block-command"&&F.undoManager.transact(function(){Fr(F.dom,ot,_e),F.execCommand(_e.cmd,!1,_e.value)})}),!0},ni=function(F,Z){var me=Z.replace(qr," ");return Jt(F,function(_e){return Z.indexOf(_e.start)===0||me.indexOf(_e.start)===0})},ho=function(F,Z){var me=F.dom,_e=F.selection.getRng();return hn(F,_e).filter(function(Qe){var ot=Cn(F),En=ot===""&&me.is(Qe,"body")||me.is(Qe,ot);return Qe!==null&&En}).bind(function(Qe){var ot=Qe.textContent,En=ni(Z,ot);return En.map(function(Vn){return va.trim(ot).length===Vn.start.length?[]:[{pattern:Vn,range:Zn(me.getRoot(),Qe,0,Qe,0)}]})}).getOr([])},so=function(F,Z){if(Z.length!==0){var me=F.selection.getBookmark();st(Z,function(_e){return Xa(F,_e)}),F.selection.moveToBookmark(me)}},ko=0,si=function(F){var Z=new Date,me=Z.getTime(),_e=Math.floor(Math.random()*1e9);return ko++,F+"_"+_e+ko+String(me)},To=function(F,Z,me){return Z===""||F.length>=Z.length&&F.substr(me,me+Z.length)===Z},bo=function(F,Z){return To(F,Z,F.length-Z.length)},ri=function(F,Z){return F.create("span",{"data-mce-type":"bookmark",id:Z})},oa=function(F,Z){var me=F.createRng();return me.setStartAfter(Z.start),me.setEndBefore(Z.end),me},Zo=function(F,Z,me){var _e=Ia(F.getRoot(),me).getOrDie("Unable to resolve path range"),Qe=_e.startContainer,ot=_e.endContainer,En=_e.endOffset===0?ot:ot.splitText(_e.endOffset),Vn=_e.startOffset===0?Qe:Qe.splitText(_e.startOffset);return{prefix:Z,end:En.parentNode.insertBefore(ri(F,Z+"-end"),En),start:Vn.parentNode.insertBefore(ri(F,Z+"-start"),Vn)}},ir=function(F,Z,me){Ye(F,F.get(Z.prefix+"-end"),me),Ye(F,F.get(Z.prefix+"-start"),me)},du=function(F,Z,me){return function(_e,Qe){var ot=_e.data,En=ot.substring(0,Qe),Vn=En.lastIndexOf(me.charAt(me.length-1)),Cr=En.lastIndexOf(me);return Cr!==-1?Cr+me.length:Vn!==-1?Vn+1:-1}},Go=function(F,Z,me,_e){var Qe=Z.start,ot=wt(F,_e.container,_e.offset,du(F,me,Qe),me);return ot.bind(function(En){if(En.offset>=Qe.length){var Vn=F.createRng();return Vn.setStart(En.container,En.offset-Qe.length),Vn.setEnd(En.container,En.offset),j.some(Vn)}else{var Cr=En.offset-Qe.length;return Ce(En.container,Cr,me).map(function(ht){var lr=F.createRng();return lr.setStart(ht.container,ht.offset),lr.setEnd(En.container,En.offset),lr}).filter(function(ht){return ht.toString()===Qe}).orThunk(function(){return Go(F,Z,me,jt(En.container,0))})}})},hi=function(F,Z,me,_e,Qe,ot){if(ot===void 0&&(ot=!1),Z.start.length===0&&!ot){var En=F.createRng();return En.setStart(me,_e),En.setEnd(me,_e),j.some(En)}return yn(me,_e,Qe).bind(function(Vn){var Cr=Go(F,Z,Qe,Vn);return Cr.bind(function(ht){if(ot){if(ht.endContainer===Vn.container&&ht.endOffset===Vn.offset)return j.none();if(Vn.offset===0&&ht.endContainer.textContent.length===ht.endOffset)return j.none()}return j.some(ht)})})},mu=function(F,Z,me){var _e=F.dom,Qe=_e.getRoot(),ot=me.pattern,En=me.position.container,Vn=me.position.offset;return Ce(En,Vn-me.pattern.end.length,Z).bind(function(Cr){var ht=Zn(Qe,Cr.container,Cr.offset,En,Vn);if(Fn(ot))return j.some({matches:[{pattern:ot,startRng:ht,endRng:ht}],position:Cr});var lr=Di(F,me.remainingPatterns,Cr.container,Cr.offset,Z),Hr=lr.getOr({matches:[],position:Cr}),Oa=Hr.position,Eo=hi(_e,ot,Oa.container,Oa.offset,Z,lr.isNone());return Eo.map(function(ia){var cs=Dr(Qe,ia);return{matches:Hr.matches.concat([{pattern:ot,startRng:cs,endRng:ht}]),position:jt(ia.startContainer,ia.startOffset)}})})},Di=function(F,Z,me,_e,Qe){var ot=F.dom;return yn(me,_e,ot.getRoot()).bind(function(En){var Vn=ot.createRng();Vn.setStart(Qe,0),Vn.setEnd(me,_e);for(var Cr=Vn.toString(),ht=0;ht<Z.length;ht++){var lr=Z[ht];if(bo(Cr,lr.end)){var Hr=Z.slice();Hr.splice(ht,1);var Oa=mu(F,Qe,{pattern:lr,remainingPatterns:Hr,position:En});if(Oa.isSome())return Oa}}return j.none()})},gu=function(F,Z,me){F.selection.setRng(me),Z.type==="inline-format"?st(Z.format,function(_e){F.formatter.apply(_e)}):F.execCommand(Z.cmd,!1,Z.value)},pu=function(F,Z,me,_e){var Qe=oa(F.dom,me);ct(F.dom,Qe,_e),gu(F,Z,Qe)},ss=function(F,Z,me,_e,Qe){var ot=F.dom,En=oa(ot,_e),Vn=oa(ot,me);ct(ot,Vn,Qe),ct(ot,En,Qe);var Cr={prefix:me.prefix,start:me.end,end:_e.start},ht=oa(ot,Cr);gu(F,Z,ht)},ue=function(F,Z){var me=si("mce_textpattern"),_e=U(Z,function(Qe,ot){var En=Zo(F,me+("_end"+Qe.length),ot.endRng);return Qe.concat([fe(fe({},ot),{endMarker:En})])},[]);return U(_e,function(Qe,ot){var En=_e.length-Qe.length-1,Vn=Fn(ot.pattern)?ot.endMarker:Zo(F,me+("_start"+En),ot.startRng);return Qe.concat([fe(fe({},ot),{startMarker:Vn})])},[])},Fe=function(F,Z,me){var _e=F.selection.getRng();return _e.collapsed===!1?[]:hn(F,_e).bind(function(Qe){var ot=_e.startOffset-(me?1:0);return Di(F,Z,_e.startContainer,ot,Qe)}).fold(function(){return[]},function(Qe){return Qe.matches})},ce=function(F,Z){if(Z.length!==0){var me=F.dom,_e=F.selection.getBookmark(),Qe=ue(me,Z);st(Qe,function(ot){var En=me.getParent(ot.startMarker.start,me.isBlock),Vn=function(Cr){return Cr===En};Fn(ot.pattern)?pu(F,ot.pattern,ot.endMarker,Vn):ss(F,ot.pattern,ot.startMarker,ot.endMarker,Vn),ir(me,ot.endMarker,Vn),ir(me,ot.startMarker,Vn)}),F.selection.moveToBookmark(_e)}},it=function(F,Z){if(!F.selection.isCollapsed())return!1;var me=Fe(F,Z.inlinePatterns,!1),_e=ho(F,Z.blockPatterns);return _e.length>0||me.length>0?(F.undoManager.add(),F.undoManager.extra(function(){F.execCommand("mceInsertNewLine")},function(){F.insertContent(ar,{preserve_zwsp:!0}),ce(F,me),so(F,_e);var Qe=F.selection.getRng(),ot=yn(Qe.startContainer,Qe.startOffset,F.dom.getRoot());F.execCommand("mceInsertNewLine"),ot.each(function(En){var Vn=En.container;Vn.data.charAt(En.offset-1)===ar&&(Vn.deleteData(En.offset-1,1),Ye(F.dom,Vn.parentNode,function(Cr){return Cr===F.dom.getRoot()}))})}),!0):!1},Dn=function(F,Z){var me=Fe(F,Z.inlinePatterns,!0);me.length>0&&F.undoManager.transact(function(){ce(F,me)})},qn=function(F,Z,me){for(var _e=0;_e<F.length;_e++)if(me(F[_e],Z))return!0;return!1},ne=function(F,Z){return qn(F,Z,function(me,_e){return me===_e.keyCode&&Kn.modifierPressed(_e)===!1})},ge=function(F,Z){return qn(F,Z,function(me,_e){return me.charCodeAt(0)===_e.charCode})},lt=function(F,Z){var me=[",",".",";",":","!","?"],_e=[32];F.on("keydown",function(Qe){Qe.keyCode===13&&!Kn.modifierPressed(Qe)&&it(F,Z.get())&&Qe.preventDefault()},!0),F.on("keyup",function(Qe){ne(_e,Qe)&&Dn(F,Z.get())}),F.on("keypress",function(Qe){ge(me,Qe)&&Wt.setEditorTimeout(F,function(){Dn(F,Z.get())})})};function It(){z.add("textpattern",function(F){var Z=ae(St(F));return lt(F,Z),yt(Z)})}It()})();(function(){var ae=function(at){var he=at,ze=function(){return he},We=function(Oe){he=Oe};return{get:ze,set:We}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(at,he){at.fire("VisualBlocks",{state:he})},xe=function(at,he,ze){var We=at.dom;We.toggleClass(at.getBody(),"mce-visualblocks"),ze.set(!ze.get()),fe(at,ze.get())},we=function(at,he,ze){at.addCommand("mceVisualBlocks",function(){xe(at,he,ze)})},nt=function(at){return at.getParam("visualblocks_default_state",!1,"boolean")},xt=function(at,he,ze){at.on("PreviewFormats AfterPreviewFormats",function(We){ze.get()&&at.dom.toggleClass(at.getBody(),"mce-visualblocks",We.type==="afterpreviewformats")}),at.on("init",function(){nt(at)&&xe(at,he,ze)})},mt=function(at,he){return function(ze){ze.setActive(he.get());var We=function(Oe){return ze.setActive(Oe.state)};return at.on("VisualBlocks",We),function(){return at.off("VisualBlocks",We)}}},gt=function(at,he){var ze=function(){return at.execCommand("mceVisualBlocks")};at.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:ze,onSetup:mt(at,he)}),at.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:ze,onSetup:mt(at,he)})};function Xt(){z.add("visualblocks",function(at,he){var ze=ae(!1);we(at,he,ze),gt(at,ze),xt(at,he,ze)})}Xt()})();(function(){var ae=function(Ce){var Ft=Ce,wt=function(){return Ft},sn=function(Zn){Ft=Zn};return{get:wt,set:sn}},z=tinymce.util.Tools.resolve("tinymce.PluginManager"),fe=function(Ce){var Ft=function(){return Ce.get()};return{isEnabled:Ft}},xe=function(Ce,Ft){return Ce.fire("VisualChars",{state:Ft})},we=function(Ce){var Ft=typeof Ce;return Ce===null?"null":Ft==="object"&&(Array.prototype.isPrototypeOf(Ce)||Ce.constructor&&Ce.constructor.name==="Array")?"array":Ft==="object"&&(String.prototype.isPrototypeOf(Ce)||Ce.constructor&&Ce.constructor.name==="String")?"string":Ft},nt=function(Ce){return function(Ft){return we(Ft)===Ce}},xt=function(Ce){return function(Ft){return typeof Ft===Ce}},mt=nt("string"),gt=xt("boolean"),Xt=xt("number"),at=function(){},he=function(Ce){return function(){return Ce}},ze=function(Ce){return Ce},We=he(!1),Oe=he(!0),ve=function(){return Mt},Mt=function(){var Ce=function(sn){return sn()},Ft=ze,wt={fold:function(sn,Zn){return sn()},isSome:We,isNone:Oe,getOr:Ft,getOrThunk:Ce,getOrDie:function(sn){throw new Error(sn||"error: getOrDie called on none.")},getOrNull:he(null),getOrUndefined:he(void 0),or:Ft,orThunk:Ce,map:ve,each:at,bind:ve,exists:We,forall:Oe,filter:function(){return ve()},toArray:function(){return[]},toString:he("none()")};return wt}(),Ke=function(Ce){var Ft=he(Ce),wt=function(){return Zn},sn=function(Rr){return Rr(Ce)},Zn={fold:function(Rr,Ia){return Ia(Ce)},isSome:Oe,isNone:We,getOr:Ft,getOrThunk:Ft,getOrDie:Ft,getOrNull:Ft,getOrUndefined:Ft,or:wt,orThunk:wt,map:function(Rr){return Ke(Rr(Ce))},each:function(Rr){Rr(Ce)},bind:sn,exists:sn,forall:sn,filter:function(Rr){return Rr(Ce)?Zn:Mt},toArray:function(){return[Ce]},toString:function(){return"some("+Ce+")"}};return Zn},_t=function(Ce){return Ce==null?Mt:Ke(Ce)},j={some:Ke,none:ve,from:_t},Ne=function(Ce,Ft){for(var wt=Ce.length,sn=new Array(wt),Zn=0;Zn<wt;Zn++){var Rr=Ce[Zn];sn[Zn]=Ft(Rr,Zn)}return sn},$e=function(Ce,Ft){for(var wt=0,sn=Ce.length;wt<sn;wt++){var Zn=Ce[wt];Ft(Zn,wt)}},un=function(Ce,Ft){for(var wt=[],sn=0,Zn=Ce.length;sn<Zn;sn++){var Rr=Ce[sn];Ft(Rr,sn)&&wt.push(Rr)}return wt},Vt=Object.keys,Ae=function(Ce,Ft){for(var wt=Vt(Ce),sn=0,Zn=wt.length;sn<Zn;sn++){var Rr=wt[sn],Ia=Ce[Rr];Ft(Ia,Rr)}};typeof window<"u"||Function("return this;")();var st=3,rt=function(Ce){return Ce.dom.nodeType},Ue=function(Ce){return Ce.dom.nodeValue},U=function(Ce){return function(Ft){return rt(Ft)===Ce}},B=U(st),He=function(Ce,Ft,wt){if(mt(wt)||gt(wt)||Xt(wt))Ce.setAttribute(Ft,wt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ft,":: Value ",wt,":: Element ",Ce),new Error("Attribute value was not simple")},Jt=function(Ce,Ft,wt){He(Ce.dom,Ft,wt)},Xe=function(Ce,Ft){var wt=Ce.dom.getAttribute(Ft);return wt===null?void 0:wt},pn=function(Ce,Ft){Ce.dom.removeAttribute(Ft)},Mn=function(Ce,Ft){var wt=Xe(Ce,Ft);return wt===void 0||wt===""?[]:wt.split(" ")},A=function(Ce,Ft,wt){var sn=Mn(Ce,Ft),Zn=sn.concat([wt]);return Jt(Ce,Ft,Zn.join(" ")),!0},vt=function(Ce,Ft,wt){var sn=un(Mn(Ce,Ft),function(Zn){return Zn!==wt});return sn.length>0?Jt(Ce,Ft,sn.join(" ")):pn(Ce,Ft),!1},Se=function(Ce){return Ce.dom.classList!==void 0},Nt=function(Ce){return Mn(Ce,"class")},et=function(Ce,Ft){return A(Ce,"class",Ft)},vn=function(Ce,Ft){return vt(Ce,"class",Ft)},$t=function(Ce,Ft){Se(Ce)?Ce.dom.classList.add(Ft):et(Ce,Ft)},an=function(Ce){var Ft=Se(Ce)?Ce.dom.classList:Nt(Ce);Ft.length===0&&pn(Ce,"class")},K=function(Ce,Ft){if(Se(Ce)){var wt=Ce.dom.classList;wt.remove(Ft)}else vn(Ce,Ft);an(Ce)},hr=function(Ce,Ft){var wt=Ft||document,sn=wt.createElement("div");if(sn.innerHTML=Ce,!sn.hasChildNodes()||sn.childNodes.length>1)throw console.error("HTML does not have a single root node",Ce),new Error("HTML must have a single root node");return Rn(sn.childNodes[0])},pt=function(Ce,Ft){var wt=Ft||document,sn=wt.createElement(Ce);return Rn(sn)},qe=function(Ce,Ft){var wt=Ft||document,sn=wt.createTextNode(Ce);return Rn(sn)},Rn=function(Ce){if(Ce==null)throw new Error("Node cannot be null or undefined");return{dom:Ce}},Le=function(Ce,Ft,wt){return j.from(Ce.dom.elementFromPoint(Ft,wt)).map(Rn)},Me={fromHtml:hr,fromTag:pt,fromText:qe,fromDom:Rn,fromPoint:Le},bt={" ":"nbsp","­":"shy"},qt=function(Ce,Ft){var wt="";return Ae(Ce,function(sn,Zn){wt+=Zn}),new RegExp("["+wt+"]",Ft?"g":"")},yt=function(Ce){var Ft="";return Ae(Ce,function(wt){Ft&&(Ft+=","),Ft+="span.mce-"+wt}),Ft},Ot=qt(bt),tr=qt(bt,!0),be=yt(bt),St="mce-nbsp",Cn=function(Ce){return'<span data-mce-bogus="1" class="mce-'+bt[Ce]+'">'+Ce+"</span>"},Wt=function(Ce){var Ft=Ue(Ce);return B(Ce)&&Ft!==void 0&&Ot.test(Ft)},Kn=function(Ce,Ft){var wt=[],sn=Ce.dom,Zn=Ne(sn.childNodes,Me.fromDom);return $e(Zn,function(Rr){Ft(Rr)&&(wt=wt.concat([Rr])),wt=wt.concat(Kn(Rr,Ft))}),wt},ar=function(Ce,Ft){for(;Ce.parentNode;){if(Ce.parentNode===Ft)return Ce;Ce=Ce.parentNode}},qr=function(Ce){return Ce.replace(tr,Cn)},va=function(Ce){return Ce.nodeName.toLowerCase()==="span"&&Ce.classList.contains("mce-nbsp-wrap")},xa=function(Ce,Ft){var wt=Kn(Me.fromDom(Ft),Wt);$e(wt,function(sn){var Zn=sn.dom.parentNode;if(va(Zn))$t(Me.fromDom(Zn),St);else{for(var Rr=qr(Ce.dom.encode(Ue(sn))),Ia=Ce.dom.create("div",null,Rr),Dr=void 0;Dr=Ia.lastChild;)Ce.dom.insertAfter(Dr,sn.dom);Ce.dom.remove(sn.dom)}})},Yt=function(Ce,Ft){var wt=Ce.dom.select(be,Ft);$e(wt,function(sn){va(sn)?K(Me.fromDom(sn),St):Ce.dom.remove(sn,!0)})},jt=function(Ce){var Ft=Ce.getBody(),wt=Ce.selection.getBookmark(),sn=ar(Ce.selection.getNode(),Ft);sn=sn!==void 0?sn:Ft,Yt(Ce,sn),xa(Ce,sn),Ce.selection.moveToBookmark(wt)},Qt=function(Ce,Ft){xe(Ce,Ft.get());var wt=Ce.getBody();Ft.get()===!0?xa(Ce,wt):Yt(Ce,wt)},Ye=function(Ce,Ft){Ft.set(!Ft.get());var wt=Ce.selection.getBookmark();Qt(Ce,Ft),Ce.selection.moveToBookmark(wt)},ct=function(Ce,Ft){Ce.addCommand("mceVisualChars",function(){Ye(Ce,Ft)})},dn=function(Ce){return Ce.getParam("visualchars_default_state",!1)},Fn=function(Ce){return Ce.getParam("forced_root_block")!==!1},hn=function(Ce,Ft){Ce.on("init",function(){Qt(Ce,Ft)})},Ve=tinymce.util.Tools.resolve("tinymce.util.Delay"),nn=function(Ce,Ft){var wt=Ve.debounce(function(){jt(Ce)},300);Fn(Ce)&&Ce.on("keydown",function(sn){Ft.get()===!0&&(sn.keyCode===13?jt(Ce):wt())}),Ce.on("remove",wt.stop)},Nn=function(Ce,Ft){return function(wt){wt.setActive(Ft.get());var sn=function(Zn){return wt.setActive(Zn.state)};return Ce.on("VisualChars",sn),function(){return Ce.off("VisualChars",sn)}}},yn=function(Ce,Ft){var wt=function(){return Ce.execCommand("mceVisualChars")};Ce.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:wt,onSetup:Nn(Ce,Ft)}),Ce.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:wt,onSetup:Nn(Ce,Ft)})};function Yn(){z.add("visualchars",function(Ce){var Ft=ae(dn(Ce));return ct(Ce,Ft),yn(Ce,Ft),nn(Ce,Ft),hn(Ce,Ft),fe(Ft)})}Yn()})();(function(){var ae=tinymce.util.Tools.resolve("tinymce.PluginManager"),z=function(Le){return Le},fe=function(){return fe=Object.assign||function(Me){for(var bt,qt=1,yt=arguments.length;qt<yt;qt++){bt=arguments[qt];for(var Ot in bt)Object.prototype.hasOwnProperty.call(bt,Ot)&&(Me[Ot]=bt[Ot])}return Me},fe.apply(this,arguments)},xe="\uFEFF",we=function(Le){return Le.replace(/\uFEFF/g,"")},nt=function(Le,Me){for(var bt=Le.length,qt=new Array(bt),yt=0;yt<bt;yt++){var Ot=Le[yt];qt[yt]=Me(Ot,yt)}return qt},xt="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",mt={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:xt},gt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Xt=[new RegExp(mt.aletter),new RegExp(mt.midnumlet),new RegExp(mt.midletter),new RegExp(mt.midnum),new RegExp(mt.numeric),new RegExp(mt.cr),new RegExp(mt.lf),new RegExp(mt.newline),new RegExp(mt.extend),new RegExp(mt.format),new RegExp(mt.katakana),new RegExp(mt.extendnumlet),new RegExp("@")],at="",he=new RegExp("^"+mt.punctuation+"$"),ze=/^\s+$/,We=Xt,Oe=gt.OTHER,ve=function(Le){for(var Me=Oe,bt=We.length,qt=0;qt<bt;++qt){var yt=We[qt];if(yt&&yt.test(Le)){Me=qt;break}}return Me},Mt=function(Le){var Me={};return function(bt){if(Me[bt])return Me[bt];var qt=Le(bt);return Me[bt]=qt,qt}},Ke=function(Le){var Me=Mt(ve);return nt(Le,Me)},_t=function(Le,Me){var bt=Le[Me],qt=Le[Me+1];if(Me<0||Me>Le.length-1&&Me!==0||bt===gt.ALETTER&&qt===gt.ALETTER)return!1;var yt=Le[Me+2];if(bt===gt.ALETTER&&(qt===gt.MIDLETTER||qt===gt.MIDNUMLET||qt===gt.AT)&&yt===gt.ALETTER)return!1;var Ot=Le[Me-1];return(bt===gt.MIDLETTER||bt===gt.MIDNUMLET||qt===gt.AT)&&qt===gt.ALETTER&&Ot===gt.ALETTER||(bt===gt.NUMERIC||bt===gt.ALETTER)&&(qt===gt.NUMERIC||qt===gt.ALETTER)||(bt===gt.MIDNUM||bt===gt.MIDNUMLET)&&qt===gt.NUMERIC&&Ot===gt.NUMERIC||bt===gt.NUMERIC&&(qt===gt.MIDNUM||qt===gt.MIDNUMLET)&&yt===gt.NUMERIC||bt===gt.EXTEND||bt===gt.FORMAT||Ot===gt.EXTEND||Ot===gt.FORMAT||qt===gt.EXTEND||qt===gt.FORMAT||bt===gt.CR&&qt===gt.LF?!1:bt===gt.NEWLINE||bt===gt.CR||bt===gt.LF||qt===gt.NEWLINE||qt===gt.CR||qt===gt.LF?!0:!(bt===gt.KATAKANA&&qt===gt.KATAKANA||qt===gt.EXTENDNUMLET&&(bt===gt.ALETTER||bt===gt.NUMERIC||bt===gt.KATAKANA||bt===gt.EXTENDNUMLET)||bt===gt.EXTENDNUMLET&&(qt===gt.ALETTER||qt===gt.NUMERIC||qt===gt.KATAKANA)||bt===gt.AT)},j=at,Ne=ze,$e=he,un=function(Le){return Le==="http"||Le==="https"},Vt=function(Le,Me){var bt;for(bt=Me;bt<Le.length&&!Ne.test(Le[bt]);bt++);return bt},Ae=function(Le,Me){var bt=Vt(Le,Me+1),qt=Le.slice(Me+1,bt).join(j);return qt.substr(0,3)==="://"?bt:Me},st=function(Le,Me,bt,qt){for(var yt=[],Ot=[],tr=0;tr<bt.length;++tr)if(Ot.push(Le[tr]),_t(bt,tr)){var be=Me[tr];if((qt.includeWhitespace||!Ne.test(be))&&(qt.includePunctuation||!$e.test(be))){var St=tr-Ot.length+1,Cn=tr+1,Wt=Me.slice(St,Cn).join(j);if(un(Wt)){var Kn=Ae(Me,tr),ar=Le.slice(Cn,Kn);Array.prototype.push.apply(Ot,ar),tr=Kn}yt.push(Ot)}Ot=[]}return yt},rt=function(){return{includeWhitespace:!1,includePunctuation:!1}},Ue=function(Le,Me,bt){bt=fe(fe({},rt()),bt);for(var qt=[],yt=[],Ot=0;Ot<Le.length;Ot++){var tr=Me(Le[Ot]);tr!==xe&&(qt.push(Le[Ot]),yt.push(tr))}var be=Ke(yt);return st(qt,yt,be,bt)},U=Ue,B=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),He=function(Le,Me){for(var bt=Me.getBlockElements(),qt=Me.getShortEndedElements(),yt=function(St){return bt[St.nodeName]||qt[St.nodeName]},Ot=[],tr="",be=new B(Le,Le);Le=be.next();)Le.nodeType===3?tr+=we(Le.data):yt(Le)&&tr.length&&(Ot.push(tr),tr="");return tr.length&&Ot.push(tr),Ot},Jt=function(Le){return Le.replace(/\u200B/g,"")},Xe=function(Le){return Le.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},pn=function(Le,Me){var bt=Jt(He(Le,Me).join(`
`));return U(bt.split(""),z).length},Mn=function(Le,Me){var bt=He(Le,Me).join("");return Xe(bt)},A=function(Le,Me){var bt=He(Le,Me).join("").replace(/\s/g,"");return Xe(bt)},vt=function(Le,Me){return function(){return Me(Le.getBody(),Le.schema)}},Se=function(Le,Me){return function(){return Me(Le.selection.getRng().cloneContents(),Le.schema)}},Nt=function(Le){return vt(Le,pn)},et=function(Le){return{body:{getWordCount:Nt(Le),getCharacterCount:vt(Le,Mn),getCharacterCountWithoutSpaces:vt(Le,A)},selection:{getWordCount:Se(Le,pn),getCharacterCount:Se(Le,Mn),getCharacterCountWithoutSpaces:Se(Le,A)},getCount:Nt(Le)}},vn=function(Le,Me){Le.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Me.body.getWordCount()),String(Me.selection.getWordCount())],["Characters (no spaces)",String(Me.body.getCharacterCountWithoutSpaces()),String(Me.selection.getCharacterCountWithoutSpaces())],["Characters",String(Me.body.getCharacterCount()),String(Me.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},$t=function(Le,Me){Le.addCommand("mceWordCount",function(){return vn(Le,Me)})},an=tinymce.util.Tools.resolve("tinymce.util.Delay"),K=function(Le,Me){Le.fire("wordCountUpdate",{wordCount:{words:Me.body.getWordCount(),characters:Me.body.getCharacterCount(),charactersWithoutSpaces:Me.body.getCharacterCountWithoutSpaces()}})},hr=function(Le,Me){K(Le,Me)},pt=function(Le,Me,bt){var qt=an.debounce(function(){return hr(Le,Me)},bt);Le.on("init",function(){hr(Le,Me),an.setEditorTimeout(Le,function(){Le.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",qt)},0)})},qe=function(Le){var Me=function(){return Le.execCommand("mceWordCount")};Le.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Me}),Le.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Me})};function Rn(Le){Le===void 0&&(Le=300),ae.add("wordcount",function(Me){var bt=et(Me);return $t(Me,bt),qe(Me),pt(Me,bt,Le),bt})}Rn()})();const eX=Ef({name:"TinymceImageUpload",components:{Upload:JK},props:{fullscreen:{type:Boolean},disabled:{type:Boolean,default:!1},uploadUrl:{type:String,default:""}},emits:["uploading","done","error"],setup(ae,{emit:z}){let fe=!1;const xe=ae.uploadUrl,we=cq(),nt=n7("tinymce-img-upload").b(),xt=jo(()=>{const{disabled:gt}=ae;return{disabled:gt}});function mt(gt){var We;const Xt=gt.file,at=Xt==null?void 0:Xt.status,he=(We=Xt==null?void 0:Xt.response)==null?void 0:We.url,ze=Xt==null?void 0:Xt.name;at==="uploading"?fe||(z("uploading",ze),fe=!0):at==="done"?(z("done",ze,he),fe=!1):at==="error"&&(z("error"),fe=!1)}return{prefixCls:nt,handleChange:mt,uploadUrl:xe,t:we,getButtonProps:xt}}});function tX(ae,z,fe,xe,we,nt){const xt=nM("Button"),mt=nM("Upload");return xT(),rM("div",{class:aM([ae.prefixCls,{fullscreen:ae.fullscreen}])},[_r(mt,{name:"file",multiple:"",onChange:ae.handleChange,action:ae.uploadUrl,showUploadList:!1,accept:".jpg,.jpeg,.gif,.png,.webp"},{default:kz(()=>[_r(xt,bq({type:"primary"},{...ae.getButtonProps}),{default:kz(()=>[yq(Wz(ae.t("upload.imgUpload")),1)]),_:1},16)]),_:1},8,["onChange","action"])],2)}const nX=a7(eX,[["render",tX],["__scopeId","data-v-c4b22bf5"]]),rX=Ef({name:"TinymceSaveIndicator",components:{},props:{fullscreen:{type:Boolean},disabled:{type:Boolean,default:!1},saveStatus:Object},emits:["uploading","done","error"],setup(ae){const z=n7("tinymce-save-indicator").b(),fe=As(""),xe=As(!1);return YB(()=>ae.saveStatus,we=>{fe.value=we!=null&&we.lastSaveTime?BG(we==null?void 0:we.lastSaveTime).format("YYYY-MM-DD HH:mm:ss"):"",xe.value=(we==null?void 0:we.changedAfterSave)||!1}),{lastUpdateTime:fe,changed:xe,prefixCls:z}}});function aX(ae,z,fe,xe,we,nt){return ae.lastUpdateTime?(xT(),rM("div",{key:0,class:aM(["status-icon",[ae.prefixCls,{fullscreen:ae.fullscreen}]])},[wq("span",{class:aM(ae.changed?"yellow-icon":"green-icon")}," 保存于 "+Wz(ae.lastUpdateTime),3)],2)):e7("",!0)}const oX=a7(rX,[["render",aX],["__scopeId","data-v-837eb411"]]),iX=["table advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace tabfocus  template  textpattern visualblocks visualchars wordcount"],uX=["fontsizeselect bullist numlist | bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright | link save"],sX={file:{title:"File",items:"restoredraft | preview print "},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},cX=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],lX=ae=>cX.indexOf(ae)!==-1,fX=(ae,z,fe)=>{Object.keys(z).filter(lX).forEach(xe=>{const we=z[xe];typeof we=="function"&&(xe==="onInit"?we(ae,fe):fe.on(xe.substring(2),nt=>we(nt,fe)))})};function vX(ae){let z;IO(()=>{ae(),jz(()=>{z=!0})}),Cq(()=>{z&&ae()})}const dX={options:{type:Object,default:{}},value:{type:String},toolbar:{type:Array,default:uX},plugins:{type:Array,default:iX},modelValue:{type:String},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"},showImageUpload:{type:Boolean,default:!1},enableAutoSave:{type:Boolean,default:!0},darkMode:{type:String,default:"light"},localeValue:{type:String,default:"zh_CN"},uploadUrl:{type:String,default:""}},mX=Ef({name:`${MG}Tinymce`,components:{ImgUpload:nX,TinymceSaveIndicator:oX},inheritAttrs:!1,props:dX,emits:["change","update:modelValue","inited","init-error","auto-save"],setup(ae,{emit:z,attrs:fe}){const xe=As(null),we=As(!1),nt=As(!1),xt=As(Cz("tiny-vue")),mt=As(null),gt=n7("tinymce-container").b(),Xt=jo(()=>ae.modelValue),at=jo(()=>{const Ue=ae.width;return lq(Ue)?`${Ue}px`:Ue}),he=jo(()=>ae.darkMode==="light"?"oxide":"oxide-dark"),ze=jo(()=>{const Ue=ae.localeValue;return["zh_CN","en"].includes(Ue)?Ue:"zh_CN"}),We=As({lastSaveTime:Date.now(),lastSaveValue:""}),Oe=As({lastSaveTime:null,changedAfterSave:!1}),ve=1e4,Mt=jo(()=>{const{height:Ue,options:U,toolbar:B,plugins:He}=ae,Jt="/";return{selector:`#${dd(xt)}`,height:Ue,toolbar:B,menu:sX,plugins:He,language_url:Jt+"resource/tinymce/langs/"+ze.value+".js",language:ze.value,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,skin:he.value,skin_url:Jt+"resource/tinymce/skins/ui/"+he.value,content_css:Jt+"resource/tinymce/skins/ui/"+he.value+"/content.min.css",save_onsavecallback(){},forced_root_block:"",...U,setup:Xe=>{xe.value=Xe,Xe.on("init",pn=>Ne(pn)),Xe.on("change",()=>{setTimeout(()=>{$e(!0)})}),Xe.on("LoadContent",()=>{nt.value=!0})}}}),Ke=jo(()=>{const{options:Ue}=ae,U=Ue&&Reflect.get(Ue,"readonly"),B=dd(xe);return B&&B.mode.set(U?"readonly":"design"),U??!1});YB(()=>fe.disabled,()=>{const Ue=dd(xe);Ue&&Ue.mode.set(fe.disabled?"readonly":"design")}),vX(()=>{Mt.value.inline||(xt.value=Cz("tiny-vue")),jz(()=>{setTimeout(()=>{j()},30)})}),r7(()=>{_t()}),Sq(()=>{_t()});function _t(){var Ue;Q2!==null&&((Ue=Q2==null?void 0:Q2.remove)==null||Ue.call(Q2,dd(Mt).selector))}function j(){const Ue=dd(mt);Ue&&(Ue.style.visibility=""),Q2.init(dd(Mt)).then(U=>{z("inited",U)}).catch(U=>{z("init-error",U)})}function Ne(Ue){const U=dd(xe);if(!U)return;const B=ae.modelValue||"";We.value={lastSaveTime:Date.now(),lastSaveValue:B},setInterval(()=>{$e()},ve),U.setContent(B),U.mode.set(fe.disabled?"readonly":"design"),Vt(U),fX(Ue,fe,dd(xe))}function $e(Ue=!1){!Ue&&(ae.modelValue===dd(We).lastSaveValue||dd(We).lastSaveTime+ve>Date.now())||z("auto-save",ae.modelValue)}function un(Ue,U,B){Ue&&typeof U=="string"&&U!==B&&U!==Ue.getContent({format:fe.outputFormat})&&Ue.setContent(U)}function Vt(Ue){const U=fe.modelEvents?fe.modelEvents:null,B=Array.isArray(U)?U.join(" "):U;YB(()=>ae.modelValue,(He,Jt)=>{Oe.value={lastSaveTime:We.value.lastSaveTime,changedAfterSave:!0},un(Ue,He,Jt)}),YB(()=>ae.value,(He,Jt)=>{un(Ue,He,Jt)},{immediate:!0}),Ue.on(B||"change keyup undo redo",()=>{const He=Ue.getContent({format:fe.outputFormat});z("update:modelValue",He),z("change",He)}),Ue.on("FullscreenStateChanged",He=>{we.value=He.state})}function Ae(Ue){const U=dd(xe);if(!U)return;U.execCommand("mceInsertContent",!1,rt(Ue));const B=(U==null?void 0:U.getContent())??"";un(U,B)}function st(Ue,U){const B=dd(xe);if(!B)return;const He=(B==null?void 0:B.getContent())??"",Jt=(He==null?void 0:He.replace(rt(Ue),`<img src="${U}"/>`))??"";un(B,Jt)}function rt(Ue){return`[uploading:${Ue}]`}return{prefixCls:gt,containerWidth:at,initOptions:Mt,tinymceContent:Xt,elRef:mt,tinymceId:xt,handleImageUploading:Ae,handleDone:st,tryAutosave:$e,editorRef:xe,fullscreen:we,disabled:Ke,autosave:We,saveStatus:Oe,isMounted:nt}},methods:{saveSucceeded(ae,z){this.saveStatus={lastSaveTime:z,changedAfterSave:!1},this.autosave={lastSaveTime:z,lastSaveValue:ae}}}});const gX=["id"];function pX(ae,z,fe,xe,we,nt){const xt=nM("ImgUpload"),mt=nM("TinymceSaveIndicator");return xT(),rM("div",{class:aM(ae.prefixCls),style:kq({width:ae.containerWidth})},[ae.showImageUpload?eM((xT(),Tz(xt,{key:0,fullscreen:ae.fullscreen,"upload-url":ae.uploadUrl,onUploading:ae.handleImageUploading,onDone:ae.handleDone,disabled:ae.disabled},null,8,["fullscreen","upload-url","onUploading","onDone","disabled"])),[[tM,ae.editorRef]]):e7("",!0),ae.enableAutoSave?eM((xT(),Tz(mt,{key:1,saveStatus:ae.saveStatus},null,8,["saveStatus"])),[[tM,ae.isMounted]]):e7("",!0),ae.initOptions.inline?xq(ae.$slots,"default",{key:3}):(xT(),rM("textarea",{key:2,"data-cy":"tinymce-editor",id:ae.tinymceId,ref:"elRef",style:{visibility:"hidden"}},null,8,gX))],6)}const SX=a7(mX,[["render",pX]]);export{SX as default};
